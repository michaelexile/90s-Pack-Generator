var Lz=Object.create;var{getPrototypeOf:Cz,defineProperty:SH,getOwnPropertyNames:q$,getOwnPropertyDescriptor:Fz}=Object,I$=Object.prototype.hasOwnProperty;var S0=(P,p,x)=>{x=P!=null?Lz(Cz(P)):{};let h=p||!P||!P.__esModule?SH(x,"default",{value:P,enumerable:!0}):x;for(let X of q$(P))if(!I$.call(h,X))SH(h,X,{get:()=>P[X],enumerable:!0});return h},V$=new WeakMap,OP=(P)=>{var p=V$.get(P),x;if(p)return p;if(p=SH({},"__esModule",{value:!0}),P&&typeof P==="object"||typeof P==="function")q$(P).map((h)=>!I$.call(p,h)&&SH(p,h,{get:()=>P[h],enumerable:!(x=Fz(P,h))||x.enumerable}));return V$.set(P,p),p},M0=(P,p)=>()=>(p||P((p={exports:{}}).exports,p),p.exports);var sA=(P,p)=>{for(var x in p)SH(P,x,{get:p[x],enumerable:!0,configurable:!0,set:(h)=>p[x]=()=>h})};var lH=(P,p)=>()=>(P&&(p=P(P=0)),p);function Yf(P,p){var x=P.length;P.push(p);P:for(;0<x;){var h=x-1>>>1,X=P[h];if(0<tA(X,p))P[h]=p,P[x]=X,x=h;else break P}}function Q1(P){return P.length===0?null:P[0]}function hB(P){if(P.length===0)return null;var p=P[0],x=P.pop();if(x!==p){P[0]=x;P:for(var h=0,X=P.length,H=X>>>1;h<H;){var A=2*(h+1)-1,B=P[A],f=A+1,D=P[f];if(0>tA(B,x))f<X&&0>tA(D,B)?(P[h]=D,P[f]=x,h=f):(P[h]=B,P[A]=x,h=A);else if(f<X&&0>tA(D,x))P[h]=D,P[f]=x,h=f;else break P}}return p}function tA(P,p){var x=P.sortIndex-p.sortIndex;return x!==0?x:P.id-p.id}function pB(P){for(var p=Q1(U8);p!==null;){if(p.callback===null)hB(U8);else if(p.startTime<=P)hB(U8),p.sortIndex=p.expirationTime,Yf(_1,p);else break;p=Q1(U8)}}function Ef(P){if(gH=!1,pB(P),!OH)if(Q1(_1)!==null)OH=!0,T$();else{var p=Q1(U8);p!==null&&zf(Ef,p.startTime-P)}}function W$(){return V1()-k$<Mz?!1:!0}function Mf(){if(XB){var P=V1();k$=P;var p=!0;try{P:{OH=!1,gH&&(gH=!1,w$(yH),yH=-1),qf=!0;var x=PB;try{p:{pB(P);for(Jp=Q1(_1);Jp!==null&&!(Jp.expirationTime>P&&W$());){var h=Jp.callback;if(typeof h==="function"){Jp.callback=null,PB=Jp.priorityLevel;var X=h(Jp.expirationTime<=P);if(P=V1(),typeof X==="function"){Jp.callback=X,pB(P),p=!0;break p}Jp===Q1(_1)&&hB(_1),pB(P)}else hB(_1);Jp=Q1(_1)}if(Jp!==null)p=!0;else{var H=Q1(U8);H!==null&&zf(Ef,H.startTime-P),p=!1}}break P}finally{Jp=null,PB=x,qf=!1}p=void 0}}finally{p?NH():XB=!1}}}function T$(){XB||(XB=!0,NH())}function zf(P,p){yH=z$(function(){P(V1())},p)}var V1=void 0,Qf,eA,Vf,_1,U8,bz=1,Jp=null,PB=3,qf=!1,OH=!1,gH=!1,z$,w$,E$,XB=!1,yH=-1,Mz=5,k$=-1,NH,xB,If,wf=5,kf=1,Wf=4,_h=3,Tf=2,jf=function(P){P.callback=null},Jf=function(){return PB},df=function(){},ih=function(P,p,x){var h=V1();switch(typeof x==="object"&&x!==null?(x=x.delay,x=typeof x==="number"&&0<x?h+x:h):x=h,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5000}return X=x+X,P={id:bz++,callback:p,priorityLevel:P,startTime:x,expirationTime:X,sortIndex:-1},x>h?(P.sortIndex=x,Yf(U8,P),Q1(_1)===null&&P===Q1(U8)&&(gH?(w$(yH),yH=-1):gH=!0,zf(Ef,x-h))):(P.sortIndex=X,Yf(_1,P),OH||qf||(OH=!0,T$())),P},Kf;var j$=lH(()=>{if(typeof performance==="object"&&typeof performance.now==="function")Qf=performance,V1=function(){return Qf.now()};else eA=Date,Vf=eA.now(),V1=function(){return eA.now()-Vf};_1=[],U8=[],z$=typeof setTimeout==="function"?setTimeout:null,w$=typeof clearTimeout==="function"?clearTimeout:null,E$=typeof setImmediate!=="undefined"?setImmediate:null;if(typeof E$==="function")NH=function(){E$(Mf)};else if(typeof MessageChannel!=="undefined")xB=new MessageChannel,If=xB.port2,xB.port1.onmessage=Mf,NH=function(){If.postMessage(null)};else NH=function(){z$(Mf,0)};Kf=W$});var y0=M0((cz)=>{var cf=Symbol.for("react.transitional.element"),Qz=Symbol.for("react.portal"),Vz=Symbol.for("react.fragment"),qz=Symbol.for("react.strict_mode"),Iz=Symbol.for("react.profiler"),Ez=Symbol.for("react.consumer"),zz=Symbol.for("react.context"),wz=Symbol.for("react.forward_ref"),kz=Symbol.for("react.suspense"),Wz=Symbol.for("react.memo"),v$=Symbol.for("react.lazy"),J$=Symbol.iterator;function Tz(P){if(P===null||typeof P!=="object")return null;return P=J$&&P[J$]||P["@@iterator"],typeof P==="function"?P:null}var U$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G$=Object.assign,S$={};function uh(P,p,x){this.props=P,this.context=p,this.refs=S$,this.updater=x||U$}uh.prototype.isReactComponent={};uh.prototype.setState=function(P,p){if(typeof P!=="object"&&typeof P!=="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,p,"setState")};uh.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function l$(){}l$.prototype=uh.prototype;function vf(P,p,x){this.props=P,this.context=p,this.refs=S$,this.updater=x||U$}var Uf=vf.prototype=new l$;Uf.constructor=vf;G$(Uf,uh.prototype);Uf.isPureReactComponent=!0;var d$=Array.isArray,e0={H:null,A:null,T:null,S:null},N$=Object.prototype.hasOwnProperty;function Gf(P,p,x,h,X,H){return x=H.ref,{$$typeof:cf,type:P,key:p,ref:x!==void 0?x:null,props:H}}function jz(P,p){return Gf(P.type,p,void 0,void 0,void 0,P.props)}function Sf(P){return typeof P==="object"&&P!==null&&P.$$typeof===cf}function Jz(P){var p={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(x){return p[x]})}var K$=/\/+/g;function Rf(P,p){return typeof P==="object"&&P!==null&&P.key!=null?Jz(""+P.key):p.toString(36)}function R$(){}function dz(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status==="string"?P.then(R$,R$):(P.status="pending",P.then(function(p){P.status==="pending"&&(P.status="fulfilled",P.value=p)},function(p){P.status==="pending"&&(P.status="rejected",P.reason=p)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function mh(P,p,x,h,X){var H=typeof P;if(H==="undefined"||H==="boolean")P=null;var A=!1;if(P===null)A=!0;else switch(H){case"bigint":case"string":case"number":A=!0;break;case"object":switch(P.$$typeof){case cf:case Qz:A=!0;break;case v$:return A=P._init,mh(A(P._payload),p,x,h,X)}}if(A)return X=X(P),A=h===""?"."+Rf(P,0):h,d$(X)?(x="",A!=null&&(x=A.replace(K$,"$&/")+"/"),mh(X,p,x,"",function(D){return D})):X!=null&&(Sf(X)&&(X=jz(X,x+(X.key==null||P&&P.key===X.key?"":(""+X.key).replace(K$,"$&/")+"/")+A)),p.push(X)),1;A=0;var B=h===""?".":h+":";if(d$(P))for(var f=0;f<P.length;f++)h=P[f],H=B+Rf(h,f),A+=mh(h,p,x,H,X);else if(f=Tz(P),typeof f==="function")for(P=f.call(P),f=0;!(h=P.next()).done;)h=h.value,H=B+Rf(h,f++),A+=mh(h,p,x,H,X);else if(H==="object"){if(typeof P.then==="function")return mh(dz(P),p,x,h,X);throw p=String(P),Error("Objects are not valid as a React child (found: "+(p==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":p)+"). If you meant to render a collection of children, use an array instead.")}return A}function HB(P,p,x){if(P==null)return P;var h=[],X=0;return mh(P,h,"","",function(H){return p.call(x,H,X++)}),h}function Kz(P){if(P._status===-1){var p=P._result;p=p(),p.then(function(x){if(P._status===0||P._status===-1)P._status=1,P._result=x},function(x){if(P._status===0||P._status===-1)P._status=2,P._result=x}),P._status===-1&&(P._status=0,P._result=p)}if(P._status===1)return P._result.default;throw P._result}var c$=typeof reportError==="function"?reportError:function(P){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P==="object"&&P!==null&&typeof P.message==="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(p))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",P);return}console.error(P)};function Rz(){}cz.Children={map:HB,forEach:function(P,p,x){HB(P,function(){p.apply(this,arguments)},x)},count:function(P){var p=0;return HB(P,function(){p++}),p},toArray:function(P){return HB(P,function(p){return p})||[]},only:function(P){if(!Sf(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};cz.Component=uh;cz.Fragment=Vz;cz.Profiler=Iz;cz.PureComponent=vf;cz.StrictMode=qz;cz.Suspense=kz;cz.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=e0;cz.act=function(){throw Error("act(...) is not supported in production builds of React.")};cz.cache=function(P){return function(){return P.apply(null,arguments)}};cz.cloneElement=function(P,p,x){if(P===null||P===void 0)throw Error("The argument must be a React element, but you passed "+P+".");var h=G$({},P.props),X=P.key,H=void 0;if(p!=null)for(A in p.ref!==void 0&&(H=void 0),p.key!==void 0&&(X=""+p.key),p)!N$.call(p,A)||A==="key"||A==="__self"||A==="__source"||A==="ref"&&p.ref===void 0||(h[A]=p[A]);var A=arguments.length-2;if(A===1)h.children=x;else if(1<A){for(var B=Array(A),f=0;f<A;f++)B[f]=arguments[f+2];h.children=B}return Gf(P.type,X,void 0,void 0,H,h)};cz.createContext=function(P){return P={$$typeof:zz,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:Ez,_context:P},P};cz.createElement=function(P,p,x){var h,X={},H=null;if(p!=null)for(h in p.key!==void 0&&(H=""+p.key),p)N$.call(p,h)&&h!=="key"&&h!=="__self"&&h!=="__source"&&(X[h]=p[h]);var A=arguments.length-2;if(A===1)X.children=x;else if(1<A){for(var B=Array(A),f=0;f<A;f++)B[f]=arguments[f+2];X.children=B}if(P&&P.defaultProps)for(h in A=P.defaultProps,A)X[h]===void 0&&(X[h]=A[h]);return Gf(P,H,void 0,void 0,null,X)};cz.createRef=function(){return{current:null}};cz.forwardRef=function(P){return{$$typeof:wz,render:P}};cz.isValidElement=Sf;cz.lazy=function(P){return{$$typeof:v$,_payload:{_status:-1,_result:P},_init:Kz}};cz.memo=function(P,p){return{$$typeof:Wz,type:P,compare:p===void 0?null:p}};cz.startTransition=function(P){var p=e0.T,x={};e0.T=x;try{var h=P(),X=e0.S;X!==null&&X(x,h),typeof h==="object"&&h!==null&&typeof h.then==="function"&&h.then(Rz,c$)}catch(H){c$(H)}finally{e0.T=p}};cz.unstable_useCacheRefresh=function(){return e0.H.useCacheRefresh()};cz.use=function(P){return e0.H.use(P)};cz.useActionState=function(P,p,x){return e0.H.useActionState(P,p,x)};cz.useCallback=function(P,p){return e0.H.useCallback(P,p)};cz.useContext=function(P){return e0.H.useContext(P)};cz.useDebugValue=function(){};cz.useDeferredValue=function(P,p){return e0.H.useDeferredValue(P,p)};cz.useEffect=function(P,p){return e0.H.useEffect(P,p)};cz.useId=function(){return e0.H.useId()};cz.useImperativeHandle=function(P,p,x){return e0.H.useImperativeHandle(P,p,x)};cz.useInsertionEffect=function(P,p){return e0.H.useInsertionEffect(P,p)};cz.useLayoutEffect=function(P,p){return e0.H.useLayoutEffect(P,p)};cz.useMemo=function(P,p){return e0.H.useMemo(P,p)};cz.useOptimistic=function(P,p){return e0.H.useOptimistic(P,p)};cz.useReducer=function(P,p,x){return e0.H.useReducer(P,p,x)};cz.useRef=function(P){return e0.H.useRef(P)};cz.useState=function(P){return e0.H.useState(P)};cz.useSyncExternalStore=function(P,p,x){return e0.H.useSyncExternalStore(P,p,x)};cz.useTransition=function(){return e0.H.useTransition()};cz.version="19.0.0"});var y$=M0((Iw)=>{var O$=S0(y0(),1);function g$(P){var p="https://react.dev/errors/"+P;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+P+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function G8(){}var mP={d:{f:G8,r:function(){throw Error(g$(522))},D:G8,C:G8,L:G8,m:G8,X:G8,S:G8,M:G8},p:0,findDOMNode:null},Vw=Symbol.for("react.portal");function qw(P,p,x){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vw,key:h==null?null:""+h,children:P,containerInfo:p,implementation:x}}var _H=O$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function AB(P,p){if(P==="font")return"";if(typeof p==="string")return p==="use-credentials"?p:""}Iw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mP;Iw.createPortal=function(P,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(g$(299));return qw(P,p,null,x)};Iw.flushSync=function(P){var p=_H.T,x=mP.p;try{if(_H.T=null,mP.p=2,P)return P()}finally{_H.T=p,mP.p=x,mP.d.f()}};Iw.preconnect=function(P,p){typeof P==="string"&&(p?(p=p.crossOrigin,p=typeof p==="string"?p==="use-credentials"?p:"":void 0):p=null,mP.d.C(P,p))};Iw.prefetchDNS=function(P){typeof P==="string"&&mP.d.D(P)};Iw.preinit=function(P,p){if(typeof P==="string"&&p&&typeof p.as==="string"){var x=p.as,h=AB(x,p.crossOrigin),X=typeof p.integrity==="string"?p.integrity:void 0,H=typeof p.fetchPriority==="string"?p.fetchPriority:void 0;x==="style"?mP.d.S(P,typeof p.precedence==="string"?p.precedence:void 0,{crossOrigin:h,integrity:X,fetchPriority:H}):x==="script"&&mP.d.X(P,{crossOrigin:h,integrity:X,fetchPriority:H,nonce:typeof p.nonce==="string"?p.nonce:void 0})}};Iw.preinitModule=function(P,p){if(typeof P==="string")if(typeof p==="object"&&p!==null){if(p.as==null||p.as==="script"){var x=AB(p.as,p.crossOrigin);mP.d.M(P,{crossOrigin:x,integrity:typeof p.integrity==="string"?p.integrity:void 0,nonce:typeof p.nonce==="string"?p.nonce:void 0})}}else p==null&&mP.d.M(P)};Iw.preload=function(P,p){if(typeof P==="string"&&typeof p==="object"&&p!==null&&typeof p.as==="string"){var x=p.as,h=AB(x,p.crossOrigin);mP.d.L(P,x,{crossOrigin:h,integrity:typeof p.integrity==="string"?p.integrity:void 0,nonce:typeof p.nonce==="string"?p.nonce:void 0,type:typeof p.type==="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority==="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy==="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet==="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes==="string"?p.imageSizes:void 0,media:typeof p.media==="string"?p.media:void 0})}};Iw.preloadModule=function(P,p){if(typeof P==="string")if(p){var x=AB(p.as,p.crossOrigin);mP.d.m(P,{as:typeof p.as==="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity==="string"?p.integrity:void 0})}else mP.d.m(P)};Iw.requestFormReset=function(P){mP.d.r(P)};Iw.unstable_batchedUpdates=function(P,p){return P(p)};Iw.useFormState=function(P,p,x){return _H.H.useFormState(P,p,x)};Iw.useFormStatus=function(){return _H.H.useHostTransitionStatus()};Iw.version="19.0.0"});var lf=M0((Ql,i$)=>{function _$(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_$)}catch(P){console.error(P)}}_$(),i$.exports=y$()});var SF=M0((BT)=>{j$();var DD=S0(y0(),1),BC=S0(lf(),1);function n(P){var p="https://react.dev/errors/"+P;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+P+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function DC(P){return!(!P||P.nodeType!==1&&P.nodeType!==9&&P.nodeType!==11)}var Gw=Symbol.for("react.element"),BB=Symbol.for("react.transitional.element"),sH=Symbol.for("react.portal"),eh=Symbol.for("react.fragment"),fC=Symbol.for("react.strict_mode"),M4=Symbol.for("react.profiler"),Sw=Symbol.for("react.provider"),ZC=Symbol.for("react.consumer"),s1=Symbol.for("react.context"),$6=Symbol.for("react.forward_ref"),Y4=Symbol.for("react.suspense"),Q4=Symbol.for("react.suspense_list"),L6=Symbol.for("react.memo"),N8=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var $C=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var lw=Symbol.for("react.memo_cache_sentinel"),m$=Symbol.iterator;function iH(P){if(P===null||typeof P!=="object")return null;return P=m$&&P[m$]||P["@@iterator"],typeof P==="function"?P:null}var Nw=Symbol.for("react.client.reference");function V4(P){if(P==null)return null;if(typeof P==="function")return P.$$typeof===Nw?null:P.displayName||P.name||null;if(typeof P==="string")return P;switch(P){case eh:return"Fragment";case sH:return"Portal";case M4:return"Profiler";case fC:return"StrictMode";case Y4:return"Suspense";case Q4:return"SuspenseList"}if(typeof P==="object")switch(P.$$typeof){case s1:return(P.displayName||"Context")+".Provider";case ZC:return(P._context.displayName||"Context")+".Consumer";case $6:var p=P.render;return P=P.displayName,P||(P=p.displayName||p.name||"",P=P!==""?"ForwardRef("+P+")":"ForwardRef"),P;case L6:return p=P.displayName||null,p!==null?p:V4(P.type)||"Memo";case N8:p=P._payload,P=P._init;try{return V4(P(p))}catch(x){}}return null}var E0=DD.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,o0=Object.assign,Nf,u$;function tH(P){if(Nf===void 0)try{throw Error()}catch(x){var p=x.stack.trim().match(/\n( *(at )?)/);Nf=p&&p[1]||"",u$=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nf+P+u$}var Of=!1;function gf(P,p){if(!P||Of)return"";Of=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(p){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(C){var $=C}Reflect.construct(P,[],L)}else{try{L.call()}catch(C){$=C}P.call(L.prototype)}}else{try{throw Error()}catch(C){$=C}(L=P())&&typeof L.catch==="function"&&L.catch(function(){})}}catch(C){if(C&&$&&typeof C.stack==="string")return[C.stack,$.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var X=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");X&&X.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=h.DetermineComponentFrameRoot(),A=H[0],B=H[1];if(A&&B){var f=A.split(`
`),D=B.split(`
`);for(X=h=0;h<f.length&&!f[h].includes("DetermineComponentFrameRoot");)h++;for(;X<D.length&&!D[X].includes("DetermineComponentFrameRoot");)X++;if(h===f.length||X===D.length)for(h=f.length-1,X=D.length-1;1<=h&&0<=X&&f[h]!==D[X];)X--;for(;1<=h&&0<=X;h--,X--)if(f[h]!==D[X]){if(h!==1||X!==1)do if(h--,X--,0>X||f[h]!==D[X]){var Z=`
`+f[h].replace(" at new "," at ");return P.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",P.displayName)),Z}while(1<=h&&0<=X);break}}}finally{Of=!1,Error.prepareStackTrace=x}return(x=P?P.displayName||P.name:"")?tH(x):""}function Ow(P){switch(P.tag){case 26:case 27:case 5:return tH(P.type);case 16:return tH("Lazy");case 13:return tH("Suspense");case 19:return tH("SuspenseList");case 0:case 15:return P=gf(P.type,!1),P;case 11:return P=gf(P.type.render,!1),P;case 1:return P=gf(P.type,!0),P;default:return""}}function o$(P){try{var p="";do p+=Ow(P),P=P.return;while(P);return p}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function TX(P){var p=P,x=P;if(P.alternate)for(;p.return;)p=p.return;else{P=p;do p=P,(p.flags&4098)!==0&&(x=p.return),P=p.return;while(P)}return p.tag===3?x:null}function LC(P){if(P.tag===13){var p=P.memoizedState;if(p===null&&(P=P.alternate,P!==null&&(p=P.memoizedState)),p!==null)return p.dehydrated}return null}function a$(P){if(TX(P)!==P)throw Error(n(188))}function gw(P){var p=P.alternate;if(!p){if(p=TX(P),p===null)throw Error(n(188));return p!==P?null:P}for(var x=P,h=p;;){var X=x.return;if(X===null)break;var H=X.alternate;if(H===null){if(h=X.return,h!==null){x=h;continue}break}if(X.child===H.child){for(H=X.child;H;){if(H===x)return a$(X),P;if(H===h)return a$(X),p;H=H.sibling}throw Error(n(188))}if(x.return!==h.return)x=X,h=H;else{for(var A=!1,B=X.child;B;){if(B===x){A=!0,x=X,h=H;break}if(B===h){A=!0,h=X,x=H;break}B=B.sibling}if(!A){for(B=H.child;B;){if(B===x){A=!0,x=H,h=X;break}if(B===h){A=!0,h=H,x=X;break}B=B.sibling}if(!A)throw Error(n(189))}}if(x.alternate!==h)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?P:p}function CC(P){var p=P.tag;if(p===5||p===26||p===27||p===6)return P;for(P=P.child;P!==null;){if(p=CC(P),p!==null)return p;P=P.sibling}return null}var eH=Array.isArray,u0=BC.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mx={pending:!1,data:null,method:null,action:null},q4=[],PX=-1;function W1(P){return{current:P}}function dP(P){0>PX||(P.current=q4[PX],q4[PX]=null,PX--)}function r0(P,p){PX++,q4[PX]=P.current,P.current=p}var E1=W1(null),I2=W1(null),o8=W1(null),vB=W1(null);function UB(P,p){switch(r0(o8,p),r0(I2,P),r0(E1,null),P=p.nodeType,P){case 9:case 11:p=(p=p.documentElement)?(p=p.namespaceURI)?aL(p):0:0;break;default:if(P=P===8?p.parentNode:p,p=P.tagName,P=P.namespaceURI)P=aL(P),p=kF(P,p);else switch(p){case"svg":p=1;break;case"math":p=2;break;default:p=0}}dP(E1),r0(E1,p)}function QX(){dP(E1),dP(I2),dP(o8)}function I4(P){P.memoizedState!==null&&r0(vB,P);var p=E1.current,x=kF(p,P.type);p!==x&&(r0(I2,P),r0(E1,x))}function GB(P){I2.current===P&&(dP(E1),dP(I2)),vB.current===P&&(dP(vB),R2._currentValue=mx)}var E4=Object.prototype.hasOwnProperty,C6=ih,yf=jf,yw=Kf,_w=df,z1=V1,iw=Jf,FC=kf,bC=Tf,SB=_h,mw=Wf,MC=wf,uw=void 0,ow=void 0,G2=null,Mp=null;function aw(P){if(Mp&&typeof Mp.onCommitFiberRoot==="function")try{Mp.onCommitFiberRoot(G2,P,void 0,(P.current.flags&128)===128)}catch(p){}}function m8(P){if(typeof uw==="function"&&ow(P),Mp&&typeof Mp.setStrictMode==="function")try{Mp.setStrictMode(G2,P)}catch(p){}}var Yp=Math.clz32?Math.clz32:sw,rw=Math.log,nw=Math.LN2;function sw(P){return P>>>=0,P===0?32:31-(rw(P)/nw|0)|0}var DB=128,fB=4194304;function Nx(P){var p=P&42;if(p!==0)return p;switch(P&-P){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return P&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return P&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return P}}function fD(P,p){var x=P.pendingLanes;if(x===0)return 0;var h=0,X=P.suspendedLanes,H=P.pingedLanes,A=P.warmLanes;P=P.finishedLanes!==0;var B=x&134217727;return B!==0?(x=B&~X,x!==0?h=Nx(x):(H&=B,H!==0?h=Nx(H):P||(A=B&~A,A!==0&&(h=Nx(A))))):(B=x&~X,B!==0?h=Nx(B):H!==0?h=Nx(H):P||(A=x&~A,A!==0&&(h=Nx(A)))),h===0?0:p!==0&&p!==h&&(p&X)===0&&(X=h&-h,A=p&-p,X>=A||X===32&&(A&4194176)!==0)?p:h}function S2(P,p){return(P.pendingLanes&~(P.suspendedLanes&~P.pingedLanes)&p)===0}function tw(P,p){switch(P){case 1:case 2:case 4:case 8:return p+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YC(){var P=DB;return DB<<=1,(DB&4194176)===0&&(DB=128),P}function QC(){var P=fB;return fB<<=1,(fB&62914560)===0&&(fB=4194304),P}function _f(P){for(var p=[],x=0;31>x;x++)p.push(P);return p}function l2(P,p){P.pendingLanes|=p,p!==268435456&&(P.suspendedLanes=0,P.pingedLanes=0,P.warmLanes=0)}function ew(P,p,x,h,X,H){var A=P.pendingLanes;P.pendingLanes=x,P.suspendedLanes=0,P.pingedLanes=0,P.warmLanes=0,P.expiredLanes&=x,P.entangledLanes&=x,P.errorRecoveryDisabledLanes&=x,P.shellSuspendCounter=0;var{entanglements:B,expirationTimes:f,hiddenUpdates:D}=P;for(x=A&~x;0<x;){var Z=31-Yp(x),L=1<<Z;B[Z]=0,f[Z]=-1;var $=D[Z];if($!==null)for(D[Z]=null,Z=0;Z<$.length;Z++){var C=$[Z];C!==null&&(C.lane&=-536870913)}x&=~L}h!==0&&VC(P,h,0),H!==0&&X===0&&P.tag!==0&&(P.suspendedLanes|=H&~(A&~p))}function VC(P,p,x){P.pendingLanes|=p,P.suspendedLanes&=~p;var h=31-Yp(p);P.entangledLanes|=p,P.entanglements[h]=P.entanglements[h]|1073741824|x&4194218}function qC(P,p){var x=P.entangledLanes|=p;for(P=P.entanglements;x;){var h=31-Yp(x),X=1<<h;X&p|P[h]&p&&(P[h]|=p),x&=~X}}function IC(P){return P&=-P,2<P?8<P?(P&134217727)!==0?32:268435456:8:2}function EC(){var P=u0.p;if(P!==0)return P;return P=window.event,P===void 0?32:UF(P.type)}function Pk(P,p){var x=u0.p;try{return u0.p=P,p()}finally{u0.p=x}}var Hx=Math.random().toString(36).slice(2),gP="__reactFiber$"+Hx,xp="__reactProps$"+Hx,jX="__reactContainer$"+Hx,z4="__reactEvents$"+Hx,pk="__reactListeners$"+Hx,xk="__reactHandles$"+Hx,r$="__reactResources$"+Hx,E2="__reactMarker$"+Hx;function F6(P){delete P[gP],delete P[xp],delete P[z4],delete P[pk],delete P[xk]}function _x(P){var p=P[gP];if(p)return p;for(var x=P.parentNode;x;){if(p=x[jX]||x[gP]){if(x=p.alternate,p.child!==null||x!==null&&x.child!==null)for(P=nL(P);P!==null;){if(x=P[gP])return x;P=nL(P)}return p}P=x,x=P.parentNode}return null}function JX(P){if(P=P[gP]||P[jX]){var p=P.tag;if(p===5||p===6||p===13||p===26||p===27||p===3)return P}return null}function P2(P){var p=P.tag;if(p===5||p===26||p===27||p===6)return P.stateNode;throw Error(n(33))}function ZX(P){var p=P[r$];return p||(p=P[r$]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function jP(P){P[E2]=!0}var zC=new Set,wC={};function xh(P,p){VX(P,p),VX(P+"Capture",p)}function VX(P,p){wC[P]=p;for(P=0;P<p.length;P++)zC.add(p[P])}var h8=!(typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"),hk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),n$={},s$={};function Xk(P){if(E4.call(s$,P))return!0;if(E4.call(n$,P))return!1;if(hk.test(P))return s$[P]=!0;return n$[P]=!0,!1}function IB(P,p,x){if(Xk(p))if(x===null)P.removeAttribute(p);else{switch(typeof x){case"undefined":case"function":case"symbol":P.removeAttribute(p);return;case"boolean":var h=p.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){P.removeAttribute(p);return}}P.setAttribute(p,""+x)}}function ZB(P,p,x){if(x===null)P.removeAttribute(p);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":P.removeAttribute(p);return}P.setAttribute(p,""+x)}}function i1(P,p,x,h){if(h===null)P.removeAttribute(x);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":P.removeAttribute(x);return}P.setAttributeNS(p,x,""+h)}}function cp(P){switch(typeof P){case"bigint":case"boolean":case"number":case"string":case"undefined":return P;case"object":return P;default:return""}}function kC(P){var p=P.type;return(P=P.nodeName)&&P.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Hk(P){var p=kC(P)?"checked":"value",x=Object.getOwnPropertyDescriptor(P.constructor.prototype,p),h=""+P[p];if(!P.hasOwnProperty(p)&&typeof x!=="undefined"&&typeof x.get==="function"&&typeof x.set==="function"){var{get:X,set:H}=x;return Object.defineProperty(P,p,{configurable:!0,get:function(){return X.call(this)},set:function(A){h=""+A,H.call(this,A)}}),Object.defineProperty(P,p,{enumerable:x.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){P._valueTracker=null,delete P[p]}}}}function lB(P){P._valueTracker||(P._valueTracker=Hk(P))}function WC(P){if(!P)return!1;var p=P._valueTracker;if(!p)return!0;var x=p.getValue(),h="";return P&&(h=kC(P)?P.checked?"true":"false":P.value),P=h,P!==x?(p.setValue(P),!0):!1}function NB(P){if(P=P||(typeof document!=="undefined"?document:void 0),typeof P==="undefined")return null;try{return P.activeElement||P.body}catch(p){return P.body}}var Ak=/[\n"\\]/g;function Gp(P){return P.replace(Ak,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function w4(P,p,x,h,X,H,A,B){if(P.name="",A!=null&&typeof A!=="function"&&typeof A!=="symbol"&&typeof A!=="boolean"?P.type=A:P.removeAttribute("type"),p!=null)if(A==="number"){if(p===0&&P.value===""||P.value!=p)P.value=""+cp(p)}else P.value!==""+cp(p)&&(P.value=""+cp(p));else A!=="submit"&&A!=="reset"||P.removeAttribute("value");p!=null?k4(P,A,cp(p)):x!=null?k4(P,A,cp(x)):h!=null&&P.removeAttribute("value"),X==null&&H!=null&&(P.defaultChecked=!!H),X!=null&&(P.checked=X&&typeof X!=="function"&&typeof X!=="symbol"),B!=null&&typeof B!=="function"&&typeof B!=="symbol"&&typeof B!=="boolean"?P.name=""+cp(B):P.removeAttribute("name")}function TC(P,p,x,h,X,H,A,B){if(H!=null&&typeof H!=="function"&&typeof H!=="symbol"&&typeof H!=="boolean"&&(P.type=H),p!=null||x!=null){if(!(H!=="submit"&&H!=="reset"||p!==void 0&&p!==null))return;x=x!=null?""+cp(x):"",p=p!=null?""+cp(p):x,B||p===P.value||(P.value=p),P.defaultValue=p}h=h!=null?h:X,h=typeof h!=="function"&&typeof h!=="symbol"&&!!h,P.checked=B?P.checked:!!h,P.defaultChecked=!!h,A!=null&&typeof A!=="function"&&typeof A!=="symbol"&&typeof A!=="boolean"&&(P.name=A)}function k4(P,p,x){p==="number"&&NB(P.ownerDocument)===P||P.defaultValue===""+x||(P.defaultValue=""+x)}function $X(P,p,x,h){if(P=P.options,p){p={};for(var X=0;X<x.length;X++)p["$"+x[X]]=!0;for(x=0;x<P.length;x++)X=p.hasOwnProperty("$"+P[x].value),P[x].selected!==X&&(P[x].selected=X),X&&h&&(P[x].defaultSelected=!0)}else{x=""+cp(x),p=null;for(X=0;X<P.length;X++){if(P[X].value===x){P[X].selected=!0,h&&(P[X].defaultSelected=!0);return}p!==null||P[X].disabled||(p=P[X])}p!==null&&(p.selected=!0)}}function jC(P,p,x){if(p!=null&&(p=""+cp(p),p!==P.value&&(P.value=p),x==null)){P.defaultValue!==p&&(P.defaultValue=p);return}P.defaultValue=x!=null?""+cp(x):""}function JC(P,p,x,h){if(p==null){if(h!=null){if(x!=null)throw Error(n(92));if(eH(h)){if(1<h.length)throw Error(n(93));h=h[0]}x=h}x==null&&(x=""),p=x}x=cp(p),P.defaultValue=x,h=P.textContent,h===x&&h!==""&&h!==null&&(P.value=h)}function qX(P,p){if(p){var x=P.firstChild;if(x&&x===P.lastChild&&x.nodeType===3){x.nodeValue=p;return}}P.textContent=p}var Bk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function t$(P,p,x){var h=p.indexOf("--")===0;x==null||typeof x==="boolean"||x===""?h?P.setProperty(p,""):p==="float"?P.cssFloat="":P[p]="":h?P.setProperty(p,x):typeof x!=="number"||x===0||Bk.has(p)?p==="float"?P.cssFloat=x:P[p]=(""+x).trim():P[p]=x+"px"}function dC(P,p,x){if(p!=null&&typeof p!=="object")throw Error(n(62));if(P=P.style,x!=null){for(var h in x)!x.hasOwnProperty(h)||p!=null&&p.hasOwnProperty(h)||(h.indexOf("--")===0?P.setProperty(h,""):h==="float"?P.cssFloat="":P[h]="");for(var X in p)h=p[X],p.hasOwnProperty(X)&&x[X]!==h&&t$(P,X,h)}else for(var H in p)p.hasOwnProperty(H)&&t$(P,H,p[H])}function b6(P){if(P.indexOf("-")===-1)return!1;switch(P){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function EB(P){return fk.test(""+P)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":P}var W4=null;function M6(P){return P=P.target||P.srcElement||window,P.correspondingUseElement&&(P=P.correspondingUseElement),P.nodeType===3?P.parentNode:P}var pX=null,LX=null;function e$(P){var p=JX(P);if(p&&(P=p.stateNode)){var x=P[xp]||null;P:switch(P=p.stateNode,p.type){case"input":if(w4(P,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),p=x.name,x.type==="radio"&&p!=null){for(x=P;x.parentNode;)x=x.parentNode;x=x.querySelectorAll('input[name="'+Gp(""+p)+'"][type="radio"]');for(p=0;p<x.length;p++){var h=x[p];if(h!==P&&h.form===P.form){var X=h[xp]||null;if(!X)throw Error(n(90));w4(h,X.value,X.defaultValue,X.defaultValue,X.checked,X.defaultChecked,X.type,X.name)}}for(p=0;p<x.length;p++)h=x[p],h.form===P.form&&WC(h)}break P;case"textarea":jC(P,x.value,x.defaultValue);break P;case"select":p=x.value,p!=null&&$X(P,!!x.multiple,p,!1)}}}var mf=!1;function KC(P,p,x){if(mf)return P(p,x);mf=!0;try{var h=P(p);return h}finally{if(mf=!1,pX!==null||LX!==null){if(VD(),pX&&(p=pX,P=LX,LX=pX=null,e$(p),P))for(p=0;p<P.length;p++)e$(P[p])}}}function z2(P,p){var x=P.stateNode;if(x===null)return null;var h=x[xp]||null;if(h===null)return null;x=h[p];P:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(P=P.type,h=!(P==="button"||P==="input"||P==="select"||P==="textarea")),P=!h;break P;default:P=!1}if(P)return null;if(x&&typeof x!=="function")throw Error(n(231,p,typeof x));return x}var T4=!1;if(h8)try{Ox={},Object.defineProperty(Ox,"passive",{get:function(){T4=!0}}),window.addEventListener("test",Ox,Ox),window.removeEventListener("test",Ox,Ox)}catch(P){T4=!1}var Ox,u8=null,Y6=null,zB=null;function RC(){if(zB)return zB;var P,p=Y6,x=p.length,h,X="value"in u8?u8.value:u8.textContent,H=X.length;for(P=0;P<x&&p[P]===X[P];P++);var A=x-P;for(h=1;h<=A&&p[x-h]===X[H-h];h++);return zB=X.slice(P,1<h?1-h:void 0)}function wB(P){var p=P.keyCode;return"charCode"in P?(P=P.charCode,P===0&&p===13&&(P=13)):P=p,P===10&&(P=13),32<=P||P===13?P:0}function $B(){return!0}function PL(){return!1}function hp(P){function p(x,h,X,H,A){this._reactName=x,this._targetInst=X,this.type=h,this.nativeEvent=H,this.target=A,this.currentTarget=null;for(var B in P)P.hasOwnProperty(B)&&(x=P[B],this[B]=x?x(H):H[B]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?$B:PL,this.isPropagationStopped=PL,this}return o0(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!=="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=$B)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!=="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=$B)},persist:function(){},isPersistent:$B}),p}var hh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(P){return P.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZD=hp(hh),N2=o0({},hh,{view:0,detail:0}),Zk=hp(N2),uf,of,mH,$D=o0({},N2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q6,button:0,buttons:0,relatedTarget:function(P){return P.relatedTarget===void 0?P.fromElement===P.srcElement?P.toElement:P.fromElement:P.relatedTarget},movementX:function(P){if("movementX"in P)return P.movementX;return P!==mH&&(mH&&P.type==="mousemove"?(uf=P.screenX-mH.screenX,of=P.screenY-mH.screenY):of=uf=0,mH=P),uf},movementY:function(P){return"movementY"in P?P.movementY:of}}),pL=hp($D),$k=o0({},$D,{dataTransfer:0}),Lk=hp($k),Ck=o0({},N2,{relatedTarget:0}),af=hp(Ck),Fk=o0({},hh,{animationName:0,elapsedTime:0,pseudoElement:0}),bk=hp(Fk),Mk=o0({},hh,{clipboardData:function(P){return"clipboardData"in P?P.clipboardData:window.clipboardData}}),Yk=hp(Mk),Qk=o0({},hh,{data:0}),xL=hp(Qk),Vk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ik={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ek(P){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(P):(P=Ik[P])?!!p[P]:!1}function Q6(){return Ek}var zk=o0({},N2,{key:function(P){if(P.key){var p=Vk[P.key]||P.key;if(p!=="Unidentified")return p}return P.type==="keypress"?(P=wB(P),P===13?"Enter":String.fromCharCode(P)):P.type==="keydown"||P.type==="keyup"?qk[P.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q6,charCode:function(P){return P.type==="keypress"?wB(P):0},keyCode:function(P){return P.type==="keydown"||P.type==="keyup"?P.keyCode:0},which:function(P){return P.type==="keypress"?wB(P):P.type==="keydown"||P.type==="keyup"?P.keyCode:0}}),wk=hp(zk),kk=o0({},$D,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hL=hp(kk),Wk=o0({},N2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q6}),Tk=hp(Wk),jk=o0({},hh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jk=hp(jk),dk=o0({},$D,{deltaX:function(P){return"deltaX"in P?P.deltaX:("wheelDeltaX"in P)?-P.wheelDeltaX:0},deltaY:function(P){return"deltaY"in P?P.deltaY:("wheelDeltaY"in P)?-P.wheelDeltaY:("wheelDelta"in P)?-P.wheelDelta:0},deltaZ:0,deltaMode:0}),Kk=hp(dk),Rk=o0({},hh,{newState:0,oldState:0}),ck=hp(Rk),vk=[9,13,27,32],V6=h8&&"CompositionEvent"in window,A2=null;h8&&"documentMode"in document&&(A2=document.documentMode);var Uk=h8&&"TextEvent"in window&&!A2,cC=h8&&(!V6||A2&&8<A2&&11>=A2),XL=String.fromCharCode(32),HL=!1;function vC(P,p){switch(P){case"keyup":return vk.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UC(P){return P=P.detail,typeof P==="object"&&"data"in P?P.data:null}var xX=!1;function Gk(P,p){switch(P){case"compositionend":return UC(p);case"keypress":if(p.which!==32)return null;return HL=!0,XL;case"textInput":return P=p.data,P===XL&&HL?null:P;default:return null}}function Sk(P,p){if(xX)return P==="compositionend"||!V6&&vC(P,p)?(P=RC(),zB=Y6=u8=null,xX=!1,P):null;switch(P){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return cC&&p.locale!=="ko"?null:p.data;default:return null}}var lk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AL(P){var p=P&&P.nodeName&&P.nodeName.toLowerCase();return p==="input"?!!lk[P.type]:p==="textarea"?!0:!1}function GC(P,p,x,h){pX?LX?LX.push(h):LX=[h]:pX=h,p=pD(p,"onChange"),0<p.length&&(x=new ZD("onChange","change",null,x,h),P.push({event:x,listeners:p}))}var B2=null,w2=null;function Nk(P){EF(P,0)}function LD(P){var p=P2(P);if(WC(p))return P}function BL(P,p){if(P==="change")return p}var SC=!1;if(h8){if(h8){if(x2="oninput"in document,!x2)kB=document.createElement("div"),kB.setAttribute("oninput","return;"),x2=typeof kB.oninput==="function";p2=x2}else p2=!1;SC=p2&&(!document.documentMode||9<document.documentMode)}var p2,x2,kB;function DL(){B2&&(B2.detachEvent("onpropertychange",lC),w2=B2=null)}function lC(P){if(P.propertyName==="value"&&LD(w2)){var p=[];GC(p,w2,P,M6(P)),KC(Nk,p)}}function Ok(P,p,x){P==="focusin"?(DL(),B2=p,w2=x,B2.attachEvent("onpropertychange",lC)):P==="focusout"&&DL()}function gk(P){if(P==="selectionchange"||P==="keyup"||P==="keydown")return LD(w2)}function yk(P,p){if(P==="click")return LD(p)}function _k(P,p){if(P==="input"||P==="change")return LD(p)}function ik(P,p){return P===p&&(P!==0||1/P===1/p)||P!==P&&p!==p}var Vp=typeof Object.is==="function"?Object.is:ik;function k2(P,p){if(Vp(P,p))return!0;if(typeof P!=="object"||P===null||typeof p!=="object"||p===null)return!1;var x=Object.keys(P),h=Object.keys(p);if(x.length!==h.length)return!1;for(h=0;h<x.length;h++){var X=x[h];if(!E4.call(p,X)||!Vp(P[X],p[X]))return!1}return!0}function fL(P){for(;P&&P.firstChild;)P=P.firstChild;return P}function ZL(P,p){var x=fL(P);P=0;for(var h;x;){if(x.nodeType===3){if(h=P+x.textContent.length,P<=p&&h>=p)return{node:x,offset:p-P};P=h}P:{for(;x;){if(x.nextSibling){x=x.nextSibling;break P}x=x.parentNode}x=void 0}x=fL(x)}}function NC(P,p){return P&&p?P===p?!0:P&&P.nodeType===3?!1:p&&p.nodeType===3?NC(P,p.parentNode):("contains"in P)?P.contains(p):P.compareDocumentPosition?!!(P.compareDocumentPosition(p)&16):!1:!1}function OC(P){P=P!=null&&P.ownerDocument!=null&&P.ownerDocument.defaultView!=null?P.ownerDocument.defaultView:window;for(var p=NB(P.document);p instanceof P.HTMLIFrameElement;){try{var x=typeof p.contentWindow.location.href==="string"}catch(h){x=!1}if(x)P=p.contentWindow;else break;p=NB(P.document)}return p}function q6(P){var p=P&&P.nodeName&&P.nodeName.toLowerCase();return p&&(p==="input"&&(P.type==="text"||P.type==="search"||P.type==="tel"||P.type==="url"||P.type==="password")||p==="textarea"||P.contentEditable==="true")}function mk(P,p){var x=OC(p);p=P.focusedElem;var h=P.selectionRange;if(x!==p&&p&&p.ownerDocument&&NC(p.ownerDocument.documentElement,p)){if(h!==null&&q6(p)){if(P=h.start,x=h.end,x===void 0&&(x=P),"selectionStart"in p)p.selectionStart=P,p.selectionEnd=Math.min(x,p.value.length);else if(x=(P=p.ownerDocument||document)&&P.defaultView||window,x.getSelection){x=x.getSelection();var X=p.textContent.length,H=Math.min(h.start,X);h=h.end===void 0?H:Math.min(h.end,X),!x.extend&&H>h&&(X=h,h=H,H=X),X=ZL(p,H);var A=ZL(p,h);X&&A&&(x.rangeCount!==1||x.anchorNode!==X.node||x.anchorOffset!==X.offset||x.focusNode!==A.node||x.focusOffset!==A.offset)&&(P=P.createRange(),P.setStart(X.node,X.offset),x.removeAllRanges(),H>h?(x.addRange(P),x.extend(A.node,A.offset)):(P.setEnd(A.node,A.offset),x.addRange(P)))}}P=[];for(x=p;x=x.parentNode;)x.nodeType===1&&P.push({element:x,left:x.scrollLeft,top:x.scrollTop});typeof p.focus==="function"&&p.focus();for(p=0;p<P.length;p++)x=P[p],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}var uk=h8&&"documentMode"in document&&11>=document.documentMode,hX=null,j4=null,D2=null,J4=!1;function $L(P,p,x){var h=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;J4||hX==null||hX!==NB(h)||(h=hX,("selectionStart"in h)&&q6(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),D2&&k2(D2,h)||(D2=h,h=pD(j4,"onSelect"),0<h.length&&(p=new ZD("onSelect","select",null,p,x),P.push({event:p,listeners:h}),p.target=hX)))}function lx(P,p){var x={};return x[P.toLowerCase()]=p.toLowerCase(),x["Webkit"+P]="webkit"+p,x["Moz"+P]="moz"+p,x}var XX={animationend:lx("Animation","AnimationEnd"),animationiteration:lx("Animation","AnimationIteration"),animationstart:lx("Animation","AnimationStart"),transitionrun:lx("Transition","TransitionRun"),transitionstart:lx("Transition","TransitionStart"),transitioncancel:lx("Transition","TransitionCancel"),transitionend:lx("Transition","TransitionEnd")},rf={},gC={};h8&&(gC=document.createElement("div").style,("AnimationEvent"in window)||(delete XX.animationend.animation,delete XX.animationiteration.animation,delete XX.animationstart.animation),("TransitionEvent"in window)||delete XX.transitionend.transition);function Xh(P){if(rf[P])return rf[P];if(!XX[P])return P;var p=XX[P],x;for(x in p)if(p.hasOwnProperty(x)&&x in gC)return rf[P]=p[x];return P}var yC=Xh("animationend"),_C=Xh("animationiteration"),iC=Xh("animationstart"),ok=Xh("transitionrun"),ak=Xh("transitionstart"),rk=Xh("transitioncancel"),mC=Xh("transitionend"),uC=new Map,LL="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function P1(P,p){uC.set(P,p),xh(p,[P])}var Rp=[],HX=0,I6=0;function CD(){for(var P=HX,p=I6=HX=0;p<P;){var x=Rp[p];Rp[p++]=null;var h=Rp[p];Rp[p++]=null;var X=Rp[p];Rp[p++]=null;var H=Rp[p];if(Rp[p++]=null,h!==null&&X!==null){var A=h.pending;A===null?X.next=X:(X.next=A.next,A.next=X),h.pending=X}H!==0&&oC(x,X,H)}}function FD(P,p,x,h){Rp[HX++]=P,Rp[HX++]=p,Rp[HX++]=x,Rp[HX++]=h,I6|=h,P.lanes|=h,P=P.alternate,P!==null&&(P.lanes|=h)}function E6(P,p,x,h){return FD(P,p,x,h),OB(P)}function px(P,p){return FD(P,null,null,p),OB(P)}function oC(P,p,x){P.lanes|=x;var h=P.alternate;h!==null&&(h.lanes|=x);for(var X=!1,H=P.return;H!==null;)H.childLanes|=x,h=H.alternate,h!==null&&(h.childLanes|=x),H.tag===22&&(P=H.stateNode,P===null||P._visibility&1||(X=!0)),P=H,H=H.return;X&&p!==null&&P.tag===3&&(H=P.stateNode,X=31-Yp(x),H=H.hiddenUpdates,P=H[X],P===null?H[X]=[p]:P.push(p),p.lane=x|536870912)}function OB(P){if(50<q2)throw q2=0,s4=null,Error(n(185));for(var p=P.return;p!==null;)P=p,p=P.return;return P.tag===3?P.stateNode:null}var AX={},CL=new WeakMap;function Sp(P,p){if(typeof P==="object"&&P!==null){var x=CL.get(P);if(x!==void 0)return x;return p={value:P,source:p,stack:o$(p)},CL.set(P,p),p}return{value:P,source:p,stack:o$(p)}}var BX=[],DX=0,gB=null,yB=0,vp=[],Up=0,ux=null,t1=1,e1="";function gx(P,p){BX[DX++]=yB,BX[DX++]=gB,gB=P,yB=p}function aC(P,p,x){vp[Up++]=t1,vp[Up++]=e1,vp[Up++]=ux,ux=P;var h=t1;P=e1;var X=32-Yp(h)-1;h&=~(1<<X),x+=1;var H=32-Yp(p)+X;if(30<H){var A=X-X%5;H=(h&(1<<A)-1).toString(32),h>>=A,X-=A,t1=1<<32-Yp(p)+X|x<<X|h,e1=H+P}else t1=1<<H|x<<X|h,e1=P}function z6(P){P.return!==null&&(gx(P,1),aC(P,1,0))}function w6(P){for(;P===gB;)gB=BX[--DX],BX[DX]=null,yB=BX[--DX],BX[DX]=null;for(;P===ux;)ux=vp[--Up],vp[Up]=null,e1=vp[--Up],vp[Up]=null,t1=vp[--Up],vp[Up]=null}var uP=null,vP=null,R0=!1,tp=null,q1=!1,d4=Error(n(519));function sx(P){var p=Error(n(418,""));throw W2(Sp(p,P)),d4}function FL(P){var{stateNode:p,type:x,memoizedProps:h}=P;switch(p[gP]=P,p[xp]=h,x){case"dialog":j0("cancel",p),j0("close",p);break;case"iframe":case"object":case"embed":j0("load",p);break;case"video":case"audio":for(x=0;x<J2.length;x++)j0(J2[x],p);break;case"source":j0("error",p);break;case"img":case"image":case"link":j0("error",p),j0("load",p);break;case"details":j0("toggle",p);break;case"input":j0("invalid",p),TC(p,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),lB(p);break;case"select":j0("invalid",p);break;case"textarea":j0("invalid",p),JC(p,h.value,h.defaultValue,h.children),lB(p)}x=h.children,typeof x!=="string"&&typeof x!=="number"&&typeof x!=="bigint"||p.textContent===""+x||h.suppressHydrationWarning===!0||wF(p.textContent,x)?(h.popover!=null&&(j0("beforetoggle",p),j0("toggle",p)),h.onScroll!=null&&j0("scroll",p),h.onScrollEnd!=null&&j0("scrollend",p),h.onClick!=null&&(p.onclick=ID),p=!0):p=!1,p||sx(P)}function bL(P){for(uP=P.return;uP;)switch(uP.tag){case 3:case 27:q1=!0;return;case 5:case 13:q1=!1;return;default:uP=uP.return}}function uH(P){if(P!==uP)return!1;if(!R0)return bL(P),R0=!0,!1;var p=!1,x;if(x=P.tag!==3&&P.tag!==27){if(x=P.tag===5)x=P.type,x=!(x!=="form"&&x!=="button")||A6(P.type,P.memoizedProps);x=!x}if(x&&(p=!0),p&&vP&&sx(P),bL(P),P.tag===13){if(P=P.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P:{P=P.nextSibling;for(p=0;P;){if(P.nodeType===8)if(x=P.data,x==="/$"){if(p===0){vP=ep(P.nextSibling);break P}p--}else x!=="$"&&x!=="$!"&&x!=="$?"||p++;P=P.nextSibling}vP=null}}else vP=uP?ep(P.stateNode.nextSibling):null;return!0}function O2(){vP=uP=null,R0=!1}function W2(P){tp===null?tp=[P]:tp.push(P)}var f2=Error(n(460)),rC=Error(n(474)),K4={then:function(){}};function ML(P){return P=P.status,P==="fulfilled"||P==="rejected"}function LB(){}function nC(P,p,x){switch(x=P[x],x===void 0?P.push(p):x!==p&&(p.then(LB,LB),p=x),p.status){case"fulfilled":return p.value;case"rejected":if(P=p.reason,P===f2)throw Error(n(483));throw P;default:if(typeof p.status==="string")p.then(LB,LB);else{if(P=i0,P!==null&&100<P.shellSuspendCounter)throw Error(n(482));P=p,P.status="pending",P.then(function(h){if(p.status==="pending"){var X=p;X.status="fulfilled",X.value=h}},function(h){if(p.status==="pending"){var X=p;X.status="rejected",X.reason=h}})}switch(p.status){case"fulfilled":return p.value;case"rejected":if(P=p.reason,P===f2)throw Error(n(483));throw P}throw Z2=p,f2}}var Z2=null;function YL(){if(Z2===null)throw Error(n(459));var P=Z2;return Z2=null,P}var CX=null,T2=0;function CB(P){var p=T2;return T2+=1,CX===null&&(CX=[]),nC(CX,P,p)}function oH(P,p){p=p.props.ref,P.ref=p!==void 0?p:null}function FB(P,p){if(p.$$typeof===Gw)throw Error(n(525));throw P=Object.prototype.toString.call(p),Error(n(31,P==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":P))}function QL(P){var p=P._init;return p(P._payload)}function sC(P){function p(b,F){if(P){var M=b.deletions;M===null?(b.deletions=[F],b.flags|=16):M.push(F)}}function x(b,F){if(!P)return null;for(;F!==null;)p(b,F),F=F.sibling;return null}function h(b){for(var F=new Map;b!==null;)b.key!==null?F.set(b.key,b):F.set(b.index,b),b=b.sibling;return F}function X(b,F){return b=n8(b,F),b.index=0,b.sibling=null,b}function H(b,F,M){if(b.index=M,!P)return b.flags|=1048576,F;if(M=b.alternate,M!==null)return M=M.index,M<F?(b.flags|=33554434,F):M;return b.flags|=33554434,F}function A(b){return P&&b.alternate===null&&(b.flags|=33554434),b}function B(b,F,M,Q){if(F===null||F.tag!==6)return F=B4(M,b.mode,Q),F.return=b,F;return F=X(F,M),F.return=b,F}function f(b,F,M,Q){var I=M.type;if(I===eh)return Z(b,F,M.props.children,Q,M.key);if(F!==null&&(F.elementType===I||typeof I==="object"&&I!==null&&I.$$typeof===N8&&QL(I)===F.type))return F=X(F,M.props),oH(F,M),F.return=b,F;return F=dB(M.type,M.key,M.props,null,b.mode,Q),oH(F,M),F.return=b,F}function D(b,F,M,Q){if(F===null||F.tag!==4||F.stateNode.containerInfo!==M.containerInfo||F.stateNode.implementation!==M.implementation)return F=D4(M,b.mode,Q),F.return=b,F;return F=X(F,M.children||[]),F.return=b,F}function Z(b,F,M,Q,I){if(F===null||F.tag!==7)return F=ax(M,b.mode,Q,I),F.return=b,F;return F=X(F,M),F.return=b,F}function L(b,F,M){if(typeof F==="string"&&F!==""||typeof F==="number"||typeof F==="bigint")return F=B4(""+F,b.mode,M),F.return=b,F;if(typeof F==="object"&&F!==null){switch(F.$$typeof){case BB:return M=dB(F.type,F.key,F.props,null,b.mode,M),oH(M,F),M.return=b,M;case sH:return F=D4(F,b.mode,M),F.return=b,F;case N8:var Q=F._init;return F=Q(F._payload),L(b,F,M)}if(eH(F)||iH(F))return F=ax(F,b.mode,M,null),F.return=b,F;if(typeof F.then==="function")return L(b,CB(F),M);if(F.$$typeof===s1)return L(b,bB(b,F),M);FB(b,F)}return null}function $(b,F,M,Q){var I=F!==null?F.key:null;if(typeof M==="string"&&M!==""||typeof M==="number"||typeof M==="bigint")return I!==null?null:B(b,F,""+M,Q);if(typeof M==="object"&&M!==null){switch(M.$$typeof){case BB:return M.key===I?f(b,F,M,Q):null;case sH:return M.key===I?D(b,F,M,Q):null;case N8:return I=M._init,M=I(M._payload),$(b,F,M,Q)}if(eH(M)||iH(M))return I!==null?null:Z(b,F,M,Q,null);if(typeof M.then==="function")return $(b,F,CB(M),Q);if(M.$$typeof===s1)return $(b,F,bB(b,M),Q);FB(b,M)}return null}function C(b,F,M,Q,I){if(typeof Q==="string"&&Q!==""||typeof Q==="number"||typeof Q==="bigint")return b=b.get(M)||null,B(F,b,""+Q,I);if(typeof Q==="object"&&Q!==null){switch(Q.$$typeof){case BB:return b=b.get(Q.key===null?M:Q.key)||null,f(F,b,Q,I);case sH:return b=b.get(Q.key===null?M:Q.key)||null,D(F,b,Q,I);case N8:var j=Q._init;return Q=j(Q._payload),C(b,F,M,Q,I)}if(eH(Q)||iH(Q))return b=b.get(M)||null,Z(F,b,Q,I,null);if(typeof Q.then==="function")return C(b,F,M,CB(Q),I);if(Q.$$typeof===s1)return C(b,F,M,bB(F,Q),I);FB(F,Q)}return null}function Y(b,F,M,Q){for(var I=null,j=null,k=F,w=F=0,S=null;k!==null&&w<M.length;w++){k.index>w?(S=k,k=null):S=k.sibling;var T=$(b,k,M[w],Q);if(T===null){k===null&&(k=S);break}P&&k&&T.alternate===null&&p(b,k),F=H(T,F,w),j===null?I=T:j.sibling=T,j=T,k=S}if(w===M.length)return x(b,k),R0&&gx(b,w),I;if(k===null){for(;w<M.length;w++)k=L(b,M[w],Q),k!==null&&(F=H(k,F,w),j===null?I=k:j.sibling=k,j=k);return R0&&gx(b,w),I}for(k=h(k);w<M.length;w++)S=C(k,b,w,M[w],Q),S!==null&&(P&&S.alternate!==null&&k.delete(S.key===null?w:S.key),F=H(S,F,w),j===null?I=S:j.sibling=S,j=S);return P&&k.forEach(function(R){return p(b,R)}),R0&&gx(b,w),I}function V(b,F,M,Q){if(M==null)throw Error(n(151));for(var I=null,j=null,k=F,w=F=0,S=null,T=M.next();k!==null&&!T.done;w++,T=M.next()){k.index>w?(S=k,k=null):S=k.sibling;var R=$(b,k,T.value,Q);if(R===null){k===null&&(k=S);break}P&&k&&R.alternate===null&&p(b,k),F=H(R,F,w),j===null?I=R:j.sibling=R,j=R,k=S}if(T.done)return x(b,k),R0&&gx(b,w),I;if(k===null){for(;!T.done;w++,T=M.next())T=L(b,T.value,Q),T!==null&&(F=H(T,F,w),j===null?I=T:j.sibling=T,j=T);return R0&&gx(b,w),I}for(k=h(k);!T.done;w++,T=M.next())T=C(k,b,w,T.value,Q),T!==null&&(P&&T.alternate!==null&&k.delete(T.key===null?w:T.key),F=H(T,F,w),j===null?I=T:j.sibling=T,j=T);return P&&k.forEach(function(v){return p(b,v)}),R0&&gx(b,w),I}function q(b,F,M,Q){if(typeof M==="object"&&M!==null&&M.type===eh&&M.key===null&&(M=M.props.children),typeof M==="object"&&M!==null){switch(M.$$typeof){case BB:P:{for(var I=M.key;F!==null;){if(F.key===I){if(I=M.type,I===eh){if(F.tag===7){x(b,F.sibling),Q=X(F,M.props.children),Q.return=b,b=Q;break P}}else if(F.elementType===I||typeof I==="object"&&I!==null&&I.$$typeof===N8&&QL(I)===F.type){x(b,F.sibling),Q=X(F,M.props),oH(Q,M),Q.return=b,b=Q;break P}x(b,F);break}else p(b,F);F=F.sibling}M.type===eh?(Q=ax(M.props.children,b.mode,Q,M.key),Q.return=b,b=Q):(Q=dB(M.type,M.key,M.props,null,b.mode,Q),oH(Q,M),Q.return=b,b=Q)}return A(b);case sH:P:{for(I=M.key;F!==null;){if(F.key===I)if(F.tag===4&&F.stateNode.containerInfo===M.containerInfo&&F.stateNode.implementation===M.implementation){x(b,F.sibling),Q=X(F,M.children||[]),Q.return=b,b=Q;break P}else{x(b,F);break}else p(b,F);F=F.sibling}Q=D4(M,b.mode,Q),Q.return=b,b=Q}return A(b);case N8:return I=M._init,M=I(M._payload),q(b,F,M,Q)}if(eH(M))return Y(b,F,M,Q);if(iH(M)){if(I=iH(M),typeof I!=="function")throw Error(n(150));return M=I.call(M),V(b,F,M,Q)}if(typeof M.then==="function")return q(b,F,CB(M),Q);if(M.$$typeof===s1)return q(b,F,bB(b,M),Q);FB(b,M)}return typeof M==="string"&&M!==""||typeof M==="number"||typeof M==="bigint"?(M=""+M,F!==null&&F.tag===6?(x(b,F.sibling),Q=X(F,M),Q.return=b,b=Q):(x(b,F),Q=B4(M,b.mode,Q),Q.return=b,b=Q),A(b)):x(b,F)}return function(b,F,M,Q){try{T2=0;var I=q(b,F,M,Q);return CX=null,I}catch(k){if(k===f2)throw k;var j=lp(29,k,null,b.mode);return j.lanes=Q,j.return=b,j}finally{}}}var tx=sC(!0),tC=sC(!1),IX=W1(null),_B=W1(0);function VL(P,p){P=A8,r0(_B,P),r0(IX,p),A8=P|p.baseLanes}function R4(){r0(_B,A8),r0(IX,IX.current)}function k6(){A8=_B.current,dP(IX),dP(_B)}var Op=W1(null),w1=null;function g8(P){var p=P.alternate;r0(zP,zP.current&1),r0(Op,P),w1===null&&(p===null||IX.current!==null?w1=P:p.memoizedState!==null&&(w1=P))}function eC(P){if(P.tag===22){if(r0(zP,zP.current),r0(Op,P),w1===null){var p=P.alternate;p!==null&&p.memoizedState!==null&&(w1=P)}}else y8(P)}function y8(){r0(zP,zP.current),r0(Op,Op.current)}function P8(P){dP(Op),w1===P&&(w1=null),dP(zP)}var zP=W1(0);function iB(P){for(var p=P;p!==null;){if(p.tag===13){var x=p.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===P)break;for(;p.sibling===null;){if(p.return===null||p.return===P)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var nk=typeof AbortController!=="undefined"?AbortController:function(){var P=[],p=this.signal={aborted:!1,addEventListener:function(x,h){P.push(h)}};this.abort=function(){p.aborted=!0,P.forEach(function(x){return x()})}},sk=ih,tk=_h,EP={$$typeof:s1,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function W6(){return{controller:new nk,data:new Map,refCount:0}}function g2(P){P.refCount--,P.refCount===0&&sk(tk,function(){P.controller.abort()})}var $2=null,c4=0,EX=0,FX=null;function ek(P,p){if($2===null){var x=$2=[];c4=0,EX=r6(),FX={status:"pending",value:void 0,then:function(h){x.push(h)}}}return c4++,p.then(qL,qL),p}function qL(){if(--c4===0&&$2!==null){FX!==null&&(FX.status="fulfilled");var P=$2;$2=null,EX=0,FX=null;for(var p=0;p<P.length;p++)P[p]()}}function PW(P,p){var x=[],h={status:"pending",value:null,reason:null,then:function(X){x.push(X)}};return P.then(function(){h.status="fulfilled",h.value=p;for(var X=0;X<x.length;X++)x[X](p)},function(X){h.status="rejected",h.reason=X;for(X=0;X<x.length;X++)x[X](void 0)}),h}var IL=E0.S;E0.S=function(P,p){typeof p==="object"&&p!==null&&typeof p.then==="function"&&ek(P,p),IL!==null&&IL(P,p)};var ox=W1(null);function T6(){var P=ox.current;return P!==null?P:i0.pooledCache}function WB(P,p){p===null?r0(ox,ox.current):r0(ox,p.pool)}function P3(){var P=T6();return P===null?null:{parent:EP._currentValue,pool:P}}var xx=0,k0=null,O0=null,YP=null,mB=!1,bX=!1,ex=!1,uB=0,j2=0,MX=null,pW=0;function $P(){throw Error(n(321))}function j6(P,p){if(p===null)return!1;for(var x=0;x<p.length&&x<P.length;x++)if(!Vp(P[x],p[x]))return!1;return!0}function J6(P,p,x,h,X,H){return xx=H,k0=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,E0.H=P===null||P.memoizedState===null?Hh:Ax,ex=!1,H=x(h,X),ex=!1,bX&&(H=x3(p,x,h,X)),p3(P),H}function p3(P){E0.H=k1;var p=O0!==null&&O0.next!==null;if(xx=0,YP=O0=k0=null,mB=!1,j2=0,MX=null,p)throw Error(n(300));P===null||JP||(P=P.dependencies,P!==null&&rB(P)&&(JP=!0))}function x3(P,p,x,h){k0=P;var X=0;do{if(bX&&(MX=null),j2=0,bX=!1,25<=X)throw Error(n(301));if(X+=1,YP=O0=null,P.updateQueue!=null){var H=P.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}E0.H=Ah,H=p(x,h)}while(bX);return H}function xW(){var P=E0.H,p=P.useState()[0];return p=typeof p.then==="function"?y2(p):p,P=P.useState()[0],(O0!==null?O0.memoizedState:null)!==P&&(k0.flags|=1024),p}function d6(){var P=uB!==0;return uB=0,P}function K6(P,p,x){p.updateQueue=P.updateQueue,p.flags&=-2053,P.lanes&=~x}function R6(P){if(mB){for(P=P.memoizedState;P!==null;){var p=P.queue;p!==null&&(p.pending=null),P=P.next}mB=!1}xx=0,YP=O0=k0=null,bX=!1,j2=uB=0,MX=null}function pp(){var P={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return YP===null?k0.memoizedState=YP=P:YP=YP.next=P,YP}function QP(){if(O0===null){var P=k0.alternate;P=P!==null?P.memoizedState:null}else P=O0.next;var p=YP===null?k0.memoizedState:YP.next;if(p!==null)YP=p,O0=P;else{if(P===null){if(k0.alternate===null)throw Error(n(467));throw Error(n(310))}O0=P,P={memoizedState:O0.memoizedState,baseState:O0.baseState,baseQueue:O0.baseQueue,queue:O0.queue,next:null},YP===null?k0.memoizedState=YP=P:YP=YP.next=P}return YP}var bD;bD=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function y2(P){var p=j2;return j2+=1,MX===null&&(MX=[]),P=nC(MX,P,p),p=k0,(YP===null?p.memoizedState:YP.next)===null&&(p=p.alternate,E0.H=p===null||p.memoizedState===null?Hh:Ax),P}function MD(P){if(P!==null&&typeof P==="object"){if(typeof P.then==="function")return y2(P);if(P.$$typeof===s1)return yP(P)}throw Error(n(438,String(P)))}function c6(P){var p=null,x=k0.updateQueue;if(x!==null&&(p=x.memoCache),p==null){var h=k0.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(p={data:h.data.map(function(X){return X.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),x===null&&(x=bD(),k0.updateQueue=x),x.memoCache=p,x=p.data[p.index],x===void 0)for(x=p.data[p.index]=Array(P),h=0;h<P;h++)x[h]=lw;return p.index++,x}function X8(P,p){return typeof p==="function"?p(P):p}function TB(P){var p=QP();return v6(p,O0,P)}function v6(P,p,x){var h=P.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=x;var X=P.baseQueue,H=h.pending;if(H!==null){if(X!==null){var A=X.next;X.next=H.next,H.next=A}p.baseQueue=X=H,h.pending=null}if(H=P.baseState,X===null)P.memoizedState=H;else{p=X.next;var B=A=null,f=null,D=p,Z=!1;do{var L=D.lane&-536870913;if(L!==D.lane?(d0&L)===L:(xx&L)===L){var $=D.revertLane;if($===0)f!==null&&(f=f.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),L===EX&&(Z=!0);else if((xx&$)===$){D=D.next,$===EX&&(Z=!0);continue}else L={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},f===null?(B=f=L,A=H):f=f.next=L,k0.lanes|=$,Xx|=$;L=D.action,ex&&x(H,L),H=D.hasEagerState?D.eagerState:x(H,L)}else $={lane:L,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},f===null?(B=f=$,A=H):f=f.next=$,k0.lanes|=L,Xx|=L;D=D.next}while(D!==null&&D!==p);if(f===null?A=H:f.next=B,!Vp(H,P.memoizedState)&&(JP=!0,Z&&(x=FX,x!==null)))throw x;P.memoizedState=H,P.baseState=A,P.baseQueue=f,h.lastRenderedState=H}return X===null&&(h.lanes=0),[P.memoizedState,h.dispatch]}function nf(P){var p=QP(),x=p.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=P;var{dispatch:h,pending:X}=x,H=p.memoizedState;if(X!==null){x.pending=null;var A=X=X.next;do H=P(H,A.action),A=A.next;while(A!==X);Vp(H,p.memoizedState)||(JP=!0),p.memoizedState=H,p.baseQueue===null&&(p.baseState=H),x.lastRenderedState=H}return[H,h]}function h3(P,p,x){var h=k0,X=QP(),H=R0;if(H){if(x===void 0)throw Error(n(407));x=x()}else x=p();var A=!Vp((O0||X).memoizedState,x);if(A&&(X.memoizedState=x,JP=!0),X=X.queue,U6(A3.bind(null,h,X,P),[P]),X.getSnapshot!==p||A||YP!==null&&YP.memoizedState.tag&1){if(h.flags|=2048,zX(9,H3.bind(null,h,X,x,p),{destroy:void 0},null),i0===null)throw Error(n(349));H||(xx&60)!==0||X3(h,p,x)}return x}function X3(P,p,x){P.flags|=16384,P={getSnapshot:p,value:x},p=k0.updateQueue,p===null?(p=bD(),k0.updateQueue=p,p.stores=[P]):(x=p.stores,x===null?p.stores=[P]:x.push(P))}function H3(P,p,x,h){p.value=x,p.getSnapshot=h,B3(p)&&D3(P)}function A3(P,p,x){return x(function(){B3(p)&&D3(P)})}function B3(P){var p=P.getSnapshot;P=P.value;try{var x=p();return!Vp(P,x)}catch(h){return!0}}function D3(P){var p=px(P,2);p!==null&&oP(p,P,2)}function v4(P){var p=pp();if(typeof P==="function"){var x=P;if(P=x(),ex){m8(!0);try{x()}finally{m8(!1)}}}return p.memoizedState=p.baseState=P,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X8,lastRenderedState:P},p}function f3(P,p,x,h){return P.baseState=x,v6(P,O0,typeof h==="function"?h:X8)}function hW(P,p,x,h,X){if(QD(P))throw Error(n(485));if(P=p.action,P!==null){var H={payload:X,action:P,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){H.listeners.push(A)}};E0.T!==null?x(!0):H.isTransition=!1,h(H),x=p.pending,x===null?(H.next=p.pending=H,Z3(p,H)):(H.next=x.next,p.pending=x.next=H)}}function Z3(P,p){var{action:x,payload:h}=p,X=P.state;if(p.isTransition){var H=E0.T,A={};E0.T=A;try{var B=x(X,h),f=E0.S;f!==null&&f(A,B),EL(P,p,B)}catch(D){U4(P,p,D)}finally{E0.T=H}}else try{H=x(X,h),EL(P,p,H)}catch(D){U4(P,p,D)}}function EL(P,p,x){x!==null&&typeof x==="object"&&typeof x.then==="function"?x.then(function(h){zL(P,p,h)},function(h){return U4(P,p,h)}):zL(P,p,x)}function zL(P,p,x){p.status="fulfilled",p.value=x,$3(p),P.state=x,p=P.pending,p!==null&&(x=p.next,x===p?P.pending=null:(x=x.next,p.next=x,Z3(P,x)))}function U4(P,p,x){var h=P.pending;if(P.pending=null,h!==null){h=h.next;do p.status="rejected",p.reason=x,$3(p),p=p.next;while(p!==h)}P.action=null}function $3(P){P=P.listeners;for(var p=0;p<P.length;p++)P[p]()}function L3(P,p){return p}function C3(P,p){if(R0){var x=i0.formState;if(x!==null){P:{var h=k0;if(R0){if(vP){p:{var X=vP;for(var H=q1;X.nodeType!==8;){if(!H){X=null;break p}if(X=ep(X.nextSibling),X===null){X=null;break p}}H=X.data,X=H==="F!"||H==="F"?X:null}if(X){vP=ep(X.nextSibling),h=X.data==="F!";break P}}sx(h)}h=!1}h&&(p=x[0])}}return x=pp(),x.memoizedState=x.baseState=p,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:L3,lastRenderedState:p},x.queue=h,x=d3.bind(null,k0,h),h.dispatch=x,h=v4(!1),H=N6.bind(null,k0,!1,h.queue),h=pp(),X={state:p,dispatch:null,action:P,pending:null},h.queue=X,x=hW.bind(null,k0,X,H,x),X.dispatch=x,h.memoizedState=P,[p,x,!1]}function F3(P){var p=QP();return b3(p,O0,P)}function b3(P,p,x){p=v6(P,p,L3)[0],P=TB(X8)[0],p=typeof p==="object"&&p!==null&&typeof p.then==="function"?y2(p):p;var h=QP(),X=h.queue,H=X.dispatch;return x!==h.memoizedState&&(k0.flags|=2048,zX(9,XW.bind(null,X,x),{destroy:void 0},null)),[p,H,P]}function XW(P,p){P.action=p}function M3(P){var p=QP(),x=O0;if(x!==null)return b3(p,x,P);QP(),p=p.memoizedState,x=QP();var h=x.queue.dispatch;return x.memoizedState=P,[p,h,!1]}function zX(P,p,x,h){return P={tag:P,create:p,inst:x,deps:h,next:null},p=k0.updateQueue,p===null&&(p=bD(),k0.updateQueue=p),x=p.lastEffect,x===null?p.lastEffect=P.next=P:(h=x.next,x.next=P,P.next=h,p.lastEffect=P),P}function Y3(){return QP().memoizedState}function jB(P,p,x,h){var X=pp();k0.flags|=P,X.memoizedState=zX(1|p,x,{destroy:void 0},h===void 0?null:h)}function YD(P,p,x,h){var X=QP();h=h===void 0?null:h;var H=X.memoizedState.inst;O0!==null&&h!==null&&j6(h,O0.memoizedState.deps)?X.memoizedState=zX(p,x,H,h):(k0.flags|=P,X.memoizedState=zX(1|p,x,H,h))}function wL(P,p){jB(8390656,8,P,p)}function U6(P,p){YD(2048,8,P,p)}function Q3(P,p){return YD(4,2,P,p)}function V3(P,p){return YD(4,4,P,p)}function q3(P,p){if(typeof p==="function"){P=P();var x=p(P);return function(){typeof x==="function"?x():p(null)}}if(p!==null&&p!==void 0)return P=P(),p.current=P,function(){p.current=null}}function I3(P,p,x){x=x!==null&&x!==void 0?x.concat([P]):null,YD(4,4,q3.bind(null,p,P),x)}function G6(){}function E3(P,p){var x=QP();p=p===void 0?null:p;var h=x.memoizedState;if(p!==null&&j6(p,h[1]))return h[0];return x.memoizedState=[P,p],P}function z3(P,p){var x=QP();p=p===void 0?null:p;var h=x.memoizedState;if(p!==null&&j6(p,h[1]))return h[0];if(h=P(),ex){m8(!0);try{P()}finally{m8(!1)}}return x.memoizedState=[h,p],h}function S6(P,p,x){if(x===void 0||(xx&1073741824)!==0)return P.memoizedState=p;return P.memoizedState=x,P=$F(),k0.lanes|=P,Xx|=P,x}function w3(P,p,x,h){if(Vp(x,p))return x;if(IX.current!==null)return P=S6(P,x,h),Vp(P,p)||(JP=!0),P;if((xx&42)===0)return JP=!0,P.memoizedState=x;return P=$F(),k0.lanes|=P,Xx|=P,p}function k3(P,p,x,h,X){var H=u0.p;u0.p=H!==0&&8>H?H:8;var A=E0.T,B={};E0.T=B,N6(P,!1,p,x);try{var f=X(),D=E0.S;if(D!==null&&D(B,f),f!==null&&typeof f==="object"&&typeof f.then==="function"){var Z=PW(f,h);L2(P,p,Z,Qp(P))}else L2(P,p,h,Qp(P))}catch(L){L2(P,p,{then:function(){},status:"rejected",reason:L},Qp())}finally{u0.p=H,E0.T=A}}function HW(){}function G4(P,p,x,h){if(P.tag!==5)throw Error(n(476));var X=W3(P).queue;k3(P,X,p,mx,x===null?HW:function(){return T3(P),x(h)})}function W3(P){var p=P.memoizedState;if(p!==null)return p;p={memoizedState:mx,baseState:mx,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:X8,lastRenderedState:mx},next:null};var x={};return p.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:X8,lastRenderedState:x},next:null},P.memoizedState=p,P=P.alternate,P!==null&&(P.memoizedState=p),p}function T3(P){var p=W3(P).next.queue;L2(P,p,{},Qp())}function l6(){return yP(R2)}function j3(){return QP().memoizedState}function J3(){return QP().memoizedState}function AW(P){for(var p=P.return;p!==null;){switch(p.tag){case 24:case 3:var x=Qp();P=a8(x);var h=r8(p,P,x);h!==null&&(oP(h,p,x),F2(h,p,x)),p={cache:W6()},P.payload=p;return}p=p.return}}function BW(P,p,x){var h=Qp();x={lane:h,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},QD(P)?K3(p,x):(x=E6(P,p,x,h),x!==null&&(oP(x,P,h),R3(x,p,h)))}function d3(P,p,x){var h=Qp();L2(P,p,x,h)}function L2(P,p,x,h){var X={lane:h,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(QD(P))K3(p,X);else{var H=P.alternate;if(P.lanes===0&&(H===null||H.lanes===0)&&(H=p.lastRenderedReducer,H!==null))try{var A=p.lastRenderedState,B=H(A,x);if(X.hasEagerState=!0,X.eagerState=B,Vp(B,A))return FD(P,p,X,0),i0===null&&CD(),!1}catch(f){}finally{}if(x=E6(P,p,X,h),x!==null)return oP(x,P,h),R3(x,p,h),!0}return!1}function N6(P,p,x,h){if(h={lane:2,revertLane:r6(),action:h,hasEagerState:!1,eagerState:null,next:null},QD(P)){if(p)throw Error(n(479))}else p=E6(P,x,h,2),p!==null&&oP(p,P,2)}function QD(P){var p=P.alternate;return P===k0||p!==null&&p===k0}function K3(P,p){bX=mB=!0;var x=P.pending;x===null?p.next=p:(p.next=x.next,x.next=p),P.pending=p}function R3(P,p,x){if((x&4194176)!==0){var h=p.lanes;h&=P.pendingLanes,x|=h,p.lanes=x,qC(P,x)}}var k1={readContext:yP,use:MD,useCallback:$P,useContext:$P,useEffect:$P,useImperativeHandle:$P,useLayoutEffect:$P,useInsertionEffect:$P,useMemo:$P,useReducer:$P,useRef:$P,useState:$P,useDebugValue:$P,useDeferredValue:$P,useTransition:$P,useSyncExternalStore:$P,useId:$P};k1.useCacheRefresh=$P;k1.useMemoCache=$P;k1.useHostTransitionStatus=$P;k1.useFormState=$P;k1.useActionState=$P;k1.useOptimistic=$P;var Hh={readContext:yP,use:MD,useCallback:function(P,p){return pp().memoizedState=[P,p===void 0?null:p],P},useContext:yP,useEffect:wL,useImperativeHandle:function(P,p,x){x=x!==null&&x!==void 0?x.concat([P]):null,jB(4194308,4,q3.bind(null,p,P),x)},useLayoutEffect:function(P,p){return jB(4194308,4,P,p)},useInsertionEffect:function(P,p){jB(4,2,P,p)},useMemo:function(P,p){var x=pp();p=p===void 0?null:p;var h=P();if(ex){m8(!0);try{P()}finally{m8(!1)}}return x.memoizedState=[h,p],h},useReducer:function(P,p,x){var h=pp();if(x!==void 0){var X=x(p);if(ex){m8(!0);try{x(p)}finally{m8(!1)}}}else X=p;return h.memoizedState=h.baseState=X,P={pending:null,lanes:0,dispatch:null,lastRenderedReducer:P,lastRenderedState:X},h.queue=P,P=P.dispatch=BW.bind(null,k0,P),[h.memoizedState,P]},useRef:function(P){var p=pp();return P={current:P},p.memoizedState=P},useState:function(P){P=v4(P);var p=P.queue,x=d3.bind(null,k0,p);return p.dispatch=x,[P.memoizedState,x]},useDebugValue:G6,useDeferredValue:function(P,p){var x=pp();return S6(x,P,p)},useTransition:function(){var P=v4(!1);return P=k3.bind(null,k0,P.queue,!0,!1),pp().memoizedState=P,[!1,P]},useSyncExternalStore:function(P,p,x){var h=k0,X=pp();if(R0){if(x===void 0)throw Error(n(407));x=x()}else{if(x=p(),i0===null)throw Error(n(349));(d0&60)!==0||X3(h,p,x)}X.memoizedState=x;var H={value:x,getSnapshot:p};return X.queue=H,wL(A3.bind(null,h,H,P),[P]),h.flags|=2048,zX(9,H3.bind(null,h,H,x,p),{destroy:void 0},null),x},useId:function(){var P=pp(),p=i0.identifierPrefix;if(R0){var x=e1,h=t1;x=(h&~(1<<32-Yp(h)-1)).toString(32)+x,p=":"+p+"R"+x,x=uB++,0<x&&(p+="H"+x.toString(32)),p+=":"}else x=pW++,p=":"+p+"r"+x.toString(32)+":";return P.memoizedState=p},useCacheRefresh:function(){return pp().memoizedState=AW.bind(null,k0)}};Hh.useMemoCache=c6;Hh.useHostTransitionStatus=l6;Hh.useFormState=C3;Hh.useActionState=C3;Hh.useOptimistic=function(P){var p=pp();p.memoizedState=p.baseState=P;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=x,p=N6.bind(null,k0,!0,x),x.dispatch=p,[P,p]};var Ax={readContext:yP,use:MD,useCallback:E3,useContext:yP,useEffect:U6,useImperativeHandle:I3,useInsertionEffect:Q3,useLayoutEffect:V3,useMemo:z3,useReducer:TB,useRef:Y3,useState:function(){return TB(X8)},useDebugValue:G6,useDeferredValue:function(P,p){var x=QP();return w3(x,O0.memoizedState,P,p)},useTransition:function(){var P=TB(X8)[0],p=QP().memoizedState;return[typeof P==="boolean"?P:y2(P),p]},useSyncExternalStore:h3,useId:j3};Ax.useCacheRefresh=J3;Ax.useMemoCache=c6;Ax.useHostTransitionStatus=l6;Ax.useFormState=F3;Ax.useActionState=F3;Ax.useOptimistic=function(P,p){var x=QP();return f3(x,O0,P,p)};var Ah={readContext:yP,use:MD,useCallback:E3,useContext:yP,useEffect:U6,useImperativeHandle:I3,useInsertionEffect:Q3,useLayoutEffect:V3,useMemo:z3,useReducer:nf,useRef:Y3,useState:function(){return nf(X8)},useDebugValue:G6,useDeferredValue:function(P,p){var x=QP();return O0===null?S6(x,P,p):w3(x,O0.memoizedState,P,p)},useTransition:function(){var P=nf(X8)[0],p=QP().memoizedState;return[typeof P==="boolean"?P:y2(P),p]},useSyncExternalStore:h3,useId:j3};Ah.useCacheRefresh=J3;Ah.useMemoCache=c6;Ah.useHostTransitionStatus=l6;Ah.useFormState=M3;Ah.useActionState=M3;Ah.useOptimistic=function(P,p){var x=QP();if(O0!==null)return f3(x,O0,P,p);return x.baseState=P,[P,x.queue.dispatch]};function sf(P,p,x,h){p=P.memoizedState,x=x(h,p),x=x===null||x===void 0?p:o0({},p,x),P.memoizedState=x,P.lanes===0&&(P.updateQueue.baseState=x)}var S4={isMounted:function(P){return(P=P._reactInternals)?TX(P)===P:!1},enqueueSetState:function(P,p,x){P=P._reactInternals;var h=Qp(),X=a8(h);X.payload=p,x!==void 0&&x!==null&&(X.callback=x),p=r8(P,X,h),p!==null&&(oP(p,P,h),F2(p,P,h))},enqueueReplaceState:function(P,p,x){P=P._reactInternals;var h=Qp(),X=a8(h);X.tag=1,X.payload=p,x!==void 0&&x!==null&&(X.callback=x),p=r8(P,X,h),p!==null&&(oP(p,P,h),F2(p,P,h))},enqueueForceUpdate:function(P,p){P=P._reactInternals;var x=Qp(),h=a8(x);h.tag=2,p!==void 0&&p!==null&&(h.callback=p),p=r8(P,h,x),p!==null&&(oP(p,P,x),F2(p,P,x))}};function kL(P,p,x,h,X,H,A){return P=P.stateNode,typeof P.shouldComponentUpdate==="function"?P.shouldComponentUpdate(h,H,A):p.prototype&&p.prototype.isPureReactComponent?!k2(x,h)||!k2(X,H):!0}function WL(P,p,x,h){P=p.state,typeof p.componentWillReceiveProps==="function"&&p.componentWillReceiveProps(x,h),typeof p.UNSAFE_componentWillReceiveProps==="function"&&p.UNSAFE_componentWillReceiveProps(x,h),p.state!==P&&S4.enqueueReplaceState(p,p.state,null)}function Ph(P,p){var x=p;if("ref"in p){x={};for(var h in p)h!=="ref"&&(x[h]=p[h])}if(P=P.defaultProps){x===p&&(x=o0({},x));for(var X in P)x[X]===void 0&&(x[X]=P[X])}return x}var oB=typeof reportError==="function"?reportError:function(P){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P==="object"&&P!==null&&typeof P.message==="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(p))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",P);return}console.error(P)};function c3(P){oB(P)}function v3(P){console.error(P)}function U3(P){oB(P)}function aB(P,p){try{var x=P.onUncaughtError;x(p.value,{componentStack:p.stack})}catch(h){setTimeout(function(){throw h})}}function TL(P,p,x){try{var h=P.onCaughtError;h(x.value,{componentStack:x.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(X){setTimeout(function(){throw X})}}function l4(P,p,x){return x=a8(x),x.tag=3,x.payload={element:null},x.callback=function(){aB(P,p)},x}function G3(P){return P=a8(P),P.tag=3,P}function S3(P,p,x,h){var X=x.type.getDerivedStateFromError;if(typeof X==="function"){var H=h.value;P.payload=function(){return X(H)},P.callback=function(){TL(p,x,h)}}var A=x.stateNode;A!==null&&typeof A.componentDidCatch==="function"&&(P.callback=function(){TL(p,x,h),typeof X!=="function"&&(s8===null?s8=new Set([this]):s8.add(this));var B=h.stack;this.componentDidCatch(h.value,{componentStack:B!==null?B:""})})}function DW(P,p,x,h,X){if(x.flags|=32768,h!==null&&typeof h==="object"&&typeof h.then==="function"){if(p=x.alternate,p!==null&&_2(p,x,X,!0),x=Op.current,x!==null){switch(x.tag){case 13:return w1===null?e4():x.alternate===null&&DP===0&&(DP=3),x.flags&=-257,x.flags|=65536,x.lanes=X,h===K4?x.flags|=16384:(p=x.updateQueue,p===null?x.updateQueue=new Set([h]):p.add(h),Z4(P,h,X)),!1;case 22:return x.flags|=65536,h===K4?x.flags|=16384:(p=x.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([h])},x.updateQueue=p):(x=p.retryQueue,x===null?p.retryQueue=new Set([h]):x.add(h)),Z4(P,h,X)),!1}throw Error(n(435,x.tag))}return Z4(P,h,X),e4(),!1}if(R0)return p=Op.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=X,h!==d4&&(P=Error(n(422),{cause:h}),W2(Sp(P,x)))):(h!==d4&&(p=Error(n(423),{cause:h}),W2(Sp(p,x))),P=P.current.alternate,P.flags|=65536,X&=-X,P.lanes|=X,h=Sp(h,x),X=l4(P.stateNode,h,X),h4(P,X),DP!==4&&(DP=2)),!1;var H=Error(n(520),{cause:h});if(H=Sp(H,x),Q2===null?Q2=[H]:Q2.push(H),DP!==4&&(DP=2),p===null)return!0;h=Sp(h,x),x=p;do{switch(x.tag){case 3:return x.flags|=65536,P=X&-X,x.lanes|=P,P=l4(x.stateNode,h,P),h4(x,P),!1;case 1:if(p=x.type,H=x.stateNode,(x.flags&128)===0&&(typeof p.getDerivedStateFromError==="function"||H!==null&&typeof H.componentDidCatch==="function"&&(s8===null||!s8.has(H))))return x.flags|=65536,X&=-X,x.lanes|=X,X=G3(X),S3(X,P,x,h),h4(x,X),!1}x=x.return}while(x!==null);return!1}var l3=Error(n(461)),JP=!1;function cP(P,p,x,h){p.child=P===null?tC(p,null,x,h):tx(p,P.child,x,h)}function jL(P,p,x,h,X){x=x.render;var H=p.ref;if("ref"in h){var A={};for(var B in h)B!=="ref"&&(A[B]=h[B])}else A=h;if(ph(p),h=J6(P,p,x,A,H,X),B=d6(),P!==null&&!JP)return K6(P,p,X),H8(P,p,X);return R0&&B&&z6(p),p.flags|=1,cP(P,p,h,X),p.child}function JL(P,p,x,h,X){if(P===null){var H=x.type;if(typeof H==="function"&&!i6(H)&&H.defaultProps===void 0&&x.compare===null)return p.tag=15,p.type=H,N3(P,p,H,h,X);return P=dB(x.type,null,h,p,p.mode,X),P.ref=p.ref,P.return=p,p.child=P}if(H=P.child,!O6(P,X)){var A=H.memoizedProps;if(x=x.compare,x=x!==null?x:k2,x(A,h)&&P.ref===p.ref)return H8(P,p,X)}return p.flags|=1,P=n8(H,h),P.ref=p.ref,P.return=p,p.child=P}function N3(P,p,x,h,X){if(P!==null){var H=P.memoizedProps;if(k2(H,h)&&P.ref===p.ref)if(JP=!1,p.pendingProps=h=H,O6(P,X))(P.flags&131072)!==0&&(JP=!0);else return p.lanes=P.lanes,H8(P,p,X)}return N4(P,p,x,h,X)}function O3(P,p,x){var h=p.pendingProps,X=h.children,H=(p.stateNode._pendingVisibility&2)!==0,A=P!==null?P.memoizedState:null;if(C2(P,p),h.mode==="hidden"||H){if((p.flags&128)!==0){if(h=A!==null?A.baseLanes|x:x,P!==null){X=p.child=P.child;for(H=0;X!==null;)H=H|X.lanes|X.childLanes,X=X.sibling;p.childLanes=H&~h}else p.childLanes=0,p.child=null;return dL(P,p,h,x)}if((x&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},P!==null&&WB(p,A!==null?A.cachePool:null),A!==null?VL(p,A):R4(),eC(p);else return p.lanes=p.childLanes=536870912,dL(P,p,A!==null?A.baseLanes|x:x,x)}else A!==null?(WB(p,A.cachePool),VL(p,A),y8(p),p.memoizedState=null):(P!==null&&WB(p,null),R4(),y8(p));return cP(P,p,X,x),p.child}function dL(P,p,x,h){var X=T6();return X=X===null?null:{parent:EP._currentValue,pool:X},p.memoizedState={baseLanes:x,cachePool:X},P!==null&&WB(p,null),R4(),eC(p),P!==null&&_2(P,p,h,!0),null}function C2(P,p){var x=p.ref;if(x===null)P!==null&&P.ref!==null&&(p.flags|=2097664);else{if(typeof x!=="function"&&typeof x!=="object")throw Error(n(284));if(P===null||P.ref!==x)p.flags|=2097664}}function N4(P,p,x,h,X){if(ph(p),x=J6(P,p,x,h,void 0,X),h=d6(),P!==null&&!JP)return K6(P,p,X),H8(P,p,X);return R0&&h&&z6(p),p.flags|=1,cP(P,p,x,X),p.child}function KL(P,p,x,h,X,H){if(ph(p),p.updateQueue=null,x=x3(p,h,x,X),p3(P),h=d6(),P!==null&&!JP)return K6(P,p,H),H8(P,p,H);return R0&&h&&z6(p),p.flags|=1,cP(P,p,x,H),p.child}function RL(P,p,x,h,X){if(ph(p),p.stateNode===null){var H=AX,A=x.contextType;typeof A==="object"&&A!==null&&(H=yP(A)),H=new x(h,H),p.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=S4,p.stateNode=H,H._reactInternals=p,H=p.stateNode,H.props=h,H.state=p.memoizedState,H.refs={},g6(p),A=x.contextType,H.context=typeof A==="object"&&A!==null?yP(A):AX,H.state=p.memoizedState,A=x.getDerivedStateFromProps,typeof A==="function"&&(sf(p,x,A,h),H.state=p.memoizedState),typeof x.getDerivedStateFromProps==="function"||typeof H.getSnapshotBeforeUpdate==="function"||typeof H.UNSAFE_componentWillMount!=="function"&&typeof H.componentWillMount!=="function"||(A=H.state,typeof H.componentWillMount==="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount==="function"&&H.UNSAFE_componentWillMount(),A!==H.state&&S4.enqueueReplaceState(H,H.state,null),M2(p,h,H,X),b2(),H.state=p.memoizedState),typeof H.componentDidMount==="function"&&(p.flags|=4194308),h=!0}else if(P===null){H=p.stateNode;var B=p.memoizedProps,f=Ph(x,B);H.props=f;var D=H.context,Z=x.contextType;A=AX,typeof Z==="object"&&Z!==null&&(A=yP(Z));var L=x.getDerivedStateFromProps;Z=typeof L==="function"||typeof H.getSnapshotBeforeUpdate==="function",B=p.pendingProps!==B,Z||typeof H.UNSAFE_componentWillReceiveProps!=="function"&&typeof H.componentWillReceiveProps!=="function"||(B||D!==A)&&WL(p,H,h,A),O8=!1;var $=p.memoizedState;H.state=$,M2(p,h,H,X),b2(),D=p.memoizedState,B||$!==D||O8?(typeof L==="function"&&(sf(p,x,L,h),D=p.memoizedState),(f=O8||kL(p,x,f,h,$,D,A))?(Z||typeof H.UNSAFE_componentWillMount!=="function"&&typeof H.componentWillMount!=="function"||(typeof H.componentWillMount==="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount==="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount==="function"&&(p.flags|=4194308)):(typeof H.componentDidMount==="function"&&(p.flags|=4194308),p.memoizedProps=h,p.memoizedState=D),H.props=h,H.state=D,H.context=A,h=f):(typeof H.componentDidMount==="function"&&(p.flags|=4194308),h=!1)}else{H=p.stateNode,m4(P,p),A=p.memoizedProps,Z=Ph(x,A),H.props=Z,L=p.pendingProps,$=H.context,D=x.contextType,f=AX,typeof D==="object"&&D!==null&&(f=yP(D)),B=x.getDerivedStateFromProps,(D=typeof B==="function"||typeof H.getSnapshotBeforeUpdate==="function")||typeof H.UNSAFE_componentWillReceiveProps!=="function"&&typeof H.componentWillReceiveProps!=="function"||(A!==L||$!==f)&&WL(p,H,h,f),O8=!1,$=p.memoizedState,H.state=$,M2(p,h,H,X),b2();var C=p.memoizedState;A!==L||$!==C||O8||P!==null&&P.dependencies!==null&&rB(P.dependencies)?(typeof B==="function"&&(sf(p,x,B,h),C=p.memoizedState),(Z=O8||kL(p,x,Z,h,$,C,f)||P!==null&&P.dependencies!==null&&rB(P.dependencies))?(D||typeof H.UNSAFE_componentWillUpdate!=="function"&&typeof H.componentWillUpdate!=="function"||(typeof H.componentWillUpdate==="function"&&H.componentWillUpdate(h,C,f),typeof H.UNSAFE_componentWillUpdate==="function"&&H.UNSAFE_componentWillUpdate(h,C,f)),typeof H.componentDidUpdate==="function"&&(p.flags|=4),typeof H.getSnapshotBeforeUpdate==="function"&&(p.flags|=1024)):(typeof H.componentDidUpdate!=="function"||A===P.memoizedProps&&$===P.memoizedState||(p.flags|=4),typeof H.getSnapshotBeforeUpdate!=="function"||A===P.memoizedProps&&$===P.memoizedState||(p.flags|=1024),p.memoizedProps=h,p.memoizedState=C),H.props=h,H.state=C,H.context=f,h=Z):(typeof H.componentDidUpdate!=="function"||A===P.memoizedProps&&$===P.memoizedState||(p.flags|=4),typeof H.getSnapshotBeforeUpdate!=="function"||A===P.memoizedProps&&$===P.memoizedState||(p.flags|=1024),h=!1)}return H=h,C2(P,p),h=(p.flags&128)!==0,H||h?(H=p.stateNode,x=h&&typeof x.getDerivedStateFromError!=="function"?null:H.render(),p.flags|=1,P!==null&&h?(p.child=tx(p,P.child,null,X),p.child=tx(p,null,x,X)):cP(P,p,x,X),p.memoizedState=H.state,P=p.child):P=H8(P,p,X),P}function cL(P,p,x,h){return O2(),p.flags|=256,cP(P,p,x,h),p.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function ef(P){return{baseLanes:P,cachePool:P3()}}function P4(P,p,x){return P=P!==null?P.childLanes&~x:0,p&&(P|=Np),P}function g3(P,p,x){var h=p.pendingProps,X=!1,H=(p.flags&128)!==0,A;if((A=H)||(A=P!==null&&P.memoizedState===null?!1:(zP.current&2)!==0),A&&(X=!0,p.flags&=-129),A=(p.flags&32)!==0,p.flags&=-33,P===null){if(R0){if(X?g8(p):y8(p),R0){var B=vP,f;if(f=B){P:{f=B;for(B=q1;f.nodeType!==8;){if(!B){B=null;break P}if(f=ep(f.nextSibling),f===null){B=null;break P}}B=f}B!==null?(p.memoizedState={dehydrated:B,treeContext:ux!==null?{id:t1,overflow:e1}:null,retryLane:536870912},f=lp(18,null,null,0),f.stateNode=B,f.return=p,p.child=f,uP=p,vP=null,f=!0):f=!1}f||sx(p)}if(B=p.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return B.data==="$!"?p.lanes=16:p.lanes=536870912,null;P8(p)}if(B=h.children,h=h.fallback,X)return y8(p),X=p.mode,B=g4({mode:"hidden",children:B},X),h=ax(h,X,x,null),B.return=p,h.return=p,B.sibling=h,p.child=B,X=p.child,X.memoizedState=ef(x),X.childLanes=P4(P,A,x),p.memoizedState=tf,h;return g8(p),O4(p,B)}if(f=P.memoizedState,f!==null&&(B=f.dehydrated,B!==null)){if(H)p.flags&256?(g8(p),p.flags&=-257,p=p4(P,p,x)):p.memoizedState!==null?(y8(p),p.child=P.child,p.flags|=128,p=null):(y8(p),X=h.fallback,B=p.mode,h=g4({mode:"visible",children:h.children},B),X=ax(X,B,x,null),X.flags|=2,h.return=p,X.return=p,h.sibling=X,p.child=h,tx(p,P.child,null,x),h=p.child,h.memoizedState=ef(x),h.childLanes=P4(P,A,x),p.memoizedState=tf,p=X);else if(g8(p),B.data==="$!"){if(A=B.nextSibling&&B.nextSibling.dataset,A)var D=A.dgst;A=D,h=Error(n(419)),h.stack="",h.digest=A,W2({value:h,source:null,stack:null}),p=p4(P,p,x)}else if(JP||_2(P,p,x,!1),A=(x&P.childLanes)!==0,JP||A){if(A=i0,A!==null){if(h=x&-x,(h&42)!==0)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=(h&(A.suspendedLanes|x))!==0?0:h,h!==0&&h!==f.retryLane)throw f.retryLane=h,px(P,h),oP(A,P,h),l3}B.data==="$?"||e4(),p=p4(P,p,x)}else B.data==="$?"?(p.flags|=128,p.child=P.child,p=zW.bind(null,P),B._reactRetry=p,p=null):(P=f.treeContext,vP=ep(B.nextSibling),uP=p,R0=!0,tp=null,q1=!1,P!==null&&(vp[Up++]=t1,vp[Up++]=e1,vp[Up++]=ux,t1=P.id,e1=P.overflow,ux=p),p=O4(p,h.children),p.flags|=4096);return p}if(X)return y8(p),X=h.fallback,B=p.mode,f=P.child,D=f.sibling,h=n8(f,{mode:"hidden",children:h.children}),h.subtreeFlags=f.subtreeFlags&31457280,D!==null?X=n8(D,X):(X=ax(X,B,x,null),X.flags|=2),X.return=p,h.return=p,h.sibling=X,p.child=h,h=X,X=p.child,B=P.child.memoizedState,B===null?B=ef(x):(f=B.cachePool,f!==null?(D=EP._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=P3(),B={baseLanes:B.baseLanes|x,cachePool:f}),X.memoizedState=B,X.childLanes=P4(P,A,x),p.memoizedState=tf,h;return g8(p),x=P.child,P=x.sibling,x=n8(x,{mode:"visible",children:h.children}),x.return=p,x.sibling=null,P!==null&&(A=p.deletions,A===null?(p.deletions=[P],p.flags|=16):A.push(P)),p.child=x,p.memoizedState=null,x}function O4(P,p){return p=g4({mode:"visible",children:p},P.mode),p.return=P,P.child=p}function g4(P,p){return fF(P,p,0,null)}function p4(P,p,x){return tx(p,P.child,null,x),P=O4(p,p.pendingProps.children),P.flags|=2,p.memoizedState=null,P}function vL(P,p,x){P.lanes|=p;var h=P.alternate;h!==null&&(h.lanes|=p),_4(P.return,p,x)}function x4(P,p,x,h,X){var H=P.memoizedState;H===null?P.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:h,tail:x,tailMode:X}:(H.isBackwards=p,H.rendering=null,H.renderingStartTime=0,H.last=h,H.tail=x,H.tailMode=X)}function y3(P,p,x){var h=p.pendingProps,X=h.revealOrder,H=h.tail;if(cP(P,p,h.children,x),h=zP.current,(h&2)!==0)h=h&1|2,p.flags|=128;else{if(P!==null&&(P.flags&128)!==0)P:for(P=p.child;P!==null;){if(P.tag===13)P.memoizedState!==null&&vL(P,x,p);else if(P.tag===19)vL(P,x,p);else if(P.child!==null){P.child.return=P,P=P.child;continue}if(P===p)break P;for(;P.sibling===null;){if(P.return===null||P.return===p)break P;P=P.return}P.sibling.return=P.return,P=P.sibling}h&=1}switch(r0(zP,h),X){case"forwards":x=p.child;for(X=null;x!==null;)P=x.alternate,P!==null&&iB(P)===null&&(X=x),x=x.sibling;x=X,x===null?(X=p.child,p.child=null):(X=x.sibling,x.sibling=null),x4(p,!1,X,x,H);break;case"backwards":x=null,X=p.child;for(p.child=null;X!==null;){if(P=X.alternate,P!==null&&iB(P)===null){p.child=X;break}P=X.sibling,X.sibling=x,x=X,X=P}x4(p,!0,x,null,H);break;case"together":x4(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function H8(P,p,x){if(P!==null&&(p.dependencies=P.dependencies),Xx|=p.lanes,(x&p.childLanes)===0)if(P!==null){if(_2(P,p,x,!1),(x&p.childLanes)===0)return null}else return null;if(P!==null&&p.child!==P.child)throw Error(n(153));if(p.child!==null){P=p.child,x=n8(P,P.pendingProps),p.child=x;for(x.return=p;P.sibling!==null;)P=P.sibling,x=x.sibling=n8(P,P.pendingProps),x.return=p;x.sibling=null}return p.child}function O6(P,p){if((P.lanes&p)!==0)return!0;return P=P.dependencies,P!==null&&rB(P)?!0:!1}function fW(P,p,x){switch(p.tag){case 3:UB(p,p.stateNode.containerInfo),_8(p,EP,P.memoizedState.cache),O2();break;case 27:case 5:I4(p);break;case 4:UB(p,p.stateNode.containerInfo);break;case 10:_8(p,p.type,p.memoizedProps.value);break;case 13:var h=p.memoizedState;if(h!==null){if(h.dehydrated!==null)return g8(p),p.flags|=128,null;if((x&p.child.childLanes)!==0)return g3(P,p,x);return g8(p),P=H8(P,p,x),P!==null?P.sibling:null}g8(p);break;case 19:var X=(P.flags&128)!==0;if(h=(x&p.childLanes)!==0,h||(_2(P,p,x,!1),h=(x&p.childLanes)!==0),X){if(h)return y3(P,p,x);p.flags|=128}if(X=p.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),r0(zP,zP.current),h)break;else return null;case 22:case 23:return p.lanes=0,O3(P,p,x);case 24:_8(p,EP,P.memoizedState.cache)}return H8(P,p,x)}function _3(P,p,x){if(P!==null)if(P.memoizedProps!==p.pendingProps)JP=!0;else{if(!O6(P,x)&&(p.flags&128)===0)return JP=!1,fW(P,p,x);JP=(P.flags&131072)!==0?!0:!1}else JP=!1,R0&&(p.flags&1048576)!==0&&aC(p,yB,p.index);switch(p.lanes=0,p.tag){case 16:P:{P=p.pendingProps;var h=p.elementType,X=h._init;if(h=X(h._payload),p.type=h,typeof h==="function")i6(h)?(P=Ph(h,P),p.tag=1,p=RL(null,p,h,P,x)):(p.tag=0,p=N4(null,p,h,P,x));else{if(h!==void 0&&h!==null){if(X=h.$$typeof,X===$6){p.tag=11,p=jL(null,p,h,P,x);break P}else if(X===L6){p.tag=14,p=JL(null,p,h,P,x);break P}}throw p=V4(h)||h,Error(n(306,p,""))}}return p;case 0:return N4(P,p,p.type,p.pendingProps,x);case 1:return h=p.type,X=Ph(h,p.pendingProps),RL(P,p,h,X,x);case 3:P:{if(UB(p,p.stateNode.containerInfo),P===null)throw Error(n(387));var H=p.pendingProps;X=p.memoizedState,h=X.element,m4(P,p),M2(p,H,null,x);var A=p.memoizedState;if(H=A.cache,_8(p,EP,H),H!==X.cache&&i4(p,[EP],x,!0),b2(),H=A.element,X.isDehydrated)if(X={element:H,isDehydrated:!1,cache:A.cache},p.updateQueue.baseState=X,p.memoizedState=X,p.flags&256){p=cL(P,p,H,x);break P}else if(H!==h){h=Sp(Error(n(424)),p),W2(h),p=cL(P,p,H,x);break P}else for(vP=ep(p.stateNode.containerInfo.firstChild),uP=p,R0=!0,tp=null,q1=!0,x=tC(p,null,H,x),p.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(O2(),H===h){p=H8(P,p,x);break P}cP(P,p,H,x)}p=p.child}return p;case 26:return C2(P,p),P===null?(x=tL(p.type,null,p.pendingProps,null))?p.memoizedState=x:R0||(x=p.type,P=p.pendingProps,h=xD(o8.current).createElement(x),h[gP]=p,h[xp]=P,UP(h,x,P),jP(h),p.stateNode=h):p.memoizedState=tL(p.type,P.memoizedProps,p.pendingProps,P.memoizedState),null;case 27:return I4(p),P===null&&R0&&(h=p.stateNode=TF(p.type,p.pendingProps,o8.current),uP=p,q1=!0,vP=ep(h.firstChild)),h=p.pendingProps.children,P!==null||R0?cP(P,p,h,x):p.child=tx(p,null,h,x),C2(P,p),p.child;case 5:if(P===null&&R0){if(X=h=vP)h=SW(h,p.type,p.pendingProps,q1),h!==null?(p.stateNode=h,uP=p,vP=ep(h.firstChild),q1=!1,X=!0):X=!1;X||sx(p)}return I4(p),X=p.type,H=p.pendingProps,A=P!==null?P.memoizedProps:null,h=H.children,A6(X,H)?h=null:A!==null&&A6(X,A)&&(p.flags|=32),p.memoizedState!==null&&(X=J6(P,p,xW,null,null,x),R2._currentValue=X),C2(P,p),cP(P,p,h,x),p.child;case 6:if(P===null&&R0){if(P=x=vP)x=lW(x,p.pendingProps,q1),x!==null?(p.stateNode=x,uP=p,vP=null,P=!0):P=!1;P||sx(p)}return null;case 13:return g3(P,p,x);case 4:return UB(p,p.stateNode.containerInfo),h=p.pendingProps,P===null?p.child=tx(p,null,h,x):cP(P,p,h,x),p.child;case 11:return jL(P,p,p.type,p.pendingProps,x);case 7:return cP(P,p,p.pendingProps,x),p.child;case 8:return cP(P,p,p.pendingProps.children,x),p.child;case 12:return cP(P,p,p.pendingProps.children,x),p.child;case 10:return h=p.pendingProps,_8(p,p.type,h.value),cP(P,p,h.children,x),p.child;case 9:return X=p.type._context,h=p.pendingProps.children,ph(p),X=yP(X),h=h(X),p.flags|=1,cP(P,p,h,x),p.child;case 14:return JL(P,p,p.type,p.pendingProps,x);case 15:return N3(P,p,p.type,p.pendingProps,x);case 19:return y3(P,p,x);case 22:return O3(P,p,x);case 24:return ph(p),h=yP(EP),P===null?(X=T6(),X===null&&(X=i0,H=W6(),X.pooledCache=H,H.refCount++,H!==null&&(X.pooledCacheLanes|=x),X=H),p.memoizedState={parent:h,cache:X},g6(p),_8(p,EP,X)):((P.lanes&x)!==0&&(m4(P,p),M2(p,null,null,x),b2()),X=P.memoizedState,H=p.memoizedState,X.parent!==h?(X={parent:h,cache:h},p.memoizedState=X,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=X),_8(p,EP,h)):(h=H.cache,_8(p,EP,h),h!==X.cache&&i4(p,[EP],x,!0))),cP(P,p,p.pendingProps.children,x),p.child;case 29:throw p.pendingProps}throw Error(n(156,p.tag))}var y4=W1(null),Bh=null,p8=null;function _8(P,p,x){r0(y4,p._currentValue),p._currentValue=x}function x8(P){P._currentValue=y4.current,dP(y4)}function _4(P,p,x){for(;P!==null;){var h=P.alternate;if((P.childLanes&p)!==p?(P.childLanes|=p,h!==null&&(h.childLanes|=p)):h!==null&&(h.childLanes&p)!==p&&(h.childLanes|=p),P===x)break;P=P.return}}function i4(P,p,x,h){var X=P.child;X!==null&&(X.return=P);for(;X!==null;){var H=X.dependencies;if(H!==null){var A=X.child;H=H.firstContext;P:for(;H!==null;){var B=H;H=X;for(var f=0;f<p.length;f++)if(B.context===p[f]){H.lanes|=x,B=H.alternate,B!==null&&(B.lanes|=x),_4(H.return,x,P),h||(A=null);break P}H=B.next}}else if(X.tag===18){if(A=X.return,A===null)throw Error(n(341));A.lanes|=x,H=A.alternate,H!==null&&(H.lanes|=x),_4(A,x,P),A=null}else A=X.child;if(A!==null)A.return=X;else for(A=X;A!==null;){if(A===P){A=null;break}if(X=A.sibling,X!==null){X.return=A.return,A=X;break}A=A.return}X=A}}function _2(P,p,x,h){P=null;for(var X=p,H=!1;X!==null;){if(!H){if((X.flags&524288)!==0)H=!0;else if((X.flags&262144)!==0)break}if(X.tag===10){var A=X.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var B=X.type;Vp(X.pendingProps.value,A.value)||(P!==null?P.push(B):P=[B])}}else if(X===vB.current){if(A=X.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==X.memoizedState.memoizedState&&(P!==null?P.push(R2):P=[R2])}X=X.return}P!==null&&i4(p,P,x,h),p.flags|=262144}function rB(P){for(P=P.firstContext;P!==null;){if(!Vp(P.context._currentValue,P.memoizedValue))return!0;P=P.next}return!1}function ph(P){Bh=P,p8=null,P=P.dependencies,P!==null&&(P.firstContext=null)}function yP(P){return i3(Bh,P)}function bB(P,p){return Bh===null&&ph(P),i3(P,p)}function i3(P,p){var x=p._currentValue;if(p={context:p,memoizedValue:x,next:null},p8===null){if(P===null)throw Error(n(308));p8=p,P.dependencies={lanes:0,firstContext:p},P.flags|=524288}else p8=p8.next=p;return x}var O8=!1;function g6(P){P.updateQueue={baseState:P.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function m4(P,p){P=P.updateQueue,p.updateQueue===P&&(p.updateQueue={baseState:P.baseState,firstBaseUpdate:P.firstBaseUpdate,lastBaseUpdate:P.lastBaseUpdate,shared:P.shared,callbacks:null})}function a8(P){return{lane:P,tag:0,payload:null,callback:null,next:null}}function r8(P,p,x){var h=P.updateQueue;if(h===null)return null;if(h=h.shared,(pP&2)!==0){var X=h.pending;return X===null?p.next=p:(p.next=X.next,X.next=p),h.pending=p,p=OB(P),oC(P,null,x),p}return FD(P,h,p,x),OB(P)}function F2(P,p,x){if(p=p.updateQueue,p!==null&&(p=p.shared,(x&4194176)!==0)){var h=p.lanes;h&=P.pendingLanes,x|=h,p.lanes=x,qC(P,x)}}function h4(P,p){var{updateQueue:x,alternate:h}=P;if(h!==null&&(h=h.updateQueue,x===h)){var X=null,H=null;if(x=x.firstBaseUpdate,x!==null){do{var A={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};H===null?X=H=A:H=H.next=A,x=x.next}while(x!==null);H===null?X=H=p:H=H.next=p}else X=H=p;x={baseState:h.baseState,firstBaseUpdate:X,lastBaseUpdate:H,shared:h.shared,callbacks:h.callbacks},P.updateQueue=x;return}P=x.lastBaseUpdate,P===null?x.firstBaseUpdate=p:P.next=p,x.lastBaseUpdate=p}var u4=!1;function b2(){if(u4){var P=FX;if(P!==null)throw P}}function M2(P,p,x,h){u4=!1;var X=P.updateQueue;O8=!1;var{firstBaseUpdate:H,lastBaseUpdate:A}=X,B=X.shared.pending;if(B!==null){X.shared.pending=null;var f=B,D=f.next;f.next=null,A===null?H=D:A.next=D,A=f;var Z=P.alternate;Z!==null&&(Z=Z.updateQueue,B=Z.lastBaseUpdate,B!==A&&(B===null?Z.firstBaseUpdate=D:B.next=D,Z.lastBaseUpdate=f))}if(H!==null){var L=X.baseState;A=0,Z=D=f=null,B=H;do{var $=B.lane&-536870913,C=$!==B.lane;if(C?(d0&$)===$:(h&$)===$){$!==0&&$===EX&&(u4=!0),Z!==null&&(Z=Z.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});P:{var Y=P,V=B;$=p;var q=x;switch(V.tag){case 1:if(Y=V.payload,typeof Y==="function"){L=Y.call(q,L,$);break P}L=Y;break P;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=V.payload,$=typeof Y==="function"?Y.call(q,L,$):Y,$===null||$===void 0)break P;L=o0({},L,$);break P;case 2:O8=!0}}$=B.callback,$!==null&&(P.flags|=64,C&&(P.flags|=8192),C=X.callbacks,C===null?X.callbacks=[$]:C.push($))}else C={lane:$,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Z===null?(D=Z=C,f=L):Z=Z.next=C,A|=$;if(B=B.next,B===null)if(B=X.shared.pending,B===null)break;else C=B,B=C.next,C.next=null,X.lastBaseUpdate=C,X.shared.pending=null}while(1);Z===null&&(f=L),X.baseState=f,X.firstBaseUpdate=D,X.lastBaseUpdate=Z,H===null&&(X.shared.lanes=0),Xx|=A,P.lanes=A,P.memoizedState=L}}function m3(P,p){if(typeof P!=="function")throw Error(n(191,P));P.call(p)}function u3(P,p){var x=P.callbacks;if(x!==null)for(P.callbacks=null,P=0;P<x.length;P++)m3(x[P],p)}function i2(P,p){try{var x=p.updateQueue,h=x!==null?x.lastEffect:null;if(h!==null){var X=h.next;x=X;do{if((x.tag&P)===P){h=void 0;var{create:H,inst:A}=x;h=H(),A.destroy=h}x=x.next}while(x!==X)}}catch(B){g0(p,p.return,B)}}function hx(P,p,x){try{var h=p.updateQueue,X=h!==null?h.lastEffect:null;if(X!==null){var H=X.next;h=H;do{if((h.tag&P)===P){var A=h.inst,B=A.destroy;if(B!==void 0){A.destroy=void 0,X=p;var f=x;try{B()}catch(D){g0(X,f,D)}}}h=h.next}while(h!==H)}}catch(D){g0(p,p.return,D)}}function o3(P){var p=P.updateQueue;if(p!==null){var x=P.stateNode;try{u3(p,x)}catch(h){g0(P,P.return,h)}}}function a3(P,p,x){x.props=Ph(P.type,P.memoizedProps),x.state=P.memoizedState;try{x.componentWillUnmount()}catch(h){g0(P,p,h)}}function ix(P,p){try{var x=P.ref;if(x!==null){var h=P.stateNode;switch(P.tag){case 26:case 27:case 5:var X=h;break;default:X=h}typeof x==="function"?P.refCleanup=x(X):x.current=X}}catch(H){g0(P,p,H)}}function bp(P,p){var{ref:x,refCleanup:h}=P;if(x!==null)if(typeof h==="function")try{h()}catch(X){g0(P,p,X)}finally{P.refCleanup=null,P=P.alternate,P!=null&&(P.refCleanup=null)}else if(typeof x==="function")try{x(null)}catch(X){g0(P,p,X)}else x.current=null}function r3(P){var{type:p,memoizedProps:x,stateNode:h}=P;try{P:switch(p){case"button":case"input":case"select":case"textarea":x.autoFocus&&h.focus();break P;case"img":x.src?h.src=x.src:x.srcSet&&(h.srcset=x.srcSet)}}catch(X){g0(P,P.return,X)}}function UL(P,p,x){try{var h=P.stateNode;RW(h,P.type,x,p),h[xp]=p}catch(X){g0(P,P.return,X)}}function n3(P){return P.tag===5||P.tag===3||P.tag===26||P.tag===27||P.tag===4}function X4(P){P:for(;;){for(;P.sibling===null;){if(P.return===null||n3(P.return))return null;P=P.return}P.sibling.return=P.return;for(P=P.sibling;P.tag!==5&&P.tag!==6&&P.tag!==27&&P.tag!==18;){if(P.flags&2)continue P;if(P.child===null||P.tag===4)continue P;else P.child.return=P,P=P.child}if(!(P.flags&2))return P.stateNode}}function o4(P,p,x){var h=P.tag;if(h===5||h===6)P=P.stateNode,p?x.nodeType===8?x.parentNode.insertBefore(P,p):x.insertBefore(P,p):(x.nodeType===8?(p=x.parentNode,p.insertBefore(P,x)):(p=x,p.appendChild(P)),x=x._reactRootContainer,x!==null&&x!==void 0||p.onclick!==null||(p.onclick=ID));else if(h!==4&&h!==27&&(P=P.child,P!==null))for(o4(P,p,x),P=P.sibling;P!==null;)o4(P,p,x),P=P.sibling}function nB(P,p,x){var h=P.tag;if(h===5||h===6)P=P.stateNode,p?x.insertBefore(P,p):x.appendChild(P);else if(h!==4&&h!==27&&(P=P.child,P!==null))for(nB(P,p,x),P=P.sibling;P!==null;)nB(P,p,x),P=P.sibling}var a1=!1,BP=!1,H4=!1,GL=typeof WeakSet==="function"?WeakSet:Set,TP=null,SL=!1;function ZW(P,p){if(P=P.containerInfo,X6=AD,P=OC(P),q6(P)){if("selectionStart"in P)var x={start:P.selectionStart,end:P.selectionEnd};else P:{x=(x=P.ownerDocument)&&x.defaultView||window;var h=x.getSelection&&x.getSelection();if(h&&h.rangeCount!==0){x=h.anchorNode;var{anchorOffset:X,focusNode:H}=h;h=h.focusOffset;try{x.nodeType,H.nodeType}catch(V){x=null;break P}var A=0,B=-1,f=-1,D=0,Z=0,L=P,$=null;p:for(;;){for(var C;;){if(L!==x||X!==0&&L.nodeType!==3||(B=A+X),L!==H||h!==0&&L.nodeType!==3||(f=A+h),L.nodeType===3&&(A+=L.nodeValue.length),(C=L.firstChild)===null)break;$=L,L=C}for(;;){if(L===P)break p;if($===x&&++D===X&&(B=A),$===H&&++Z===h&&(f=A),(C=L.nextSibling)!==null)break;L=$,$=L.parentNode}L=C}x=B===-1||f===-1?null:{start:B,end:f}}else x=null}x=x||{start:0,end:0}}else x=null;H6={focusedElem:P,selectionRange:x},AD=!1;for(TP=p;TP!==null;)if(p=TP,P=p.child,(p.subtreeFlags&1028)!==0&&P!==null)P.return=p,TP=P;else for(;TP!==null;){switch(p=TP,H=p.alternate,P=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((P&1024)!==0&&H!==null){P=void 0,x=p,X=H.memoizedProps,H=H.memoizedState,h=x.stateNode;try{var Y=Ph(x.type,X,x.elementType===x.type);P=h.getSnapshotBeforeUpdate(Y,H),h.__reactInternalSnapshotBeforeUpdate=P}catch(V){g0(x,x.return,V)}}break;case 3:if((P&1024)!==0){if(P=p.stateNode.containerInfo,x=P.nodeType,x===9)B6(P);else if(x===1)switch(P.nodeName){case"HEAD":case"HTML":case"BODY":B6(P);break;default:P.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((P&1024)!==0)throw Error(n(163))}if(P=p.sibling,P!==null){P.return=p.return,TP=P;break}TP=p.return}return Y=SL,SL=!1,Y}function s3(P,p,x){var h=x.flags;switch(x.tag){case 0:case 11:case 15:u1(P,x),h&4&&i2(5,x);break;case 1:if(u1(P,x),h&4)if(P=x.stateNode,p===null)try{P.componentDidMount()}catch(B){g0(x,x.return,B)}else{var X=Ph(x.type,p.memoizedProps);p=p.memoizedState;try{P.componentDidUpdate(X,p,P.__reactInternalSnapshotBeforeUpdate)}catch(B){g0(x,x.return,B)}}h&64&&o3(x),h&512&&ix(x,x.return);break;case 3:if(u1(P,x),h&64&&(h=x.updateQueue,h!==null)){if(P=null,x.child!==null)switch(x.child.tag){case 27:case 5:P=x.child.stateNode;break;case 1:P=x.child.stateNode}try{u3(h,P)}catch(B){g0(x,x.return,B)}}break;case 26:u1(P,x),h&512&&ix(x,x.return);break;case 27:case 5:u1(P,x),p===null&&h&4&&r3(x),h&512&&ix(x,x.return);break;case 12:u1(P,x);break;case 13:u1(P,x),h&4&&PF(P,x);break;case 22:if(X=x.memoizedState!==null||a1,!X){p=p!==null&&p.memoizedState!==null||BP;var H=a1,A=BP;a1=X,(BP=p)&&!A?l8(P,x,(x.subtreeFlags&8772)!==0):u1(P,x),a1=H,BP=A}h&512&&(x.memoizedProps.mode==="manual"?ix(x,x.return):bp(x,x.return));break;default:u1(P,x)}}function t3(P){var p=P.alternate;p!==null&&(P.alternate=null,t3(p)),P.child=null,P.deletions=null,P.sibling=null,P.tag===5&&(p=P.stateNode,p!==null&&F6(p)),P.stateNode=null,P.return=null,P.dependencies=null,P.memoizedProps=null,P.memoizedState=null,P.pendingProps=null,P.stateNode=null,P.updateQueue=null}var MP=null,Cp=!1;function m1(P,p,x){for(x=x.child;x!==null;)e3(P,p,x),x=x.sibling}function e3(P,p,x){if(Mp&&typeof Mp.onCommitFiberUnmount==="function")try{Mp.onCommitFiberUnmount(G2,x)}catch(A){}switch(x.tag){case 26:BP||bp(x,p),m1(P,p,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:BP||bp(x,p);var h=MP,X=Cp;MP=x.stateNode,m1(P,p,x),x=x.stateNode;for(p=x.attributes;p.length;)x.removeAttributeNode(p[0]);F6(x),MP=h,Cp=X;break;case 5:BP||bp(x,p);case 6:X=MP;var H=Cp;if(MP=null,m1(P,p,x),MP=X,Cp=H,MP!==null)if(Cp)try{P=MP,h=x.stateNode,P.nodeType===8?P.parentNode.removeChild(h):P.removeChild(h)}catch(A){g0(x,p,A)}else try{MP.removeChild(x.stateNode)}catch(A){g0(x,p,A)}break;case 18:MP!==null&&(Cp?(p=MP,x=x.stateNode,p.nodeType===8?b4(p.parentNode,x):p.nodeType===1&&b4(p,x),U2(p)):b4(MP,x.stateNode));break;case 4:h=MP,X=Cp,MP=x.stateNode.containerInfo,Cp=!0,m1(P,p,x),MP=h,Cp=X;break;case 0:case 11:case 14:case 15:BP||hx(2,x,p),BP||hx(4,x,p),m1(P,p,x);break;case 1:BP||(bp(x,p),h=x.stateNode,typeof h.componentWillUnmount==="function"&&a3(x,p,h)),m1(P,p,x);break;case 21:m1(P,p,x);break;case 22:BP||bp(x,p),BP=(h=BP)||x.memoizedState!==null,m1(P,p,x),BP=h;break;default:m1(P,p,x)}}function PF(P,p){if(p.memoizedState===null&&(P=p.alternate,P!==null&&(P=P.memoizedState,P!==null&&(P=P.dehydrated,P!==null))))try{U2(P)}catch(x){g0(p,p.return,x)}}function $W(P){switch(P.tag){case 13:case 19:var p=P.stateNode;return p===null&&(p=P.stateNode=new GL),p;case 22:return P=P.stateNode,p=P._retryCache,p===null&&(p=P._retryCache=new GL),p;default:throw Error(n(435,P.tag))}}function A4(P,p){var x=$W(P);p.forEach(function(h){var X=wW.bind(null,P,h);x.has(h)||(x.add(h),h.then(X,X))})}function dp(P,p){var x=p.deletions;if(x!==null)for(var h=0;h<x.length;h++){var X=x[h],H=P,A=p,B=A;P:for(;B!==null;){switch(B.tag){case 27:case 5:MP=B.stateNode,Cp=!1;break P;case 3:MP=B.stateNode.containerInfo,Cp=!0;break P;case 4:MP=B.stateNode.containerInfo,Cp=!0;break P}B=B.return}if(MP===null)throw Error(n(160));e3(H,A,X),MP=null,Cp=!1,H=X.alternate,H!==null&&(H.return=null),X.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)pF(p,P),p=p.sibling}var sp=null;function pF(P,p){var{alternate:x,flags:h}=P;switch(P.tag){case 0:case 11:case 14:case 15:dp(p,P),Kp(P),h&4&&(hx(3,P,P.return),i2(3,P),hx(5,P,P.return));break;case 1:dp(p,P),Kp(P),h&512&&(BP||x===null||bp(x,x.return)),h&64&&a1&&(P=P.updateQueue,P!==null&&(h=P.callbacks,h!==null&&(x=P.shared.hiddenCallbacks,P.shared.hiddenCallbacks=x===null?h:x.concat(h))));break;case 26:var X=sp;if(dp(p,P),Kp(P),h&512&&(BP||x===null||bp(x,x.return)),h&4){var H=x!==null?x.memoizedState:null;if(h=P.memoizedState,x===null)if(h===null)if(P.stateNode===null){P:{h=P.type,x=P.memoizedProps,X=X.ownerDocument||X;p:switch(h){case"title":if(H=X.getElementsByTagName("title")[0],!H||H[E2]||H[gP]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))H=X.createElement(h),X.head.insertBefore(H,X.querySelector("head > title"));UP(H,h,x),H[gP]=P,jP(H),h=H;break P;case"link":var A=PC("link","href",X).get(h+(x.href||""));if(A){for(var B=0;B<A.length;B++)if(H=A[B],H.getAttribute("href")===(x.href==null?null:x.href)&&H.getAttribute("rel")===(x.rel==null?null:x.rel)&&H.getAttribute("title")===(x.title==null?null:x.title)&&H.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){A.splice(B,1);break p}}H=X.createElement(h),UP(H,h,x),X.head.appendChild(H);break;case"meta":if(A=PC("meta","content",X).get(h+(x.content||""))){for(B=0;B<A.length;B++)if(H=A[B],H.getAttribute("content")===(x.content==null?null:""+x.content)&&H.getAttribute("name")===(x.name==null?null:x.name)&&H.getAttribute("property")===(x.property==null?null:x.property)&&H.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&H.getAttribute("charset")===(x.charSet==null?null:x.charSet)){A.splice(B,1);break p}}H=X.createElement(h),UP(H,h,x),X.head.appendChild(H);break;default:throw Error(n(468,h))}H[gP]=P,jP(H),h=H}P.stateNode=h}else pC(X,P.type,P.stateNode);else P.stateNode=eL(X,h,P.memoizedProps);else H!==h?(H===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):H.count--,h===null?pC(X,P.type,P.stateNode):eL(X,h,P.memoizedProps)):h===null&&P.stateNode!==null&&UL(P,P.memoizedProps,x.memoizedProps)}break;case 27:if(h&4&&P.alternate===null){X=P.stateNode,H=P.memoizedProps;try{for(var f=X.firstChild;f;){var{nextSibling:D,nodeName:Z}=f;f[E2]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&f.rel.toLowerCase()==="stylesheet"||X.removeChild(f),f=D}for(var L=P.type,$=X.attributes;$.length;)X.removeAttributeNode($[0]);UP(X,L,H),X[gP]=P,X[xp]=H}catch(Y){g0(P,P.return,Y)}}case 5:if(dp(p,P),Kp(P),h&512&&(BP||x===null||bp(x,x.return)),P.flags&32){X=P.stateNode;try{qX(X,"")}catch(Y){g0(P,P.return,Y)}}h&4&&P.stateNode!=null&&(X=P.memoizedProps,UL(P,X,x!==null?x.memoizedProps:X)),h&1024&&(H4=!0);break;case 6:if(dp(p,P),Kp(P),h&4){if(P.stateNode===null)throw Error(n(162));h=P.memoizedProps,x=P.stateNode;try{x.nodeValue=h}catch(Y){g0(P,P.return,Y)}}break;case 3:if(RB=null,X=sp,sp=hD(p.containerInfo),dp(p,P),sp=X,Kp(P),h&4&&x!==null&&x.memoizedState.isDehydrated)try{U2(p.containerInfo)}catch(Y){g0(P,P.return,Y)}H4&&(H4=!1,xF(P));break;case 4:h=sp,sp=hD(P.stateNode.containerInfo),dp(p,P),Kp(P),sp=h;break;case 12:dp(p,P),Kp(P);break;case 13:dp(p,P),Kp(P),P.child.flags&8192&&P.memoizedState!==null!==(x!==null&&x.memoizedState!==null)&&(o6=z1()),h&4&&(h=P.updateQueue,h!==null&&(P.updateQueue=null,A4(P,h)));break;case 22:if(h&512&&(BP||x===null||bp(x,x.return)),f=P.memoizedState!==null,D=x!==null&&x.memoizedState!==null,Z=a1,L=BP,a1=Z||f,BP=L||D,dp(p,P),BP=L,a1=Z,Kp(P),p=P.stateNode,p._current=P,p._visibility&=-3,p._visibility|=p._pendingVisibility&2,h&8192&&(p._visibility=f?p._visibility&-2:p._visibility|1,f&&(p=a1||BP,x===null||D||p||rh(P)),P.memoizedProps===null||P.memoizedProps.mode!=="manual"))P:for(x=null,p=P;;){if(p.tag===5||p.tag===26||p.tag===27){if(x===null){D=x=p;try{if(X=D.stateNode,f)H=X.style,typeof H.setProperty==="function"?H.setProperty("display","none","important"):H.display="none";else{A=D.stateNode,B=D.memoizedProps.style;var C=B!==void 0&&B!==null&&B.hasOwnProperty("display")?B.display:null;A.style.display=C==null||typeof C==="boolean"?"":(""+C).trim()}}catch(Y){g0(D,D.return,Y)}}}else if(p.tag===6){if(x===null){D=p;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(Y){g0(D,D.return,Y)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===P)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===P)break P;for(;p.sibling===null;){if(p.return===null||p.return===P)break P;x===p&&(x=null),p=p.return}x===p&&(x=null),p.sibling.return=p.return,p=p.sibling}h&4&&(h=P.updateQueue,h!==null&&(x=h.retryQueue,x!==null&&(h.retryQueue=null,A4(P,x))));break;case 19:dp(p,P),Kp(P),h&4&&(h=P.updateQueue,h!==null&&(P.updateQueue=null,A4(P,h)));break;case 21:break;default:dp(p,P),Kp(P)}}function Kp(P){var p=P.flags;if(p&2){try{if(P.tag!==27){P:{for(var x=P.return;x!==null;){if(n3(x)){var h=x;break P}x=x.return}throw Error(n(160))}switch(h.tag){case 27:var X=h.stateNode,H=X4(P);nB(P,H,X);break;case 5:var A=h.stateNode;h.flags&32&&(qX(A,""),h.flags&=-33);var B=X4(P);nB(P,B,A);break;case 3:case 4:var f=h.stateNode.containerInfo,D=X4(P);o4(P,D,f);break;default:throw Error(n(161))}}}catch(Z){g0(P,P.return,Z)}P.flags&=-3}p&4096&&(P.flags&=-4097)}function xF(P){if(P.subtreeFlags&1024)for(P=P.child;P!==null;){var p=P;xF(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),P=P.sibling}}function u1(P,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)s3(P,p.alternate,p),p=p.sibling}function rh(P){for(P=P.child;P!==null;){var p=P;switch(p.tag){case 0:case 11:case 14:case 15:hx(4,p,p.return),rh(p);break;case 1:bp(p,p.return);var x=p.stateNode;typeof x.componentWillUnmount==="function"&&a3(p,p.return,x),rh(p);break;case 26:case 27:case 5:bp(p,p.return),rh(p);break;case 22:bp(p,p.return),p.memoizedState===null&&rh(p);break;default:rh(p)}P=P.sibling}}function l8(P,p,x){x=x&&(p.subtreeFlags&8772)!==0;for(p=p.child;p!==null;){var h=p.alternate,X=P,H=p,A=H.flags;switch(H.tag){case 0:case 11:case 15:l8(X,H,x),i2(4,H);break;case 1:if(l8(X,H,x),h=H,X=h.stateNode,typeof X.componentDidMount==="function")try{X.componentDidMount()}catch(D){g0(h,h.return,D)}if(h=H,X=h.updateQueue,X!==null){var B=h.stateNode;try{var f=X.shared.hiddenCallbacks;if(f!==null)for(X.shared.hiddenCallbacks=null,X=0;X<f.length;X++)m3(f[X],B)}catch(D){g0(h,h.return,D)}}x&&A&64&&o3(H),ix(H,H.return);break;case 26:case 27:case 5:l8(X,H,x),x&&h===null&&A&4&&r3(H),ix(H,H.return);break;case 12:l8(X,H,x);break;case 13:l8(X,H,x),x&&A&4&&PF(X,H);break;case 22:H.memoizedState===null&&l8(X,H,x),ix(H,H.return);break;default:l8(X,H,x)}p=p.sibling}}function y6(P,p){var x=null;P!==null&&P.memoizedState!==null&&P.memoizedState.cachePool!==null&&(x=P.memoizedState.cachePool.pool),P=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(P=p.memoizedState.cachePool.pool),P!==x&&(P!=null&&P.refCount++,x!=null&&g2(x))}function _6(P,p){P=null,p.alternate!==null&&(P=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==P&&(p.refCount++,P!=null&&g2(P))}function S8(P,p,x,h){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)hF(P,p,x,h),p=p.sibling}function hF(P,p,x,h){var X=p.flags;switch(p.tag){case 0:case 11:case 15:S8(P,p,x,h),X&2048&&i2(9,p);break;case 3:S8(P,p,x,h),X&2048&&(P=null,p.alternate!==null&&(P=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==P&&(p.refCount++,P!=null&&g2(P)));break;case 12:if(X&2048){S8(P,p,x,h),P=p.stateNode;try{var H=p.memoizedProps,A=H.id,B=H.onPostCommit;typeof B==="function"&&B(A,p.alternate===null?"mount":"update",P.passiveEffectDuration,-0)}catch(f){g0(p,p.return,f)}}else S8(P,p,x,h);break;case 23:break;case 22:H=p.stateNode,p.memoizedState!==null?H._visibility&4?S8(P,p,x,h):Y2(P,p):H._visibility&4?S8(P,p,x,h):(H._visibility|=4,nh(P,p,x,h,(p.subtreeFlags&10256)!==0)),X&2048&&y6(p.alternate,p);break;case 24:S8(P,p,x,h),X&2048&&_6(p.alternate,p);break;default:S8(P,p,x,h)}}function nh(P,p,x,h,X){X=X&&(p.subtreeFlags&10256)!==0;for(p=p.child;p!==null;){var H=P,A=p,B=x,f=h,D=A.flags;switch(A.tag){case 0:case 11:case 15:nh(H,A,B,f,X),i2(8,A);break;case 23:break;case 22:var Z=A.stateNode;A.memoizedState!==null?Z._visibility&4?nh(H,A,B,f,X):Y2(H,A):(Z._visibility|=4,nh(H,A,B,f,X)),X&&D&2048&&y6(A.alternate,A);break;case 24:nh(H,A,B,f,X),X&&D&2048&&_6(A.alternate,A);break;default:nh(H,A,B,f,X)}p=p.sibling}}function Y2(P,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var x=P,h=p,X=h.flags;switch(h.tag){case 22:Y2(x,h),X&2048&&y6(h.alternate,h);break;case 24:Y2(x,h),X&2048&&_6(h.alternate,h);break;default:Y2(x,h)}p=p.sibling}}var h2=8192;function oh(P){if(P.subtreeFlags&h2)for(P=P.child;P!==null;)XF(P),P=P.sibling}function XF(P){switch(P.tag){case 26:oh(P),P.flags&h2&&P.memoizedState!==null&&sW(sp,P.memoizedState,P.memoizedProps);break;case 5:oh(P);break;case 3:case 4:var p=sp;sp=hD(P.stateNode.containerInfo),oh(P),sp=p;break;case 22:P.memoizedState===null&&(p=P.alternate,p!==null&&p.memoizedState!==null?(p=h2,h2=16777216,oh(P),h2=p):oh(P));break;default:oh(P)}}function HF(P){var p=P.alternate;if(p!==null&&(P=p.child,P!==null)){p.child=null;do p=P.sibling,P.sibling=null,P=p;while(P!==null)}}function aH(P){var p=P.deletions;if((P.flags&16)!==0){if(p!==null)for(var x=0;x<p.length;x++){var h=p[x];TP=h,BF(h,P)}HF(P)}if(P.subtreeFlags&10256)for(P=P.child;P!==null;)AF(P),P=P.sibling}function AF(P){switch(P.tag){case 0:case 11:case 15:aH(P),P.flags&2048&&hx(9,P,P.return);break;case 3:aH(P);break;case 12:aH(P);break;case 22:var p=P.stateNode;P.memoizedState!==null&&p._visibility&4&&(P.return===null||P.return.tag!==13)?(p._visibility&=-5,JB(P)):aH(P);break;default:aH(P)}}function JB(P){var p=P.deletions;if((P.flags&16)!==0){if(p!==null)for(var x=0;x<p.length;x++){var h=p[x];TP=h,BF(h,P)}HF(P)}for(P=P.child;P!==null;){switch(p=P,p.tag){case 0:case 11:case 15:hx(8,p,p.return),JB(p);break;case 22:x=p.stateNode,x._visibility&4&&(x._visibility&=-5,JB(p));break;default:JB(p)}P=P.sibling}}function BF(P,p){for(;TP!==null;){var x=TP;switch(x.tag){case 0:case 11:case 15:hx(8,x,p);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var h=x.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:g2(x.memoizedState.cache)}if(h=x.child,h!==null)h.return=x,TP=h;else P:for(x=P;TP!==null;){h=TP;var{sibling:X,return:H}=h;if(t3(h),h===x){TP=null;break P}if(X!==null){X.return=H,TP=X;break P}TP=H}}}function LW(P,p,x,h){this.tag=P,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lp(P,p,x,h){return new LW(P,p,x,h)}function i6(P){return P=P.prototype,!(!P||!P.isReactComponent)}function n8(P,p){var x=P.alternate;return x===null?(x=lp(P.tag,p,P.key,P.mode),x.elementType=P.elementType,x.type=P.type,x.stateNode=P.stateNode,x.alternate=P,P.alternate=x):(x.pendingProps=p,x.type=P.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=P.flags&31457280,x.childLanes=P.childLanes,x.lanes=P.lanes,x.child=P.child,x.memoizedProps=P.memoizedProps,x.memoizedState=P.memoizedState,x.updateQueue=P.updateQueue,p=P.dependencies,x.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},x.sibling=P.sibling,x.index=P.index,x.ref=P.ref,x.refCleanup=P.refCleanup,x}function DF(P,p){P.flags&=31457282;var x=P.alternate;return x===null?(P.childLanes=0,P.lanes=p,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=x.childLanes,P.lanes=x.lanes,P.child=x.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=x.memoizedProps,P.memoizedState=x.memoizedState,P.updateQueue=x.updateQueue,P.type=x.type,p=x.dependencies,P.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),P}function dB(P,p,x,h,X,H){var A=0;if(h=P,typeof P==="function")i6(P)&&(A=1);else if(typeof P==="string")A=rW(P,x,E1.current)?26:P==="html"||P==="head"||P==="body"?27:5;else P:switch(P){case eh:return ax(x.children,X,H,p);case fC:A=8,X|=24;break;case M4:return P=lp(12,x,p,X|2),P.elementType=M4,P.lanes=H,P;case Y4:return P=lp(13,x,p,X),P.elementType=Y4,P.lanes=H,P;case Q4:return P=lp(19,x,p,X),P.elementType=Q4,P.lanes=H,P;case $C:return fF(x,X,H,p);default:if(typeof P==="object"&&P!==null)switch(P.$$typeof){case Sw:case s1:A=10;break P;case ZC:A=9;break P;case $6:A=11;break P;case L6:A=14;break P;case N8:A=16,h=null;break P}A=29,x=Error(n(130,P===null?"null":typeof P,"")),h=null}return p=lp(A,x,p,X),p.elementType=P,p.type=h,p.lanes=H,p}function ax(P,p,x,h){return P=lp(7,P,h,p),P.lanes=x,P}function fF(P,p,x,h){P=lp(22,P,h,p),P.elementType=$C,P.lanes=x;var X={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var H=X._current;if(H===null)throw Error(n(456));if((X._pendingVisibility&2)===0){var A=px(H,2);A!==null&&(X._pendingVisibility|=2,oP(A,H,2))}},attach:function(){var H=X._current;if(H===null)throw Error(n(456));if((X._pendingVisibility&2)!==0){var A=px(H,2);A!==null&&(X._pendingVisibility&=-3,oP(A,H,2))}}};return P.stateNode=X,P}function B4(P,p,x){return P=lp(6,P,null,p),P.lanes=x,P}function D4(P,p,x){return p=lp(4,P.children!==null?P.children:[],P.key,p),p.lanes=x,p.stateNode={containerInfo:P.containerInfo,pendingChildren:null,implementation:P.implementation},p}function o1(P){P.flags|=4}function lL(P,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)P.flags&=-16777217;else if(P.flags|=16777216,!dF(p)){if(p=Op.current,p!==null&&((d0&4194176)===d0?w1!==null:(d0&62914560)!==d0&&(d0&536870912)===0||p!==w1))throw Z2=K4,rC;P.flags|=8192}}function MB(P,p){p!==null&&(P.flags|=4),P.flags&16384&&(p=P.tag!==22?QC():536870912,P.lanes|=p,wX|=p)}function rH(P,p){if(!R0)switch(P.tailMode){case"hidden":p=P.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?P.tail=null:x.sibling=null;break;case"collapsed":x=P.tail;for(var h=null;x!==null;)x.alternate!==null&&(h=x),x=x.sibling;h===null?p||P.tail===null?P.tail=null:P.tail.sibling=null:h.sibling=null}}function PP(P){var p=P.alternate!==null&&P.alternate.child===P.child,x=0,h=0;if(p)for(var X=P.child;X!==null;)x|=X.lanes|X.childLanes,h|=X.subtreeFlags&31457280,h|=X.flags&31457280,X.return=P,X=X.sibling;else for(X=P.child;X!==null;)x|=X.lanes|X.childLanes,h|=X.subtreeFlags,h|=X.flags,X.return=P,X=X.sibling;return P.subtreeFlags|=h,P.childLanes=x,p}function CW(P,p,x){var h=p.pendingProps;switch(w6(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return PP(p),null;case 1:return PP(p),null;case 3:if(x=p.stateNode,h=null,P!==null&&(h=P.memoizedState.cache),p.memoizedState.cache!==h&&(p.flags|=2048),x8(EP),QX(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),P===null||P.child===null)uH(p)?o1(p):P===null||P.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,tp!==null&&(t4(tp),tp=null));return PP(p),null;case 26:return x=p.memoizedState,P===null?(o1(p),x!==null?(PP(p),lL(p,x)):(PP(p),p.flags&=-16777217)):x?x!==P.memoizedState?(o1(p),PP(p),lL(p,x)):(PP(p),p.flags&=-16777217):(P.memoizedProps!==h&&o1(p),PP(p),p.flags&=-16777217),null;case 27:GB(p),x=o8.current;var X=p.type;if(P!==null&&p.stateNode!=null)P.memoizedProps!==h&&o1(p);else{if(!h){if(p.stateNode===null)throw Error(n(166));return PP(p),null}P=E1.current,uH(p)?FL(p,P):(P=TF(X,h,x),p.stateNode=P,o1(p))}return PP(p),null;case 5:if(GB(p),x=p.type,P!==null&&p.stateNode!=null)P.memoizedProps!==h&&o1(p);else{if(!h){if(p.stateNode===null)throw Error(n(166));return PP(p),null}if(P=E1.current,uH(p))FL(p,P);else{switch(X=xD(o8.current),P){case 1:P=X.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:P=X.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":P=X.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":P=X.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":P=X.createElement("div"),P.innerHTML="<script></script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof h.is==="string"?X.createElement("select",{is:h.is}):X.createElement("select"),h.multiple?P.multiple=!0:h.size&&(P.size=h.size);break;default:P=typeof h.is==="string"?X.createElement(x,{is:h.is}):X.createElement(x)}}P[gP]=p,P[xp]=h;P:for(X=p.child;X!==null;){if(X.tag===5||X.tag===6)P.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===p)break P;for(;X.sibling===null;){if(X.return===null||X.return===p)break P;X=X.return}X.sibling.return=X.return,X=X.sibling}p.stateNode=P;P:switch(UP(P,x,h),x){case"button":case"input":case"select":case"textarea":P=!!h.autoFocus;break P;case"img":P=!0;break P;default:P=!1}P&&o1(p)}}return PP(p),p.flags&=-16777217,null;case 6:if(P&&p.stateNode!=null)P.memoizedProps!==h&&o1(p);else{if(typeof h!=="string"&&p.stateNode===null)throw Error(n(166));if(P=o8.current,uH(p)){if(P=p.stateNode,x=p.memoizedProps,h=null,X=uP,X!==null)switch(X.tag){case 27:case 5:h=X.memoizedProps}P[gP]=p,P=P.nodeValue===x||h!==null&&h.suppressHydrationWarning===!0||wF(P.nodeValue,x)?!0:!1,P||sx(p)}else P=xD(P).createTextNode(h),P[gP]=p,p.stateNode=P}return PP(p),null;case 13:if(h=p.memoizedState,P===null||P.memoizedState!==null&&P.memoizedState.dehydrated!==null){if(X=uH(p),h!==null&&h.dehydrated!==null){if(P===null){if(!X)throw Error(n(318));if(X=p.memoizedState,X=X!==null?X.dehydrated:null,!X)throw Error(n(317));X[gP]=p}else O2(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;PP(p),X=!1}else tp!==null&&(t4(tp),tp=null),X=!0;if(!X){if(p.flags&256)return P8(p),p;return P8(p),null}}if(P8(p),(p.flags&128)!==0)return p.lanes=x,p;if(x=h!==null,P=P!==null&&P.memoizedState!==null,x){h=p.child,X=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(X=h.alternate.memoizedState.cachePool.pool);var H=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(H=h.memoizedState.cachePool.pool),H!==X&&(h.flags|=2048)}return x!==P&&x&&(p.child.flags|=8192),MB(p,p.updateQueue),PP(p),null;case 4:return QX(),P===null&&n6(p.stateNode.containerInfo),PP(p),null;case 10:return x8(p.type),PP(p),null;case 19:if(dP(zP),X=p.memoizedState,X===null)return PP(p),null;if(h=(p.flags&128)!==0,H=X.rendering,H===null)if(h)rH(X,!1);else{if(DP!==0||P!==null&&(P.flags&128)!==0)for(P=p.child;P!==null;){if(H=iB(P),H!==null){p.flags|=128,rH(X,!1),P=H.updateQueue,p.updateQueue=P,MB(p,P),p.subtreeFlags=0,P=x;for(x=p.child;x!==null;)DF(x,P),x=x.sibling;return r0(zP,zP.current&1|2),p.child}P=P.sibling}X.tail!==null&&z1()>sB&&(p.flags|=128,h=!0,rH(X,!1),p.lanes=4194304)}else{if(!h)if(P=iB(H),P!==null){if(p.flags|=128,h=!0,P=P.updateQueue,p.updateQueue=P,MB(p,P),rH(X,!0),X.tail===null&&X.tailMode==="hidden"&&!H.alternate&&!R0)return PP(p),null}else 2*z1()-X.renderingStartTime>sB&&x!==536870912&&(p.flags|=128,h=!0,rH(X,!1),p.lanes=4194304);X.isBackwards?(H.sibling=p.child,p.child=H):(P=X.last,P!==null?P.sibling=H:p.child=H,X.last=H)}if(X.tail!==null)return p=X.tail,X.rendering=p,X.tail=p.sibling,X.renderingStartTime=z1(),p.sibling=null,P=zP.current,r0(zP,h?P&1|2:P&1),p;return PP(p),null;case 22:case 23:return P8(p),k6(),h=p.memoizedState!==null,P!==null?P.memoizedState!==null!==h&&(p.flags|=8192):h&&(p.flags|=8192),h?(x&536870912)!==0&&(p.flags&128)===0&&(PP(p),p.subtreeFlags&6&&(p.flags|=8192)):PP(p),x=p.updateQueue,x!==null&&MB(p,x.retryQueue),x=null,P!==null&&P.memoizedState!==null&&P.memoizedState.cachePool!==null&&(x=P.memoizedState.cachePool.pool),h=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(h=p.memoizedState.cachePool.pool),h!==x&&(p.flags|=2048),P!==null&&dP(ox),null;case 24:return x=null,P!==null&&(x=P.memoizedState.cache),p.memoizedState.cache!==x&&(p.flags|=2048),x8(EP),PP(p),null;case 25:return null}throw Error(n(156,p.tag))}function FW(P,p){switch(w6(p),p.tag){case 1:return P=p.flags,P&65536?(p.flags=P&-65537|128,p):null;case 3:return x8(EP),QX(),P=p.flags,(P&65536)!==0&&(P&128)===0?(p.flags=P&-65537|128,p):null;case 26:case 27:case 5:return GB(p),null;case 13:if(P8(p),P=p.memoizedState,P!==null&&P.dehydrated!==null){if(p.alternate===null)throw Error(n(340));O2()}return P=p.flags,P&65536?(p.flags=P&-65537|128,p):null;case 19:return dP(zP),null;case 4:return QX(),null;case 10:return x8(p.type),null;case 22:case 23:return P8(p),k6(),P!==null&&dP(ox),P=p.flags,P&65536?(p.flags=P&-65537|128,p):null;case 24:return x8(EP),null;case 25:return null;default:return null}}function ZF(P,p){switch(w6(p),p.tag){case 3:x8(EP),QX();break;case 26:case 27:case 5:GB(p);break;case 4:QX();break;case 13:P8(p);break;case 19:dP(zP);break;case 10:x8(p.type);break;case 22:case 23:P8(p),k6(),P!==null&&dP(ox);break;case 24:x8(EP)}}var bW={getCacheForType:function(P){var p=yP(EP),x=p.data.get(P);return x===void 0&&(x=P(),p.data.set(P,x)),x}},MW=typeof WeakMap==="function"?WeakMap:Map,pP=0,i0=null,T0=null,d0=0,_0=0,Fp=null,r1=!1,dX=!1,m6=!1,A8=0,DP=0,Xx=0,rx=0,u6=0,Np=0,wX=0,Q2=null,I1=null,a4=!1,o6=0,sB=1/0,tB=null,s8=null,YB=!1,yx=null,V2=0,r4=0,n4=null,q2=0,s4=null;function Qp(){if((pP&2)!==0&&d0!==0)return d0&-d0;if(E0.T!==null){var P=EX;return P!==0?P:r6()}return EC()}function $F(){Np===0&&(Np=(d0&536870912)===0||R0?YC():536870912);var P=Op.current;return P!==null&&(P.flags|=32),Np}function oP(P,p,x){if(P===i0&&_0===2||P.cancelPendingCommit!==null)kX(P,0),n1(P,d0,Np,!1);if(l2(P,x),(pP&2)===0||P!==i0)P===i0&&((pP&2)===0&&(rx|=x),DP===4&&n1(P,d0,Np,!1)),T1(P)}function LF(P,p,x){if((pP&6)!==0)throw Error(n(327));var h=!x&&(p&60)===0&&(p&P.expiredLanes)===0||S2(P,p),X=h?VW(P,p):f4(P,p,!0),H=h;do{if(X===0){dX&&!h&&n1(P,p,0,!1);break}else if(X===6)n1(P,p,0,!r1);else{if(x=P.current.alternate,H&&!YW(x)){X=f4(P,p,!1),H=!1;continue}if(X===2){if(H=p,P.errorRecoveryDisabledLanes&H)var A=0;else A=P.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){p=A;P:{var B=P;X=Q2;var f=B.current.memoizedState.isDehydrated;if(f&&(kX(B,A).flags|=256),A=f4(B,A,!1),A!==2){if(m6&&!f){B.errorRecoveryDisabledLanes|=H,rx|=H,X=4;break P}H=I1,I1=X,H!==null&&t4(H)}X=A}if(H=!1,X!==2)continue}}if(X===1){kX(P,0),n1(P,p,0,!0);break}P:{switch(h=P,X){case 0:case 1:throw Error(n(345));case 4:if((p&4194176)===p){n1(h,p,Np,!r1);break P}break;case 2:I1=null;break;case 3:case 5:break;default:throw Error(n(329))}if(h.finishedWork=x,h.finishedLanes=p,(p&62914560)===p&&(H=o6+300-z1(),10<H)){if(n1(h,p,Np,!r1),fD(h,0)!==0)break P;h.timeoutHandle=WF(NL.bind(null,h,x,I1,tB,a4,p,Np,rx,wX,r1,2,-0,0),H);break P}NL(h,x,I1,tB,a4,p,Np,rx,wX,r1,0,-0,0)}}break}while(1);T1(P)}function t4(P){I1===null?I1=P:I1.push.apply(I1,P)}function NL(P,p,x,h,X,H,A,B,f,D,Z,L,$){var C=p.subtreeFlags;if(C&8192||(C&16785408)===16785408){if(K2={stylesheets:null,count:0,unsuspend:nW},XF(p),p=tW(),p!==null){P.cancelPendingCommit=p(gL.bind(null,P,x,h,X,A,B,f,1,L,$)),n1(P,H,A,!D);return}}gL(P,x,h,X,A,B,f,Z,L,$)}function YW(P){for(var p=P;;){var x=p.tag;if((x===0||x===11||x===15)&&p.flags&16384&&(x=p.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var h=0;h<x.length;h++){var X=x[h],H=X.getSnapshot;X=X.value;try{if(!Vp(H(),X))return!1}catch(A){return!1}}if(x=p.child,p.subtreeFlags&16384&&x!==null)x.return=p,p=x;else{if(p===P)break;for(;p.sibling===null;){if(p.return===null||p.return===P)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function n1(P,p,x,h){p&=~u6,p&=~rx,P.suspendedLanes|=p,P.pingedLanes&=~p,h&&(P.warmLanes|=p),h=P.expirationTimes;for(var X=p;0<X;){var H=31-Yp(X),A=1<<H;h[H]=-1,X&=~A}x!==0&&VC(P,x,p)}function VD(){return(pP&6)===0?(m2(0,!1),!1):!0}function a6(){if(T0!==null){if(_0===0)var P=T0.return;else P=T0,p8=Bh=null,R6(P),CX=null,T2=0,P=T0;for(;P!==null;)ZF(P.alternate,P),P=P.return;T0=null}}function kX(P,p){P.finishedWork=null,P.finishedLanes=0;var x=P.timeoutHandle;x!==-1&&(P.timeoutHandle=-1,vW(x)),x=P.cancelPendingCommit,x!==null&&(P.cancelPendingCommit=null,x()),a6(),i0=P,T0=x=n8(P.current,null),d0=p,_0=0,Fp=null,r1=!1,dX=S2(P,p),m6=!1,wX=Np=u6=rx=Xx=DP=0,I1=Q2=null,a4=!1,(p&8)!==0&&(p|=p&32);var h=P.entangledLanes;if(h!==0)for(P=P.entanglements,h&=p;0<h;){var X=31-Yp(h),H=1<<X;p|=P[X],h&=~H}return A8=p,CD(),x}function CF(P,p){k0=null,E0.H=k1,p===f2?(p=YL(),_0=3):p===rC?(p=YL(),_0=4):_0=p===l3?8:p!==null&&typeof p==="object"&&typeof p.then==="function"?6:1,Fp=p,T0===null&&(DP=1,aB(P,Sp(p,P.current)))}function FF(){var P=E0.H;return E0.H=k1,P===null?k1:P}function bF(){var P=E0.A;return E0.A=bW,P}function e4(){DP=4,r1||(d0&4194176)!==d0&&Op.current!==null||(dX=!0),(Xx&134217727)===0&&(rx&134217727)===0||i0===null||n1(i0,d0,Np,!1)}function f4(P,p,x){var h=pP;pP|=2;var X=FF(),H=bF();if(i0!==P||d0!==p)tB=null,kX(P,p);p=!1;var A=DP;P:do try{if(_0!==0&&T0!==null){var B=T0,f=Fp;switch(_0){case 8:a6(),A=6;break P;case 3:case 2:case 6:Op.current===null&&(p=!0);var D=_0;if(_0=0,Fp=null,fX(P,B,f,D),x&&dX){A=0;break P}break;default:D=_0,_0=0,Fp=null,fX(P,B,f,D)}}QW(),A=DP;break}catch(Z){CF(P,Z)}while(1);return p&&P.shellSuspendCounter++,p8=Bh=null,pP=h,E0.H=X,E0.A=H,T0===null&&(i0=null,d0=0,CD()),A}function QW(){for(;T0!==null;)MF(T0)}function VW(P,p){var x=pP;pP|=2;var h=FF(),X=bF();i0!==P||d0!==p?(tB=null,sB=z1()+500,kX(P,p)):dX=S2(P,p);P:do try{if(_0!==0&&T0!==null){p=T0;var H=Fp;p:switch(_0){case 1:_0=0,Fp=null,fX(P,p,H,1);break;case 2:if(ML(H)){_0=0,Fp=null,OL(p);break}p=function(){_0===2&&i0===P&&(_0=7),T1(P)},H.then(p,p);break P;case 3:_0=7;break P;case 4:_0=5;break P;case 7:ML(H)?(_0=0,Fp=null,OL(p)):(_0=0,Fp=null,fX(P,p,H,7));break;case 5:var A=null;switch(T0.tag){case 26:A=T0.memoizedState;case 5:case 27:var B=T0;if(A?dF(A):1){_0=0,Fp=null;var f=B.sibling;if(f!==null)T0=f;else{var D=B.return;D!==null?(T0=D,qD(D)):T0=null}break p}}_0=0,Fp=null,fX(P,p,H,5);break;case 6:_0=0,Fp=null,fX(P,p,H,6);break;case 8:a6(),DP=6;break P;default:throw Error(n(462))}}qW();break}catch(Z){CF(P,Z)}while(1);if(p8=Bh=null,E0.H=h,E0.A=X,pP=x,T0!==null)return 0;return i0=null,d0=0,CD(),DP}function qW(){for(;T0!==null&&!yw();)MF(T0)}function MF(P){var p=_3(P.alternate,P,A8);P.memoizedProps=P.pendingProps,p===null?qD(P):T0=p}function OL(P){var p=P,x=p.alternate;switch(p.tag){case 15:case 0:p=KL(x,p,p.pendingProps,p.type,void 0,d0);break;case 11:p=KL(x,p,p.pendingProps,p.type.render,p.ref,d0);break;case 5:R6(p);default:ZF(x,p),p=T0=DF(p,A8),p=_3(x,p,A8)}P.memoizedProps=P.pendingProps,p===null?qD(P):T0=p}function fX(P,p,x,h){p8=Bh=null,R6(p),CX=null,T2=0;var X=p.return;try{if(DW(P,X,p,x,d0)){DP=1,aB(P,Sp(x,P.current)),T0=null;return}}catch(H){if(X!==null)throw T0=X,H;DP=1,aB(P,Sp(x,P.current)),T0=null;return}if(p.flags&32768){if(R0||h===1)P=!0;else if(dX||(d0&536870912)!==0)P=!1;else if(r1=P=!0,h===2||h===3||h===6)h=Op.current,h!==null&&h.tag===13&&(h.flags|=16384);YF(p,P)}else qD(p)}function qD(P){var p=P;do{if((p.flags&32768)!==0){YF(p,r1);return}P=p.return;var x=CW(p.alternate,p,A8);if(x!==null){T0=x;return}if(p=p.sibling,p!==null){T0=p;return}T0=p=P}while(p!==null);DP===0&&(DP=5)}function YF(P,p){do{var x=FW(P.alternate,P);if(x!==null){x.flags&=32767,T0=x;return}if(x=P.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!p&&(P=P.sibling,P!==null)){T0=P;return}T0=P=x}while(P!==null);DP=6,T0=null}function gL(P,p,x,h,X,H,A,B,f,D){var Z=E0.T,L=u0.p;try{u0.p=2,E0.T=null,IW(P,p,x,h,L,X,H,A,B,f,D)}finally{E0.T=Z,u0.p=L}}function IW(P,p,x,h,X,H,A,B){do YX();while(yx!==null);if((pP&6)!==0)throw Error(n(327));var f=P.finishedWork;if(h=P.finishedLanes,f===null)return null;if(P.finishedWork=null,P.finishedLanes=0,f===P.current)throw Error(n(177));P.callbackNode=null,P.callbackPriority=0,P.cancelPendingCommit=null;var D=f.lanes|f.childLanes;if(D|=I6,ew(P,h,D,H,A,B),P===i0&&(T0=i0=null,d0=0),(f.subtreeFlags&10256)===0&&(f.flags&10256)===0||YB||(YB=!0,r4=D,n4=x,kW(SB,function(){return YX(!0),null})),x=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||x?(x=E0.T,E0.T=null,H=u0.p,u0.p=2,A=pP,pP|=4,ZW(P,f),pF(f,P),mk(H6,P.containerInfo),AD=!!X6,H6=X6=null,P.current=f,s3(P,f.alternate,f),_w(),pP=A,u0.p=H,E0.T=x):P.current=f,YB?(YB=!1,yx=P,V2=h):QF(P,D),D=P.pendingLanes,D===0&&(s8=null),aw(f.stateNode,X),T1(P),p!==null)for(X=P.onRecoverableError,f=0;f<p.length;f++)D=p[f],X(D.value,{componentStack:D.stack});return(V2&3)!==0&&YX(),D=P.pendingLanes,(h&4194218)!==0&&(D&42)!==0?P===s4?q2++:(q2=0,s4=P):q2=0,m2(0,!1),null}function QF(P,p){(P.pooledCacheLanes&=p)===0&&(p=P.pooledCache,p!=null&&(P.pooledCache=null,g2(p)))}function YX(){if(yx!==null){var P=yx,p=r4;r4=0;var x=IC(V2),h=E0.T,X=u0.p;try{if(u0.p=32>x?32:x,E0.T=null,yx===null)var H=!1;else{x=n4,n4=null;var A=yx,B=V2;if(yx=null,V2=0,(pP&6)!==0)throw Error(n(331));var f=pP;if(pP|=4,AF(A.current),hF(A,A.current,B,x),pP=f,m2(0,!1),Mp&&typeof Mp.onPostCommitFiberRoot==="function")try{Mp.onPostCommitFiberRoot(G2,A)}catch(D){}H=!0}return H}finally{u0.p=X,E0.T=h,QF(P,p)}}return!1}function yL(P,p,x){p=Sp(x,p),p=l4(P.stateNode,p,2),P=r8(P,p,2),P!==null&&(l2(P,2),T1(P))}function g0(P,p,x){if(P.tag===3)yL(P,P,x);else for(;p!==null;){if(p.tag===3){yL(p,P,x);break}else if(p.tag===1){var h=p.stateNode;if(typeof p.type.getDerivedStateFromError==="function"||typeof h.componentDidCatch==="function"&&(s8===null||!s8.has(h))){P=Sp(x,P),x=G3(2),h=r8(p,x,2),h!==null&&(S3(x,h,p,P),l2(h,2),T1(h));break}}p=p.return}}function Z4(P,p,x){var h=P.pingCache;if(h===null){h=P.pingCache=new MW;var X=new Set;h.set(p,X)}else X=h.get(p),X===void 0&&(X=new Set,h.set(p,X));X.has(x)||(m6=!0,X.add(x),P=EW.bind(null,P,p,x),p.then(P,P))}function EW(P,p,x){var h=P.pingCache;h!==null&&h.delete(p),P.pingedLanes|=P.suspendedLanes&x,P.warmLanes&=~x,i0===P&&(d0&x)===x&&(DP===4||DP===3&&(d0&62914560)===d0&&300>z1()-o6?(pP&2)===0&&kX(P,0):u6|=x,wX===d0&&(wX=0)),T1(P)}function VF(P,p){p===0&&(p=QC()),P=px(P,p),P!==null&&(l2(P,p),T1(P))}function zW(P){var p=P.memoizedState,x=0;p!==null&&(x=p.retryLane),VF(P,x)}function wW(P,p){var x=0;switch(P.tag){case 13:var{stateNode:h,memoizedState:X}=P;X!==null&&(x=X.retryLane);break;case 19:h=P.stateNode;break;case 22:h=P.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(p),VF(P,x)}function kW(P,p){return C6(P,p)}var eB=null,sh=null,P6=!1,PD=!1,$4=!1,nx=0;function T1(P){P!==sh&&P.next===null&&(sh===null?eB=sh=P:sh=sh.next=P),PD=!0,P6||(P6=!0,TW(WW))}function m2(P,p){if(!$4&&PD){$4=!0;do{var x=!1;for(var h=eB;h!==null;){if(!p)if(P!==0){var X=h.pendingLanes;if(X===0)var H=0;else{var{suspendedLanes:A,pingedLanes:B}=h;H=(1<<31-Yp(42|P)+1)-1,H&=X&~(A&~B),H=H&201326677?H&201326677|1:H?H|2:0}H!==0&&(x=!0,_L(h,H))}else H=d0,H=fD(h,h===i0?H:0),(H&3)===0||S2(h,H)||(x=!0,_L(h,H));h=h.next}}while(x);$4=!1}}function WW(){PD=P6=!1;var P=0;nx!==0&&(cW()&&(P=nx),nx=0);for(var p=z1(),x=null,h=eB;h!==null;){var X=h.next,H=qF(h,p);if(H===0)h.next=null,x===null?eB=X:x.next=X,X===null&&(sh=x);else if(x=h,P!==0||(H&3)!==0)PD=!0;h=X}m2(P,!1)}function qF(P,p){for(var{suspendedLanes:x,pingedLanes:h,expirationTimes:X}=P,H=P.pendingLanes&-62914561;0<H;){var A=31-Yp(H),B=1<<A,f=X[A];if(f===-1){if((B&x)===0||(B&h)!==0)X[A]=tw(B,p)}else f<=p&&(P.expiredLanes|=B);H&=~B}if(p=i0,x=d0,x=fD(P,P===p?x:0),h=P.callbackNode,x===0||P===p&&_0===2||P.cancelPendingCommit!==null)return h!==null&&h!==null&&yf(h),P.callbackNode=null,P.callbackPriority=0;if((x&3)===0||S2(P,x)){if(p=x&-x,p===P.callbackPriority)return p;switch(h!==null&&yf(h),IC(x)){case 2:case 8:x=bC;break;case 32:x=SB;break;case 268435456:x=MC;break;default:x=SB}return h=IF.bind(null,P),x=C6(x,h),P.callbackPriority=p,P.callbackNode=x,p}return h!==null&&h!==null&&yf(h),P.callbackPriority=2,P.callbackNode=null,2}function IF(P,p){var x=P.callbackNode;if(YX()&&P.callbackNode!==x)return null;var h=d0;if(h=fD(P,P===i0?h:0),h===0)return null;return LF(P,h,p),qF(P,z1()),P.callbackNode!=null&&P.callbackNode===x?IF.bind(null,P):null}function _L(P,p){if(YX())return null;LF(P,p,!0)}function TW(P){UW(function(){(pP&6)!==0?C6(FC,P):P()})}function r6(){return nx===0&&(nx=YC()),nx}function iL(P){return P==null||typeof P==="symbol"||typeof P==="boolean"?null:typeof P==="function"?P:EB(""+P)}function mL(P,p){var x=p.ownerDocument.createElement("input");return x.name=p.name,x.value=p.value,P.id&&x.setAttribute("form",P.id),p.parentNode.insertBefore(x,p),P=new FormData(P),x.parentNode.removeChild(x),P}function jW(P,p,x,h,X){if(p==="submit"&&x&&x.stateNode===X){var H=iL((X[xp]||null).action),A=h.submitter;A&&(p=(p=A[xp]||null)?iL(p.formAction):A.getAttribute("formAction"),p!==null&&(H=p,A=null));var B=new ZD("action","action",null,h,X);P.push({event:B,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(nx!==0){var f=A?mL(X,A):new FormData(X);G4(x,{pending:!0,data:f,method:X.method,action:H},null,f)}}else typeof H==="function"&&(B.preventDefault(),f=A?mL(X,A):new FormData(X),G4(x,{pending:!0,data:f,method:X.method,action:H},H,f))},currentTarget:X}]})}}for(X2=0;X2<LL.length;X2++)H2=LL[X2],p6=H2.toLowerCase(),x6=H2[0].toUpperCase()+H2.slice(1),P1(p6,"on"+x6);var H2,p6,x6,X2;P1(yC,"onAnimationEnd");P1(_C,"onAnimationIteration");P1(iC,"onAnimationStart");P1("dblclick","onDoubleClick");P1("focusin","onFocus");P1("focusout","onBlur");P1(ok,"onTransitionRun");P1(ak,"onTransitionStart");P1(rk,"onTransitionCancel");P1(mC,"onTransitionEnd");VX("onMouseEnter",["mouseout","mouseover"]);VX("onMouseLeave",["mouseout","mouseover"]);VX("onPointerEnter",["pointerout","pointerover"]);VX("onPointerLeave",["pointerout","pointerover"]);xh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xh("onBeforeInput",["compositionend","keypress","textInput","paste"]);xh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var J2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(J2));function EF(P,p){p=(p&4)!==0;for(var x=0;x<P.length;x++){var h=P[x],X=h.event;h=h.listeners;P:{var H=void 0;if(p)for(var A=h.length-1;0<=A;A--){var B=h[A],f=B.instance,D=B.currentTarget;if(B=B.listener,f!==H&&X.isPropagationStopped())break P;H=B,X.currentTarget=D;try{H(X)}catch(Z){oB(Z)}X.currentTarget=null,H=f}else for(A=0;A<h.length;A++){if(B=h[A],f=B.instance,D=B.currentTarget,B=B.listener,f!==H&&X.isPropagationStopped())break P;H=B,X.currentTarget=D;try{H(X)}catch(Z){oB(Z)}X.currentTarget=null,H=f}}}}function j0(P,p){var x=p[z4];x===void 0&&(x=p[z4]=new Set);var h=P+"__bubble";x.has(h)||(zF(p,P,2,!1),x.add(h))}function L4(P,p,x){var h=0;p&&(h|=4),zF(x,P,h,p)}var QB="_reactListening"+Math.random().toString(36).slice(2);function n6(P){if(!P[QB]){P[QB]=!0,zC.forEach(function(x){x!=="selectionchange"&&(JW.has(x)||L4(x,!1,P),L4(x,!0,P))});var p=P.nodeType===9?P:P.ownerDocument;p===null||p[QB]||(p[QB]=!0,L4("selectionchange",!1,p))}}function zF(P,p,x,h){switch(UF(p)){case 2:var X=pT;break;case 8:X=xT;break;default:X=P7}x=X.bind(null,p,x,P),X=void 0,!T4||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(X=!0),h?X!==void 0?P.addEventListener(p,x,{capture:!0,passive:X}):P.addEventListener(p,x,!0):X!==void 0?P.addEventListener(p,x,{passive:X}):P.addEventListener(p,x,!1)}function C4(P,p,x,h,X){var H=h;if((p&1)===0&&(p&2)===0&&h!==null)P:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var B=h.stateNode.containerInfo;if(B===X||B.nodeType===8&&B.parentNode===X)break;if(A===4)for(A=h.return;A!==null;){var f=A.tag;if(f===3||f===4){if(f=A.stateNode.containerInfo,f===X||f.nodeType===8&&f.parentNode===X)return}A=A.return}for(;B!==null;){if(A=_x(B),A===null)return;if(f=A.tag,f===5||f===6||f===26||f===27){h=H=A;continue P}B=B.parentNode}}h=h.return}KC(function(){var D=H,Z=M6(x),L=[];P:{var $=uC.get(P);if($!==void 0){var C=ZD,Y=P;switch(P){case"keypress":if(wB(x)===0)break P;case"keydown":case"keyup":C=wk;break;case"focusin":Y="focus",C=af;break;case"focusout":Y="blur",C=af;break;case"beforeblur":case"afterblur":C=af;break;case"click":if(x.button===2)break P;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=pL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Lk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Tk;break;case yC:case _C:case iC:C=bk;break;case mC:C=Jk;break;case"scroll":case"scrollend":C=Zk;break;case"wheel":C=Kk;break;case"copy":case"cut":case"paste":C=Yk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=hL;break;case"toggle":case"beforetoggle":C=ck}var V=(p&4)!==0,q=!V&&(P==="scroll"||P==="scrollend"),b=V?$!==null?$+"Capture":null:$;V=[];for(var F=D,M;F!==null;){var Q=F;if(M=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||M===null||b===null||(Q=z2(F,b),Q!=null&&V.push(d2(F,Q,M))),q)break;F=F.return}0<V.length&&($=new C($,Y,null,x,Z),L.push({event:$,listeners:V}))}}if((p&7)===0){P:{if($=P==="mouseover"||P==="pointerover",C=P==="mouseout"||P==="pointerout",$&&x!==W4&&(Y=x.relatedTarget||x.fromElement)&&(_x(Y)||Y[jX]))break P;if(C||$){if($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,C){if(Y=x.relatedTarget||x.toElement,C=D,Y=Y?_x(Y):null,Y!==null&&(q=TX(Y),V=Y.tag,Y!==q||V!==5&&V!==27&&V!==6))Y=null}else C=null,Y=D;if(C!==Y){if(V=pL,Q="onMouseLeave",b="onMouseEnter",F="mouse",P==="pointerout"||P==="pointerover")V=hL,Q="onPointerLeave",b="onPointerEnter",F="pointer";if(q=C==null?$:P2(C),M=Y==null?$:P2(Y),$=new V(Q,F+"leave",C,x,Z),$.target=q,$.relatedTarget=M,Q=null,_x(Z)===D&&(V=new V(b,F+"enter",Y,x,Z),V.target=M,V.relatedTarget=q,Q=V),q=Q,C&&Y)p:{V=C,b=Y,F=0;for(M=V;M;M=ah(M))F++;M=0;for(Q=b;Q;Q=ah(Q))M++;for(;0<F-M;)V=ah(V),F--;for(;0<M-F;)b=ah(b),M--;for(;F--;){if(V===b||b!==null&&V===b.alternate)break p;V=ah(V),b=ah(b)}V=null}else V=null;C!==null&&uL(L,$,C,V,!1),Y!==null&&q!==null&&uL(L,q,Y,V,!0)}}}P:{if($=D?P2(D):window,C=$.nodeName&&$.nodeName.toLowerCase(),C==="select"||C==="input"&&$.type==="file")var I=BL;else if(AL($))if(SC)I=_k;else{I=gk;var j=Ok}else C=$.nodeName,!C||C.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?D&&b6(D.elementType)&&(I=BL):I=yk;if(I&&(I=I(P,D))){GC(L,I,x,Z);break P}j&&j(P,$,D),P==="focusout"&&D&&$.type==="number"&&D.memoizedProps.value!=null&&k4($,"number",$.value)}switch(j=D?P2(D):window,P){case"focusin":if(AL(j)||j.contentEditable==="true")hX=j,j4=D,D2=null;break;case"focusout":D2=j4=hX=null;break;case"mousedown":J4=!0;break;case"contextmenu":case"mouseup":case"dragend":J4=!1,$L(L,x,Z);break;case"selectionchange":if(uk)break;case"keydown":case"keyup":$L(L,x,Z)}var k;if(V6)P:{switch(P){case"compositionstart":var w="onCompositionStart";break P;case"compositionend":w="onCompositionEnd";break P;case"compositionupdate":w="onCompositionUpdate";break P}w=void 0}else xX?vC(P,x)&&(w="onCompositionEnd"):P==="keydown"&&x.keyCode===229&&(w="onCompositionStart");if(w&&(cC&&x.locale!=="ko"&&(xX||w!=="onCompositionStart"?w==="onCompositionEnd"&&xX&&(k=RC()):(u8=Z,Y6=("value"in u8)?u8.value:u8.textContent,xX=!0)),j=pD(D,w),0<j.length&&(w=new xL(w,P,null,x,Z),L.push({event:w,listeners:j}),k?w.data=k:(k=UC(x),k!==null&&(w.data=k)))),k=Uk?Gk(P,x):Sk(P,x))w=pD(D,"onBeforeInput"),0<w.length&&(j=new xL("onBeforeInput","beforeinput",null,x,Z),L.push({event:j,listeners:w}),j.data=k);jW(L,P,D,x,Z)}EF(L,p)})}function d2(P,p,x){return{instance:P,listener:p,currentTarget:x}}function pD(P,p){for(var x=p+"Capture",h=[];P!==null;){var X=P,H=X.stateNode;X=X.tag,X!==5&&X!==26&&X!==27||H===null||(X=z2(P,x),X!=null&&h.unshift(d2(P,X,H)),X=z2(P,p),X!=null&&h.push(d2(P,X,H))),P=P.return}return h}function ah(P){if(P===null)return null;do P=P.return;while(P&&P.tag!==5&&P.tag!==27);return P?P:null}function uL(P,p,x,h,X){for(var H=p._reactName,A=[];x!==null&&x!==h;){var B=x,f=B.alternate,D=B.stateNode;if(B=B.tag,f!==null&&f===h)break;B!==5&&B!==26&&B!==27||D===null||(f=D,X?(D=z2(x,H),D!=null&&A.unshift(d2(x,D,f))):X||(D=z2(x,H),D!=null&&A.push(d2(x,D,f)))),x=x.return}A.length!==0&&P.push({event:p,listeners:A})}var dW=/\r\n?/g,KW=/\u0000|\uFFFD/g;function oL(P){return(typeof P==="string"?P:""+P).replace(dW,`
`).replace(KW,"")}function wF(P,p){return p=oL(p),oL(P)===p?!0:!1}function ID(){}function N0(P,p,x,h,X,H){switch(x){case"children":typeof h==="string"?p==="body"||p==="textarea"&&h===""||qX(P,h):(typeof h==="number"||typeof h==="bigint")&&p!=="body"&&qX(P,""+h);break;case"className":ZB(P,"class",h);break;case"tabIndex":ZB(P,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ZB(P,x,h);break;case"style":dC(P,h,H);break;case"data":if(p!=="object"){ZB(P,"data",h);break}case"src":case"href":if(h===""&&(p!=="a"||x!=="href")){P.removeAttribute(x);break}if(h==null||typeof h==="function"||typeof h==="symbol"||typeof h==="boolean"){P.removeAttribute(x);break}h=EB(""+h),P.setAttribute(x,h);break;case"action":case"formAction":if(typeof h==="function"){P.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H==="function"&&(x==="formAction"?(p!=="input"&&N0(P,p,"name",X.name,X,null),N0(P,p,"formEncType",X.formEncType,X,null),N0(P,p,"formMethod",X.formMethod,X,null),N0(P,p,"formTarget",X.formTarget,X,null)):(N0(P,p,"encType",X.encType,X,null),N0(P,p,"method",X.method,X,null),N0(P,p,"target",X.target,X,null)));if(h==null||typeof h==="symbol"||typeof h==="boolean"){P.removeAttribute(x);break}h=EB(""+h),P.setAttribute(x,h);break;case"onClick":h!=null&&(P.onclick=ID);break;case"onScroll":h!=null&&j0("scroll",P);break;case"onScrollEnd":h!=null&&j0("scrollend",P);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!=="object"||!("__html"in h))throw Error(n(61));if(x=h.__html,x!=null){if(X.children!=null)throw Error(n(60));P.innerHTML=x}}break;case"multiple":P.multiple=h&&typeof h!=="function"&&typeof h!=="symbol";break;case"muted":P.muted=h&&typeof h!=="function"&&typeof h!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h==="function"||typeof h==="boolean"||typeof h==="symbol"){P.removeAttribute("xlink:href");break}x=EB(""+h),P.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!=="function"&&typeof h!=="symbol"?P.setAttribute(x,""+h):P.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!=="function"&&typeof h!=="symbol"?P.setAttribute(x,""):P.removeAttribute(x);break;case"capture":case"download":h===!0?P.setAttribute(x,""):h!==!1&&h!=null&&typeof h!=="function"&&typeof h!=="symbol"?P.setAttribute(x,h):P.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!=="function"&&typeof h!=="symbol"&&!isNaN(h)&&1<=h?P.setAttribute(x,h):P.removeAttribute(x);break;case"rowSpan":case"start":h==null||typeof h==="function"||typeof h==="symbol"||isNaN(h)?P.removeAttribute(x):P.setAttribute(x,h);break;case"popover":j0("beforetoggle",P),j0("toggle",P),IB(P,"popover",h);break;case"xlinkActuate":i1(P,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":i1(P,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":i1(P,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":i1(P,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":i1(P,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":i1(P,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":i1(P,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":i1(P,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":i1(P,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":IB(P,"is",h);break;case"innerText":case"textContent":break;default:if(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")x=Dk.get(x)||x,IB(P,x,h)}}function h6(P,p,x,h,X,H){switch(x){case"style":dC(P,h,H);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!=="object"||!("__html"in h))throw Error(n(61));if(x=h.__html,x!=null){if(X.children!=null)throw Error(n(60));P.innerHTML=x}}break;case"children":typeof h==="string"?qX(P,h):(typeof h==="number"||typeof h==="bigint")&&qX(P,""+h);break;case"onScroll":h!=null&&j0("scroll",P);break;case"onScrollEnd":h!=null&&j0("scrollend",P);break;case"onClick":h!=null&&(P.onclick=ID);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wC.hasOwnProperty(x))P:{if(x[0]==="o"&&x[1]==="n"&&(X=x.endsWith("Capture"),p=x.slice(2,X?x.length-7:void 0),H=P[xp]||null,H=H!=null?H[x]:null,typeof H==="function"&&P.removeEventListener(p,H,X),typeof h==="function")){typeof H!=="function"&&H!==null&&(x in P?P[x]=null:P.hasAttribute(x)&&P.removeAttribute(x)),P.addEventListener(p,h,X);break P}x in P?P[x]=h:h===!0?P.setAttribute(x,""):IB(P,x,h)}}}function UP(P,p,x){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":j0("error",P),j0("load",P);var h=!1,X=!1,H;for(H in x)if(x.hasOwnProperty(H)){var A=x[H];if(A!=null)switch(H){case"src":h=!0;break;case"srcSet":X=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:N0(P,p,H,A,x,null)}}X&&N0(P,p,"srcSet",x.srcSet,x,null),h&&N0(P,p,"src",x.src,x,null);return;case"input":j0("invalid",P);var B=H=A=X=null,f=null,D=null;for(h in x)if(x.hasOwnProperty(h)){var Z=x[h];if(Z!=null)switch(h){case"name":X=Z;break;case"type":A=Z;break;case"checked":f=Z;break;case"defaultChecked":D=Z;break;case"value":H=Z;break;case"defaultValue":B=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,p));break;default:N0(P,p,h,Z,x,null)}}TC(P,H,B,f,D,A,X,!1),lB(P);return;case"select":j0("invalid",P),h=A=H=null;for(X in x)if(x.hasOwnProperty(X)&&(B=x[X],B!=null))switch(X){case"value":H=B;break;case"defaultValue":A=B;break;case"multiple":h=B;default:N0(P,p,X,B,x,null)}p=H,x=A,P.multiple=!!h,p!=null?$X(P,!!h,p,!1):x!=null&&$X(P,!!h,x,!0);return;case"textarea":j0("invalid",P),H=X=h=null;for(A in x)if(x.hasOwnProperty(A)&&(B=x[A],B!=null))switch(A){case"value":h=B;break;case"defaultValue":X=B;break;case"children":H=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(n(91));break;default:N0(P,p,A,B,x,null)}JC(P,h,X,H),lB(P);return;case"option":for(f in x)if(x.hasOwnProperty(f)&&(h=x[f],h!=null))switch(f){case"selected":P.selected=h&&typeof h!=="function"&&typeof h!=="symbol";break;default:N0(P,p,f,h,x,null)}return;case"dialog":j0("cancel",P),j0("close",P);break;case"iframe":case"object":j0("load",P);break;case"video":case"audio":for(h=0;h<J2.length;h++)j0(J2[h],P);break;case"image":j0("error",P),j0("load",P);break;case"details":j0("toggle",P);break;case"embed":case"source":case"link":j0("error",P),j0("load",P);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in x)if(x.hasOwnProperty(D)&&(h=x[D],h!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:N0(P,p,D,h,x,null)}return;default:if(b6(p)){for(Z in x)x.hasOwnProperty(Z)&&(h=x[Z],h!==void 0&&h6(P,p,Z,h,x,void 0));return}}for(B in x)x.hasOwnProperty(B)&&(h=x[B],h!=null&&N0(P,p,B,h,x,null))}function RW(P,p,x,h){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var X=null,H=null,A=null,B=null,f=null,D=null,Z=null;for(C in x){var L=x[C];if(x.hasOwnProperty(C)&&L!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":f=L;default:h.hasOwnProperty(C)||N0(P,p,C,null,h,L)}}for(var $ in h){var C=h[$];if(L=x[$],h.hasOwnProperty($)&&(C!=null||L!=null))switch($){case"type":H=C;break;case"name":X=C;break;case"checked":D=C;break;case"defaultChecked":Z=C;break;case"value":A=C;break;case"defaultValue":B=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(137,p));break;default:C!==L&&N0(P,p,$,C,h,L)}}w4(P,A,B,f,D,Z,H,X);return;case"select":C=A=B=$=null;for(H in x)if(f=x[H],x.hasOwnProperty(H)&&f!=null)switch(H){case"value":break;case"multiple":C=f;default:h.hasOwnProperty(H)||N0(P,p,H,null,h,f)}for(X in h)if(H=h[X],f=x[X],h.hasOwnProperty(X)&&(H!=null||f!=null))switch(X){case"value":$=H;break;case"defaultValue":B=H;break;case"multiple":A=H;default:H!==f&&N0(P,p,X,H,h,f)}p=B,x=A,h=C,$!=null?$X(P,!!x,$,!1):!!h!==!!x&&(p!=null?$X(P,!!x,p,!0):$X(P,!!x,x?[]:"",!1));return;case"textarea":C=$=null;for(B in x)if(X=x[B],x.hasOwnProperty(B)&&X!=null&&!h.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:N0(P,p,B,null,h,X)}for(A in h)if(X=h[A],H=x[A],h.hasOwnProperty(A)&&(X!=null||H!=null))switch(A){case"value":$=X;break;case"defaultValue":C=X;break;case"children":break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(91));break;default:X!==H&&N0(P,p,A,X,h,H)}jC(P,$,C);return;case"option":for(var Y in x)if($=x[Y],x.hasOwnProperty(Y)&&$!=null&&!h.hasOwnProperty(Y))switch(Y){case"selected":P.selected=!1;break;default:N0(P,p,Y,null,h,$)}for(f in h)if($=h[f],C=x[f],h.hasOwnProperty(f)&&$!==C&&($!=null||C!=null))switch(f){case"selected":P.selected=$&&typeof $!=="function"&&typeof $!=="symbol";break;default:N0(P,p,f,$,h,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var V in x)$=x[V],x.hasOwnProperty(V)&&$!=null&&!h.hasOwnProperty(V)&&N0(P,p,V,null,h,$);for(D in h)if($=h[D],C=x[D],h.hasOwnProperty(D)&&$!==C&&($!=null||C!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(n(137,p));break;default:N0(P,p,D,$,h,C)}return;default:if(b6(p)){for(var q in x)$=x[q],x.hasOwnProperty(q)&&$!==void 0&&!h.hasOwnProperty(q)&&h6(P,p,q,void 0,h,$);for(Z in h)$=h[Z],C=x[Z],!h.hasOwnProperty(Z)||$===C||$===void 0&&C===void 0||h6(P,p,Z,$,h,C);return}}for(var b in x)$=x[b],x.hasOwnProperty(b)&&$!=null&&!h.hasOwnProperty(b)&&N0(P,p,b,null,h,$);for(L in h)$=h[L],C=x[L],!h.hasOwnProperty(L)||$===C||$==null&&C==null||N0(P,p,L,$,h,C)}var X6=null,H6=null;function xD(P){return P.nodeType===9?P:P.ownerDocument}function aL(P){switch(P){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kF(P,p){if(P===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return P===1&&p==="foreignObject"?0:P}function A6(P,p){return P==="textarea"||P==="noscript"||typeof p.children==="string"||typeof p.children==="number"||typeof p.children==="bigint"||typeof p.dangerouslySetInnerHTML==="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var F4=null;function cW(){var P=window.event;if(P&&P.type==="popstate"){if(P===F4)return!1;return F4=P,!0}return F4=null,!1}var WF=typeof setTimeout==="function"?setTimeout:void 0,vW=typeof clearTimeout==="function"?clearTimeout:void 0,rL=typeof Promise==="function"?Promise:void 0,UW=typeof queueMicrotask==="function"?queueMicrotask:typeof rL!=="undefined"?function(P){return rL.resolve(null).then(P).catch(GW)}:WF;function GW(P){setTimeout(function(){throw P})}function b4(P,p){var x=p,h=0;do{var X=x.nextSibling;if(P.removeChild(x),X&&X.nodeType===8)if(x=X.data,x==="/$"){if(h===0){P.removeChild(X),U2(p);return}h--}else x!=="$"&&x!=="$?"&&x!=="$!"||h++;x=X}while(x);U2(p)}function B6(P){var p=P.firstChild;p&&p.nodeType===10&&(p=p.nextSibling);for(;p;){var x=p;switch(p=p.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":B6(x),F6(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}P.removeChild(x)}}function SW(P,p,x,h){for(;P.nodeType===1;){var X=x;if(P.nodeName.toLowerCase()!==p.toLowerCase()){if(!h&&(P.nodeName!=="INPUT"||P.type!=="hidden"))break}else if(!h)if(p==="input"&&P.type==="hidden"){var H=X.name==null?null:""+X.name;if(X.type==="hidden"&&P.getAttribute("name")===H)return P}else return P;else if(!P[E2])switch(p){case"meta":if(!P.hasAttribute("itemprop"))break;return P;case"link":if(H=P.getAttribute("rel"),H==="stylesheet"&&P.hasAttribute("data-precedence"))break;else if(H!==X.rel||P.getAttribute("href")!==(X.href==null?null:X.href)||P.getAttribute("crossorigin")!==(X.crossOrigin==null?null:X.crossOrigin)||P.getAttribute("title")!==(X.title==null?null:X.title))break;return P;case"style":if(P.hasAttribute("data-precedence"))break;return P;case"script":if(H=P.getAttribute("src"),(H!==(X.src==null?null:X.src)||P.getAttribute("type")!==(X.type==null?null:X.type)||P.getAttribute("crossorigin")!==(X.crossOrigin==null?null:X.crossOrigin))&&H&&P.hasAttribute("async")&&!P.hasAttribute("itemprop"))break;return P;default:return P}if(P=ep(P.nextSibling),P===null)break}return null}function lW(P,p,x){if(p==="")return null;for(;P.nodeType!==3;){if((P.nodeType!==1||P.nodeName!=="INPUT"||P.type!=="hidden")&&!x)return null;if(P=ep(P.nextSibling),P===null)return null}return P}function ep(P){for(;P!=null;P=P.nextSibling){var p=P.nodeType;if(p===1||p===3)break;if(p===8){if(p=P.data,p==="$"||p==="$!"||p==="$?"||p==="F!"||p==="F")break;if(p==="/$")return null}}return P}function nL(P){P=P.previousSibling;for(var p=0;P;){if(P.nodeType===8){var x=P.data;if(x==="$"||x==="$!"||x==="$?"){if(p===0)return P;p--}else x==="/$"&&p++}P=P.previousSibling}return null}function TF(P,p,x){switch(p=xD(x),P){case"html":if(P=p.documentElement,!P)throw Error(n(452));return P;case"head":if(P=p.head,!P)throw Error(n(453));return P;case"body":if(P=p.body,!P)throw Error(n(454));return P;default:throw Error(n(451))}}var gp=new Map,sL=new Set;function hD(P){return typeof P.getRootNode==="function"?P.getRootNode():P.ownerDocument}var B8=u0.d;u0.d={f:NW,r:OW,D:gW,C:yW,L:_W,m:iW,X:uW,S:mW,M:oW};function NW(){var P=B8.f(),p=VD();return P||p}function OW(P){var p=JX(P);p!==null&&p.tag===5&&p.type==="form"?T3(p):B8.r(P)}var KX=typeof document==="undefined"?null:document;function jF(P,p,x){var h=KX;if(h&&typeof p==="string"&&p){var X=Gp(p);X='link[rel="'+P+'"][href="'+X+'"]',typeof x==="string"&&(X+='[crossorigin="'+x+'"]'),sL.has(X)||(sL.add(X),P={rel:P,crossOrigin:x,href:p},h.querySelector(X)===null&&(p=h.createElement("link"),UP(p,"link",P),jP(p),h.head.appendChild(p)))}}function gW(P){B8.D(P),jF("dns-prefetch",P,null)}function yW(P,p){B8.C(P,p),jF("preconnect",P,p)}function _W(P,p,x){B8.L(P,p,x);var h=KX;if(h&&P&&p){var X='link[rel="preload"][as="'+Gp(p)+'"]';p==="image"?x&&x.imageSrcSet?(X+='[imagesrcset="'+Gp(x.imageSrcSet)+'"]',typeof x.imageSizes==="string"&&(X+='[imagesizes="'+Gp(x.imageSizes)+'"]')):X+='[href="'+Gp(P)+'"]':X+='[href="'+Gp(P)+'"]';var H=X;switch(p){case"style":H=WX(P);break;case"script":H=RX(P)}gp.has(H)||(P=o0({rel:"preload",href:p==="image"&&x&&x.imageSrcSet?void 0:P,as:p},x),gp.set(H,P),h.querySelector(X)!==null||p==="style"&&h.querySelector(u2(H))||p==="script"&&h.querySelector(o2(H))||(p=h.createElement("link"),UP(p,"link",P),jP(p),h.head.appendChild(p)))}}function iW(P,p){B8.m(P,p);var x=KX;if(x&&P){var h=p&&typeof p.as==="string"?p.as:"script",X='link[rel="modulepreload"][as="'+Gp(h)+'"][href="'+Gp(P)+'"]',H=X;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=RX(P)}if(!gp.has(H)&&(P=o0({rel:"modulepreload",href:P},p),gp.set(H,P),x.querySelector(X)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(o2(H)))return}h=x.createElement("link"),UP(h,"link",P),jP(h),x.head.appendChild(h)}}}function mW(P,p,x){B8.S(P,p,x);var h=KX;if(h&&P){var X=ZX(h).hoistableStyles,H=WX(P);p=p||"default";var A=X.get(H);if(!A){var B={loading:0,preload:null};if(A=h.querySelector(u2(H)))B.loading=5;else{P=o0({rel:"stylesheet",href:P,"data-precedence":p},x),(x=gp.get(H))&&s6(P,x);var f=A=h.createElement("link");jP(f),UP(f,"link",P),f._p=new Promise(function(D,Z){f.onload=D,f.onerror=Z}),f.addEventListener("load",function(){B.loading|=1}),f.addEventListener("error",function(){B.loading|=2}),B.loading|=4,KB(A,p,h)}A={type:"stylesheet",instance:A,count:1,state:B},X.set(H,A)}}}function uW(P,p){B8.X(P,p);var x=KX;if(x&&P){var h=ZX(x).hoistableScripts,X=RX(P),H=h.get(X);H||(H=x.querySelector(o2(X)),H||(P=o0({src:P,async:!0},p),(p=gp.get(X))&&t6(P,p),H=x.createElement("script"),jP(H),UP(H,"link",P),x.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},h.set(X,H))}}function oW(P,p){B8.M(P,p);var x=KX;if(x&&P){var h=ZX(x).hoistableScripts,X=RX(P),H=h.get(X);H||(H=x.querySelector(o2(X)),H||(P=o0({src:P,async:!0,type:"module"},p),(p=gp.get(X))&&t6(P,p),H=x.createElement("script"),jP(H),UP(H,"link",P),x.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},h.set(X,H))}}function tL(P,p,x,h){var X=(X=o8.current)?hD(X):null;if(!X)throw Error(n(446));switch(P){case"meta":case"title":return null;case"style":return typeof x.precedence==="string"&&typeof x.href==="string"?(p=WX(x.href),x=ZX(X).hoistableStyles,h=x.get(p),h||(h={type:"style",instance:null,count:0,state:null},x.set(p,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href==="string"&&typeof x.precedence==="string"){P=WX(x.href);var H=ZX(X).hoistableStyles,A=H.get(P);if(A||(X=X.ownerDocument||X,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(P,A),(H=X.querySelector(u2(P)))&&!H._p&&(A.instance=H,A.state.loading=5),gp.has(P)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},gp.set(P,x),H||aW(X,P,x,A.state))),p&&h===null)throw Error(n(528,""));return A}if(p&&h!==null)throw Error(n(529,""));return null;case"script":return p=x.async,x=x.src,typeof x==="string"&&p&&typeof p!=="function"&&typeof p!=="symbol"?(p=RX(x),x=ZX(X).hoistableScripts,h=x.get(p),h||(h={type:"script",instance:null,count:0,state:null},x.set(p,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,P))}}function WX(P){return'href="'+Gp(P)+'"'}function u2(P){return'link[rel="stylesheet"]['+P+"]"}function JF(P){return o0({},P,{"data-precedence":P.precedence,precedence:null})}function aW(P,p,x,h){P.querySelector('link[rel="preload"][as="style"]['+p+"]")?h.loading=1:(p=P.createElement("link"),h.preload=p,p.addEventListener("load",function(){return h.loading|=1}),p.addEventListener("error",function(){return h.loading|=2}),UP(p,"link",x),jP(p),P.head.appendChild(p))}function RX(P){return'[src="'+Gp(P)+'"]'}function o2(P){return"script[async]"+P}function eL(P,p,x){if(p.count++,p.instance===null)switch(p.type){case"style":var h=P.querySelector('style[data-href~="'+Gp(x.href)+'"]');if(h)return p.instance=h,jP(h),h;var X=o0({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return h=(P.ownerDocument||P).createElement("style"),jP(h),UP(h,"style",X),KB(h,x.precedence,P),p.instance=h;case"stylesheet":X=WX(x.href);var H=P.querySelector(u2(X));if(H)return p.state.loading|=4,p.instance=H,jP(H),H;h=JF(x),(X=gp.get(X))&&s6(h,X),H=(P.ownerDocument||P).createElement("link"),jP(H);var A=H;return A._p=new Promise(function(B,f){A.onload=B,A.onerror=f}),UP(H,"link",h),p.state.loading|=4,KB(H,x.precedence,P),p.instance=H;case"script":if(H=RX(x.src),X=P.querySelector(o2(H)))return p.instance=X,jP(X),X;if(h=x,X=gp.get(H))h=o0({},x),t6(h,X);return P=P.ownerDocument||P,X=P.createElement("script"),jP(X),UP(X,"link",h),P.head.appendChild(X),p.instance=X;case"void":return null;default:throw Error(n(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(h=p.instance,p.state.loading|=4,KB(h,x.precedence,P));return p.instance}function KB(P,p,x){for(var h=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),X=h.length?h[h.length-1]:null,H=X,A=0;A<h.length;A++){var B=h[A];if(B.dataset.precedence===p)H=B;else if(H!==X)break}H?H.parentNode.insertBefore(P,H.nextSibling):(p=x.nodeType===9?x.head:x,p.insertBefore(P,p.firstChild))}function s6(P,p){P.crossOrigin==null&&(P.crossOrigin=p.crossOrigin),P.referrerPolicy==null&&(P.referrerPolicy=p.referrerPolicy),P.title==null&&(P.title=p.title)}function t6(P,p){P.crossOrigin==null&&(P.crossOrigin=p.crossOrigin),P.referrerPolicy==null&&(P.referrerPolicy=p.referrerPolicy),P.integrity==null&&(P.integrity=p.integrity)}var RB=null;function PC(P,p,x){if(RB===null){var h=new Map,X=RB=new Map;X.set(x,h)}else X=RB,h=X.get(x),h||(h=new Map,X.set(x,h));if(h.has(P))return h;h.set(P,null),x=x.getElementsByTagName(P);for(X=0;X<x.length;X++){var H=x[X];if(!(H[E2]||H[gP]||P==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var A=H.getAttribute(p)||"";A=P+A;var B=h.get(A);B?B.push(H):h.set(A,[H])}}return h}function pC(P,p,x){P=P.ownerDocument||P,P.head.insertBefore(x,p==="title"?P.querySelector("head > title"):null)}function rW(P,p,x){if(x===1||p.itemProp!=null)return!1;switch(P){case"meta":case"title":return!0;case"style":if(typeof p.precedence!=="string"||typeof p.href!=="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!=="string"||typeof p.href!=="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return P=p.disabled,typeof p.precedence==="string"&&P==null;default:return!0}case"script":if(p.async&&typeof p.async!=="function"&&typeof p.async!=="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src==="string")return!0}return!1}function dF(P){return P.type==="stylesheet"&&(P.state.loading&3)===0?!1:!0}var K2=null;function nW(){}function sW(P,p,x){if(K2===null)throw Error(n(475));var h=K2;if(p.type==="stylesheet"&&(typeof x.media!=="string"||matchMedia(x.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var X=WX(x.href),H=P.querySelector(u2(X));if(H){P=H._p,P!==null&&typeof P==="object"&&typeof P.then==="function"&&(h.count++,h=XD.bind(h),P.then(h,h)),p.state.loading|=4,p.instance=H,jP(H);return}H=P.ownerDocument||P,x=JF(x),(X=gp.get(X))&&s6(x,X),H=H.createElement("link"),jP(H);var A=H;A._p=new Promise(function(B,f){A.onload=B,A.onerror=f}),UP(H,"link",x),p.instance=H}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(p,P),(P=p.state.preload)&&(p.state.loading&3)===0&&(h.count++,p=XD.bind(h),P.addEventListener("load",p),P.addEventListener("error",p))}}function tW(){if(K2===null)throw Error(n(475));var P=K2;return P.stylesheets&&P.count===0&&D6(P,P.stylesheets),0<P.count?function(p){var x=setTimeout(function(){if(P.stylesheets&&D6(P,P.stylesheets),P.unsuspend){var h=P.unsuspend;P.unsuspend=null,h()}},60000);return P.unsuspend=p,function(){P.unsuspend=null,clearTimeout(x)}}:null}function XD(){if(this.count--,this.count===0){if(this.stylesheets)D6(this,this.stylesheets);else if(this.unsuspend){var P=this.unsuspend;this.unsuspend=null,P()}}}var HD=null;function D6(P,p){P.stylesheets=null,P.unsuspend!==null&&(P.count++,HD=new Map,p.forEach(eW,P),HD=null,XD.call(P))}function eW(P,p){if(!(p.state.loading&4)){var x=HD.get(P);if(x)var h=x.get(null);else{x=new Map,HD.set(P,x);for(var X=P.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<X.length;H++){var A=X[H];if(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")x.set(A.dataset.precedence,A),h=A}h&&x.set(null,h)}X=p.instance,A=X.getAttribute("data-precedence"),H=x.get(A)||h,H===h&&x.set(null,X),x.set(A,X),this.count++,h=XD.bind(this),X.addEventListener("load",h),X.addEventListener("error",h),H?H.parentNode.insertBefore(X,H.nextSibling):(P=P.nodeType===9?P.head:P,P.insertBefore(X,P.firstChild)),p.state.loading|=4}}var R2={$$typeof:s1,Provider:null,Consumer:null,_currentValue:mx,_currentValue2:mx,_threadCount:0};function PT(P,p,x,h,X,H,A,B){this.tag=1,this.containerInfo=P,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_f(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.hiddenUpdates=_f(null),this.identifierPrefix=h,this.onUncaughtError=X,this.onCaughtError=H,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function KF(P,p,x,h,X,H,A,B,f,D,Z,L){return P=new PT(P,p,x,A,B,f,D,L),p=1,H===!0&&(p|=24),H=lp(3,null,null,p),P.current=H,H.stateNode=P,p=W6(),p.refCount++,P.pooledCache=p,p.refCount++,H.memoizedState={element:h,isDehydrated:x,cache:p},g6(H),P}function RF(P){if(!P)return AX;return P=AX,P}function cF(P,p,x,h,X,H){X=RF(X),h.context===null?h.context=X:h.pendingContext=X,h=a8(p),h.payload={element:x},H=H===void 0?null:H,H!==null&&(h.callback=H),x=r8(P,h,p),x!==null&&(oP(x,P,p),F2(x,P,p))}function xC(P,p){if(P=P.memoizedState,P!==null&&P.dehydrated!==null){var x=P.retryLane;P.retryLane=x!==0&&x<p?x:p}}function e6(P,p){xC(P,p),(P=P.alternate)&&xC(P,p)}function vF(P){if(P.tag===13){var p=px(P,67108864);p!==null&&oP(p,P,67108864),e6(P,67108864)}}var AD=!0;function pT(P,p,x,h){var X=E0.T;E0.T=null;var H=u0.p;try{u0.p=2,P7(P,p,x,h)}finally{u0.p=H,E0.T=X}}function xT(P,p,x,h){var X=E0.T;E0.T=null;var H=u0.p;try{u0.p=8,P7(P,p,x,h)}finally{u0.p=H,E0.T=X}}function P7(P,p,x,h){if(AD){var X=f6(h);if(X===null)C4(P,p,h,BD,x),hC(P,h);else if(XT(X,P,p,x,h))h.stopPropagation();else if(hC(P,h),p&4&&-1<hT.indexOf(P)){for(;X!==null;){var H=JX(X);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var A=Nx(H.pendingLanes);if(A!==0){var B=H;B.pendingLanes|=2;for(B.entangledLanes|=2;A;){var f=1<<31-Yp(A);B.entanglements[1]|=f,A&=~f}T1(H),(pP&6)===0&&(sB=z1()+500,m2(0,!1))}}break;case 13:B=px(H,2),B!==null&&oP(B,H,2),VD(),e6(H,2)}if(H=f6(h),H===null&&C4(P,p,h,BD,x),H===X)break;X=H}X!==null&&h.stopPropagation()}else C4(P,p,h,null,x)}}function f6(P){return P=M6(P),p7(P)}var BD=null;function p7(P){if(BD=null,P=_x(P),P!==null){var p=TX(P);if(p===null)P=null;else{var x=p.tag;if(x===13){if(P=LC(p),P!==null)return P;P=null}else if(x===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;P=null}else p!==P&&(P=null)}}return BD=P,null}function UF(P){switch(P){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(iw()){case FC:return 2;case bC:return 8;case SB:case mw:return 32;case MC:return 268435456;default:return 32}default:return 32}}var Z6=!1,t8=null,e8=null,Px=null,c2=new Map,v2=new Map,i8=[],hT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hC(P,p){switch(P){case"focusin":case"focusout":t8=null;break;case"dragenter":case"dragleave":e8=null;break;case"mouseover":case"mouseout":Px=null;break;case"pointerover":case"pointerout":c2.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":v2.delete(p.pointerId)}}function nH(P,p,x,h,X,H){if(P===null||P.nativeEvent!==H)return P={blockedOn:p,domEventName:x,eventSystemFlags:h,nativeEvent:H,targetContainers:[X]},p!==null&&(p=JX(p),p!==null&&vF(p)),P;return P.eventSystemFlags|=h,p=P.targetContainers,X!==null&&p.indexOf(X)===-1&&p.push(X),P}function XT(P,p,x,h,X){switch(p){case"focusin":return t8=nH(t8,P,p,x,h,X),!0;case"dragenter":return e8=nH(e8,P,p,x,h,X),!0;case"mouseover":return Px=nH(Px,P,p,x,h,X),!0;case"pointerover":var H=X.pointerId;return c2.set(H,nH(c2.get(H)||null,P,p,x,h,X)),!0;case"gotpointercapture":return H=X.pointerId,v2.set(H,nH(v2.get(H)||null,P,p,x,h,X)),!0}return!1}function GF(P){var p=_x(P.target);if(p!==null){var x=TX(p);if(x!==null){if(p=x.tag,p===13){if(p=LC(x),p!==null){P.blockedOn=p,Pk(P.priority,function(){if(x.tag===13){var h=Qp(),X=px(x,h);X!==null&&oP(X,x,h),e6(x,h)}});return}}else if(p===3&&x.stateNode.current.memoizedState.isDehydrated){P.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}P.blockedOn=null}function cB(P){if(P.blockedOn!==null)return!1;for(var p=P.targetContainers;0<p.length;){var x=f6(P.nativeEvent);if(x===null){x=P.nativeEvent;var h=new x.constructor(x.type,x);W4=h,x.target.dispatchEvent(h),W4=null}else return p=JX(x),p!==null&&vF(p),P.blockedOn=x,!1;p.shift()}return!0}function XC(P,p,x){cB(P)&&x.delete(p)}function HT(){Z6=!1,t8!==null&&cB(t8)&&(t8=null),e8!==null&&cB(e8)&&(e8=null),Px!==null&&cB(Px)&&(Px=null),c2.forEach(XC),v2.forEach(XC)}function VB(P,p){P.blockedOn===p&&(P.blockedOn=null,Z6||(Z6=!0,ih(_h,HT)))}var qB=null;function HC(P){qB!==P&&(qB=P,ih(_h,function(){qB===P&&(qB=null);for(var p=0;p<P.length;p+=3){var x=P[p],h=P[p+1],X=P[p+2];if(typeof h!=="function")if(p7(h||x)===null)continue;else break;var H=JX(x);H!==null&&(P.splice(p,3),p-=3,G4(H,{pending:!0,data:X,method:x.method,action:h},h,X))}}))}function U2(P){function p(f){return VB(f,P)}t8!==null&&VB(t8,P),e8!==null&&VB(e8,P),Px!==null&&VB(Px,P),c2.forEach(p),v2.forEach(p);for(var x=0;x<i8.length;x++){var h=i8[x];h.blockedOn===P&&(h.blockedOn=null)}for(;0<i8.length&&(x=i8[0],x.blockedOn===null);)GF(x),x.blockedOn===null&&i8.shift();if(x=(P.ownerDocument||P).$$reactFormReplay,x!=null)for(h=0;h<x.length;h+=3){var X=x[h],H=x[h+1],A=X[xp]||null;if(typeof H==="function")A||HC(x);else if(A){var B=null;if(H&&H.hasAttribute("formAction")){if(X=H,A=H[xp]||null)B=A.formAction;else if(p7(X)!==null)continue}else B=A.action;typeof B==="function"?x[h+1]=B:(x.splice(h,3),h-=3),HC(x)}}}function x7(P){this._internalRoot=P}ED.prototype.render=x7.prototype.render=function(P){var p=this._internalRoot;if(p===null)throw Error(n(409));var x=p.current,h=Qp();cF(x,h,P,p,null,null)};ED.prototype.unmount=x7.prototype.unmount=function(){var P=this._internalRoot;if(P!==null){this._internalRoot=null;var p=P.containerInfo;P.tag===0&&YX(),cF(P.current,2,null,P,null,null),VD(),p[jX]=null}};function ED(P){this._internalRoot=P}ED.prototype.unstable_scheduleHydration=function(P){if(P){var p=EC();P={blockedOn:null,target:P,priority:p};for(var x=0;x<i8.length&&p!==0&&p<i8[x].priority;x++);i8.splice(x,0,P),x===0&&GF(P)}};var AC=DD.version;if(AC!=="19.0.0")throw Error(n(527,AC,"19.0.0"));u0.findDOMNode=function(P){var p=P._reactInternals;if(p===void 0){if(typeof P.render==="function")throw Error(n(188));throw P=Object.keys(P).join(","),Error(n(268,P))}return P=gw(p),P=P!==null?CC(P):null,P=P===null?null:P.stateNode,P};var AT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:E0,findFiberByHostInstance:_x,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"){if(th=__REACT_DEVTOOLS_GLOBAL_HOOK__,!th.isDisabled&&th.supportsFiber)try{G2=th.inject(AT),Mp=th}catch(P){}}var th;BT.createRoot=function(P,p){if(!DC(P))throw Error(n(299));var x=!1,h="",X=c3,H=v3,A=U3,B=null;return p!==null&&p!==void 0&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(h=p.identifierPrefix),p.onUncaughtError!==void 0&&(X=p.onUncaughtError),p.onCaughtError!==void 0&&(H=p.onCaughtError),p.onRecoverableError!==void 0&&(A=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(B=p.unstable_transitionCallbacks)),p=KF(P,1,!1,null,null,x,h,X,H,A,B,null),P[jX]=p.current,n6(P.nodeType===8?P.parentNode:P),new x7(p)};BT.hydrateRoot=function(P,p,x){if(!DC(P))throw Error(n(299));var h=!1,X="",H=c3,A=v3,B=U3,f=null,D=null;return x!==null&&x!==void 0&&(x.unstable_strictMode===!0&&(h=!0),x.identifierPrefix!==void 0&&(X=x.identifierPrefix),x.onUncaughtError!==void 0&&(H=x.onUncaughtError),x.onCaughtError!==void 0&&(A=x.onCaughtError),x.onRecoverableError!==void 0&&(B=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(f=x.unstable_transitionCallbacks),x.formState!==void 0&&(D=x.formState)),p=KF(P,1,!0,p,x!=null?x:null,h,X,H,A,B,f,D),p.context=RF(null),x=p.current,h=Qp(),X=a8(h),X.callback=null,r8(x,X,h),p.current.lanes=h,l2(p,h),T1(p),P[jX]=p.current,n6(P),new ED(p)};BT.version="19.0.0"});var OF=M0((ql,NF)=>{function lF(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lF)}catch(P){console.error(P)}}lF(),NF.exports=SF()});var f8={};sA(f8,{transcode:()=>Pj,resolveObjectURL:()=>sT,kStringMaxLength:()=>sF,kMaxLength:()=>a2,isUtf8:()=>tT,isAscii:()=>eT,default:()=>pj,constants:()=>kT,btoa:()=>IT,atob:()=>ET,INSPECT_MAX_BYTES:()=>qT,File:()=>zT,Buffer:()=>o,Blob:()=>wT});function bT(P){var p=P.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=P.indexOf("=");if(x===-1)x=p;var h=x===p?0:4-x%4;return[x,h]}function MT(P,p){return(P+p)*3/4-p}function YT(P){var p,x=bT(P),h=x[0],X=x[1],H=new Uint8Array(MT(h,X)),A=0,B=X>0?h-4:h,f;for(f=0;f<B;f+=4)p=yp[P.charCodeAt(f)]<<18|yp[P.charCodeAt(f+1)]<<12|yp[P.charCodeAt(f+2)]<<6|yp[P.charCodeAt(f+3)],H[A++]=p>>16&255,H[A++]=p>>8&255,H[A++]=p&255;if(X===2)p=yp[P.charCodeAt(f)]<<2|yp[P.charCodeAt(f+1)]>>4,H[A++]=p&255;if(X===1)p=yp[P.charCodeAt(f)]<<10|yp[P.charCodeAt(f+1)]<<4|yp[P.charCodeAt(f+2)]>>2,H[A++]=p>>8&255,H[A++]=p&255;return H}function QT(P){return j1[P>>18&63]+j1[P>>12&63]+j1[P>>6&63]+j1[P&63]}function VT(P,p,x){var h,X=[];for(var H=p;H<x;H+=3)h=(P[H]<<16&16711680)+(P[H+1]<<8&65280)+(P[H+2]&255),X.push(QT(h));return X.join("")}function mF(P){var p,x=P.length,h=x%3,X=[],H=16383;for(var A=0,B=x-h;A<B;A+=H)X.push(VT(P,A,A+H>B?B:A+H));if(h===1)p=P[x-1],X.push(j1[p>>2]+j1[p<<4&63]+"==");else if(h===2)p=(P[x-2]<<8)+P[x-1],X.push(j1[p>>10]+j1[p>>4&63]+j1[p<<2&63]+"=");return X.join("")}function zD(P,p,x,h,X){var H,A,B=X*8-h-1,f=(1<<B)-1,D=f>>1,Z=-7,L=x?X-1:0,$=x?-1:1,C=P[p+L];L+=$,H=C&(1<<-Z)-1,C>>=-Z,Z+=B;for(;Z>0;H=H*256+P[p+L],L+=$,Z-=8);A=H&(1<<-Z)-1,H>>=-Z,Z+=h;for(;Z>0;A=A*256+P[p+L],L+=$,Z-=8);if(H===0)H=1-D;else if(H===f)return A?NaN:(C?-1:1)*(1/0);else A=A+Math.pow(2,h),H=H-D;return(C?-1:1)*A*Math.pow(2,H-h)}function nF(P,p,x,h,X,H){var A,B,f,D=H*8-X-1,Z=(1<<D)-1,L=Z>>1,$=X===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=h?0:H-1,Y=h?1:-1,V=p<0||p===0&&1/p<0?1:0;if(p=Math.abs(p),isNaN(p)||p===1/0)B=isNaN(p)?1:0,A=Z;else{if(A=Math.floor(Math.log(p)/Math.LN2),p*(f=Math.pow(2,-A))<1)A--,f*=2;if(A+L>=1)p+=$/f;else p+=$*Math.pow(2,1-L);if(p*f>=2)A++,f/=2;if(A+L>=Z)B=0,A=Z;else if(A+L>=1)B=(p*f-1)*Math.pow(2,X),A=A+L;else B=p*Math.pow(2,L-1)*Math.pow(2,X),A=0}for(;X>=8;P[x+C]=B&255,C+=Y,B/=256,X-=8);A=A<<X|B,D+=X;for(;D>0;P[x+C]=A&255,C+=Y,A/=256,D-=8);P[x+C-Y]|=V*128}function D8(P){if(P>a2)throw new RangeError('The value "'+P+'" is invalid for option "size"');let p=new Uint8Array(P);return Object.setPrototypeOf(p,o.prototype),p}function D7(P,p,x){return class h extends x{constructor(){super();Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,this.stack,delete this.name}get code(){return P}set code(X){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:X,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}}}function o(P,p,x){if(typeof P==="number"){if(typeof p==="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f7(P)}return tF(P,p,x)}function tF(P,p,x){if(typeof P==="string")return JT(P,p);if(ArrayBuffer.isView(P))return dT(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(J1(P,ArrayBuffer)||P&&J1(P.buffer,ArrayBuffer))return A7(P,p,x);if(typeof SharedArrayBuffer!=="undefined"&&(J1(P,SharedArrayBuffer)||P&&J1(P.buffer,SharedArrayBuffer)))return A7(P,p,x);if(typeof P==="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let h=P.valueOf&&P.valueOf();if(h!=null&&h!==P)return o.from(h,p,x);let X=KT(P);if(X)return X;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]==="function")return o.from(P[Symbol.toPrimitive]("string"),p,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function eF(P){if(typeof P!=="number")throw new TypeError('"size" argument must be of type number');else if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function jT(P,p,x){if(eF(P),P<=0)return D8(P);if(p!==void 0)return typeof x==="string"?D8(P).fill(p,x):D8(P).fill(p);return D8(P)}function f7(P){return eF(P),D8(P<0?0:Z7(P)|0)}function JT(P,p){if(typeof p!=="string"||p==="")p="utf8";if(!o.isEncoding(p))throw new TypeError("Unknown encoding: "+p);let x=Pb(P,p)|0,h=D8(x),X=h.write(P,p);if(X!==x)h=h.slice(0,X);return h}function H7(P){let p=P.length<0?0:Z7(P.length)|0,x=D8(p);for(let h=0;h<p;h+=1)x[h]=P[h]&255;return x}function dT(P){if(J1(P,Uint8Array)){let p=new Uint8Array(P);return A7(p.buffer,p.byteOffset,p.byteLength)}return H7(P)}function A7(P,p,x){if(p<0||P.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<p+(x||0))throw new RangeError('"length" is outside of buffer bounds');let h;if(p===void 0&&x===void 0)h=new Uint8Array(P);else if(x===void 0)h=new Uint8Array(P,p);else h=new Uint8Array(P,p,x);return Object.setPrototypeOf(h,o.prototype),h}function KT(P){if(o.isBuffer(P)){let p=Z7(P.length)|0,x=D8(p);if(x.length===0)return x;return P.copy(x,0,0,p),x}if(P.length!==void 0){if(typeof P.length!=="number"||numberIsNaN(P.length))return D8(0);return H7(P)}if(P.type==="Buffer"&&Array.isArray(P.data))return H7(P.data)}function Z7(P){if(P>=a2)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a2.toString(16)+" bytes");return P|0}function Pb(P,p){if(o.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||J1(P,ArrayBuffer))return P.byteLength;if(typeof P!=="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);let x=P.length,h=arguments.length>2&&arguments[2]===!0;if(!h&&x===0)return 0;let X=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return B7(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return fb(P).length;default:if(X)return h?-1:B7(P).length;p=(""+p).toLowerCase(),X=!0}}function RT(P,p,x){let h=!1;if(p===void 0||p<0)p=0;if(p>this.length)return"";if(x===void 0||x>this.length)x=this.length;if(x<=0)return"";if(x>>>=0,p>>>=0,x<=p)return"";if(!P)P="utf8";while(!0)switch(P){case"hex":return yT(this,p,x);case"utf8":case"utf-8":return xb(this,p,x);case"ascii":return OT(this,p,x);case"latin1":case"binary":return gT(this,p,x);case"base64":return lT(this,p,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _T(this,p,x);default:if(h)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),h=!0}}function fh(P,p,x){let h=P[p];P[p]=P[x],P[x]=h}function pb(P,p,x,h,X){if(P.length===0)return-1;if(typeof x==="string")h=x,x=0;else if(x>2147483647)x=2147483647;else if(x<-2147483648)x=-2147483648;if(x=+x,Number.isNaN(x))x=X?0:P.length-1;if(x<0)x=P.length+x;if(x>=P.length)if(X)return-1;else x=P.length-1;else if(x<0)if(X)x=0;else return-1;if(typeof p==="string")p=o.from(p,h);if(o.isBuffer(p)){if(p.length===0)return-1;return oF(P,p,x,h,X)}else if(typeof p==="number"){if(p=p&255,typeof Uint8Array.prototype.indexOf==="function")if(X)return Uint8Array.prototype.indexOf.call(P,p,x);else return Uint8Array.prototype.lastIndexOf.call(P,p,x);return oF(P,[p],x,h,X)}throw new TypeError("val must be string, number or Buffer")}function oF(P,p,x,h,X){let H=1,A=P.length,B=p.length;if(h!==void 0){if(h=String(h).toLowerCase(),h==="ucs2"||h==="ucs-2"||h==="utf16le"||h==="utf-16le"){if(P.length<2||p.length<2)return-1;H=2,A/=2,B/=2,x/=2}}function f(Z,L){if(H===1)return Z[L];else return Z.readUInt16BE(L*H)}let D;if(X){let Z=-1;for(D=x;D<A;D++)if(f(P,D)===f(p,Z===-1?0:D-Z)){if(Z===-1)Z=D;if(D-Z+1===B)return Z*H}else{if(Z!==-1)D-=D-Z;Z=-1}}else{if(x+B>A)x=A-B;for(D=x;D>=0;D--){let Z=!0;for(let L=0;L<B;L++)if(f(P,D+L)!==f(p,L)){Z=!1;break}if(Z)return D}}return-1}function cT(P,p,x,h){x=Number(x)||0;let X=P.length-x;if(!h)h=X;else if(h=Number(h),h>X)h=X;let H=p.length;if(h>H/2)h=H/2;let A;for(A=0;A<h;++A){let B=parseInt(p.substr(A*2,2),16);if(numberIsNaN(B))return A;P[x+A]=B}return A}function vT(P,p,x,h){return wD(B7(p,P.length-x),P,x,h)}function UT(P,p,x,h){return wD(oT(p),P,x,h)}function GT(P,p,x,h){return wD(fb(p),P,x,h)}function ST(P,p,x,h){return wD(aT(p,P.length-x),P,x,h)}function lT(P,p,x){if(p===0&&x===P.length)return mF(P);else return mF(P.slice(p,x))}function xb(P,p,x){x=Math.min(P.length,x);let h=[],X=p;while(X<x){let H=P[X],A=null,B=H>239?4:H>223?3:H>191?2:1;if(X+B<=x){let f,D,Z,L;switch(B){case 1:if(H<128)A=H;break;case 2:if(f=P[X+1],(f&192)===128){if(L=(H&31)<<6|f&63,L>127)A=L}break;case 3:if(f=P[X+1],D=P[X+2],(f&192)===128&&(D&192)===128){if(L=(H&15)<<12|(f&63)<<6|D&63,L>2047&&(L<55296||L>57343))A=L}break;case 4:if(f=P[X+1],D=P[X+2],Z=P[X+3],(f&192)===128&&(D&192)===128&&(Z&192)===128){if(L=(H&15)<<18|(f&63)<<12|(D&63)<<6|Z&63,L>65535&&L<1114112)A=L}}}if(A===null)A=65533,B=1;else if(A>65535)A-=65536,h.push(A>>>10&1023|55296),A=56320|A&1023;h.push(A),X+=B}return NT(h)}function NT(P){let p=P.length;if(p<=aF)return String.fromCharCode.apply(String,P);let x="",h=0;while(h<p)x+=String.fromCharCode.apply(String,P.slice(h,h+=aF));return x}function OT(P,p,x){let h="";x=Math.min(P.length,x);for(let X=p;X<x;++X)h+=String.fromCharCode(P[X]&127);return h}function gT(P,p,x){let h="";x=Math.min(P.length,x);for(let X=p;X<x;++X)h+=String.fromCharCode(P[X]);return h}function yT(P,p,x){let h=P.length;if(!p||p<0)p=0;if(!x||x<0||x>h)x=h;let X="";for(let H=p;H<x;++H)X+=rT[P[H]];return X}function _T(P,p,x){let h=P.slice(p,x),X="";for(let H=0;H<h.length-1;H+=2)X+=String.fromCharCode(h[H]+h[H+1]*256);return X}function KP(P,p,x){if(P%1!==0||P<0)throw new RangeError("offset is not uint");if(P+p>x)throw new RangeError("Trying to access beyond buffer length")}function Xp(P,p,x,h,X,H){if(!o.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>X||p<H)throw new RangeError('"value" argument is out of bounds');if(x+h>P.length)throw new RangeError("Index out of range")}function hb(P,p,x,h,X){Db(p,h,X,P,x,7);let H=Number(p&BigInt(4294967295));P[x++]=H,H=H>>8,P[x++]=H,H=H>>8,P[x++]=H,H=H>>8,P[x++]=H;let A=Number(p>>BigInt(32)&BigInt(4294967295));return P[x++]=A,A=A>>8,P[x++]=A,A=A>>8,P[x++]=A,A=A>>8,P[x++]=A,x}function Xb(P,p,x,h,X){Db(p,h,X,P,x,7);let H=Number(p&BigInt(4294967295));P[x+7]=H,H=H>>8,P[x+6]=H,H=H>>8,P[x+5]=H,H=H>>8,P[x+4]=H;let A=Number(p>>BigInt(32)&BigInt(4294967295));return P[x+3]=A,A=A>>8,P[x+2]=A,A=A>>8,P[x+1]=A,A=A>>8,P[x]=A,x+8}function Hb(P,p,x,h,X,H){if(x+h>P.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function Ab(P,p,x,h,X){if(p=+p,x=x>>>0,!X)Hb(P,p,x,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000);return nF(P,p,x,h,23,4),x+4}function Bb(P,p,x,h,X){if(p=+p,x=x>>>0,!X)Hb(P,p,x,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);return nF(P,p,x,h,52,8),x+8}function rF(P){let p="",x=P.length,h=P[0]==="-"?1:0;for(;x>=h+4;x-=3)p=`_${P.slice(x-3,x)}${p}`;return`${P.slice(0,x)}${p}`}function iT(P,p,x){if(cX(p,"offset"),P[p]===void 0||P[p+x]===void 0)r2(p,P.length-(x+1))}function Db(P,p,x,h,X,H){if(P>x||P<p){let A=typeof p==="bigint"?"n":"",B;if(H>3)if(p===0||p===BigInt(0))B=`>= 0${A} and < 2${A} ** ${(H+1)*8}${A}`;else B=`>= -(2${A} ** ${(H+1)*8-1}${A}) and < 2 ** ${(H+1)*8-1}${A}`;else B=`>= ${p}${A} and <= ${x}${A}`;throw new X7("value",B,P)}iT(h,X,H)}function cX(P,p){if(typeof P!=="number")throw new TT(p,"number",P)}function r2(P,p,x){if(Math.floor(P)!==P)throw cX(P,x),new X7(x||"offset","an integer",P);if(p<0)throw new WT;throw new X7(x||"offset",`>= ${x?1:0} and <= ${p}`,P)}function uT(P){if(P=P.split("=")[0],P=P.trim().replace(mT,""),P.length<2)return"";while(P.length%4!==0)P=P+"=";return P}function B7(P,p){p=p||1/0;let x,h=P.length,X=null,H=[];for(let A=0;A<h;++A){if(x=P.charCodeAt(A),x>55295&&x<57344){if(!X){if(x>56319){if((p-=3)>-1)H.push(239,191,189);continue}else if(A+1===h){if((p-=3)>-1)H.push(239,191,189);continue}X=x;continue}if(x<56320){if((p-=3)>-1)H.push(239,191,189);X=x;continue}x=(X-55296<<10|x-56320)+65536}else if(X){if((p-=3)>-1)H.push(239,191,189)}if(X=null,x<128){if((p-=1)<0)break;H.push(x)}else if(x<2048){if((p-=2)<0)break;H.push(x>>6|192,x&63|128)}else if(x<65536){if((p-=3)<0)break;H.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((p-=4)<0)break;H.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return H}function oT(P){let p=[];for(let x=0;x<P.length;++x)p.push(P.charCodeAt(x)&255);return p}function aT(P,p){let x,h,X,H=[];for(let A=0;A<P.length;++A){if((p-=2)<0)break;x=P.charCodeAt(A),h=x>>8,X=x%256,H.push(X),H.push(h)}return H}function fb(P){return YT(uT(P))}function wD(P,p,x,h){let X;for(X=0;X<h;++X){if(X+x>=p.length||X>=P.length)break;p[X+x]=P[X]}return X}function J1(P,p){return P instanceof p||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===p.name}function Dx(P){return typeof BigInt==="undefined"?nT:P}function nT(){throw new Error("BigInt not supported")}function $7(P){return()=>{throw new Error(P+" is not implemented for node:buffer browser polyfill")}}var j1,yp,h7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dh,iF,uF,qT=50,a2=2147483647,sF=536870888,IT,ET,zT,wT,kT,WT,TT,X7,aF=4096,mT,rT,sT,tT,eT=(P)=>{for(let p of P)if(p.charCodeAt(0)>127)return!1;return!0},Pj,pj;var Z8=lH(()=>{j1=[],yp=[];for(Dh=0,iF=h7.length;Dh<iF;++Dh)j1[Dh]=h7[Dh],yp[h7.charCodeAt(Dh)]=Dh;yp[45]=62;yp[95]=63;uF=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):null,IT=globalThis.btoa,ET=globalThis.atob,zT=globalThis.File,wT=globalThis.Blob,kT={MAX_LENGTH:a2,MAX_STRING_LENGTH:sF};WT=D7("ERR_BUFFER_OUT_OF_BOUNDS",function(P){if(P)return`${P} is outside of buffer bounds`;return"Attempt to access memory outside buffer bounds"},RangeError),TT=D7("ERR_INVALID_ARG_TYPE",function(P,p){return`The "${P}" argument must be of type number. Received type ${typeof p}`},TypeError),X7=D7("ERR_OUT_OF_RANGE",function(P,p,x){let h=`The value of "${P}" is out of range.`,X=x;if(Number.isInteger(x)&&Math.abs(x)>4294967296)X=rF(String(x));else if(typeof x==="bigint"){if(X=String(x),x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))X=rF(X);X+="n"}return h+=` It must be ${p}. Received ${X}`,h},RangeError);Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(!o.isBuffer(this))return;return this.buffer}});Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(!o.isBuffer(this))return;return this.byteOffset}});o.poolSize=8192;o.from=function(P,p,x){return tF(P,p,x)};Object.setPrototypeOf(o.prototype,Uint8Array.prototype);Object.setPrototypeOf(o,Uint8Array);o.alloc=function(P,p,x){return jT(P,p,x)};o.allocUnsafe=function(P){return f7(P)};o.allocUnsafeSlow=function(P){return f7(P)};o.isBuffer=function P(p){return p!=null&&p._isBuffer===!0&&p!==o.prototype};o.compare=function P(p,x){if(J1(p,Uint8Array))p=o.from(p,p.offset,p.byteLength);if(J1(x,Uint8Array))x=o.from(x,x.offset,x.byteLength);if(!o.isBuffer(p)||!o.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===x)return 0;let h=p.length,X=x.length;for(let H=0,A=Math.min(h,X);H<A;++H)if(p[H]!==x[H]){h=p[H],X=x[H];break}if(h<X)return-1;if(X<h)return 1;return 0};o.isEncoding=function P(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};o.concat=function P(p,x){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return o.alloc(0);let h;if(x===void 0){x=0;for(h=0;h<p.length;++h)x+=p[h].length}let X=o.allocUnsafe(x),H=0;for(h=0;h<p.length;++h){let A=p[h];if(J1(A,Uint8Array))if(H+A.length>X.length){if(!o.isBuffer(A))A=o.from(A);A.copy(X,H)}else Uint8Array.prototype.set.call(X,A,H);else if(!o.isBuffer(A))throw new TypeError('"list" argument must be an Array of Buffers');else A.copy(X,H);H+=A.length}return X};o.byteLength=Pb;o.prototype._isBuffer=!0;o.prototype.swap16=function P(){let p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<p;x+=2)fh(this,x,x+1);return this};o.prototype.swap32=function P(){let p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<p;x+=4)fh(this,x,x+3),fh(this,x+1,x+2);return this};o.prototype.swap64=function P(){let p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<p;x+=8)fh(this,x,x+7),fh(this,x+1,x+6),fh(this,x+2,x+5),fh(this,x+3,x+4);return this};o.prototype.toString=function P(){let p=this.length;if(p===0)return"";if(arguments.length===0)return xb(this,0,p);return RT.apply(this,arguments)};o.prototype.toLocaleString=o.prototype.toString;o.prototype.equals=function P(p){if(!o.isBuffer(p))throw new TypeError("Argument must be a Buffer");if(this===p)return!0;return o.compare(this,p)===0};o.prototype.inspect=function P(){let p="",x=exports_buffer.INSPECT_MAX_BYTES;if(p=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x)p+=" ... ";return"<Buffer "+p+">"};if(uF)o.prototype[uF]=o.prototype.inspect;o.prototype.compare=function P(p,x,h,X,H){if(J1(p,Uint8Array))p=o.from(p,p.offset,p.byteLength);if(!o.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(x===void 0)x=0;if(h===void 0)h=p?p.length:0;if(X===void 0)X=0;if(H===void 0)H=this.length;if(x<0||h>p.length||X<0||H>this.length)throw new RangeError("out of range index");if(X>=H&&x>=h)return 0;if(X>=H)return-1;if(x>=h)return 1;if(x>>>=0,h>>>=0,X>>>=0,H>>>=0,this===p)return 0;let A=H-X,B=h-x,f=Math.min(A,B),D=this.slice(X,H),Z=p.slice(x,h);for(let L=0;L<f;++L)if(D[L]!==Z[L]){A=D[L],B=Z[L];break}if(A<B)return-1;if(B<A)return 1;return 0};o.prototype.includes=function P(p,x,h){return this.indexOf(p,x,h)!==-1};o.prototype.indexOf=function P(p,x,h){return pb(this,p,x,h,!0)};o.prototype.lastIndexOf=function P(p,x,h){return pb(this,p,x,h,!1)};o.prototype.write=function P(p,x,h,X){if(x===void 0)X="utf8",h=this.length,x=0;else if(h===void 0&&typeof x==="string")X=x,h=this.length,x=0;else if(isFinite(x))if(x=x>>>0,isFinite(h)){if(h=h>>>0,X===void 0)X="utf8"}else X=h,h=void 0;else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let H=this.length-x;if(h===void 0||h>H)h=H;if(p.length>0&&(h<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");if(!X)X="utf8";let A=!1;for(;;)switch(X){case"hex":return cT(this,p,x,h);case"utf8":case"utf-8":return vT(this,p,x,h);case"ascii":case"latin1":case"binary":return UT(this,p,x,h);case"base64":return GT(this,p,x,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ST(this,p,x,h);default:if(A)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),A=!0}};o.prototype.toJSON=function P(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};o.prototype.slice=function P(p,x){let h=this.length;if(p=~~p,x=x===void 0?h:~~x,p<0){if(p+=h,p<0)p=0}else if(p>h)p=h;if(x<0){if(x+=h,x<0)x=0}else if(x>h)x=h;if(x<p)x=p;let X=this.subarray(p,x);return Object.setPrototypeOf(X,o.prototype),X};o.prototype.readUintLE=o.prototype.readUIntLE=function P(p,x,h){if(p=p>>>0,x=x>>>0,!h)KP(p,x,this.length);let X=this[p],H=1,A=0;while(++A<x&&(H*=256))X+=this[p+A]*H;return X};o.prototype.readUintBE=o.prototype.readUIntBE=function P(p,x,h){if(p=p>>>0,x=x>>>0,!h)KP(p,x,this.length);let X=this[p+--x],H=1;while(x>0&&(H*=256))X+=this[p+--x]*H;return X};o.prototype.readUint8=o.prototype.readUInt8=function P(p,x){if(p=p>>>0,!x)KP(p,1,this.length);return this[p]};o.prototype.readUint16LE=o.prototype.readUInt16LE=function P(p,x){if(p=p>>>0,!x)KP(p,2,this.length);return this[p]|this[p+1]<<8};o.prototype.readUint16BE=o.prototype.readUInt16BE=function P(p,x){if(p=p>>>0,!x)KP(p,2,this.length);return this[p]<<8|this[p+1]};o.prototype.readUint32LE=o.prototype.readUInt32LE=function P(p,x){if(p=p>>>0,!x)KP(p,4,this.length);return(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216};o.prototype.readUint32BE=o.prototype.readUInt32BE=function P(p,x){if(p=p>>>0,!x)KP(p,4,this.length);return this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])};o.prototype.readBigUInt64LE=Dx(function P(p){p=p>>>0,cX(p,"offset");let x=this[p],h=this[p+7];if(x===void 0||h===void 0)r2(p,this.length-8);let X=x+this[++p]*256+this[++p]*65536+this[++p]*16777216,H=this[++p]+this[++p]*256+this[++p]*65536+h*16777216;return BigInt(X)+(BigInt(H)<<BigInt(32))});o.prototype.readBigUInt64BE=Dx(function P(p){p=p>>>0,cX(p,"offset");let x=this[p],h=this[p+7];if(x===void 0||h===void 0)r2(p,this.length-8);let X=x*16777216+this[++p]*65536+this[++p]*256+this[++p],H=this[++p]*16777216+this[++p]*65536+this[++p]*256+h;return(BigInt(X)<<BigInt(32))+BigInt(H)});o.prototype.readIntLE=function P(p,x,h){if(p=p>>>0,x=x>>>0,!h)KP(p,x,this.length);let X=this[p],H=1,A=0;while(++A<x&&(H*=256))X+=this[p+A]*H;if(H*=128,X>=H)X-=Math.pow(2,8*x);return X};o.prototype.readIntBE=function P(p,x,h){if(p=p>>>0,x=x>>>0,!h)KP(p,x,this.length);let X=x,H=1,A=this[p+--X];while(X>0&&(H*=256))A+=this[p+--X]*H;if(H*=128,A>=H)A-=Math.pow(2,8*x);return A};o.prototype.readInt8=function P(p,x){if(p=p>>>0,!x)KP(p,1,this.length);if(!(this[p]&128))return this[p];return(255-this[p]+1)*-1};o.prototype.readInt16LE=function P(p,x){if(p=p>>>0,!x)KP(p,2,this.length);let h=this[p]|this[p+1]<<8;return h&32768?h|4294901760:h};o.prototype.readInt16BE=function P(p,x){if(p=p>>>0,!x)KP(p,2,this.length);let h=this[p+1]|this[p]<<8;return h&32768?h|4294901760:h};o.prototype.readInt32LE=function P(p,x){if(p=p>>>0,!x)KP(p,4,this.length);return this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24};o.prototype.readInt32BE=function P(p,x){if(p=p>>>0,!x)KP(p,4,this.length);return this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]};o.prototype.readBigInt64LE=Dx(function P(p){p=p>>>0,cX(p,"offset");let x=this[p],h=this[p+7];if(x===void 0||h===void 0)r2(p,this.length-8);let X=this[p+4]+this[p+5]*256+this[p+6]*65536+(h<<24);return(BigInt(X)<<BigInt(32))+BigInt(x+this[++p]*256+this[++p]*65536+this[++p]*16777216)});o.prototype.readBigInt64BE=Dx(function P(p){p=p>>>0,cX(p,"offset");let x=this[p],h=this[p+7];if(x===void 0||h===void 0)r2(p,this.length-8);let X=(x<<24)+this[++p]*65536+this[++p]*256+this[++p];return(BigInt(X)<<BigInt(32))+BigInt(this[++p]*16777216+this[++p]*65536+this[++p]*256+h)});o.prototype.readFloatLE=function P(p,x){if(p=p>>>0,!x)KP(p,4,this.length);return zD(this,p,!0,23,4)};o.prototype.readFloatBE=function P(p,x){if(p=p>>>0,!x)KP(p,4,this.length);return zD(this,p,!1,23,4)};o.prototype.readDoubleLE=function P(p,x){if(p=p>>>0,!x)KP(p,8,this.length);return zD(this,p,!0,52,8)};o.prototype.readDoubleBE=function P(p,x){if(p=p>>>0,!x)KP(p,8,this.length);return zD(this,p,!1,52,8)};o.prototype.writeUintLE=o.prototype.writeUIntLE=function P(p,x,h,X){if(p=+p,x=x>>>0,h=h>>>0,!X){let B=Math.pow(2,8*h)-1;Xp(this,p,x,h,B,0)}let H=1,A=0;this[x]=p&255;while(++A<h&&(H*=256))this[x+A]=p/H&255;return x+h};o.prototype.writeUintBE=o.prototype.writeUIntBE=function P(p,x,h,X){if(p=+p,x=x>>>0,h=h>>>0,!X){let B=Math.pow(2,8*h)-1;Xp(this,p,x,h,B,0)}let H=h-1,A=1;this[x+H]=p&255;while(--H>=0&&(A*=256))this[x+H]=p/A&255;return x+h};o.prototype.writeUint8=o.prototype.writeUInt8=function P(p,x,h){if(p=+p,x=x>>>0,!h)Xp(this,p,x,1,255,0);return this[x]=p&255,x+1};o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function P(p,x,h){if(p=+p,x=x>>>0,!h)Xp(this,p,x,2,65535,0);return this[x]=p&255,this[x+1]=p>>>8,x+2};o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function P(p,x,h){if(p=+p,x=x>>>0,!h)Xp(this,p,x,2,65535,0);return this[x]=p>>>8,this[x+1]=p&255,x+2};o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function P(p,x,h){if(p=+p,x=x>>>0,!h)Xp(this,p,x,4,4294967295,0);return this[x+3]=p>>>24,this[x+2]=p>>>16,this[x+1]=p>>>8,this[x]=p&255,x+4};o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function P(p,x,h){if(p=+p,x=x>>>0,!h)Xp(this,p,x,4,4294967295,0);return this[x]=p>>>24,this[x+1]=p>>>16,this[x+2]=p>>>8,this[x+3]=p&255,x+4};o.prototype.writeBigUInt64LE=Dx(function P(p,x=0){return hb(this,p,x,BigInt(0),BigInt("0xffffffffffffffff"))});o.prototype.writeBigUInt64BE=Dx(function P(p,x=0){return Xb(this,p,x,BigInt(0),BigInt("0xffffffffffffffff"))});o.prototype.writeIntLE=function P(p,x,h,X){if(p=+p,x=x>>>0,!X){let f=Math.pow(2,8*h-1);Xp(this,p,x,h,f-1,-f)}let H=0,A=1,B=0;this[x]=p&255;while(++H<h&&(A*=256)){if(p<0&&B===0&&this[x+H-1]!==0)B=1;this[x+H]=(p/A>>0)-B&255}return x+h};o.prototype.writeIntBE=function P(p,x,h,X){if(p=+p,x=x>>>0,!X){let f=Math.pow(2,8*h-1);Xp(this,p,x,h,f-1,-f)}let H=h-1,A=1,B=0;this[x+H]=p&255;while(--H>=0&&(A*=256)){if(p<0&&B===0&&this[x+H+1]!==0)B=1;this[x+H]=(p/A>>0)-B&255}return x+h};o.prototype.writeInt8=function P(p,x,h){if(p=+p,x=x>>>0,!h)Xp(this,p,x,1,127,-128);if(p<0)p=255+p+1;return this[x]=p&255,x+1};o.prototype.writeInt16LE=function P(p,x,h){if(p=+p,x=x>>>0,!h)Xp(this,p,x,2,32767,-32768);return this[x]=p&255,this[x+1]=p>>>8,x+2};o.prototype.writeInt16BE=function P(p,x,h){if(p=+p,x=x>>>0,!h)Xp(this,p,x,2,32767,-32768);return this[x]=p>>>8,this[x+1]=p&255,x+2};o.prototype.writeInt32LE=function P(p,x,h){if(p=+p,x=x>>>0,!h)Xp(this,p,x,4,2147483647,-2147483648);return this[x]=p&255,this[x+1]=p>>>8,this[x+2]=p>>>16,this[x+3]=p>>>24,x+4};o.prototype.writeInt32BE=function P(p,x,h){if(p=+p,x=x>>>0,!h)Xp(this,p,x,4,2147483647,-2147483648);if(p<0)p=4294967295+p+1;return this[x]=p>>>24,this[x+1]=p>>>16,this[x+2]=p>>>8,this[x+3]=p&255,x+4};o.prototype.writeBigInt64LE=Dx(function P(p,x=0){return hb(this,p,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});o.prototype.writeBigInt64BE=Dx(function P(p,x=0){return Xb(this,p,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});o.prototype.writeFloatLE=function P(p,x,h){return Ab(this,p,x,!0,h)};o.prototype.writeFloatBE=function P(p,x,h){return Ab(this,p,x,!1,h)};o.prototype.writeDoubleLE=function P(p,x,h){return Bb(this,p,x,!0,h)};o.prototype.writeDoubleBE=function P(p,x,h){return Bb(this,p,x,!1,h)};o.prototype.copy=function P(p,x,h,X){if(!o.isBuffer(p))throw new TypeError("argument should be a Buffer");if(!h)h=0;if(!X&&X!==0)X=this.length;if(x>=p.length)x=p.length;if(!x)x=0;if(X>0&&X<h)X=h;if(X===h)return 0;if(p.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");if(X>this.length)X=this.length;if(p.length-x<X-h)X=p.length-x+h;let H=X-h;if(this===p&&typeof Uint8Array.prototype.copyWithin==="function")this.copyWithin(x,h,X);else Uint8Array.prototype.set.call(p,this.subarray(h,X),x);return H};o.prototype.fill=function P(p,x,h,X){if(typeof p==="string"){if(typeof x==="string")X=x,x=0,h=this.length;else if(typeof h==="string")X=h,h=this.length;if(X!==void 0&&typeof X!=="string")throw new TypeError("encoding must be a string");if(typeof X==="string"&&!o.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(p.length===1){let A=p.charCodeAt(0);if(X==="utf8"&&A<128||X==="latin1")p=A}}else if(typeof p==="number")p=p&255;else if(typeof p==="boolean")p=Number(p);if(x<0||this.length<x||this.length<h)throw new RangeError("Out of range index");if(h<=x)return this;if(x=x>>>0,h=h===void 0?this.length:h>>>0,!p)p=0;let H;if(typeof p==="number")for(H=x;H<h;++H)this[H]=p;else{let A=o.isBuffer(p)?p:o.from(p,X),B=A.length;if(B===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(H=0;H<h-x;++H)this[H+x]=A[H%B]}return this};mT=/[^+/0-9A-Za-z-_]/g;rT=function(){let P=new Array(256);for(let p=0;p<16;++p){let x=p*16;for(let h=0;h<16;++h)P[x+h]="0123456789abcdef"[p]+"0123456789abcdef"[h]}return P}();sT=$7("resolveObjectURL"),tT=$7("isUtf8"),Pj=$7("transcode"),pj=o});var s2={};sA(s2,{setMaxListeners:()=>qb,once:()=>Qb,listenerCount:()=>Ib,init:()=>fx,getMaxListeners:()=>zb,getEventListeners:()=>Vb,default:()=>Zj,captureRejectionSymbol:()=>Fb,addAbortListener:()=>wb,EventEmitter:()=>fx});function bb(P,p){var{_events:x}=P;if(p[0]??=new Error("Unhandled error."),!x)throw p[0];var h=x[Cb];if(h)for(var X of $b.$call(h))X.$apply(P,p);var H=x.error;if(!H)throw p[0];for(var X of $b.$call(H))X.$apply(P,p);return!0}function Xj(P,p,x,h){p.then(void 0,function(X){process.nextTick(Hj,P,X,x,h)})}function Hj(P,p,x,h){if(typeof P[Zb]==="function")P[Zb](p,x,...h);else try{P[Zh]=!1,P.emit("error",p)}finally{P[Zh]=!0}}function Mb(P,p,x){x.warned=!0;let h=new Error(`Possible EventEmitter memory leak detected. ${x.length} ${String(p)} listeners added to [${P.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);h.name="MaxListenersExceededWarning",h.emitter=P,h.type=p,h.count=x.length,process.emitWarning(h)}function Yb(P,p,...x){this.removeListener(P,p),p.$apply(this,x)}function Qb(P,p,x){var h=x?.signal;if(Eb(h,"options.signal"),h?.aborted)throw new L7(void 0,{cause:h?.reason});let{resolve:X,reject:H,promise:A}=$newPromiseCapability(Promise),B=(Z)=>{if(P.removeListener(p,f),h!=null)kD(h,"abort",D);H(Z)},f=(...Z)=>{if(typeof P.removeListener==="function")P.removeListener("error",B);if(h!=null)kD(h,"abort",D);X(Z)};if(Lb(P,p,f,{once:!0}),p!=="error"&&typeof P.once==="function")P.once("error",B);function D(){kD(P,p,f),kD(P,"error",B),H(new L7(void 0,{cause:h?.reason}))}if(h!=null)Lb(h,"abort",D,{once:!0});return A}function Vb(P,p){return P.listeners(p)}function qb(P,...p){F7(P,"setMaxListeners",0);var x;if(p&&(x=p.length))for(let h=0;h<x;h++)p[h].setMaxListeners(P);else $h=P}function Ib(P,p){return P.listenerCount(p)}function kD(P,p,x,h){if(typeof P.removeListener==="function")P.removeListener(p,x);else P.removeEventListener(p,x,h)}function Lb(P,p,x,h){if(typeof P.on==="function")if(h.once)P.once(p,x);else P.on(p,x);else P.addEventListener(p,x,h)}function vX(P,p,x){let h=new TypeError(`The "${P}" argument must be of type ${p}. Received ${x}`);return h.code="ERR_INVALID_ARG_TYPE",h}function Dj(P,p,x){let h=new RangeError(`The "${P}" argument is out of range. It must be ${p}. Received ${x}`);return h.code="ERR_OUT_OF_RANGE",h}function Eb(P,p){if(P!==void 0&&(P===null||typeof P!=="object"||!("aborted"in P)))throw vX(p,"AbortSignal",P)}function F7(P,p,x,h){if(typeof P!=="number")throw vX(p,"number",P);if(x!=null&&P<x||h!=null&&P>h||(x!=null||h!=null)&&Number.isNaN(P))throw Dj(p,`${x!=null?`>= ${x}`:""}${x!=null&&h!=null?" && ":""}${h!=null?`<= ${h}`:""}`,P)}function n2(P){if(typeof P!=="function")throw new TypeError("The listener must be a function")}function fj(P,p){if(typeof P!=="boolean")throw vX(p,"boolean",P)}function zb(P){return P?._maxListeners??$h}function wb(P,p){if(P===void 0)throw vX("signal","AbortSignal",P);if(Eb(P,"signal"),typeof p!=="function")throw vX("listener","function",p);let x;if(P.aborted)queueMicrotask(()=>p());else P.addEventListener("abort",p,{__proto__:null,once:!0}),x=()=>{P.removeEventListener("abort",p)};return{__proto__:null,[Symbol.dispose](){x?.()}}}var C7,Zh,Cb,xj,hj,Zb,Fb,$b,$h=10,fx=function P(p){if(this._events===void 0||this._events===this.__proto__._events)this._events={__proto__:null},this._eventsCount=0;if(this._maxListeners??=void 0,this[Zh]=p?.captureRejections?Boolean(p?.captureRejections):a0[Zh])this.emit=Bj},a0,Aj=function P(p,...x){if(p==="error")return bb(this,x);var{_events:h}=this;if(h===void 0)return!1;var X=h[p];if(X===void 0)return!1;let H=X.length>1?X.slice():X;for(let A=0,{length:B}=H;A<B;A++){let f=H[A];switch(x.length){case 0:f.$call(this);break;case 1:f.$call(this,x[0]);break;case 2:f.$call(this,x[0],x[1]);break;case 3:f.$call(this,x[0],x[1],x[2]);break;default:f.$apply(this,x);break}}return!0},Bj=function P(p,...x){if(p==="error")return bb(this,x);var{_events:h}=this;if(h===void 0)return!1;var X=h[p];if(X===void 0)return!1;let H=X.length>1?X.slice():X;for(let A=0,{length:B}=H;A<B;A++){let f=H[A],D;switch(x.length){case 0:D=f.$call(this);break;case 1:D=f.$call(this,x[0]);break;case 2:D=f.$call(this,x[0],x[1]);break;case 3:D=f.$call(this,x[0],x[1],x[2]);break;default:D=f.$apply(this,x);break}if(D!==void 0&&$isPromise(D))Xj(this,D,p,x)}return!0},L7,Zj;var t2=lH(()=>{C7=Symbol.for,Zh=Symbol("kCapture"),Cb=C7("events.errorMonitor"),xj=Symbol("events.maxEventTargetListeners"),hj=Symbol("events.maxEventTargetListenersWarned"),Zb=C7("nodejs.rejection"),Fb=C7("nodejs.rejection"),$b=Array.prototype.slice,a0=fx.prototype={};a0._events=void 0;a0._eventsCount=0;a0._maxListeners=void 0;a0.setMaxListeners=function P(p){return F7(p,"setMaxListeners",0),this._maxListeners=p,this};a0.constructor=fx;a0.getMaxListeners=function P(){return this?._maxListeners??$h};a0.emit=Aj;a0.addListener=function P(p,x){n2(x);var h=this._events;if(!h)h=this._events={__proto__:null},this._eventsCount=0;else if(h.newListener)this.emit("newListener",p,x.listener??x);var X=h[p];if(!X)h[p]=[x],this._eventsCount++;else{X.push(x);var H=this._maxListeners??$h;if(H>0&&X.length>H&&!X.warned)Mb(this,p,X)}return this};a0.on=a0.addListener;a0.prependListener=function P(p,x){n2(x);var h=this._events;if(!h)h=this._events={__proto__:null},this._eventsCount=0;else if(h.newListener)this.emit("newListener",p,x.listener??x);var X=h[p];if(!X)h[p]=[x],this._eventsCount++;else{X.unshift(x);var H=this._maxListeners??$h;if(H>0&&X.length>H&&!X.warned)Mb(this,p,X)}return this};a0.once=function P(p,x){n2(x);let h=Yb.bind(this,p,x);return h.listener=x,this.addListener(p,h),this};a0.prependOnceListener=function P(p,x){n2(x);let h=Yb.bind(this,p,x);return h.listener=x,this.prependListener(p,h),this};a0.removeListener=function P(p,x){n2(x);var{_events:h}=this;if(!h)return this;var X=h[p];if(!X)return this;var H=X.length;let A=-1;for(let B=H-1;B>=0;B--)if(X[B]===x||X[B].listener===x){A=B;break}if(A<0)return this;if(A===0)X.shift();else X.splice(A,1);if(X.length===0)delete h[p],this._eventsCount--;return this};a0.off=a0.removeListener;a0.removeAllListeners=function P(p){var{_events:x}=this;if(p&&x){if(x[p])delete x[p],this._eventsCount--}else this._events={__proto__:null};return this};a0.listeners=function P(p){var{_events:x}=this;if(!x)return[];var h=x[p];if(!h)return[];return h.map((X)=>X.listener??X)};a0.rawListeners=function P(p){var{_events:x}=this;if(!x)return[];var h=x[p];if(!h)return[];return h.slice()};a0.listenerCount=function P(p){var{_events:x}=this;if(!x)return 0;return x[p]?.length??0};a0.eventNames=function P(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};a0[Zh]=!1;L7=class L7 extends Error{constructor(P="The operation was aborted",p=void 0){if(p!==void 0&&typeof p!=="object")throw vX("options","Object",p);super(P,p);this.code="ABORT_ERR",this.name="AbortError"}};Object.defineProperties(fx,{captureRejections:{get(){return a0[Zh]},set(P){fj(P,"EventEmitter.captureRejections"),a0[Zh]=P},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:()=>{return $h},set:(P)=>{F7(P,"defaultMaxListeners",0),$h=P}},kMaxEventTargetListeners:{value:xj,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:hj,enumerable:!1,configurable:!1,writable:!1}});Object.assign(fx,{once:Qb,getEventListeners:Vb,getMaxListeners:zb,setMaxListeners:qb,EventEmitter:fx,usingDomains:!1,captureRejectionSymbol:Fb,errorMonitor:Cb,addAbortListener:wb,init:fx,listenerCount:Ib});Zj=fx});var Wb={};sA(Wb,{versions:()=>Qj,version:()=>Yj,umask:()=>Rj,title:()=>Cj,removeListener:()=>zj,removeAllListeners:()=>wj,prependOnceListener:()=>Tj,prependListener:()=>Wj,once:()=>Ij,on:()=>Vj,off:()=>Ej,nextTick:()=>Lj,listeners:()=>jj,env:()=>bj,emit:()=>kj,cwd:()=>dj,chdir:()=>Kj,browser:()=>Fj,binding:()=>Jj,argv:()=>Mj,addListener:()=>qj});function $j(){if(!UX||!Lh)return;if(UX=!1,Lh.length)$8=Lh.concat($8);else WD=-1;if($8.length)kb()}function kb(){if(UX)return;var P=setTimeout($j,0);UX=!0;var p=$8.length;while(p){Lh=$8,$8=[];while(++WD<p)if(Lh){var x=Lh[WD];x.fun.apply(null,x.array)}WD=-1,p=$8.length}Lh=null,UX=!1,clearTimeout(P,0)}function Lj(P){var p=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)p[x-1]=arguments[x];if($8.push({fun:P,args:p}),$8.length===1&&!UX)setTimeout(kb,0)}function L8(){}var $8,UX=!1,Lh,WD=-1,Cj="browser",Fj=!0,bj,Mj,Yj="",Qj,Vj,qj,Ij,Ej,zj,wj,kj,Wj,Tj,jj=function(P){return[]},Jj=function(P){throw new Error("process.binding is not supported in browser polyfill")},dj=function(){return"/"},Kj=function(P){throw new Error("process.chdir is not supported in browser polyfill")},Rj=function(){return 0};var Tb=lH(()=>{$8=[];bj={},Mj=[],Qj={};Vj=L8,qj=L8,Ij=L8,Ej=L8,zj=L8,wj=L8,kj=L8,Wj=L8,Tj=L8});var dD={};sA(dD,{wrap:()=>nj,toWeb:()=>rj,pipeline:()=>ZJ,isReadable:()=>pJ,isErrored:()=>PJ,isDisturbed:()=>ej,fromWeb:()=>aj,from:()=>oj,finished:()=>DJ,destroy:()=>fJ,default:()=>CJ,compose:()=>$J,addAbortSignal:()=>BJ,_uint8ArrayToBuffer:()=>sj,_isUint8Array:()=>tj,_fromList:()=>uj,Writable:()=>hJ,Transform:()=>HJ,Stream:()=>LJ,ReadableState:()=>mj,Readable:()=>xJ,PassThrough:()=>AJ,Duplex:()=>XJ});var cj,vj,jb,Uj,Gj,Sj=(P,p,x)=>{x=P!=null?cj(vj(P)):{};let h=p||!P||!P.__esModule?jb(x,"default",{value:P,enumerable:!0}):x;for(let X of Uj(P))if(!Gj.call(h,X))jb(h,X,{get:()=>P[X],enumerable:!0});return h},U0=(P,p)=>()=>(p||P((p={exports:{}}).exports,p),p.exports),xP,Jb,aP,lj,e2,Hp,PA,Ch,F8,Zx,GX,b7,TD,Nj,jD,Oj,gj,db,JD,M7,yj,C8,Kb,Rb,Y7,cb,_j,vb,Ub,ij,hP,mj,uj,oj,aj,rj,nj,sj,tj,ej,PJ,pJ,xJ,hJ,XJ,HJ,AJ,BJ,DJ,fJ,ZJ,$J,LJ,CJ;var KD=lH(()=>{cj=Object.create,{getPrototypeOf:vj,defineProperty:jb,getOwnPropertyNames:Uj}=Object,Gj=Object.prototype.hasOwnProperty,xP=U0((P,p)=>{class x extends Error{constructor(h){if(!Array.isArray(h))throw new TypeError(`Expected input to be an Array, got ${typeof h}`);let X="";for(let H=0;H<h.length;H++)X+=`    ${h[H].stack}
`;super(X);this.name="AggregateError",this.errors=h}}p.exports={AggregateError:x,ArrayIsArray(h){return Array.isArray(h)},ArrayPrototypeIncludes(h,X){return h.includes(X)},ArrayPrototypeIndexOf(h,X){return h.indexOf(X)},ArrayPrototypeJoin(h,X){return h.join(X)},ArrayPrototypeMap(h,X){return h.map(X)},ArrayPrototypePop(h,X){return h.pop(X)},ArrayPrototypePush(h,X){return h.push(X)},ArrayPrototypeSlice(h,X,H){return h.slice(X,H)},Error,FunctionPrototypeCall(h,X,...H){return h.call(X,...H)},FunctionPrototypeSymbolHasInstance(h,X){return Function.prototype[Symbol.hasInstance].call(h,X)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(h,X){return Object.defineProperties(h,X)},ObjectDefineProperty(h,X,H){return Object.defineProperty(h,X,H)},ObjectGetOwnPropertyDescriptor(h,X){return Object.getOwnPropertyDescriptor(h,X)},ObjectKeys(h){return Object.keys(h)},ObjectSetPrototypeOf(h,X){return Object.setPrototypeOf(h,X)},Promise,PromisePrototypeCatch(h,X){return h.catch(X)},PromisePrototypeThen(h,X,H){return h.then(X,H)},PromiseReject(h){return Promise.reject(h)},PromiseResolve(h){return Promise.resolve(h)},ReflectApply:Reflect.apply,RegExpPrototypeTest(h,X){return h.test(X)},SafeSet:Set,String,StringPrototypeSlice(h,X,H){return h.slice(X,H)},StringPrototypeToLowerCase(h){return h.toLowerCase()},StringPrototypeToUpperCase(h){return h.toUpperCase()},StringPrototypeTrim(h){return h.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(h,X,H){return h.set(X,H)},Boolean,Uint8Array}}),Jb=U0((P,p)=>{p.exports={format(x,...h){return x.replace(/%([sdifj])/g,function(...[X,H]){let A=h.shift();if(H==="f")return A.toFixed(6);else if(H==="j")return JSON.stringify(A);else if(H==="s"&&typeof A==="object")return`${A.constructor!==Object?A.constructor.name:""} {}`.trim();else return A.toString()})},inspect(x){switch(typeof x){case"string":if(x.includes("'")){if(!x.includes('"'))return`"${x}"`;else if(!x.includes("`")&&!x.includes("${"))return`\`${x}\``}return`'${x}'`;case"number":if(isNaN(x))return"NaN";else if(Object.is(x,-0))return String(x);return x;case"bigint":return`${String(x)}n`;case"boolean":case"undefined":return String(x);case"object":return"{}"}}}}),aP=U0((P,p)=>{var{format:x,inspect:h}=Jb(),{AggregateError:X}=xP(),H=globalThis.AggregateError||X,A=Symbol("kIsNodeError"),B=["string","function","number","object","Function","Object","boolean","bigint","symbol"],f=/^([A-Z][a-z0-9]*)+$/,D={};function Z(b,F){if(!b)throw new D.ERR_INTERNAL_ASSERTION(F)}function L(b){let F="",M=b.length,Q=b[0]==="-"?1:0;for(;M>=Q+4;M-=3)F=`_${b.slice(M-3,M)}${F}`;return`${b.slice(0,M)}${F}`}function $(b,F,M){if(typeof F==="function")return Z(F.length<=M.length,`Code: ${b}; The provided arguments length (${M.length}) does not match the required ones (${F.length}).`),F(...M);let Q=(F.match(/%[dfijoOs]/g)||[]).length;if(Z(Q===M.length,`Code: ${b}; The provided arguments length (${M.length}) does not match the required ones (${Q}).`),M.length===0)return F;return x(F,...M)}function C(b,F,M){if(!M)M=Error;class Q extends M{constructor(...I){super($(b,F,I))}toString(){return`${this.name} [${b}]: ${this.message}`}}Object.defineProperties(Q.prototype,{name:{value:M.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${b}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),Q.prototype.code=b,Q.prototype[A]=!0,D[b]=Q}function Y(b){let F="__node_internal_"+b.name;return Object.defineProperty(b,"name",{value:F}),b}function V(b,F){if(b&&F&&b!==F){if(Array.isArray(F.errors))return F.errors.push(b),F;let M=new H([F,b],F.message);return M.code=F.code,M}return b||F}class q extends Error{constructor(b="The operation was aborted",F=void 0){if(F!==void 0&&typeof F!=="object")throw new D.ERR_INVALID_ARG_TYPE("options","Object",F);super(b,F);this.code="ABORT_ERR",this.name="AbortError"}}C("ERR_ASSERTION","%s",Error),C("ERR_INVALID_ARG_TYPE",(b,F,M)=>{if(Z(typeof b==="string","'name' must be a string"),!Array.isArray(F))F=[F];let Q="The ";if(b.endsWith(" argument"))Q+=`${b} `;else Q+=`"${b}" ${b.includes(".")?"property":"argument"} `;Q+="must be ";let I=[],j=[],k=[];for(let S of F)if(Z(typeof S==="string","All expected entries have to be of type string"),B.includes(S))I.push(S.toLowerCase());else if(f.test(S))j.push(S);else Z(S!=="object",'The value "object" should be written as "Object"'),k.push(S);if(j.length>0){let S=I.indexOf("object");if(S!==-1)I.splice(I,S,1),j.push("Object")}if(I.length>0){switch(I.length){case 1:Q+=`of type ${I[0]}`;break;case 2:Q+=`one of type ${I[0]} or ${I[1]}`;break;default:{let S=I.pop();Q+=`one of type ${I.join(", ")}, or ${S}`}}if(j.length>0||k.length>0)Q+=" or "}if(j.length>0){switch(j.length){case 1:Q+=`an instance of ${j[0]}`;break;case 2:Q+=`an instance of ${j[0]} or ${j[1]}`;break;default:{let S=j.pop();Q+=`an instance of ${j.join(", ")}, or ${S}`}}if(k.length>0)Q+=" or "}switch(k.length){case 0:break;case 1:if(k[0].toLowerCase()!==k[0])Q+="an ";Q+=`${k[0]}`;break;case 2:Q+=`one of ${k[0]} or ${k[1]}`;break;default:{let S=k.pop();Q+=`one of ${k.join(", ")}, or ${S}`}}if(M==null)Q+=`. Received ${M}`;else if(typeof M==="function"&&M.name)Q+=`. Received function ${M.name}`;else if(typeof M==="object"){var w;if((w=M.constructor)!==null&&w!==void 0&&w.name)Q+=`. Received an instance of ${M.constructor.name}`;else{let S=h(M,{depth:-1});Q+=`. Received ${S}`}}else{let S=h(M,{colors:!1});if(S.length>25)S=`${S.slice(0,25)}...`;Q+=`. Received type ${typeof M} (${S})`}return Q},TypeError),C("ERR_INVALID_ARG_VALUE",(b,F,M="is invalid")=>{let Q=h(F);if(Q.length>128)Q=Q.slice(0,128)+"...";return`The ${b.includes(".")?"property":"argument"} '${b}' ${M}. Received ${Q}`},TypeError),C("ERR_INVALID_RETURN_VALUE",(b,F,M)=>{var Q;let I=M!==null&&M!==void 0&&(Q=M.constructor)!==null&&Q!==void 0&&Q.name?`instance of ${M.constructor.name}`:`type ${typeof M}`;return`Expected ${b} to be returned from the "${F}" function but got ${I}.`},TypeError),C("ERR_MISSING_ARGS",(...b)=>{Z(b.length>0,"At least one arg needs to be specified");let F,M=b.length;switch(b=(Array.isArray(b)?b:[b]).map((Q)=>`"${Q}"`).join(" or "),M){case 1:F+=`The ${b[0]} argument`;break;case 2:F+=`The ${b[0]} and ${b[1]} arguments`;break;default:{let Q=b.pop();F+=`The ${b.join(", ")}, and ${Q} arguments`}break}return`${F} must be specified`},TypeError),C("ERR_OUT_OF_RANGE",(b,F,M)=>{Z(F,'Missing "range" argument');let Q;if(Number.isInteger(M)&&Math.abs(M)>4294967296)Q=L(String(M));else if(typeof M==="bigint"){Q=String(M);let I=BigInt(2)**BigInt(32);if(M>I||M<-I)Q=L(Q);Q+="n"}else Q=h(M);return`The value of "${b}" is out of range. It must be ${F}. Received ${Q}`},RangeError),C("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),C("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),C("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),C("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),C("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),C("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),C("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),C("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),C("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),C("ERR_STREAM_WRITE_AFTER_END","write after end",Error),C("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),p.exports={AbortError:q,aggregateTwoErrors:Y(V),hideStackFrames:Y,codes:D}}),lj=U0((P,p)=>{Object.defineProperty(P,"__esModule",{value:!0});var x=new WeakMap,h=new WeakMap;function X(T){let R=x.get(T);return console.assert(R!=null,"'this' is expected an Event object, but got",T),R}function H(T){if(T.passiveListener!=null){if(typeof console!=="undefined"&&typeof console.error==="function")console.error("Unable to preventDefault inside passive event listener invocation.",T.passiveListener);return}if(!T.event.cancelable)return;if(T.canceled=!0,typeof T.event.preventDefault==="function")T.event.preventDefault()}function A(T,R){x.set(this,{eventTarget:T,event:R,eventPhase:2,currentTarget:T,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:R.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let v=Object.keys(R);for(let J=0;J<v.length;++J){let N=v[J];if(!(N in this))Object.defineProperty(this,N,B(N))}}if(A.prototype={get type(){return X(this).event.type},get target(){return X(this).eventTarget},get currentTarget(){return X(this).currentTarget},composedPath(){let T=X(this).currentTarget;if(T==null)return[];return[T]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return X(this).eventPhase},stopPropagation(){let T=X(this);if(T.stopped=!0,typeof T.event.stopPropagation==="function")T.event.stopPropagation()},stopImmediatePropagation(){let T=X(this);if(T.stopped=!0,T.immediateStopped=!0,typeof T.event.stopImmediatePropagation==="function")T.event.stopImmediatePropagation()},get bubbles(){return Boolean(X(this).event.bubbles)},get cancelable(){return Boolean(X(this).event.cancelable)},preventDefault(){H(X(this))},get defaultPrevented(){return X(this).canceled},get composed(){return Boolean(X(this).event.composed)},get timeStamp(){return X(this).timeStamp},get srcElement(){return X(this).eventTarget},get cancelBubble(){return X(this).stopped},set cancelBubble(T){if(!T)return;let R=X(this);if(R.stopped=!0,typeof R.event.cancelBubble==="boolean")R.event.cancelBubble=!0},get returnValue(){return!X(this).canceled},set returnValue(T){if(!T)H(X(this))},initEvent(){}},Object.defineProperty(A.prototype,"constructor",{value:A,configurable:!0,writable:!0}),typeof window!=="undefined"&&typeof window.Event!=="undefined")Object.setPrototypeOf(A.prototype,window.Event.prototype),h.set(window.Event.prototype,A);function B(T){return{get(){return X(this).event[T]},set(R){X(this).event[T]=R},configurable:!0,enumerable:!0}}function f(T){return{value(){let R=X(this).event;return R[T].apply(R,arguments)},configurable:!0,enumerable:!0}}function D(T,R){let v=Object.keys(R);if(v.length===0)return T;function J(N,c){T.call(this,N,c)}J.prototype=Object.create(T.prototype,{constructor:{value:J,configurable:!0,writable:!0}});for(let N=0;N<v.length;++N){let c=v[N];if(!(c in T.prototype)){let r=typeof Object.getOwnPropertyDescriptor(R,c).value==="function";Object.defineProperty(J.prototype,c,r?f(c):B(c))}}return J}function Z(T){if(T==null||T===Object.prototype)return A;let R=h.get(T);if(R==null)R=D(Z(Object.getPrototypeOf(T)),T),h.set(T,R);return R}function L(T,R){return new(Z(Object.getPrototypeOf(R)))(T,R)}function $(T){return X(T).immediateStopped}function C(T,R){X(T).eventPhase=R}function Y(T,R){X(T).currentTarget=R}function V(T,R){X(T).passiveListener=R}var q=new WeakMap,b=1,F=2,M=3;function Q(T){return T!==null&&typeof T==="object"}function I(T){let R=q.get(T);if(R==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return R}function j(T){return{get(){let R=I(this).get(T);while(R!=null){if(R.listenerType===M)return R.listener;R=R.next}return null},set(R){if(typeof R!=="function"&&!Q(R))R=null;let v=I(this),J=null,N=v.get(T);while(N!=null){if(N.listenerType===M)if(J!==null)J.next=N.next;else if(N.next!==null)v.set(T,N.next);else v.delete(T);else J=N;N=N.next}if(R!==null){let c={listener:R,listenerType:M,passive:!1,once:!1,next:null};if(J===null)v.set(T,c);else J.next=c}},configurable:!0,enumerable:!0}}function k(T,R){Object.defineProperty(T,`on${R}`,j(R))}function w(T){function R(){S.call(this)}R.prototype=Object.create(S.prototype,{constructor:{value:R,configurable:!0,writable:!0}});for(let v=0;v<T.length;++v)k(R.prototype,T[v]);return R}function S(){if(this instanceof S){q.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return w(arguments[0]);if(arguments.length>0){let T=new Array(arguments.length);for(let R=0;R<arguments.length;++R)T[R]=arguments[R];return w(T)}throw new TypeError("Cannot call a class as a function")}if(S.prototype={addEventListener(T,R,v){if(R==null)return;if(typeof R!=="function"&&!Q(R))throw new TypeError("'listener' should be a function or an object.");let J=I(this),N=Q(v),c=(N?Boolean(v.capture):Boolean(v))?b:F,r={listener:R,listenerType:c,passive:N&&Boolean(v.passive),once:N&&Boolean(v.once),next:null},e=J.get(T);if(e===void 0){J.set(T,r);return}let g=null;while(e!=null){if(e.listener===R&&e.listenerType===c)return;g=e,e=e.next}g.next=r},removeEventListener(T,R,v){if(R==null)return;let J=I(this),N=(Q(v)?Boolean(v.capture):Boolean(v))?b:F,c=null,r=J.get(T);while(r!=null){if(r.listener===R&&r.listenerType===N){if(c!==null)c.next=r.next;else if(r.next!==null)J.set(T,r.next);else J.delete(T);return}c=r,r=r.next}},dispatchEvent(T){if(T==null||typeof T.type!=="string")throw new TypeError('"event.type" should be a string.');let R=I(this),v=T.type,J=R.get(v);if(J==null)return!0;let N=L(this,T),c=null;while(J!=null){if(J.once)if(c!==null)c.next=J.next;else if(J.next!==null)R.set(v,J.next);else R.delete(v);else c=J;if(V(N,J.passive?J.listener:null),typeof J.listener==="function")try{J.listener.call(this,N)}catch(r){if(typeof console!=="undefined"&&typeof console.error==="function")console.error(r)}else if(J.listenerType!==M&&typeof J.listener.handleEvent==="function")J.listener.handleEvent(N);if($(N))break;J=J.next}return V(N,null),C(N,0),Y(N,null),!N.defaultPrevented}},Object.defineProperty(S.prototype,"constructor",{value:S,configurable:!0,writable:!0}),typeof window!=="undefined"&&typeof window.EventTarget!=="undefined")Object.setPrototypeOf(S.prototype,window.EventTarget.prototype);P.defineEventAttribute=k,P.EventTarget=S,P.default=S,p.exports=S,p.exports.EventTarget=p.exports.default=S,p.exports.defineEventAttribute=k}),e2=U0((P,p)=>{Object.defineProperty(P,"__esModule",{value:!0});var x=lj();class h extends x.EventTarget{constructor(){super();throw new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let Z=A.get(this);if(typeof Z!=="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return Z}}x.defineEventAttribute(h.prototype,"abort");function X(){let Z=Object.create(h.prototype);return x.EventTarget.call(Z),A.set(Z,!1),Z}function H(Z){if(A.get(Z)!==!1)return;A.set(Z,!0),Z.dispatchEvent({type:"abort"})}var A=new WeakMap;if(Object.defineProperties(h.prototype,{aborted:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(h.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class B{constructor(){f.set(this,X())}get signal(){return D(this)}abort(){H(D(this))}}var f=new WeakMap;function D(Z){let L=f.get(Z);if(L==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${Z===null?"null":typeof Z}`);return L}if(Object.defineProperties(B.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(B.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});P.AbortController=B,P.AbortSignal=h,P.default=B,p.exports=B,p.exports.AbortController=p.exports.default=B,p.exports.AbortSignal=h}),Hp=U0((P,p)=>{var x=(Z8(),OP(f8)),{format:h,inspect:X}=Jb(),{codes:{ERR_INVALID_ARG_TYPE:H}}=aP(),{kResistStopPropagation:A,AggregateError:B,SymbolDispose:f}=xP(),D=globalThis.AbortSignal||e2().AbortSignal,Z=globalThis.AbortController||e2().AbortController,L=Object.getPrototypeOf(async function(){}).constructor,$=globalThis.Blob||x.Blob,C=typeof $!=="undefined"?function q(b){return b instanceof $}:function q(b){return!1},Y=(q,b)=>{if(q!==void 0&&(q===null||typeof q!=="object"||!("aborted"in q)))throw new H(b,"AbortSignal",q)},V=(q,b)=>{if(typeof q!=="function")throw new H(b,"Function",q)};p.exports={AggregateError:B,kEmptyObject:Object.freeze({}),once(q){let b=!1;return function(...F){if(b)return;b=!0,q.apply(this,F)}},createDeferredPromise:function(){let q,b;return{promise:new Promise((F,M)=>{q=F,b=M}),resolve:q,reject:b}},promisify(q){return new Promise((b,F)=>{q((M,...Q)=>{if(M)return F(M);return b(...Q)})})},debuglog(){return function(){}},format:h,inspect:X,types:{isAsyncFunction(q){return q instanceof L},isArrayBufferView(q){return ArrayBuffer.isView(q)}},isBlob:C,deprecate(q,b){return q},addAbortListener:(t2(),OP(s2)).addAbortListener||function q(b,F){if(b===void 0)throw new H("signal","AbortSignal",b);Y(b,"signal"),V(F,"listener");let M;if(b.aborted)queueMicrotask(()=>F());else b.addEventListener("abort",F,{__proto__:null,once:!0,[A]:!0}),M=()=>{b.removeEventListener("abort",F)};return{__proto__:null,[f](){var Q;(Q=M)===null||Q===void 0||Q()}}},AbortSignalAny:D.any||function q(b){if(b.length===1)return b[0];let F=new Z,M=()=>F.abort();return b.forEach((Q)=>{Y(Q,"signals"),Q.addEventListener("abort",M,{once:!0})}),F.signal.addEventListener("abort",()=>{b.forEach((Q)=>Q.removeEventListener("abort",M))},{once:!0}),F.signal}},p.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),PA=U0((P,p)=>{var{ArrayIsArray:x,ArrayPrototypeIncludes:h,ArrayPrototypeJoin:X,ArrayPrototypeMap:H,NumberIsInteger:A,NumberIsNaN:B,NumberMAX_SAFE_INTEGER:f,NumberMIN_SAFE_INTEGER:D,NumberParseInt:Z,ObjectPrototypeHasOwnProperty:L,RegExpPrototypeExec:$,String:C,StringPrototypeToUpperCase:Y,StringPrototypeTrim:V}=xP(),{hideStackFrames:q,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:F,ERR_INVALID_ARG_VALUE:M,ERR_OUT_OF_RANGE:Q,ERR_UNKNOWN_SIGNAL:I}}=aP(),{normalizeEncoding:j}=Hp(),{isAsyncFunction:k,isArrayBufferView:w}=Hp().types,S={};function T(G){return G===(G|0)}function R(G){return G===G>>>0}var v=/^[0-7]+$/,J="must be a 32-bit unsigned integer or an octal string";function N(G,s,f0){if(typeof G==="undefined")G=f0;if(typeof G==="string"){if($(v,G)===null)throw new M(s,G,J);G=Z(G,8)}return e(G,s),G}var c=q((G,s,f0=D,t=f)=>{if(typeof G!=="number")throw new F(s,"number",G);if(!A(G))throw new Q(s,"an integer",G);if(G<f0||G>t)throw new Q(s,`>= ${f0} && <= ${t}`,G)}),r=q((G,s,f0=-2147483648,t=2147483647)=>{if(typeof G!=="number")throw new F(s,"number",G);if(!A(G))throw new Q(s,"an integer",G);if(G<f0||G>t)throw new Q(s,`>= ${f0} && <= ${t}`,G)}),e=q((G,s,f0=!1)=>{if(typeof G!=="number")throw new F(s,"number",G);if(!A(G))throw new Q(s,"an integer",G);let t=f0?1:0,Y0=4294967295;if(G<t||G>Y0)throw new Q(s,`>= ${t} && <= ${Y0}`,G)});function g(G,s){if(typeof G!=="string")throw new F(s,"string",G)}function Q0(G,s,f0=void 0,t){if(typeof G!=="number")throw new F(s,"number",G);if(f0!=null&&G<f0||t!=null&&G>t||(f0!=null||t!=null)&&B(G))throw new Q(s,`${f0!=null?`>= ${f0}`:""}${f0!=null&&t!=null?" && ":""}${t!=null?`<= ${t}`:""}`,G)}var u=q((G,s,f0)=>{if(!h(f0,G)){let t="must be one of: "+X(H(f0,(Y0)=>typeof Y0==="string"?`'${Y0}'`:C(Y0)),", ");throw new M(s,G,t)}});function L0(G,s){if(typeof G!=="boolean")throw new F(s,"boolean",G)}function W(G,s,f0){return G==null||!L(G,s)?f0:G[s]}var _=q((G,s,f0=null)=>{let t=W(f0,"allowArray",!1),Y0=W(f0,"allowFunction",!1);if(!W(f0,"nullable",!1)&&G===null||!t&&x(G)||typeof G!=="object"&&(!Y0||typeof G!=="function"))throw new F(s,"Object",G)}),P0=q((G,s)=>{if(G!=null&&typeof G!=="object"&&typeof G!=="function")throw new F(s,"a dictionary",G)}),i=q((G,s,f0=0)=>{if(!x(G))throw new F(s,"Array",G);if(G.length<f0){let t=`must be longer than ${f0}`;throw new M(s,G,t)}});function Z0(G,s){i(G,s);for(let f0=0;f0<G.length;f0++)g(G[f0],`${s}[${f0}]`)}function D0(G,s){i(G,s);for(let f0=0;f0<G.length;f0++)L0(G[f0],`${s}[${f0}]`)}function w0(G,s){i(G,s);for(let f0=0;f0<G.length;f0++){let t=G[f0],Y0=`${s}[${f0}]`;if(t==null)throw new F(Y0,"AbortSignal",t);I0(t,Y0)}}function V0(G,s="signal"){if(g(G,s),S[G]===void 0){if(S[Y(G)]!==void 0)throw new I(G+" (signals must use all capital letters)");throw new I(G)}}var m=q((G,s="buffer")=>{if(!w(G))throw new F(s,["Buffer","TypedArray","DataView"],G)});function a(G,s){let f0=j(s),t=G.length;if(f0==="hex"&&t%2!==0)throw new M("encoding",s,`is invalid for data of length ${t}`)}function H0(G,s="Port",f0=!0){if(typeof G!=="number"&&typeof G!=="string"||typeof G==="string"&&V(G).length===0||+G!==+G>>>0||G>65535||G===0&&!f0)throw new b(s,G,f0);return G|0}var I0=q((G,s)=>{if(G!==void 0&&(G===null||typeof G!=="object"||!("aborted"in G)))throw new F(s,"AbortSignal",G)}),q0=q((G,s)=>{if(typeof G!=="function")throw new F(s,"Function",G)}),U=q((G,s)=>{if(typeof G!=="function"||k(G))throw new F(s,"Function",G)}),l=q((G,s)=>{if(G!==void 0)throw new F(s,"undefined",G)});function y(G,s,f0){if(!h(f0,G))throw new F(s,`('${X(f0,"|")}')`,G)}var h0=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function A0(G,s){if(typeof G==="undefined"||!$(h0,G))throw new M(s,G,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function x0(G){if(typeof G==="string")return A0(G,"hints"),G;else if(x(G)){let s=G.length,f0="";if(s===0)return f0;for(let t=0;t<s;t++){let Y0=G[t];if(A0(Y0,"hints"),f0+=Y0,t!==s-1)f0+=", "}return f0}throw new M("hints",G,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}p.exports={isInt32:T,isUint32:R,parseFileMode:N,validateArray:i,validateStringArray:Z0,validateBooleanArray:D0,validateAbortSignalArray:w0,validateBoolean:L0,validateBuffer:m,validateDictionary:P0,validateEncoding:a,validateFunction:q0,validateInt32:r,validateInteger:c,validateNumber:Q0,validateObject:_,validateOneOf:u,validatePlainFunction:U,validatePort:H0,validateSignalName:V0,validateString:g,validateUint32:e,validateUndefined:l,validateUnion:y,validateAbortSignal:I0,validateLinkHeaderValue:x0}}),Ch=U0((P,p)=>{p.exports=(Tb(),OP(Wb))}),F8=U0((P,p)=>{var{SymbolAsyncIterator:x,SymbolIterator:h,SymbolFor:X}=xP(),H=X("nodejs.stream.destroyed"),A=X("nodejs.stream.errored"),B=X("nodejs.stream.readable"),f=X("nodejs.stream.writable"),D=X("nodejs.stream.disturbed"),Z=X("nodejs.webstream.isClosedPromise"),L=X("nodejs.webstream.controllerErrorFunction");function $(W,_=!1){var P0;return!!(W&&typeof W.pipe==="function"&&typeof W.on==="function"&&(!_||typeof W.pause==="function"&&typeof W.resume==="function")&&(!W._writableState||((P0=W._readableState)===null||P0===void 0?void 0:P0.readable)!==!1)&&(!W._writableState||W._readableState))}function C(W){var _;return!!(W&&typeof W.write==="function"&&typeof W.on==="function"&&(!W._readableState||((_=W._writableState)===null||_===void 0?void 0:_.writable)!==!1))}function Y(W){return!!(W&&typeof W.pipe==="function"&&W._readableState&&typeof W.on==="function"&&typeof W.write==="function")}function V(W){return W&&(W._readableState||W._writableState||typeof W.write==="function"&&typeof W.on==="function"||typeof W.pipe==="function"&&typeof W.on==="function")}function q(W){return!!(W&&!V(W)&&typeof W.pipeThrough==="function"&&typeof W.getReader==="function"&&typeof W.cancel==="function")}function b(W){return!!(W&&!V(W)&&typeof W.getWriter==="function"&&typeof W.abort==="function")}function F(W){return!!(W&&!V(W)&&typeof W.readable==="object"&&typeof W.writable==="object")}function M(W){return q(W)||b(W)||F(W)}function Q(W,_){if(W==null)return!1;if(_===!0)return typeof W[x]==="function";if(_===!1)return typeof W[h]==="function";return typeof W[x]==="function"||typeof W[h]==="function"}function I(W){if(!V(W))return null;let{_writableState:_,_readableState:P0}=W,i=_||P0;return!!(W.destroyed||W[H]||i!==null&&i!==void 0&&i.destroyed)}function j(W){if(!C(W))return null;if(W.writableEnded===!0)return!0;let _=W._writableState;if(_!==null&&_!==void 0&&_.errored)return!1;if(typeof(_===null||_===void 0?void 0:_.ended)!=="boolean")return null;return _.ended}function k(W,_){if(!C(W))return null;if(W.writableFinished===!0)return!0;let P0=W._writableState;if(P0!==null&&P0!==void 0&&P0.errored)return!1;if(typeof(P0===null||P0===void 0?void 0:P0.finished)!=="boolean")return null;return!!(P0.finished||_===!1&&P0.ended===!0&&P0.length===0)}function w(W){if(!$(W))return null;if(W.readableEnded===!0)return!0;let _=W._readableState;if(!_||_.errored)return!1;if(typeof(_===null||_===void 0?void 0:_.ended)!=="boolean")return null;return _.ended}function S(W,_){if(!$(W))return null;let P0=W._readableState;if(P0!==null&&P0!==void 0&&P0.errored)return!1;if(typeof(P0===null||P0===void 0?void 0:P0.endEmitted)!=="boolean")return null;return!!(P0.endEmitted||_===!1&&P0.ended===!0&&P0.length===0)}function T(W){if(W&&W[B]!=null)return W[B];if(typeof(W===null||W===void 0?void 0:W.readable)!=="boolean")return null;if(I(W))return!1;return $(W)&&W.readable&&!S(W)}function R(W){if(W&&W[f]!=null)return W[f];if(typeof(W===null||W===void 0?void 0:W.writable)!=="boolean")return null;if(I(W))return!1;return C(W)&&W.writable&&!j(W)}function v(W,_){if(!V(W))return null;if(I(W))return!0;if((_===null||_===void 0?void 0:_.readable)!==!1&&T(W))return!1;if((_===null||_===void 0?void 0:_.writable)!==!1&&R(W))return!1;return!0}function J(W){var _,P0;if(!V(W))return null;if(W.writableErrored)return W.writableErrored;return(_=(P0=W._writableState)===null||P0===void 0?void 0:P0.errored)!==null&&_!==void 0?_:null}function N(W){var _,P0;if(!V(W))return null;if(W.readableErrored)return W.readableErrored;return(_=(P0=W._readableState)===null||P0===void 0?void 0:P0.errored)!==null&&_!==void 0?_:null}function c(W){if(!V(W))return null;if(typeof W.closed==="boolean")return W.closed;let{_writableState:_,_readableState:P0}=W;if(typeof(_===null||_===void 0?void 0:_.closed)==="boolean"||typeof(P0===null||P0===void 0?void 0:P0.closed)==="boolean")return(_===null||_===void 0?void 0:_.closed)||(P0===null||P0===void 0?void 0:P0.closed);if(typeof W._closed==="boolean"&&r(W))return W._closed;return null}function r(W){return typeof W._closed==="boolean"&&typeof W._defaultKeepAlive==="boolean"&&typeof W._removedConnection==="boolean"&&typeof W._removedContLen==="boolean"}function e(W){return typeof W._sent100==="boolean"&&r(W)}function g(W){var _;return typeof W._consuming==="boolean"&&typeof W._dumped==="boolean"&&((_=W.req)===null||_===void 0?void 0:_.upgradeOrConnect)===void 0}function Q0(W){if(!V(W))return null;let{_writableState:_,_readableState:P0}=W,i=_||P0;return!i&&e(W)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function u(W){var _;return!!(W&&((_=W[D])!==null&&_!==void 0?_:W.readableDidRead||W.readableAborted))}function L0(W){var _,P0,i,Z0,D0,w0,V0,m,a,H0;return!!(W&&((_=(P0=(i=(Z0=(D0=(w0=W[A])!==null&&w0!==void 0?w0:W.readableErrored)!==null&&D0!==void 0?D0:W.writableErrored)!==null&&Z0!==void 0?Z0:(V0=W._readableState)===null||V0===void 0?void 0:V0.errorEmitted)!==null&&i!==void 0?i:(m=W._writableState)===null||m===void 0?void 0:m.errorEmitted)!==null&&P0!==void 0?P0:(a=W._readableState)===null||a===void 0?void 0:a.errored)!==null&&_!==void 0?_:(H0=W._writableState)===null||H0===void 0?void 0:H0.errored))}p.exports={isDestroyed:I,kIsDestroyed:H,isDisturbed:u,kIsDisturbed:D,isErrored:L0,kIsErrored:A,isReadable:T,kIsReadable:B,kIsClosedPromise:Z,kControllerErrorFunction:L,kIsWritable:f,isClosed:c,isDuplexNodeStream:Y,isFinished:v,isIterable:Q,isReadableNodeStream:$,isReadableStream:q,isReadableEnded:w,isReadableFinished:S,isReadableErrored:N,isNodeStream:V,isWebStream:M,isWritable:R,isWritableNodeStream:C,isWritableStream:b,isWritableEnded:j,isWritableFinished:k,isWritableErrored:J,isServerRequest:g,isServerResponse:e,willEmitClose:Q0,isTransformStream:F}}),Zx=U0((P,p)=>{var x=Ch(),{AbortError:h,codes:X}=aP(),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:A}=X,{kEmptyObject:B,once:f}=Hp(),{validateAbortSignal:D,validateFunction:Z,validateObject:L,validateBoolean:$}=PA(),{Promise:C,PromisePrototypeThen:Y,SymbolDispose:V}=xP(),{isClosed:q,isReadable:b,isReadableNodeStream:F,isReadableStream:M,isReadableFinished:Q,isReadableErrored:I,isWritable:j,isWritableNodeStream:k,isWritableStream:w,isWritableFinished:S,isWritableErrored:T,isNodeStream:R,willEmitClose:v,kIsClosedPromise:J}=F8(),N;function c(u){return u.setHeader&&typeof u.abort==="function"}var r=()=>{};function e(u,L0,W){var _,P0;if(arguments.length===2)W=L0,L0=B;else if(L0==null)L0=B;else L(L0,"options");if(Z(W,"callback"),D(L0.signal,"options.signal"),W=f(W),M(u)||w(u))return g(u,L0,W);if(!R(u))throw new H("stream",["ReadableStream","WritableStream","Stream"],u);let i=(_=L0.readable)!==null&&_!==void 0?_:F(u),Z0=(P0=L0.writable)!==null&&P0!==void 0?P0:k(u),D0=u._writableState,w0=u._readableState,V0=()=>{if(!u.writable)H0()},m=v(u)&&F(u)===i&&k(u)===Z0,a=S(u,!1),H0=()=>{if(a=!0,u.destroyed)m=!1;if(m&&(!u.readable||i))return;if(!i||I0)W.call(u)},I0=Q(u,!1),q0=()=>{if(I0=!0,u.destroyed)m=!1;if(m&&(!u.writable||Z0))return;if(!Z0||a)W.call(u)},U=(G)=>{W.call(u,G)},l=q(u),y=()=>{l=!0;let G=T(u)||I(u);if(G&&typeof G!=="boolean")return W.call(u,G);if(i&&!I0&&F(u,!0)){if(!Q(u,!1))return W.call(u,new A)}if(Z0&&!a){if(!S(u,!1))return W.call(u,new A)}W.call(u)},h0=()=>{l=!0;let G=T(u)||I(u);if(G&&typeof G!=="boolean")return W.call(u,G);W.call(u)},A0=()=>{u.req.on("finish",H0)};if(c(u)){if(u.on("complete",H0),!m)u.on("abort",y);if(u.req)A0();else u.on("request",A0)}else if(Z0&&!D0)u.on("end",V0),u.on("close",V0);if(!m&&typeof u.aborted==="boolean")u.on("aborted",y);if(u.on("end",q0),u.on("finish",H0),L0.error!==!1)u.on("error",U);if(u.on("close",y),l)x.nextTick(y);else if(D0!==null&&D0!==void 0&&D0.errorEmitted||w0!==null&&w0!==void 0&&w0.errorEmitted){if(!m)x.nextTick(h0)}else if(!i&&(!m||b(u))&&(a||j(u)===!1))x.nextTick(h0);else if(!Z0&&(!m||j(u))&&(I0||b(u)===!1))x.nextTick(h0);else if(w0&&u.req&&u.aborted)x.nextTick(h0);let x0=()=>{if(W=r,u.removeListener("aborted",y),u.removeListener("complete",H0),u.removeListener("abort",y),u.removeListener("request",A0),u.req)u.req.removeListener("finish",H0);u.removeListener("end",V0),u.removeListener("close",V0),u.removeListener("finish",H0),u.removeListener("end",q0),u.removeListener("error",U),u.removeListener("close",y)};if(L0.signal&&!l){let G=()=>{let s=W;x0(),s.call(u,new h(void 0,{cause:L0.signal.reason}))};if(L0.signal.aborted)x.nextTick(G);else{N=N||Hp().addAbortListener;let s=N(L0.signal,G),f0=W;W=f((...t)=>{s[V](),f0.apply(u,t)})}}return x0}function g(u,L0,W){let _=!1,P0=r;if(L0.signal)if(P0=()=>{_=!0,W.call(u,new h(void 0,{cause:L0.signal.reason}))},L0.signal.aborted)x.nextTick(P0);else{N=N||Hp().addAbortListener;let Z0=N(L0.signal,P0),D0=W;W=f((...w0)=>{Z0[V](),D0.apply(u,w0)})}let i=(...Z0)=>{if(!_)x.nextTick(()=>W.apply(u,Z0))};return Y(u[J].promise,i,i),r}function Q0(u,L0){var W;let _=!1;if(L0===null)L0=B;if((W=L0)!==null&&W!==void 0&&W.cleanup)$(L0.cleanup,"cleanup"),_=L0.cleanup;return new C((P0,i)=>{let Z0=e(u,L0,(D0)=>{if(_)Z0();if(D0)i(D0);else P0()})})}p.exports=e,p.exports.finished=Q0}),GX=U0((P,p)=>{var x=Ch(),{aggregateTwoErrors:h,codes:{ERR_MULTIPLE_CALLBACK:X},AbortError:H}=aP(),{Symbol:A}=xP(),{kIsDestroyed:B,isDestroyed:f,isFinished:D,isServerRequest:Z}=F8(),L=A("kDestroy"),$=A("kConstruct");function C(v,J,N){if(v){if(v.stack,J&&!J.errored)J.errored=v;if(N&&!N.errored)N.errored=v}}function Y(v,J){let N=this._readableState,c=this._writableState,r=c||N;if(c!==null&&c!==void 0&&c.destroyed||N!==null&&N!==void 0&&N.destroyed){if(typeof J==="function")J();return this}if(C(v,c,N),c)c.destroyed=!0;if(N)N.destroyed=!0;if(!r.constructed)this.once(L,function(e){V(this,h(e,v),J)});else V(this,v,J);return this}function V(v,J,N){let c=!1;function r(e){if(c)return;c=!0;let{_readableState:g,_writableState:Q0}=v;if(C(e,Q0,g),Q0)Q0.closed=!0;if(g)g.closed=!0;if(typeof N==="function")N(e);if(e)x.nextTick(q,v,e);else x.nextTick(b,v)}try{v._destroy(J||null,r)}catch(e){r(e)}}function q(v,J){F(v,J),b(v)}function b(v){let{_readableState:J,_writableState:N}=v;if(N)N.closeEmitted=!0;if(J)J.closeEmitted=!0;if(N!==null&&N!==void 0&&N.emitClose||J!==null&&J!==void 0&&J.emitClose)v.emit("close")}function F(v,J){let{_readableState:N,_writableState:c}=v;if(c!==null&&c!==void 0&&c.errorEmitted||N!==null&&N!==void 0&&N.errorEmitted)return;if(c)c.errorEmitted=!0;if(N)N.errorEmitted=!0;v.emit("error",J)}function M(){let v=this._readableState,J=this._writableState;if(v)v.constructed=!0,v.closed=!1,v.closeEmitted=!1,v.destroyed=!1,v.errored=null,v.errorEmitted=!1,v.reading=!1,v.ended=v.readable===!1,v.endEmitted=v.readable===!1;if(J)J.constructed=!0,J.destroyed=!1,J.closed=!1,J.closeEmitted=!1,J.errored=null,J.errorEmitted=!1,J.finalCalled=!1,J.prefinished=!1,J.ended=J.writable===!1,J.ending=J.writable===!1,J.finished=J.writable===!1}function Q(v,J,N){let{_readableState:c,_writableState:r}=v;if(r!==null&&r!==void 0&&r.destroyed||c!==null&&c!==void 0&&c.destroyed)return this;if(c!==null&&c!==void 0&&c.autoDestroy||r!==null&&r!==void 0&&r.autoDestroy)v.destroy(J);else if(J){if(J.stack,r&&!r.errored)r.errored=J;if(c&&!c.errored)c.errored=J;if(N)x.nextTick(F,v,J);else F(v,J)}}function I(v,J){if(typeof v._construct!=="function")return;let{_readableState:N,_writableState:c}=v;if(N)N.constructed=!1;if(c)c.constructed=!1;if(v.once($,J),v.listenerCount($)>1)return;x.nextTick(j,v)}function j(v){let J=!1;function N(c){if(J){Q(v,c!==null&&c!==void 0?c:new X);return}J=!0;let{_readableState:r,_writableState:e}=v,g=e||r;if(r)r.constructed=!0;if(e)e.constructed=!0;if(g.destroyed)v.emit(L,c);else if(c)Q(v,c,!0);else x.nextTick(k,v)}try{v._construct((c)=>{x.nextTick(N,c)})}catch(c){x.nextTick(N,c)}}function k(v){v.emit($)}function w(v){return(v===null||v===void 0?void 0:v.setHeader)&&typeof v.abort==="function"}function S(v){v.emit("close")}function T(v,J){v.emit("error",J),x.nextTick(S,v)}function R(v,J){if(!v||f(v))return;if(!J&&!D(v))J=new H;if(Z(v))v.socket=null,v.destroy(J);else if(w(v))v.abort();else if(w(v.req))v.req.abort();else if(typeof v.destroy==="function")v.destroy(J);else if(typeof v.close==="function")v.close();else if(J)x.nextTick(T,v,J);else x.nextTick(S,v);if(!v.destroyed)v[B]=!0}p.exports={construct:I,destroyer:R,destroy:Y,undestroy:M,errorOrDestroy:Q}}),b7=U0((P,p)=>{var{ArrayIsArray:x,ObjectSetPrototypeOf:h}=xP(),{EventEmitter:X}=(t2(),OP(s2));function H(B){X.call(this,B)}h(H.prototype,X.prototype),h(H,X),H.prototype.pipe=function(B,f){let D=this;function Z(b){if(B.writable&&B.write(b)===!1&&D.pause)D.pause()}D.on("data",Z);function L(){if(D.readable&&D.resume)D.resume()}if(B.on("drain",L),!B._isStdio&&(!f||f.end!==!1))D.on("end",C),D.on("close",Y);let $=!1;function C(){if($)return;$=!0,B.end()}function Y(){if($)return;if($=!0,typeof B.destroy==="function")B.destroy()}function V(b){if(q(),X.listenerCount(this,"error")===0)this.emit("error",b)}A(D,"error",V),A(B,"error",V);function q(){D.removeListener("data",Z),B.removeListener("drain",L),D.removeListener("end",C),D.removeListener("close",Y),D.removeListener("error",V),B.removeListener("error",V),D.removeListener("end",q),D.removeListener("close",q),B.removeListener("close",q)}return D.on("end",q),D.on("close",q),B.on("close",q),B.emit("pipe",D),B};function A(B,f,D){if(typeof B.prependListener==="function")return B.prependListener(f,D);if(!B._events||!B._events[f])B.on(f,D);else if(x(B._events[f]))B._events[f].unshift(D);else B._events[f]=[D,B._events[f]]}p.exports={Stream:H,prependListener:A}}),TD=U0((P,p)=>{var{SymbolDispose:x}=xP(),{AbortError:h,codes:X}=aP(),{isNodeStream:H,isWebStream:A,kControllerErrorFunction:B}=F8(),f=Zx(),{ERR_INVALID_ARG_TYPE:D}=X,Z,L=($,C)=>{if(typeof $!=="object"||!("aborted"in $))throw new D(C,"AbortSignal",$)};P.addAbortSignal=function $(C,Y){if(L(C,"signal"),!H(Y)&&!A(Y))throw new D("stream",["ReadableStream","WritableStream","Stream"],Y);return P.addAbortSignalNoValidate(C,Y)},P.addAbortSignalNoValidate=function($,C){if(typeof $!=="object"||!("aborted"in $))return C;let Y=H(C)?()=>{C.destroy(new h(void 0,{cause:$.reason}))}:()=>{C[B](new h(void 0,{cause:$.reason}))};if($.aborted)Y();else{Z=Z||Hp().addAbortListener;let V=Z($,Y);f(C,V[x])}return C}}),Nj=U0((P,p)=>{var{StringPrototypeSlice:x,SymbolIterator:h,TypedArrayPrototypeSet:X,Uint8Array:H}=xP(),{Buffer:A}=(Z8(),OP(f8)),{inspect:B}=Hp();p.exports=class f{constructor(){this.head=null,this.tail=null,this.length=0}push(D){let Z={data:D,next:null};if(this.length>0)this.tail.next=Z;else this.head=Z;this.tail=Z,++this.length}unshift(D){let Z={data:D,next:this.head};if(this.length===0)this.tail=Z;this.head=Z,++this.length}shift(){if(this.length===0)return;let D=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;return--this.length,D}clear(){this.head=this.tail=null,this.length=0}join(D){if(this.length===0)return"";let Z=this.head,L=""+Z.data;while((Z=Z.next)!==null)L+=D+Z.data;return L}concat(D){if(this.length===0)return A.alloc(0);let Z=A.allocUnsafe(D>>>0),L=this.head,$=0;while(L)X(Z,L.data,$),$+=L.data.length,L=L.next;return Z}consume(D,Z){let L=this.head.data;if(D<L.length){let $=L.slice(0,D);return this.head.data=L.slice(D),$}if(D===L.length)return this.shift();return Z?this._getString(D):this._getBuffer(D)}first(){return this.head.data}*[h](){for(let D=this.head;D;D=D.next)yield D.data}_getString(D){let Z="",L=this.head,$=0;do{let C=L.data;if(D>C.length)Z+=C,D-=C.length;else{if(D===C.length)if(Z+=C,++$,L.next)this.head=L.next;else this.head=this.tail=null;else Z+=x(C,0,D),this.head=L,L.data=x(C,D);break}++$}while((L=L.next)!==null);return this.length-=$,Z}_getBuffer(D){let Z=A.allocUnsafe(D),L=D,$=this.head,C=0;do{let Y=$.data;if(D>Y.length)X(Z,Y,L-D),D-=Y.length;else{if(D===Y.length)if(X(Z,Y,L-D),++C,$.next)this.head=$.next;else this.head=this.tail=null;else X(Z,new H(Y.buffer,Y.byteOffset,D),L-D),this.head=$,$.data=Y.slice(D);break}++C}while(($=$.next)!==null);return this.length-=C,Z}[Symbol.for("nodejs.util.inspect.custom")](D,Z){return B(this,{...Z,depth:0,customInspect:!1})}}}),jD=U0((P,p)=>{var{MathFloor:x,NumberIsInteger:h}=xP(),{validateInteger:X}=PA(),{ERR_INVALID_ARG_VALUE:H}=aP().codes,A=16384,B=16;function f($,C,Y){return $.highWaterMark!=null?$.highWaterMark:C?$[Y]:null}function D($){return $?B:A}function Z($,C){if(X(C,"value",0),$)B=C;else A=C}function L($,C,Y,V){let q=f(C,V,Y);if(q!=null){if(!h(q)||q<0){let b=V?`options.${Y}`:"options.highWaterMark";throw new H(b,q)}return x(q)}return D($.objectMode)}p.exports={getHighWaterMark:L,getDefaultHighWaterMark:D,setDefaultHighWaterMark:Z}}),Oj=U0((P,p)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var x=(Z8(),OP(f8)),h=x.Buffer;function X(A,B){for(var f in A)B[f]=A[f]}if(h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow)p.exports=x;else X(x,P),P.Buffer=H;function H(A,B,f){return h(A,B,f)}H.prototype=Object.create(h.prototype),X(h,H),H.from=function(A,B,f){if(typeof A==="number")throw new TypeError("Argument must not be a number");return h(A,B,f)},H.alloc=function(A,B,f){if(typeof A!=="number")throw new TypeError("Argument must be a number");var D=h(A);if(B!==void 0)if(typeof f==="string")D.fill(B,f);else D.fill(B);else D.fill(0);return D},H.allocUnsafe=function(A){if(typeof A!=="number")throw new TypeError("Argument must be a number");return h(A)},H.allocUnsafeSlow=function(A){if(typeof A!=="number")throw new TypeError("Argument must be a number");return x.SlowBuffer(A)}}),gj=U0((P)=>{var p=Oj().Buffer,x=p.isEncoding||function(F){switch(F=""+F,F&&F.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function h(F){if(!F)return"utf8";var M;while(!0)switch(F){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return F;default:if(M)return;F=(""+F).toLowerCase(),M=!0}}function X(F){var M=h(F);if(typeof M!=="string"&&(p.isEncoding===x||!x(F)))throw new Error("Unknown encoding: "+F);return M||F}P.StringDecoder=H;function H(F){this.encoding=X(F);var M;switch(this.encoding){case"utf16le":this.text=$,this.end=C,M=4;break;case"utf8":this.fillLast=D,M=4;break;case"base64":this.text=Y,this.end=V,M=3;break;default:this.write=q,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(M)}H.prototype.write=function(F){if(F.length===0)return"";var M,Q;if(this.lastNeed){if(M=this.fillLast(F),M===void 0)return"";Q=this.lastNeed,this.lastNeed=0}else Q=0;if(Q<F.length)return M?M+this.text(F,Q):this.text(F,Q);return M||""},H.prototype.end=L,H.prototype.text=Z,H.prototype.fillLast=function(F){if(this.lastNeed<=F.length)return F.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);F.copy(this.lastChar,this.lastTotal-this.lastNeed,0,F.length),this.lastNeed-=F.length};function A(F){if(F<=127)return 0;else if(F>>5===6)return 2;else if(F>>4===14)return 3;else if(F>>3===30)return 4;return F>>6===2?-1:-2}function B(F,M,Q){var I=M.length-1;if(I<Q)return 0;var j=A(M[I]);if(j>=0){if(j>0)F.lastNeed=j-1;return j}if(--I<Q||j===-2)return 0;if(j=A(M[I]),j>=0){if(j>0)F.lastNeed=j-2;return j}if(--I<Q||j===-2)return 0;if(j=A(M[I]),j>=0){if(j>0)if(j===2)j=0;else F.lastNeed=j-3;return j}return 0}function f(F,M,Q){if((M[0]&192)!==128)return F.lastNeed=0,"";if(F.lastNeed>1&&M.length>1){if((M[1]&192)!==128)return F.lastNeed=1,"";if(F.lastNeed>2&&M.length>2){if((M[2]&192)!==128)return F.lastNeed=2,""}}}function D(F){var M=this.lastTotal-this.lastNeed,Q=f(this,F,M);if(Q!==void 0)return Q;if(this.lastNeed<=F.length)return F.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);F.copy(this.lastChar,M,0,F.length),this.lastNeed-=F.length}function Z(F,M){var Q=B(this,F,M);if(!this.lastNeed)return F.toString("utf8",M);this.lastTotal=Q;var I=F.length-(Q-this.lastNeed);return F.copy(this.lastChar,0,I),F.toString("utf8",M,I)}function L(F){var M=F&&F.length?this.write(F):"";if(this.lastNeed)return M+"";return M}function $(F,M){if((F.length-M)%2===0){var Q=F.toString("utf16le",M);if(Q){var I=Q.charCodeAt(Q.length-1);if(I>=55296&&I<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=F[F.length-2],this.lastChar[1]=F[F.length-1],Q.slice(0,-1)}return Q}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=F[F.length-1],F.toString("utf16le",M,F.length-1)}function C(F){var M=F&&F.length?this.write(F):"";if(this.lastNeed){var Q=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,Q)}return M}function Y(F,M){var Q=(F.length-M)%3;if(Q===0)return F.toString("base64",M);if(this.lastNeed=3-Q,this.lastTotal=3,Q===1)this.lastChar[0]=F[F.length-1];else this.lastChar[0]=F[F.length-2],this.lastChar[1]=F[F.length-1];return F.toString("base64",M,F.length-Q)}function V(F){var M=F&&F.length?this.write(F):"";if(this.lastNeed)return M+this.lastChar.toString("base64",0,3-this.lastNeed);return M}function q(F){return F.toString(this.encoding)}function b(F){return F&&F.length?this.write(F):""}}),db=U0((P,p)=>{var x=Ch(),{PromisePrototypeThen:h,SymbolAsyncIterator:X,SymbolIterator:H}=xP(),{Buffer:A}=(Z8(),OP(f8)),{ERR_INVALID_ARG_TYPE:B,ERR_STREAM_NULL_VALUES:f}=aP().codes;function D(Z,L,$){let C;if(typeof L==="string"||L instanceof A)return new Z({objectMode:!0,...$,read(){this.push(L),this.push(null)}});let Y;if(L&&L[X])Y=!0,C=L[X]();else if(L&&L[H])Y=!1,C=L[H]();else throw new B("iterable",["Iterable"],L);let V=new Z({objectMode:!0,highWaterMark:1,...$}),q=!1;V._read=function(){if(!q)q=!0,F()},V._destroy=function(M,Q){h(b(M),()=>x.nextTick(Q,M),(I)=>x.nextTick(Q,I||M))};async function b(M){let Q=M!==void 0&&M!==null,I=typeof C.throw==="function";if(Q&&I){let{value:j,done:k}=await C.throw(M);if(await j,k)return}if(typeof C.return==="function"){let{value:j}=await C.return();await j}}async function F(){for(;;){try{let{value:M,done:Q}=Y?await C.next():C.next();if(Q)V.push(null);else{let I=M&&typeof M.then==="function"?await M:M;if(I===null)throw q=!1,new f;else if(V.push(I))continue;else q=!1}}catch(M){V.destroy(M)}break}}return V}p.exports=D}),JD=U0((P,p)=>{var x=Ch(),{ArrayPrototypeIndexOf:h,NumberIsInteger:X,NumberIsNaN:H,NumberParseInt:A,ObjectDefineProperties:B,ObjectKeys:f,ObjectSetPrototypeOf:D,Promise:Z,SafeSet:L,SymbolAsyncDispose:$,SymbolAsyncIterator:C,Symbol:Y}=xP();p.exports=t,t.ReadableState=f0;var{EventEmitter:V}=(t2(),OP(s2)),{Stream:q,prependListener:b}=b7(),{Buffer:F}=(Z8(),OP(f8)),{addAbortSignal:M}=TD(),Q=Zx(),I=Hp().debuglog("stream",(E)=>{I=E}),j=Nj(),k=GX(),{getHighWaterMark:w,getDefaultHighWaterMark:S}=jD(),{aggregateTwoErrors:T,codes:{ERR_INVALID_ARG_TYPE:R,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_OUT_OF_RANGE:J,ERR_STREAM_PUSH_AFTER_EOF:N,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:c},AbortError:r}=aP(),{validateObject:e}=PA(),g=Y("kPaused"),{StringDecoder:Q0}=gj(),u=db();D(t.prototype,q.prototype),D(t,q);var L0=()=>{},{errorOrDestroy:W}=k,_=1,P0=2,i=4,Z0=8,D0=16,w0=32,V0=64,m=128,a=256,H0=512,I0=1024,q0=2048,U=4096,l=8192,y=16384,h0=32768,A0=65536,x0=131072,G=262144;function s(E){return{enumerable:!1,get(){return(this.state&E)!==0},set(z){if(z)this.state|=E;else this.state&=~E}}}B(f0.prototype,{objectMode:s(_),ended:s(P0),endEmitted:s(i),reading:s(Z0),constructed:s(D0),sync:s(w0),needReadable:s(V0),emittedReadable:s(m),readableListening:s(a),resumeScheduled:s(H0),errorEmitted:s(I0),emitClose:s(q0),autoDestroy:s(U),destroyed:s(l),closed:s(y),closeEmitted:s(h0),multiAwaitDrain:s(A0),readingMore:s(x0),dataEmitted:s(G)});function f0(E,z,X0){if(typeof X0!=="boolean")X0=z instanceof C8();if(this.state=q0|U|D0|w0,E&&E.objectMode)this.state|=_;if(X0&&E&&E.readableObjectMode)this.state|=_;if(this.highWaterMark=E?w(this,E,"readableHighWaterMark",X0):S(!1),this.buffer=new j,this.length=0,this.pipes=[],this.flowing=null,this[g]=null,E&&E.emitClose===!1)this.state&=~q0;if(E&&E.autoDestroy===!1)this.state&=~U;if(this.errored=null,this.defaultEncoding=E&&E.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,E&&E.encoding)this.decoder=new Q0(E.encoding),this.encoding=E.encoding}function t(E){if(!(this instanceof t))return new t(E);let z=this instanceof C8();if(this._readableState=new f0(E,this,z),E){if(typeof E.read==="function")this._read=E.read;if(typeof E.destroy==="function")this._destroy=E.destroy;if(typeof E.construct==="function")this._construct=E.construct;if(E.signal&&!z)M(E.signal,this)}q.call(this,E),k.construct(this,()=>{if(this._readableState.needReadable)yh(this,this._readableState)})}t.prototype.destroy=k.destroy,t.prototype._undestroy=k.undestroy,t.prototype._destroy=function(E,z){z(E)},t.prototype[V.captureRejectionSymbol]=function(E){this.destroy(E)},t.prototype[$]=function(){let E;if(!this.destroyed)E=this.readableEnded?null:new r,this.destroy(E);return new Z((z,X0)=>Q(this,(B0)=>B0&&B0!==E?X0(B0):z(null)))},t.prototype.push=function(E,z){return Y0(this,E,z,!1)},t.prototype.unshift=function(E,z){return Y0(this,E,z,!0)};function Y0(E,z,X0,B0){I("readableAddChunk",z);let b0=E._readableState,NP;if((b0.state&_)===0){if(typeof z==="string"){if(X0=X0||b0.defaultEncoding,b0.encoding!==X0)if(B0&&b0.encoding)z=F.from(z,X0).toString(b0.encoding);else z=F.from(z,X0),X0=""}else if(z instanceof F)X0="";else if(q._isUint8Array(z))z=q._uint8ArrayToBuffer(z),X0="";else if(z!=null)NP=new R("chunk",["string","Buffer","Uint8Array"],z)}if(NP)W(E,NP);else if(z===null)b0.state&=~Z0,lP(E,b0);else if((b0.state&_)!==0||z&&z.length>0)if(B0)if((b0.state&i)!==0)W(E,new c);else if(b0.destroyed||b0.errored)return!1;else Lp(E,b0,z,!0);else if(b0.ended)W(E,new N);else if(b0.destroyed||b0.errored)return!1;else if(b0.state&=~Z0,b0.decoder&&!X0)if(z=b0.decoder.write(z),b0.objectMode||z.length!==0)Lp(E,b0,z,!1);else yh(E,b0);else Lp(E,b0,z,!1);else if(!B0)b0.state&=~Z0,yh(E,b0);return!b0.ended&&(b0.length<b0.highWaterMark||b0.length===0)}function Lp(E,z,X0,B0){if(z.flowing&&z.length===0&&!z.sync&&E.listenerCount("data")>0){if((z.state&A0)!==0)z.awaitDrainWriters.clear();else z.awaitDrainWriters=null;z.dataEmitted=!0,E.emit("data",X0)}else{if(z.length+=z.objectMode?1:X0.length,B0)z.buffer.unshift(X0);else z.buffer.push(X0);if((z.state&V0)!==0)Pp(E)}yh(E,z)}t.prototype.isPaused=function(){let E=this._readableState;return E[g]===!0||E.flowing===!1},t.prototype.setEncoding=function(E){let z=new Q0(E);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;let X0=this._readableState.buffer,B0="";for(let b0 of X0)B0+=z.write(b0);if(X0.clear(),B0!=="")X0.push(B0);return this._readableState.length=B0.length,this};var AP=1073741824;function IP(E){if(E>AP)throw new J("size","<= 1GiB",E);else E--,E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,E|=E>>>16,E++;return E}function Ux(E,z){if(E<=0||z.length===0&&z.ended)return 0;if((z.state&_)!==0)return 1;if(H(E)){if(z.flowing&&z.length)return z.buffer.first().length;return z.length}if(E<=z.length)return E;return z.ended?z.length:0}t.prototype.read=function(E){if(I("read",E),E===void 0)E=NaN;else if(!X(E))E=A(E,10);let z=this._readableState,X0=E;if(E>z.highWaterMark)z.highWaterMark=IP(E);if(E!==0)z.state&=~m;if(E===0&&z.needReadable&&((z.highWaterMark!==0?z.length>=z.highWaterMark:z.length>0)||z.ended)){if(I("read: emitReadable",z.length,z.ended),z.length===0&&z.ended)$f(this);else Pp(this);return null}if(E=Ux(E,z),E===0&&z.ended){if(z.length===0)$f(this);return null}let B0=(z.state&V0)!==0;if(I("need readable",B0),z.length===0||z.length-E<z.highWaterMark)B0=!0,I("length less than watermark",B0);if(z.ended||z.reading||z.destroyed||z.errored||!z.constructed)B0=!1,I("reading, ended or constructing",B0);else if(B0){if(I("do read"),z.state|=Z0|w0,z.length===0)z.state|=V0;try{this._read(z.highWaterMark)}catch(NP){W(this,NP)}if(z.state&=~w0,!z.reading)E=Ux(X0,z)}let b0;if(E>0)b0=F$(E,z);else b0=null;if(b0===null)z.needReadable=z.length<=z.highWaterMark,E=0;else if(z.length-=E,z.multiAwaitDrain)z.awaitDrainWriters.clear();else z.awaitDrainWriters=null;if(z.length===0){if(!z.ended)z.needReadable=!0;if(X0!==E&&z.ended)$f(this)}if(b0!==null&&!z.errorEmitted&&!z.closeEmitted)z.dataEmitted=!0,this.emit("data",b0);return b0};function lP(E,z){if(I("onEofChunk"),z.ended)return;if(z.decoder){let X0=z.decoder.end();if(X0&&X0.length)z.buffer.push(X0),z.length+=z.objectMode?1:X0.length}if(z.ended=!0,z.sync)Pp(E);else z.needReadable=!1,z.emittedReadable=!0,gh(E)}function Pp(E){let z=E._readableState;if(I("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,!z.emittedReadable)I("emitReadable",z.flowing),z.emittedReadable=!0,x.nextTick(gh,E)}function gh(E){let z=E._readableState;if(I("emitReadable_",z.destroyed,z.length,z.ended),!z.destroyed&&!z.errored&&(z.length||z.ended))E.emit("readable"),z.emittedReadable=!1;z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,L$(E)}function yh(E,z){if(!z.readingMore&&z.constructed)z.readingMore=!0,x.nextTick(Y1,E,z)}function Y1(E,z){while(!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&z.length===0)){let X0=z.length;if(I("maybeReadMore read 0"),E.read(0),X0===z.length)break}z.readingMore=!1}t.prototype._read=function(E){throw new v("_read()")},t.prototype.pipe=function(E,z){let X0=this,B0=this._readableState;if(B0.pipes.length===1){if(!B0.multiAwaitDrain)B0.multiAwaitDrain=!0,B0.awaitDrainWriters=new L(B0.awaitDrainWriters?[B0.awaitDrainWriters]:[])}B0.pipes.push(E),I("pipe count=%d opts=%j",B0.pipes.length,z);let b0=(!z||z.end!==!1)&&E!==x.stdout&&E!==x.stderr?jp:GH;if(B0.endEmitted)x.nextTick(b0);else X0.once("end",b0);E.on("unpipe",NP);function NP(Sx,y1){if(I("onunpipe"),Sx===X0){if(y1&&y1.hasUnpiped===!1)y1.hasUnpiped=!0,$z()}}function jp(){I("onend"),E.end()}let Gx,M$=!1;function $z(){if(I("cleanup"),E.removeListener("close",Ff),E.removeListener("finish",bf),Gx)E.removeListener("drain",Gx);if(E.removeListener("error",Cf),E.removeListener("unpipe",NP),X0.removeListener("end",jp),X0.removeListener("end",GH),X0.removeListener("data",Q$),M$=!0,Gx&&B0.awaitDrainWriters&&(!E._writableState||E._writableState.needDrain))Gx()}function Y$(){if(!M$){if(B0.pipes.length===1&&B0.pipes[0]===E)I("false write response, pause",0),B0.awaitDrainWriters=E,B0.multiAwaitDrain=!1;else if(B0.pipes.length>1&&B0.pipes.includes(E))I("false write response, pause",B0.awaitDrainWriters.size),B0.awaitDrainWriters.add(E);X0.pause()}if(!Gx)Gx=Xz(X0,E),E.on("drain",Gx)}X0.on("data",Q$);function Q$(Sx){I("ondata");let y1=E.write(Sx);if(I("dest.write",y1),y1===!1)Y$()}function Cf(Sx){if(I("onerror",Sx),GH(),E.removeListener("error",Cf),E.listenerCount("error")===0){let y1=E._writableState||E._readableState;if(y1&&!y1.errorEmitted)W(E,Sx);else E.emit("error",Sx)}}b(E,"error",Cf);function Ff(){E.removeListener("finish",bf),GH()}E.once("close",Ff);function bf(){I("onfinish"),E.removeListener("close",Ff),GH()}E.once("finish",bf);function GH(){I("unpipe"),X0.unpipe(E)}if(E.emit("pipe",X0),E.writableNeedDrain===!0)Y$();else if(!B0.flowing)I("pipe resume"),X0.resume();return E};function Xz(E,z){return function X0(){let B0=E._readableState;if(B0.awaitDrainWriters===z)I("pipeOnDrain",1),B0.awaitDrainWriters=null;else if(B0.multiAwaitDrain)I("pipeOnDrain",B0.awaitDrainWriters.size),B0.awaitDrainWriters.delete(z);if((!B0.awaitDrainWriters||B0.awaitDrainWriters.size===0)&&E.listenerCount("data"))E.resume()}}t.prototype.unpipe=function(E){let z=this._readableState,X0={hasUnpiped:!1};if(z.pipes.length===0)return this;if(!E){let b0=z.pipes;z.pipes=[],this.pause();for(let NP=0;NP<b0.length;NP++)b0[NP].emit("unpipe",this,{hasUnpiped:!1});return this}let B0=h(z.pipes,E);if(B0===-1)return this;if(z.pipes.splice(B0,1),z.pipes.length===0)this.pause();return E.emit("unpipe",this,X0),this},t.prototype.on=function(E,z){let X0=q.prototype.on.call(this,E,z),B0=this._readableState;if(E==="data"){if(B0.readableListening=this.listenerCount("readable")>0,B0.flowing!==!1)this.resume()}else if(E==="readable"){if(!B0.endEmitted&&!B0.readableListening){if(B0.readableListening=B0.needReadable=!0,B0.flowing=!1,B0.emittedReadable=!1,I("on readable",B0.length,B0.reading),B0.length)Pp(this);else if(!B0.reading)x.nextTick(Hz,this)}}return X0},t.prototype.addListener=t.prototype.on,t.prototype.removeListener=function(E,z){let X0=q.prototype.removeListener.call(this,E,z);if(E==="readable")x.nextTick($$,this);return X0},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(E){let z=q.prototype.removeAllListeners.apply(this,arguments);if(E==="readable"||E===void 0)x.nextTick($$,this);return z};function $$(E){let z=E._readableState;if(z.readableListening=E.listenerCount("readable")>0,z.resumeScheduled&&z[g]===!1)z.flowing=!0;else if(E.listenerCount("data")>0)E.resume();else if(!z.readableListening)z.flowing=null}function Hz(E){I("readable nexttick read 0"),E.read(0)}t.prototype.resume=function(){let E=this._readableState;if(!E.flowing)I("resume"),E.flowing=!E.readableListening,Az(this,E);return E[g]=!1,this};function Az(E,z){if(!z.resumeScheduled)z.resumeScheduled=!0,x.nextTick(Bz,E,z)}function Bz(E,z){if(I("resume",z.reading),!z.reading)E.read(0);if(z.resumeScheduled=!1,E.emit("resume"),L$(E),z.flowing&&!z.reading)E.read(0)}t.prototype.pause=function(){if(I("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1)I("pause"),this._readableState.flowing=!1,this.emit("pause");return this._readableState[g]=!0,this};function L$(E){let z=E._readableState;I("flow",z.flowing);while(z.flowing&&E.read()!==null);}t.prototype.wrap=function(E){let z=!1;E.on("data",(B0)=>{if(!this.push(B0)&&E.pause)z=!0,E.pause()}),E.on("end",()=>{this.push(null)}),E.on("error",(B0)=>{W(this,B0)}),E.on("close",()=>{this.destroy()}),E.on("destroy",()=>{this.destroy()}),this._read=()=>{if(z&&E.resume)z=!1,E.resume()};let X0=f(E);for(let B0=1;B0<X0.length;B0++){let b0=X0[B0];if(this[b0]===void 0&&typeof E[b0]==="function")this[b0]=E[b0].bind(E)}return this},t.prototype[C]=function(){return C$(this)},t.prototype.iterator=function(E){if(E!==void 0)e(E,"options");return C$(this,E)};function C$(E,z){if(typeof E.read!=="function")E=t.wrap(E,{objectMode:!0});let X0=Dz(E,z);return X0.stream=E,X0}async function*Dz(E,z){let X0=L0;function B0(jp){if(this===E)X0(),X0=L0;else X0=jp}E.on("readable",B0);let b0,NP=Q(E,{writable:!1},(jp)=>{b0=jp?T(b0,jp):null,X0(),X0=L0});try{while(!0){let jp=E.destroyed?null:E.read();if(jp!==null)yield jp;else if(b0)throw b0;else if(b0===null)return;else await new Z(B0)}}catch(jp){throw b0=T(b0,jp),b0}finally{if((b0||(z===null||z===void 0?void 0:z.destroyOnReturn)!==!1)&&(b0===void 0||E._readableState.autoDestroy))k.destroyer(E,null);else E.off("readable",B0),NP()}}B(t.prototype,{readable:{__proto__:null,get(){let E=this._readableState;return!!E&&E.readable!==!1&&!E.destroyed&&!E.errorEmitted&&!E.endEmitted},set(E){if(this._readableState)this._readableState.readable=!!E}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(E){if(this._readableState)this._readableState.flowing=E}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(E){if(!this._readableState)return;this._readableState.destroyed=E}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),B(f0.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[g]!==!1},set(E){this[g]=!!E}}}),t._fromList=F$;function F$(E,z){if(z.length===0)return null;let X0;if(z.objectMode)X0=z.buffer.shift();else if(!E||E>=z.length){if(z.decoder)X0=z.buffer.join("");else if(z.buffer.length===1)X0=z.buffer.first();else X0=z.buffer.concat(z.length);z.buffer.clear()}else X0=z.buffer.consume(E,z.decoder);return X0}function $f(E){let z=E._readableState;if(I("endReadable",z.endEmitted),!z.endEmitted)z.ended=!0,x.nextTick(fz,z,E)}function fz(E,z){if(I("endReadableNT",E.endEmitted,E.length),!E.errored&&!E.closeEmitted&&!E.endEmitted&&E.length===0){if(E.endEmitted=!0,z.emit("end"),z.writable&&z.allowHalfOpen===!1)x.nextTick(Zz,z);else if(E.autoDestroy){let X0=z._writableState;if(!X0||X0.autoDestroy&&(X0.finished||X0.writable===!1))z.destroy()}}}function Zz(E){if(E.writable&&!E.writableEnded&&!E.destroyed)E.end()}t.from=function(E,z){return u(t,E,z)};var Lf;function b$(){if(Lf===void 0)Lf={};return Lf}t.fromWeb=function(E,z){return b$().newStreamReadableFromReadableStream(E,z)},t.toWeb=function(E,z){return b$().newReadableStreamFromStreamReadable(E,z)},t.wrap=function(E,z){var X0,B0;return new t({objectMode:(X0=(B0=E.readableObjectMode)!==null&&B0!==void 0?B0:E.objectMode)!==null&&X0!==void 0?X0:!0,...z,destroy(b0,NP){k.destroyer(E,b0),NP(b0)}}).wrap(E)}}),M7=U0((P,p)=>{var x=Ch(),{ArrayPrototypeSlice:h,Error:X,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:A,ObjectDefineProperties:B,ObjectSetPrototypeOf:f,StringPrototypeToLowerCase:D,Symbol:Z,SymbolHasInstance:L}=xP();p.exports=e,e.WritableState=c;var{EventEmitter:$}=(t2(),OP(s2)),C=b7().Stream,{Buffer:Y}=(Z8(),OP(f8)),V=GX(),{addAbortSignal:q}=TD(),{getHighWaterMark:b,getDefaultHighWaterMark:F}=jD(),{ERR_INVALID_ARG_TYPE:M,ERR_METHOD_NOT_IMPLEMENTED:Q,ERR_MULTIPLE_CALLBACK:I,ERR_STREAM_CANNOT_PIPE:j,ERR_STREAM_DESTROYED:k,ERR_STREAM_ALREADY_FINISHED:w,ERR_STREAM_NULL_VALUES:S,ERR_STREAM_WRITE_AFTER_END:T,ERR_UNKNOWN_ENCODING:R}=aP().codes,{errorOrDestroy:v}=V;f(e.prototype,C.prototype),f(e,C);function J(){}var N=Z("kOnFinished");function c(U,l,y){if(typeof y!=="boolean")y=l instanceof C8();if(this.objectMode=!!(U&&U.objectMode),y)this.objectMode=this.objectMode||!!(U&&U.writableObjectMode);this.highWaterMark=U?b(this,U,"writableHighWaterMark",y):F(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let h0=!!(U&&U.decodeStrings===!1);this.decodeStrings=!h0,this.defaultEncoding=U&&U.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=W.bind(void 0,l),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,r(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!U||U.emitClose!==!1,this.autoDestroy=!U||U.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[N]=[]}function r(U){U.buffered=[],U.bufferedIndex=0,U.allBuffers=!0,U.allNoop=!0}c.prototype.getBuffer=function U(){return h(this.buffered,this.bufferedIndex)},A(c.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function e(U){let l=this instanceof C8();if(!l&&!H(e,this))return new e(U);if(this._writableState=new c(U,this,l),U){if(typeof U.write==="function")this._write=U.write;if(typeof U.writev==="function")this._writev=U.writev;if(typeof U.destroy==="function")this._destroy=U.destroy;if(typeof U.final==="function")this._final=U.final;if(typeof U.construct==="function")this._construct=U.construct;if(U.signal)q(U.signal,this)}C.call(this,U),V.construct(this,()=>{let y=this._writableState;if(!y.writing)Z0(this,y);m(this,y)})}A(e,L,{__proto__:null,value:function(U){if(H(this,U))return!0;if(this!==e)return!1;return U&&U._writableState instanceof c}}),e.prototype.pipe=function(){v(this,new j)};function g(U,l,y,h0){let A0=U._writableState;if(typeof y==="function")h0=y,y=A0.defaultEncoding;else{if(!y)y=A0.defaultEncoding;else if(y!=="buffer"&&!Y.isEncoding(y))throw new R(y);if(typeof h0!=="function")h0=J}if(l===null)throw new S;else if(!A0.objectMode)if(typeof l==="string"){if(A0.decodeStrings!==!1)l=Y.from(l,y),y="buffer"}else if(l instanceof Y)y="buffer";else if(C._isUint8Array(l))l=C._uint8ArrayToBuffer(l),y="buffer";else throw new M("chunk",["string","Buffer","Uint8Array"],l);let x0;if(A0.ending)x0=new T;else if(A0.destroyed)x0=new k("write");if(x0)return x.nextTick(h0,x0),v(U,x0,!0),x0;return A0.pendingcb++,Q0(U,A0,l,y,h0)}e.prototype.write=function(U,l,y){return g(this,U,l,y)===!0},e.prototype.cork=function(){this._writableState.corked++},e.prototype.uncork=function(){let U=this._writableState;if(U.corked){if(U.corked--,!U.writing)Z0(this,U)}},e.prototype.setDefaultEncoding=function U(l){if(typeof l==="string")l=D(l);if(!Y.isEncoding(l))throw new R(l);return this._writableState.defaultEncoding=l,this};function Q0(U,l,y,h0,A0){let x0=l.objectMode?1:y.length;l.length+=x0;let G=l.length<l.highWaterMark;if(!G)l.needDrain=!0;if(l.writing||l.corked||l.errored||!l.constructed){if(l.buffered.push({chunk:y,encoding:h0,callback:A0}),l.allBuffers&&h0!=="buffer")l.allBuffers=!1;if(l.allNoop&&A0!==J)l.allNoop=!1}else l.writelen=x0,l.writecb=A0,l.writing=!0,l.sync=!0,U._write(y,h0,l.onwrite),l.sync=!1;return G&&!l.errored&&!l.destroyed}function u(U,l,y,h0,A0,x0,G){if(l.writelen=h0,l.writecb=G,l.writing=!0,l.sync=!0,l.destroyed)l.onwrite(new k("write"));else if(y)U._writev(A0,l.onwrite);else U._write(A0,x0,l.onwrite);l.sync=!1}function L0(U,l,y,h0){--l.pendingcb,h0(y),i(l),v(U,y)}function W(U,l){let y=U._writableState,h0=y.sync,A0=y.writecb;if(typeof A0!=="function"){v(U,new I);return}if(y.writing=!1,y.writecb=null,y.length-=y.writelen,y.writelen=0,l){if(l.stack,!y.errored)y.errored=l;if(U._readableState&&!U._readableState.errored)U._readableState.errored=l;if(h0)x.nextTick(L0,U,y,l,A0);else L0(U,y,l,A0)}else{if(y.buffered.length>y.bufferedIndex)Z0(U,y);if(h0)if(y.afterWriteTickInfo!==null&&y.afterWriteTickInfo.cb===A0)y.afterWriteTickInfo.count++;else y.afterWriteTickInfo={count:1,cb:A0,stream:U,state:y},x.nextTick(_,y.afterWriteTickInfo);else P0(U,y,1,A0)}}function _({stream:U,state:l,count:y,cb:h0}){return l.afterWriteTickInfo=null,P0(U,l,y,h0)}function P0(U,l,y,h0){if(!l.ending&&!U.destroyed&&l.length===0&&l.needDrain)l.needDrain=!1,U.emit("drain");while(y-- >0)l.pendingcb--,h0();if(l.destroyed)i(l);m(U,l)}function i(U){if(U.writing)return;for(let A0=U.bufferedIndex;A0<U.buffered.length;++A0){var l;let{chunk:x0,callback:G}=U.buffered[A0],s=U.objectMode?1:x0.length;U.length-=s,G((l=U.errored)!==null&&l!==void 0?l:new k("write"))}let y=U[N].splice(0);for(let A0=0;A0<y.length;A0++){var h0;y[A0]((h0=U.errored)!==null&&h0!==void 0?h0:new k("end"))}r(U)}function Z0(U,l){if(l.corked||l.bufferProcessing||l.destroyed||!l.constructed)return;let{buffered:y,bufferedIndex:h0,objectMode:A0}=l,x0=y.length-h0;if(!x0)return;let G=h0;if(l.bufferProcessing=!0,x0>1&&U._writev){l.pendingcb-=x0-1;let s=l.allNoop?J:(t)=>{for(let Y0=G;Y0<y.length;++Y0)y[Y0].callback(t)},f0=l.allNoop&&G===0?y:h(y,G);f0.allBuffers=l.allBuffers,u(U,l,!0,l.length,f0,"",s),r(l)}else{do{let{chunk:s,encoding:f0,callback:t}=y[G];y[G++]=null;let Y0=A0?1:s.length;u(U,l,!1,Y0,s,f0,t)}while(G<y.length&&!l.writing);if(G===y.length)r(l);else if(G>256)y.splice(0,G),l.bufferedIndex=0;else l.bufferedIndex=G}l.bufferProcessing=!1}e.prototype._write=function(U,l,y){if(this._writev)this._writev([{chunk:U,encoding:l}],y);else throw new Q("_write()")},e.prototype._writev=null,e.prototype.end=function(U,l,y){let h0=this._writableState;if(typeof U==="function")y=U,U=null,l=null;else if(typeof l==="function")y=l,l=null;let A0;if(U!==null&&U!==void 0){let x0=g(this,U,l);if(x0 instanceof X)A0=x0}if(h0.corked)h0.corked=1,this.uncork();if(A0);else if(!h0.errored&&!h0.ending)h0.ending=!0,m(this,h0,!0),h0.ended=!0;else if(h0.finished)A0=new w("end");else if(h0.destroyed)A0=new k("end");if(typeof y==="function")if(A0||h0.finished)x.nextTick(y,A0);else h0[N].push(y);return this};function D0(U){return U.ending&&!U.destroyed&&U.constructed&&U.length===0&&!U.errored&&U.buffered.length===0&&!U.finished&&!U.writing&&!U.errorEmitted&&!U.closeEmitted}function w0(U,l){let y=!1;function h0(A0){if(y){v(U,A0!==null&&A0!==void 0?A0:I());return}if(y=!0,l.pendingcb--,A0){let x0=l[N].splice(0);for(let G=0;G<x0.length;G++)x0[G](A0);v(U,A0,l.sync)}else if(D0(l))l.prefinished=!0,U.emit("prefinish"),l.pendingcb++,x.nextTick(a,U,l)}l.sync=!0,l.pendingcb++;try{U._final(h0)}catch(A0){h0(A0)}l.sync=!1}function V0(U,l){if(!l.prefinished&&!l.finalCalled)if(typeof U._final==="function"&&!l.destroyed)l.finalCalled=!0,w0(U,l);else l.prefinished=!0,U.emit("prefinish")}function m(U,l,y){if(D0(l)){if(V0(U,l),l.pendingcb===0){if(y)l.pendingcb++,x.nextTick((h0,A0)=>{if(D0(A0))a(h0,A0);else A0.pendingcb--},U,l);else if(D0(l))l.pendingcb++,a(U,l)}}}function a(U,l){l.pendingcb--,l.finished=!0;let y=l[N].splice(0);for(let h0=0;h0<y.length;h0++)y[h0]();if(U.emit("finish"),l.autoDestroy){let h0=U._readableState;if(!h0||h0.autoDestroy&&(h0.endEmitted||h0.readable===!1))U.destroy()}}B(e.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(U){if(this._writableState)this._writableState.destroyed=U}},writable:{__proto__:null,get(){let U=this._writableState;return!!U&&U.writable!==!1&&!U.destroyed&&!U.errored&&!U.ending&&!U.ended},set(U){if(this._writableState)this._writableState.writable=!!U}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let U=this._writableState;if(!U)return!1;return!U.destroyed&&!U.ending&&U.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var H0=V.destroy;e.prototype.destroy=function(U,l){let y=this._writableState;if(!y.destroyed&&(y.bufferedIndex<y.buffered.length||y[N].length))x.nextTick(i,y);return H0.call(this,U,l),this},e.prototype._undestroy=V.undestroy,e.prototype._destroy=function(U,l){l(U)},e.prototype[$.captureRejectionSymbol]=function(U){this.destroy(U)};var I0;function q0(){if(I0===void 0)I0={};return I0}e.fromWeb=function(U,l){return q0().newStreamWritableFromWritableStream(U,l)},e.toWeb=function(U){return q0().newWritableStreamFromStreamWritable(U)}}),yj=U0((P,p)=>{var x=Ch(),h=(Z8(),OP(f8)),{isReadable:X,isWritable:H,isIterable:A,isNodeStream:B,isReadableNodeStream:f,isWritableNodeStream:D,isDuplexNodeStream:Z,isReadableStream:L,isWritableStream:$}=F8(),C=Zx(),{AbortError:Y,codes:{ERR_INVALID_ARG_TYPE:V,ERR_INVALID_RETURN_VALUE:q}}=aP(),{destroyer:b}=GX(),F=C8(),M=JD(),Q=M7(),{createDeferredPromise:I}=Hp(),j=db(),k=globalThis.Blob||h.Blob,w=typeof k!=="undefined"?function N(c){return c instanceof k}:function N(c){return!1},S=globalThis.AbortController||e2().AbortController,{FunctionPrototypeCall:T}=xP();class R extends F{constructor(N){super(N);if((N===null||N===void 0?void 0:N.readable)===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if((N===null||N===void 0?void 0:N.writable)===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}}p.exports=function N(c,r){if(Z(c))return c;if(f(c))return J({readable:c});if(D(c))return J({writable:c});if(B(c))return J({writable:!1,readable:!1});if(L(c))return J({readable:M.fromWeb(c)});if($(c))return J({writable:Q.fromWeb(c)});if(typeof c==="function"){let{value:g,write:Q0,final:u,destroy:L0}=v(c);if(A(g))return j(R,g,{objectMode:!0,write:Q0,final:u,destroy:L0});let W=g===null||g===void 0?void 0:g.then;if(typeof W==="function"){let _,P0=T(W,g,(i)=>{if(i!=null)throw new q("nully","body",i)},(i)=>{b(_,i)});return _=new R({objectMode:!0,readable:!1,write:Q0,final(i){u(async()=>{try{await P0,x.nextTick(i,null)}catch(Z0){x.nextTick(i,Z0)}})},destroy:L0})}throw new q("Iterable, AsyncIterable or AsyncFunction",r,g)}if(w(c))return N(c.arrayBuffer());if(A(c))return j(R,c,{objectMode:!0,writable:!1});if(L(c===null||c===void 0?void 0:c.readable)&&$(c===null||c===void 0?void 0:c.writable))return R.fromWeb(c);if(typeof(c===null||c===void 0?void 0:c.writable)==="object"||typeof(c===null||c===void 0?void 0:c.readable)==="object"){let g=c!==null&&c!==void 0&&c.readable?f(c===null||c===void 0?void 0:c.readable)?c===null||c===void 0?void 0:c.readable:N(c.readable):void 0,Q0=c!==null&&c!==void 0&&c.writable?D(c===null||c===void 0?void 0:c.writable)?c===null||c===void 0?void 0:c.writable:N(c.writable):void 0;return J({readable:g,writable:Q0})}let e=c===null||c===void 0?void 0:c.then;if(typeof e==="function"){let g;return T(e,c,(Q0)=>{if(Q0!=null)g.push(Q0);g.push(null)},(Q0)=>{b(g,Q0)}),g=new R({objectMode:!0,writable:!1,read(){}})}throw new V(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],c)};function v(N){let{promise:c,resolve:r}=I(),e=new S,g=e.signal;return{value:N(async function*(){while(!0){let Q0=c;c=null;let{chunk:u,done:L0,cb:W}=await Q0;if(x.nextTick(W),L0)return;if(g.aborted)throw new Y(void 0,{cause:g.reason});({promise:c,resolve:r}=I()),yield u}}(),{signal:g}),write(Q0,u,L0){let W=r;r=null,W({chunk:Q0,done:!1,cb:L0})},final(Q0){let u=r;r=null,u({done:!0,cb:Q0})},destroy(Q0,u){e.abort(),u(Q0)}}}function J(N){let c=N.readable&&typeof N.readable.read!=="function"?M.wrap(N.readable):N.readable,r=N.writable,e=!!X(c),g=!!H(r),Q0,u,L0,W,_;function P0(i){let Z0=W;if(W=null,Z0)Z0(i);else if(i)_.destroy(i)}if(_=new R({readableObjectMode:!!(c!==null&&c!==void 0&&c.readableObjectMode),writableObjectMode:!!(r!==null&&r!==void 0&&r.writableObjectMode),readable:e,writable:g}),g)C(r,(i)=>{if(g=!1,i)b(c,i);P0(i)}),_._write=function(i,Z0,D0){if(r.write(i,Z0))D0();else Q0=D0},_._final=function(i){r.end(),u=i},r.on("drain",function(){if(Q0){let i=Q0;Q0=null,i()}}),r.on("finish",function(){if(u){let i=u;u=null,i()}});if(e)C(c,(i)=>{if(e=!1,i)b(c,i);P0(i)}),c.on("readable",function(){if(L0){let i=L0;L0=null,i()}}),c.on("end",function(){_.push(null)}),_._read=function(){while(!0){let i=c.read();if(i===null){L0=_._read;return}if(!_.push(i))return}};return _._destroy=function(i,Z0){if(!i&&W!==null)i=new Y;if(L0=null,Q0=null,u=null,W===null)Z0(i);else W=Z0,b(r,i),b(c,i)},_}}),C8=U0((P,p)=>{var{ObjectDefineProperties:x,ObjectGetOwnPropertyDescriptor:h,ObjectKeys:X,ObjectSetPrototypeOf:H}=xP();p.exports=f;var A=JD(),B=M7();H(f.prototype,A.prototype),H(f,A);{let $=X(B.prototype);for(let C=0;C<$.length;C++){let Y=$[C];if(!f.prototype[Y])f.prototype[Y]=B.prototype[Y]}}function f($){if(!(this instanceof f))return new f($);if(A.call(this,$),B.call(this,$),$){if(this.allowHalfOpen=$.allowHalfOpen!==!1,$.readable===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if($.writable===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}else this.allowHalfOpen=!0}x(f.prototype,{writable:{__proto__:null,...h(B.prototype,"writable")},writableHighWaterMark:{__proto__:null,...h(B.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...h(B.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...h(B.prototype,"writableBuffer")},writableLength:{__proto__:null,...h(B.prototype,"writableLength")},writableFinished:{__proto__:null,...h(B.prototype,"writableFinished")},writableCorked:{__proto__:null,...h(B.prototype,"writableCorked")},writableEnded:{__proto__:null,...h(B.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...h(B.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set($){if(this._readableState&&this._writableState)this._readableState.destroyed=$,this._writableState.destroyed=$}}});var D;function Z(){if(D===void 0)D={};return D}f.fromWeb=function($,C){return Z().newStreamDuplexFromReadableWritablePair($,C)},f.toWeb=function($){return Z().newReadableWritablePairFromDuplex($)};var L;f.from=function($){if(!L)L=yj();return L($,"body")}}),Kb=U0((P,p)=>{var{ObjectSetPrototypeOf:x,Symbol:h}=xP();p.exports=f;var{ERR_METHOD_NOT_IMPLEMENTED:X}=aP().codes,H=C8(),{getHighWaterMark:A}=jD();x(f.prototype,H.prototype),x(f,H);var B=h("kCallback");function f(L){if(!(this instanceof f))return new f(L);let $=L?A(this,L,"readableHighWaterMark",!0):null;if($===0)L={...L,highWaterMark:null,readableHighWaterMark:$,writableHighWaterMark:L.writableHighWaterMark||0};if(H.call(this,L),this._readableState.sync=!1,this[B]=null,L){if(typeof L.transform==="function")this._transform=L.transform;if(typeof L.flush==="function")this._flush=L.flush}this.on("prefinish",Z)}function D(L){if(typeof this._flush==="function"&&!this.destroyed)this._flush(($,C)=>{if($){if(L)L($);else this.destroy($);return}if(C!=null)this.push(C);if(this.push(null),L)L()});else if(this.push(null),L)L()}function Z(){if(this._final!==D)D.call(this)}f.prototype._final=D,f.prototype._transform=function(L,$,C){throw new X("_transform()")},f.prototype._write=function(L,$,C){let Y=this._readableState,V=this._writableState,q=Y.length;this._transform(L,$,(b,F)=>{if(b){C(b);return}if(F!=null)this.push(F);if(V.ended||q===Y.length||Y.length<Y.highWaterMark)C();else this[B]=C})},f.prototype._read=function(){if(this[B]){let L=this[B];this[B]=null,L()}}}),Rb=U0((P,p)=>{var{ObjectSetPrototypeOf:x}=xP();p.exports=X;var h=Kb();x(X.prototype,h.prototype),x(X,h);function X(H){if(!(this instanceof X))return new X(H);h.call(this,H)}X.prototype._transform=function(H,A,B){B(null,H)}}),Y7=U0((P,p)=>{var x=Ch(),{ArrayIsArray:h,Promise:X,SymbolAsyncIterator:H,SymbolDispose:A}=xP(),B=Zx(),{once:f}=Hp(),D=GX(),Z=C8(),{aggregateTwoErrors:L,codes:{ERR_INVALID_ARG_TYPE:$,ERR_INVALID_RETURN_VALUE:C,ERR_MISSING_ARGS:Y,ERR_STREAM_DESTROYED:V,ERR_STREAM_PREMATURE_CLOSE:q},AbortError:b}=aP(),{validateFunction:F,validateAbortSignal:M}=PA(),{isIterable:Q,isReadable:I,isReadableNodeStream:j,isNodeStream:k,isTransformStream:w,isWebStream:S,isReadableStream:T,isReadableFinished:R}=F8(),v=globalThis.AbortController||e2().AbortController,J,N,c;function r(i,Z0,D0){let w0=!1;i.on("close",()=>{w0=!0});let V0=B(i,{readable:Z0,writable:D0},(m)=>{w0=!m});return{destroy:(m)=>{if(w0)return;w0=!0,D.destroyer(i,m||new V("pipe"))},cleanup:V0}}function e(i){return F(i[i.length-1],"streams[stream.length - 1]"),i.pop()}function g(i){if(Q(i))return i;else if(j(i))return Q0(i);throw new $("val",["Readable","Iterable","AsyncIterable"],i)}async function*Q0(i){if(!N)N=JD();yield*N.prototype[H].call(i)}async function u(i,Z0,D0,{end:w0}){let V0,m=null,a=(q0)=>{if(q0)V0=q0;if(m){let U=m;m=null,U()}},H0=()=>new X((q0,U)=>{if(V0)U(V0);else m=()=>{if(V0)U(V0);else q0()}});Z0.on("drain",a);let I0=B(Z0,{readable:!1},a);try{if(Z0.writableNeedDrain)await H0();for await(let q0 of i)if(!Z0.write(q0))await H0();if(w0)Z0.end(),await H0();D0()}catch(q0){D0(V0!==q0?L(V0,q0):q0)}finally{I0(),Z0.off("drain",a)}}async function L0(i,Z0,D0,{end:w0}){if(w(Z0))Z0=Z0.writable;let V0=Z0.getWriter();try{for await(let m of i)await V0.ready,V0.write(m).catch(()=>{});if(await V0.ready,w0)await V0.close();D0()}catch(m){try{await V0.abort(m),D0(m)}catch(a){D0(a)}}}function W(...i){return _(i,f(e(i)))}function _(i,Z0,D0){if(i.length===1&&h(i[0]))i=i[0];if(i.length<2)throw new Y("streams");let w0=new v,V0=w0.signal,m=D0===null||D0===void 0?void 0:D0.signal,a=[];M(m,"options.signal");function H0(){A0(new b)}c=c||Hp().addAbortListener;let I0;if(m)I0=c(m,H0);let q0,U,l=[],y=0;function h0(t){A0(t,--y===0)}function A0(t,Y0){var Lp;if(t&&(!q0||q0.code==="ERR_STREAM_PREMATURE_CLOSE"))q0=t;if(!q0&&!Y0)return;while(l.length)l.shift()(q0);if((Lp=I0)===null||Lp===void 0||Lp[A](),w0.abort(),Y0){if(!q0)a.forEach((AP)=>AP());x.nextTick(Z0,q0,U)}}let x0;for(let t=0;t<i.length;t++){let Y0=i[t],Lp=t<i.length-1,AP=t>0,IP=Lp||(D0===null||D0===void 0?void 0:D0.end)!==!1,Ux=t===i.length-1;if(k(Y0)){let lP=function(Pp){if(Pp&&Pp.name!=="AbortError"&&Pp.code!=="ERR_STREAM_PREMATURE_CLOSE")h0(Pp)};var G=lP;if(IP){let{destroy:Pp,cleanup:gh}=r(Y0,Lp,AP);if(l.push(Pp),I(Y0)&&Ux)a.push(gh)}if(Y0.on("error",lP),I(Y0)&&Ux)a.push(()=>{Y0.removeListener("error",lP)})}if(t===0)if(typeof Y0==="function"){if(x0=Y0({signal:V0}),!Q(x0))throw new C("Iterable, AsyncIterable or Stream","source",x0)}else if(Q(Y0)||j(Y0)||w(Y0))x0=Y0;else x0=Z.from(Y0);else if(typeof Y0==="function"){if(w(x0)){var s;x0=g((s=x0)===null||s===void 0?void 0:s.readable)}else x0=g(x0);if(x0=Y0(x0,{signal:V0}),Lp){if(!Q(x0,!0))throw new C("AsyncIterable",`transform[${t-1}]`,x0)}else{var f0;if(!J)J=Rb();let lP=new J({objectMode:!0}),Pp=(f0=x0)===null||f0===void 0?void 0:f0.then;if(typeof Pp==="function")y++,Pp.call(x0,(Y1)=>{if(U=Y1,Y1!=null)lP.write(Y1);if(IP)lP.end();x.nextTick(h0)},(Y1)=>{lP.destroy(Y1),x.nextTick(h0,Y1)});else if(Q(x0,!0))y++,u(x0,lP,h0,{end:IP});else if(T(x0)||w(x0)){let Y1=x0.readable||x0;y++,u(Y1,lP,h0,{end:IP})}else throw new C("AsyncIterable or Promise","destination",x0);x0=lP;let{destroy:gh,cleanup:yh}=r(x0,!1,!0);if(l.push(gh),Ux)a.push(yh)}}else if(k(Y0)){if(j(x0)){y+=2;let lP=P0(x0,Y0,h0,{end:IP});if(I(Y0)&&Ux)a.push(lP)}else if(w(x0)||T(x0)){let lP=x0.readable||x0;y++,u(lP,Y0,h0,{end:IP})}else if(Q(x0))y++,u(x0,Y0,h0,{end:IP});else throw new $("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],x0);x0=Y0}else if(S(Y0)){if(j(x0))y++,L0(g(x0),Y0,h0,{end:IP});else if(T(x0)||Q(x0))y++,L0(x0,Y0,h0,{end:IP});else if(w(x0))y++,L0(x0.readable,Y0,h0,{end:IP});else throw new $("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],x0);x0=Y0}else x0=Z.from(Y0)}if(V0!==null&&V0!==void 0&&V0.aborted||m!==null&&m!==void 0&&m.aborted)x.nextTick(H0);return x0}function P0(i,Z0,D0,{end:w0}){let V0=!1;if(Z0.on("close",()=>{if(!V0)D0(new q)}),i.pipe(Z0,{end:!1}),w0){let a=function(){V0=!0,Z0.end()};var m=a;if(R(i))x.nextTick(a);else i.once("end",a)}else D0();return B(i,{readable:!0,writable:!1},(a)=>{let H0=i._readableState;if(a&&a.code==="ERR_STREAM_PREMATURE_CLOSE"&&H0&&H0.ended&&!H0.errored&&!H0.errorEmitted)i.once("end",D0).once("error",D0);else D0(a)}),B(Z0,{readable:!1,writable:!0},D0)}p.exports={pipelineImpl:_,pipeline:W}}),cb=U0((P,p)=>{var{pipeline:x}=Y7(),h=C8(),{destroyer:X}=GX(),{isNodeStream:H,isReadable:A,isWritable:B,isWebStream:f,isTransformStream:D,isWritableStream:Z,isReadableStream:L}=F8(),{AbortError:$,codes:{ERR_INVALID_ARG_VALUE:C,ERR_MISSING_ARGS:Y}}=aP(),V=Zx();p.exports=function q(...b){if(b.length===0)throw new Y("streams");if(b.length===1)return h.from(b[0]);let F=[...b];if(typeof b[0]==="function")b[0]=h.from(b[0]);if(typeof b[b.length-1]==="function"){let J=b.length-1;b[J]=h.from(b[J])}for(let J=0;J<b.length;++J){if(!H(b[J])&&!f(b[J]))continue;if(J<b.length-1&&!(A(b[J])||L(b[J])||D(b[J])))throw new C(`streams[${J}]`,F[J],"must be readable");if(J>0&&!(B(b[J])||Z(b[J])||D(b[J])))throw new C(`streams[${J}]`,F[J],"must be writable")}let M,Q,I,j,k;function w(J){let N=j;if(j=null,N)N(J);else if(J)k.destroy(J);else if(!v&&!R)k.destroy()}let S=b[0],T=x(b,w),R=!!(B(S)||Z(S)||D(S)),v=!!(A(T)||L(T)||D(T));if(k=new h({writableObjectMode:!!(S!==null&&S!==void 0&&S.writableObjectMode),readableObjectMode:!!(T!==null&&T!==void 0&&T.readableObjectMode),writable:R,readable:v}),R){if(H(S))k._write=function(N,c,r){if(S.write(N,c))r();else M=r},k._final=function(N){S.end(),Q=N},S.on("drain",function(){if(M){let N=M;M=null,N()}});else if(f(S)){let N=(D(S)?S.writable:S).getWriter();k._write=async function(c,r,e){try{await N.ready,N.write(c).catch(()=>{}),e()}catch(g){e(g)}},k._final=async function(c){try{await N.ready,N.close().catch(()=>{}),Q=c}catch(r){c(r)}}}let J=D(T)?T.readable:T;V(J,()=>{if(Q){let N=Q;Q=null,N()}})}if(v){if(H(T))T.on("readable",function(){if(I){let J=I;I=null,J()}}),T.on("end",function(){k.push(null)}),k._read=function(){while(!0){let J=T.read();if(J===null){I=k._read;return}if(!k.push(J))return}};else if(f(T)){let J=(D(T)?T.readable:T).getReader();k._read=async function(){while(!0)try{let{value:N,done:c}=await J.read();if(!k.push(N))return;if(c){k.push(null);return}}catch{return}}}}return k._destroy=function(J,N){if(!J&&j!==null)J=new $;if(I=null,M=null,Q=null,j===null)N(J);else if(j=N,H(T))X(T,J)},k}}),_j=U0((P,p)=>{var x=globalThis.AbortController||e2().AbortController,{codes:{ERR_INVALID_ARG_VALUE:h,ERR_INVALID_ARG_TYPE:X,ERR_MISSING_ARGS:H,ERR_OUT_OF_RANGE:A},AbortError:B}=aP(),{validateAbortSignal:f,validateInteger:D,validateObject:Z}=PA(),L=xP().Symbol("kWeak"),$=xP().Symbol("kResistStopPropagation"),{finished:C}=Zx(),Y=cb(),{addAbortSignalNoValidate:V}=TD(),{isWritable:q,isNodeStream:b}=F8(),{deprecate:F}=Hp(),{ArrayPrototypePush:M,Boolean:Q,MathFloor:I,Number:j,NumberIsNaN:k,Promise:w,PromiseReject:S,PromiseResolve:T,PromisePrototypeThen:R,Symbol:v}=xP(),J=v("kEmpty"),N=v("kEof");function c(m,a){if(a!=null)Z(a,"options");if((a===null||a===void 0?void 0:a.signal)!=null)f(a.signal,"options.signal");if(b(m)&&!q(m))throw new h("stream",m,"must be writable");let H0=Y(this,m);if(a!==null&&a!==void 0&&a.signal)V(a.signal,H0);return H0}function r(m,a){if(typeof m!=="function")throw new X("fn",["Function","AsyncFunction"],m);if(a!=null)Z(a,"options");if((a===null||a===void 0?void 0:a.signal)!=null)f(a.signal,"options.signal");let H0=1;if((a===null||a===void 0?void 0:a.concurrency)!=null)H0=I(a.concurrency);let I0=H0-1;if((a===null||a===void 0?void 0:a.highWaterMark)!=null)I0=I(a.highWaterMark);return D(H0,"options.concurrency",1),D(I0,"options.highWaterMark",0),I0+=H0,async function*q0(){let U=Hp().AbortSignalAny([a===null||a===void 0?void 0:a.signal].filter(Q)),l=this,y=[],h0={signal:U},A0,x0,G=!1,s=0;function f0(){G=!0,t()}function t(){s-=1,Y0()}function Y0(){if(x0&&!G&&s<H0&&y.length<I0)x0(),x0=null}async function Lp(){try{for await(let AP of l){if(G)return;if(U.aborted)throw new B;try{if(AP=m(AP,h0),AP===J)continue;AP=T(AP)}catch(IP){AP=S(IP)}if(s+=1,R(AP,t,f0),y.push(AP),A0)A0(),A0=null;if(!G&&(y.length>=I0||s>=H0))await new w((IP)=>{x0=IP})}y.push(N)}catch(AP){let IP=S(AP);R(IP,t,f0),y.push(IP)}finally{if(G=!0,A0)A0(),A0=null}}Lp();try{while(!0){while(y.length>0){let AP=await y[0];if(AP===N)return;if(U.aborted)throw new B;if(AP!==J)yield AP;y.shift(),Y0()}await new w((AP)=>{A0=AP})}}finally{if(G=!0,x0)x0(),x0=null}}.call(this)}function e(m=void 0){if(m!=null)Z(m,"options");if((m===null||m===void 0?void 0:m.signal)!=null)f(m.signal,"options.signal");return async function*a(){let H0=0;for await(let q0 of this){var I0;if(m!==null&&m!==void 0&&(I0=m.signal)!==null&&I0!==void 0&&I0.aborted)throw new B({cause:m.signal.reason});yield[H0++,q0]}}.call(this)}async function g(m,a=void 0){for await(let H0 of W.call(this,m,a))return!0;return!1}async function Q0(m,a=void 0){if(typeof m!=="function")throw new X("fn",["Function","AsyncFunction"],m);return!await g.call(this,async(...H0)=>{return!await m(...H0)},a)}async function u(m,a){for await(let H0 of W.call(this,m,a))return H0;return}async function L0(m,a){if(typeof m!=="function")throw new X("fn",["Function","AsyncFunction"],m);async function H0(I0,q0){return await m(I0,q0),J}for await(let I0 of r.call(this,H0,a));}function W(m,a){if(typeof m!=="function")throw new X("fn",["Function","AsyncFunction"],m);async function H0(I0,q0){if(await m(I0,q0))return I0;return J}return r.call(this,H0,a)}class _ extends H{constructor(){super("reduce");this.message="Reduce of an empty stream requires an initial value"}}async function P0(m,a,H0){var I0;if(typeof m!=="function")throw new X("reducer",["Function","AsyncFunction"],m);if(H0!=null)Z(H0,"options");if((H0===null||H0===void 0?void 0:H0.signal)!=null)f(H0.signal,"options.signal");let q0=arguments.length>1;if(H0!==null&&H0!==void 0&&(I0=H0.signal)!==null&&I0!==void 0&&I0.aborted){let A0=new B(void 0,{cause:H0.signal.reason});throw this.once("error",()=>{}),await C(this.destroy(A0)),A0}let U=new x,l=U.signal;if(H0!==null&&H0!==void 0&&H0.signal){let A0={once:!0,[L]:this,[$]:!0};H0.signal.addEventListener("abort",()=>U.abort(),A0)}let y=!1;try{for await(let A0 of this){var h0;if(y=!0,H0!==null&&H0!==void 0&&(h0=H0.signal)!==null&&h0!==void 0&&h0.aborted)throw new B;if(!q0)a=A0,q0=!0;else a=await m(a,A0,{signal:l})}if(!y&&!q0)throw new _}finally{U.abort()}return a}async function i(m){if(m!=null)Z(m,"options");if((m===null||m===void 0?void 0:m.signal)!=null)f(m.signal,"options.signal");let a=[];for await(let I0 of this){var H0;if(m!==null&&m!==void 0&&(H0=m.signal)!==null&&H0!==void 0&&H0.aborted)throw new B(void 0,{cause:m.signal.reason});M(a,I0)}return a}function Z0(m,a){let H0=r.call(this,m,a);return async function*I0(){for await(let q0 of H0)yield*q0}.call(this)}function D0(m){if(m=j(m),k(m))return 0;if(m<0)throw new A("number",">= 0",m);return m}function w0(m,a=void 0){if(a!=null)Z(a,"options");if((a===null||a===void 0?void 0:a.signal)!=null)f(a.signal,"options.signal");return m=D0(m),async function*H0(){var I0;if(a!==null&&a!==void 0&&(I0=a.signal)!==null&&I0!==void 0&&I0.aborted)throw new B;for await(let U of this){var q0;if(a!==null&&a!==void 0&&(q0=a.signal)!==null&&q0!==void 0&&q0.aborted)throw new B;if(m--<=0)yield U}}.call(this)}function V0(m,a=void 0){if(a!=null)Z(a,"options");if((a===null||a===void 0?void 0:a.signal)!=null)f(a.signal,"options.signal");return m=D0(m),async function*H0(){var I0;if(a!==null&&a!==void 0&&(I0=a.signal)!==null&&I0!==void 0&&I0.aborted)throw new B;for await(let U of this){var q0;if(a!==null&&a!==void 0&&(q0=a.signal)!==null&&q0!==void 0&&q0.aborted)throw new B;if(m-- >0)yield U;if(m<=0)return}}.call(this)}P.streamReturningOperators={asIndexedPairs:F(e,"readable.asIndexedPairs will be removed in a future version."),drop:w0,filter:W,flatMap:Z0,map:r,take:V0,compose:c},P.promiseReturningOperators={every:Q0,forEach:L0,reduce:P0,toArray:i,some:g,find:u}}),vb=U0((P,p)=>{var{ArrayPrototypePop:x,Promise:h}=xP(),{isIterable:X,isNodeStream:H,isWebStream:A}=F8(),{pipelineImpl:B}=Y7(),{finished:f}=Zx();Ub();function D(...Z){return new h((L,$)=>{let C,Y,V=Z[Z.length-1];if(V&&typeof V==="object"&&!H(V)&&!X(V)&&!A(V)){let q=x(Z);C=q.signal,Y=q.end}B(Z,(q,b)=>{if(q)$(q);else L(b)},{signal:C,end:Y})})}p.exports={finished:f,pipeline:D}}),Ub=U0((P,p)=>{var{Buffer:x}=(Z8(),OP(f8)),{ObjectDefineProperty:h,ObjectKeys:X,ReflectApply:H}=xP(),{promisify:{custom:A}}=Hp(),{streamReturningOperators:B,promiseReturningOperators:f}=_j(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:D}}=aP(),Z=cb(),{setDefaultHighWaterMark:L,getDefaultHighWaterMark:$}=jD(),{pipeline:C}=Y7(),{destroyer:Y}=GX(),V=Zx(),q=vb(),b=F8(),F=p.exports=b7().Stream;F.isDestroyed=b.isDestroyed,F.isDisturbed=b.isDisturbed,F.isErrored=b.isErrored,F.isReadable=b.isReadable,F.isWritable=b.isWritable,F.Readable=JD();for(let Q of X(B)){let I=function(...k){if(new.target)throw D();return F.Readable.from(H(j,this,k))},j=B[Q];h(I,"name",{__proto__:null,value:j.name}),h(I,"length",{__proto__:null,value:j.length}),h(F.Readable.prototype,Q,{__proto__:null,value:I,enumerable:!1,configurable:!0,writable:!0})}for(let Q of X(f)){let I=function(...k){if(new.target)throw D();return H(j,this,k)},j=f[Q];h(I,"name",{__proto__:null,value:j.name}),h(I,"length",{__proto__:null,value:j.length}),h(F.Readable.prototype,Q,{__proto__:null,value:I,enumerable:!1,configurable:!0,writable:!0})}F.Writable=M7(),F.Duplex=C8(),F.Transform=Kb(),F.PassThrough=Rb(),F.pipeline=C;var{addAbortSignal:M}=TD();F.addAbortSignal=M,F.finished=V,F.destroy=Y,F.compose=Z,F.setDefaultHighWaterMark=L,F.getDefaultHighWaterMark=$,h(F,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return q}}),h(C,A,{__proto__:null,enumerable:!0,get(){return q.pipeline}}),h(V,A,{__proto__:null,enumerable:!0,get(){return q.finished}}),F.Stream=F,F._isUint8Array=function Q(I){return I instanceof Uint8Array},F._uint8ArrayToBuffer=function Q(I){return x.from(I.buffer,I.byteOffset,I.byteLength)}}),ij=U0((P,p)=>{var x=(KD(),OP(dD));if(x&&process.env.READABLE_STREAM==="disable"){let h=x.promises;p.exports._uint8ArrayToBuffer=x._uint8ArrayToBuffer,p.exports._isUint8Array=x._isUint8Array,p.exports.isDisturbed=x.isDisturbed,p.exports.isErrored=x.isErrored,p.exports.isReadable=x.isReadable,p.exports.Readable=x.Readable,p.exports.Writable=x.Writable,p.exports.Duplex=x.Duplex,p.exports.Transform=x.Transform,p.exports.PassThrough=x.PassThrough,p.exports.addAbortSignal=x.addAbortSignal,p.exports.finished=x.finished,p.exports.destroy=x.destroy,p.exports.pipeline=x.pipeline,p.exports.compose=x.compose,Object.defineProperty(x,"promises",{configurable:!0,enumerable:!0,get(){return h}}),p.exports.Stream=x.Stream}else{let h=Ub(),X=vb(),H=h.Readable.destroy;p.exports=h.Readable,p.exports._uint8ArrayToBuffer=h._uint8ArrayToBuffer,p.exports._isUint8Array=h._isUint8Array,p.exports.isDisturbed=h.isDisturbed,p.exports.isErrored=h.isErrored,p.exports.isReadable=h.isReadable,p.exports.Readable=h.Readable,p.exports.Writable=h.Writable,p.exports.Duplex=h.Duplex,p.exports.Transform=h.Transform,p.exports.PassThrough=h.PassThrough,p.exports.addAbortSignal=h.addAbortSignal,p.exports.finished=h.finished,p.exports.destroy=h.destroy,p.exports.destroy=H,p.exports.pipeline=h.pipeline,p.exports.compose=h.compose,Object.defineProperty(h,"promises",{configurable:!0,enumerable:!0,get(){return X}}),p.exports.Stream=h.Stream}p.exports.default=p.exports}),hP=Sj(ij(),1),mj=hP.default.ReadableState,uj=hP.default._fromList,oj=hP.default.from,aj=hP.default.fromWeb,rj=hP.default.toWeb,nj=hP.default.wrap,sj=hP.default._uint8ArrayToBuffer,tj=hP.default._isUint8Array,ej=hP.default.isDisturbed,PJ=hP.default.isErrored,pJ=hP.default.isReadable,xJ=hP.default.Readable,hJ=hP.default.Writable,XJ=hP.default.Duplex,HJ=hP.default.Transform,AJ=hP.default.PassThrough,BJ=hP.default.addAbortSignal,DJ=hP.default.finished,fJ=hP.default.destroy,ZJ=hP.default.pipeline,$J=hP.default.compose,LJ=hP.default.Stream,CJ=hP.default});var b8=M0((bJ)=>{bJ.base64=!0;bJ.array=!0;bJ.string=!0;bJ.arraybuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";bJ.nodebuffer=typeof Buffer!=="undefined";bJ.uint8array=typeof Uint8Array!=="undefined";if(typeof ArrayBuffer==="undefined")bJ.blob=!1;else{RD=new ArrayBuffer(0);try{bJ.blob=new Blob([RD],{type:"application/zip"}).size===0}catch(P){try{V7=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,cD=new V7,cD.append(RD),bJ.blob=cD.getBlob("application/zip").size===0}catch(p){bJ.blob=!1}}}var RD,V7,cD;try{bJ.nodestream=!!(KD(),OP(dD)).Readable}catch(P){bJ.nodestream=!1}});var q7=M0((wJ)=>{var EJ=XP(),zJ=b8(),d1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";wJ.encode=function(P){var p=[],x,h,X,H,A,B,f,D=0,Z=P.length,L=Z,$=EJ.getTypeOf(P)!=="string";while(D<P.length){if(L=Z-D,!$)x=P.charCodeAt(D++),h=D<Z?P.charCodeAt(D++):0,X=D<Z?P.charCodeAt(D++):0;else x=P[D++],h=D<Z?P[D++]:0,X=D<Z?P[D++]:0;H=x>>2,A=(x&3)<<4|h>>4,B=L>1?(h&15)<<2|X>>6:64,f=L>2?X&63:64,p.push(d1.charAt(H)+d1.charAt(A)+d1.charAt(B)+d1.charAt(f))}return p.join("")};wJ.decode=function(P){var p,x,h,X,H,A,B,f=0,D=0,Z="data:";if(P.substr(0,Z.length)===Z)throw new Error("Invalid base64 input, it looks like a data url.");P=P.replace(/[^A-Za-z0-9+/=]/g,"");var L=P.length*3/4;if(P.charAt(P.length-1)===d1.charAt(64))L--;if(P.charAt(P.length-2)===d1.charAt(64))L--;if(L%1!==0)throw new Error("Invalid base64 input, bad content length.");var $;if(zJ.uint8array)$=new Uint8Array(L|0);else $=new Array(L|0);while(f<P.length){if(X=d1.indexOf(P.charAt(f++)),H=d1.indexOf(P.charAt(f++)),A=d1.indexOf(P.charAt(f++)),B=d1.indexOf(P.charAt(f++)),p=X<<2|H>>4,x=(H&15)<<4|A>>2,h=(A&3)<<6|B,$[D++]=p,A!==64)$[D++]=x;if(B!==64)$[D++]=h}return $}});var pA=M0((Rl,Gb)=>{Gb.exports={isNode:typeof Buffer!=="undefined",newBufferFrom:function(P,p){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(P,p);else{if(typeof P==="number")throw new Error('The "data" argument must not be a number');return new Buffer(P,p)}},allocBuffer:function(P){if(Buffer.alloc)return Buffer.alloc(P);else{var p=new Buffer(P);return p.fill(0),p}},isBuffer:function(P){return Buffer.isBuffer(P)},isStream:function(P){return P&&typeof P.on==="function"&&typeof P.pause==="function"&&typeof P.resume==="function"}}});var Nb=M0((cl,lb)=>{var Sb=global.MutationObserver||global.WebKitMutationObserver,xA;if(Sb)UD=0,I7=new Sb(vD),GD=global.document.createTextNode(""),I7.observe(GD,{characterData:!0}),xA=function(){GD.data=UD=++UD%2};else if(!global.setImmediate&&typeof global.MessageChannel!=="undefined")SD=new global.MessageChannel,SD.port1.onmessage=vD,xA=function(){SD.port2.postMessage(0)};else if("document"in global&&"onreadystatechange"in global.document.createElement("script"))xA=function(){var P=global.document.createElement("script");P.onreadystatechange=function(){vD(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},global.document.documentElement.appendChild(P)};else xA=function(){setTimeout(vD,0)};var UD,I7,GD,SD,E7,hA=[];function vD(){E7=!0;var P,p,x=hA.length;while(x){p=hA,hA=[],P=-1;while(++P<x)p[P]();x=hA.length}E7=!1}lb.exports=TJ;function TJ(P){if(hA.push(P)===1&&!E7)xA()}});var mb=M0((vl,ib)=>{var jJ=Nb();function SX(){}var _P={},Ob=["REJECTED"],z7=["FULFILLED"],gb=["PENDING"];ib.exports=$x;function $x(P){if(typeof P!=="function")throw new TypeError("resolver must be a function");if(this.state=gb,this.queue=[],this.outcome=void 0,P!==SX)yb(this,P)}$x.prototype.finally=function(P){if(typeof P!=="function")return this;var p=this.constructor;return this.then(x,h);function x(X){function H(){return X}return p.resolve(P()).then(H)}function h(X){function H(){throw X}return p.resolve(P()).then(H)}};$x.prototype.catch=function(P){return this.then(null,P)};$x.prototype.then=function(P,p){if(typeof P!=="function"&&this.state===z7||typeof p!=="function"&&this.state===Ob)return this;var x=new this.constructor(SX);if(this.state!==gb){var h=this.state===z7?P:p;w7(x,h,this.outcome)}else this.queue.push(new XA(x,P,p));return x};function XA(P,p,x){if(this.promise=P,typeof p==="function")this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled;if(typeof x==="function")this.onRejected=x,this.callRejected=this.otherCallRejected}XA.prototype.callFulfilled=function(P){_P.resolve(this.promise,P)};XA.prototype.otherCallFulfilled=function(P){w7(this.promise,this.onFulfilled,P)};XA.prototype.callRejected=function(P){_P.reject(this.promise,P)};XA.prototype.otherCallRejected=function(P){w7(this.promise,this.onRejected,P)};function w7(P,p,x){jJ(function(){var h;try{h=p(x)}catch(X){return _P.reject(P,X)}if(h===P)_P.reject(P,new TypeError("Cannot resolve promise with itself"));else _P.resolve(P,h)})}_P.resolve=function(P,p){var x=_b(JJ,p);if(x.status==="error")return _P.reject(P,x.value);var h=x.value;if(h)yb(P,h);else{P.state=z7,P.outcome=p;var X=-1,H=P.queue.length;while(++X<H)P.queue[X].callFulfilled(p)}return P};_P.reject=function(P,p){P.state=Ob,P.outcome=p;var x=-1,h=P.queue.length;while(++x<h)P.queue[x].callRejected(p);return P};function JJ(P){var p=P&&P.then;if(P&&(typeof P==="object"||typeof P==="function")&&typeof p==="function")return function x(){p.apply(P,arguments)}}function yb(P,p){var x=!1;function h(B){if(x)return;x=!0,_P.reject(P,B)}function X(B){if(x)return;x=!0,_P.resolve(P,B)}function H(){p(X,h)}var A=_b(H);if(A.status==="error")h(A.value)}function _b(P,p){var x={};try{x.value=P(p),x.status="success"}catch(h){x.status="error",x.value=h}return x}$x.resolve=dJ;function dJ(P){if(P instanceof this)return P;return _P.resolve(new this(SX),P)}$x.reject=KJ;function KJ(P){var p=new this(SX);return _P.reject(p,P)}$x.all=RJ;function RJ(P){var p=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=P.length,h=!1;if(!x)return this.resolve([]);var X=new Array(x),H=0,A=-1,B=new this(SX);while(++A<x)f(P[A],A);return B;function f(D,Z){p.resolve(D).then(L,function($){if(!h)h=!0,_P.reject(B,$)});function L($){if(X[Z]=$,++H===x&&!h)h=!0,_P.resolve(B,X)}}}$x.race=cJ;function cJ(P){var p=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=P.length,h=!1;if(!x)return this.resolve([]);var X=-1,H=new this(SX);while(++X<x)A(P[X]);return H;function A(B){p.resolve(B).then(function(f){if(!h)h=!0,_P.resolve(H,f)},function(f){if(!h)h=!0,_P.reject(H,f)})}}});var lX=M0((Ul,ub)=>{var k7=null;if(typeof Promise!=="undefined")k7=Promise;else k7=mb();ub.exports={Promise:k7}});var ab=M0((ob)=>{(function(P,p){if(P.setImmediate)return;var x=1,h={},X=!1,H=P.document,A;function B(F){if(typeof F!=="function")F=new Function(""+F);var M=new Array(arguments.length-1);for(var Q=0;Q<M.length;Q++)M[Q]=arguments[Q+1];var I={callback:F,args:M};return h[x]=I,A(x),x++}function f(F){delete h[F]}function D(F){var{callback:M,args:Q}=F;switch(Q.length){case 0:M();break;case 1:M(Q[0]);break;case 2:M(Q[0],Q[1]);break;case 3:M(Q[0],Q[1],Q[2]);break;default:M.apply(p,Q);break}}function Z(F){if(X)setTimeout(Z,0,F);else{var M=h[F];if(M){X=!0;try{D(M)}finally{f(F),X=!1}}}}function L(){A=function(F){process.nextTick(function(){Z(F)})}}function $(){if(P.postMessage&&!P.importScripts){var F=!0,M=P.onmessage;return P.onmessage=function(){F=!1},P.postMessage("","*"),P.onmessage=M,F}}function C(){var F="setImmediate$"+Math.random()+"$",M=function(Q){if(Q.source===P&&typeof Q.data==="string"&&Q.data.indexOf(F)===0)Z(+Q.data.slice(F.length))};if(P.addEventListener)P.addEventListener("message",M,!1);else P.attachEvent("onmessage",M);A=function(Q){P.postMessage(F+Q,"*")}}function Y(){var F=new MessageChannel;F.port1.onmessage=function(M){var Q=M.data;Z(Q)},A=function(M){F.port2.postMessage(M)}}function V(){var F=H.documentElement;A=function(M){var Q=H.createElement("script");Q.onreadystatechange=function(){Z(M),Q.onreadystatechange=null,F.removeChild(Q),Q=null},F.appendChild(Q)}}function q(){A=function(F){setTimeout(Z,0,F)}}var b=Object.getPrototypeOf&&Object.getPrototypeOf(P);if(b=b&&b.setTimeout?b:P,{}.toString.call(P.process)==="[object process]")L();else if($())C();else if(P.MessageChannel)Y();else if(H&&"onreadystatechange"in H.createElement("script"))V();else q();b.setImmediate=B,b.clearImmediate=f})(typeof self==="undefined"?typeof global==="undefined"?ob:global:self)});var XP=M0((GJ)=>{var Lx=b8(),vJ=q7(),NX=pA(),W7=lX();ab();function UJ(P){var p=null;if(Lx.uint8array)p=new Uint8Array(P.length);else p=new Array(P.length);return ND(P,p)}GJ.newBlob=function(P,p){GJ.checkSupport("blob");try{return new Blob([P],{type:p})}catch(X){try{var x=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,h=new x;return h.append(P),h.getBlob(p)}catch(H){throw new Error("Bug : can't construct the Blob.")}}};function HA(P){return P}function ND(P,p){for(var x=0;x<P.length;++x)p[x]=P.charCodeAt(x)&255;return p}var lD={stringifyByChunk:function(P,p,x){var h=[],X=0,H=P.length;if(H<=x)return String.fromCharCode.apply(null,P);while(X<H){if(p==="array"||p==="nodebuffer")h.push(String.fromCharCode.apply(null,P.slice(X,Math.min(X+x,H))));else h.push(String.fromCharCode.apply(null,P.subarray(X,Math.min(X+x,H))));X+=x}return h.join("")},stringifyByChar:function(P){var p="";for(var x=0;x<P.length;x++)p+=String.fromCharCode(P[x]);return p},applyCanBeUsed:{uint8array:function(){try{return Lx.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(P){return!1}}(),nodebuffer:function(){try{return Lx.nodebuffer&&String.fromCharCode.apply(null,NX.allocBuffer(1)).length===1}catch(P){return!1}}()}};function AA(P){var p=65536,x=GJ.getTypeOf(P),h=!0;if(x==="uint8array")h=lD.applyCanBeUsed.uint8array;else if(x==="nodebuffer")h=lD.applyCanBeUsed.nodebuffer;if(h)while(p>1)try{return lD.stringifyByChunk(P,x,p)}catch(X){p=Math.floor(p/2)}return lD.stringifyByChar(P)}GJ.applyFromCharCode=AA;function OD(P,p){for(var x=0;x<P.length;x++)p[x]=P[x];return p}var Cx={};Cx.string={string:HA,array:function(P){return ND(P,new Array(P.length))},arraybuffer:function(P){return Cx.string.uint8array(P).buffer},uint8array:function(P){return ND(P,new Uint8Array(P.length))},nodebuffer:function(P){return ND(P,NX.allocBuffer(P.length))}};Cx.array={string:AA,array:HA,arraybuffer:function(P){return new Uint8Array(P).buffer},uint8array:function(P){return new Uint8Array(P)},nodebuffer:function(P){return NX.newBufferFrom(P)}};Cx.arraybuffer={string:function(P){return AA(new Uint8Array(P))},array:function(P){return OD(new Uint8Array(P),new Array(P.byteLength))},arraybuffer:HA,uint8array:function(P){return new Uint8Array(P)},nodebuffer:function(P){return NX.newBufferFrom(new Uint8Array(P))}};Cx.uint8array={string:AA,array:function(P){return OD(P,new Array(P.length))},arraybuffer:function(P){return P.buffer},uint8array:HA,nodebuffer:function(P){return NX.newBufferFrom(P)}};Cx.nodebuffer={string:AA,array:function(P){return OD(P,new Array(P.length))},arraybuffer:function(P){return Cx.nodebuffer.uint8array(P).buffer},uint8array:function(P){return OD(P,new Uint8Array(P.length))},nodebuffer:HA};GJ.transformTo=function(P,p){if(!p)p="";if(!P)return p;GJ.checkSupport(P);var x=GJ.getTypeOf(p),h=Cx[x][P](p);return h};GJ.resolve=function(P){var p=P.split("/"),x=[];for(var h=0;h<p.length;h++){var X=p[h];if(X==="."||X===""&&h!==0&&h!==p.length-1)continue;else if(X==="..")x.pop();else x.push(X)}return x.join("/")};GJ.getTypeOf=function(P){if(typeof P==="string")return"string";if(Object.prototype.toString.call(P)==="[object Array]")return"array";if(Lx.nodebuffer&&NX.isBuffer(P))return"nodebuffer";if(Lx.uint8array&&P instanceof Uint8Array)return"uint8array";if(Lx.arraybuffer&&P instanceof ArrayBuffer)return"arraybuffer"};GJ.checkSupport=function(P){var p=Lx[P.toLowerCase()];if(!p)throw new Error(P+" is not supported by this platform")};GJ.MAX_VALUE_16BITS=65535;GJ.MAX_VALUE_32BITS=-1;GJ.pretty=function(P){var p="",x,h;for(h=0;h<(P||"").length;h++)x=P.charCodeAt(h),p+="\\x"+(x<16?"0":"")+x.toString(16).toUpperCase();return p};GJ.delay=function(P,p,x){setImmediate(function(){P.apply(x||null,p||[])})};GJ.inherits=function(P,p){var x=function(){};x.prototype=p.prototype,P.prototype=new x};GJ.extend=function(){var P={},p,x;for(p=0;p<arguments.length;p++)for(x in arguments[p])if(Object.prototype.hasOwnProperty.call(arguments[p],x)&&typeof P[x]==="undefined")P[x]=arguments[p][x];return P};GJ.prepareContent=function(P,p,x,h,X){var H=W7.Promise.resolve(p).then(function(A){var B=Lx.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1);if(B&&typeof FileReader!=="undefined")return new W7.Promise(function(f,D){var Z=new FileReader;Z.onload=function(L){f(L.target.result)},Z.onerror=function(L){D(L.target.error)},Z.readAsArrayBuffer(A)});else return A});return H.then(function(A){var B=GJ.getTypeOf(A);if(!B)return W7.Promise.reject(new Error("Can't read the data of '"+P+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"));if(B==="arraybuffer")A=GJ.transformTo("uint8array",A);else if(B==="string"){if(X)A=vJ.decode(A);else if(x){if(h!==!0)A=UJ(A)}}return A})}});var qp=M0((ll,tb)=>{function sb(P){this.name=P||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}sb.prototype={push:function(P){this.emit("data",P)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(P){this.emit("error",P)}return!0},error:function(P){if(this.isFinished)return!1;if(this.isPaused)this.generatedError=P;else{if(this.isFinished=!0,this.emit("error",P),this.previous)this.previous.error(P);this.cleanUp()}return!0},on:function(P,p){return this._listeners[P].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(P,p){if(this._listeners[P])for(var x=0;x<this._listeners[P].length;x++)this._listeners[P][x].call(this,p)},pipe:function(P){return P.registerPrevious(this)},registerPrevious:function(P){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=P.streamInfo,this.mergeStreamInfo(),this.previous=P;var p=this;return P.on("data",function(x){p.processChunk(x)}),P.on("end",function(){p.end()}),P.on("error",function(x){p.error(x)}),this},pause:function(){if(this.isPaused||this.isFinished)return!1;if(this.isPaused=!0,this.previous)this.previous.pause();return!0},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var P=!1;if(this.generatedError)this.error(this.generatedError),P=!0;if(this.previous)this.previous.resume();return!P},flush:function(){},processChunk:function(P){this.push(P)},withStreamInfo:function(P,p){return this.extraStreamInfo[P]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var P in this.extraStreamInfo){if(!Object.prototype.hasOwnProperty.call(this.extraStreamInfo,P))continue;this.streamInfo[P]=this.extraStreamInfo[P]}},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");if(this.isLocked=!0,this.previous)this.previous.lock()},toString:function(){var P="Worker "+this.name;if(this.previous)return this.previous+" -> "+P;else return P}};tb.exports=sb});var gX=M0((sJ)=>{var OX=XP(),Fh=b8(),oJ=pA(),gD=qp(),BA=new Array(256);for(K1=0;K1<256;K1++)BA[K1]=K1>=252?6:K1>=248?5:K1>=240?4:K1>=224?3:K1>=192?2:1;var K1;BA[254]=BA[254]=1;var aJ=function(P){var p,x,h,X,H,A=P.length,B=0;for(X=0;X<A;X++){if(x=P.charCodeAt(X),(x&64512)===55296&&X+1<A){if(h=P.charCodeAt(X+1),(h&64512)===56320)x=65536+(x-55296<<10)+(h-56320),X++}B+=x<128?1:x<2048?2:x<65536?3:4}if(Fh.uint8array)p=new Uint8Array(B);else p=new Array(B);for(H=0,X=0;H<B;X++){if(x=P.charCodeAt(X),(x&64512)===55296&&X+1<A){if(h=P.charCodeAt(X+1),(h&64512)===56320)x=65536+(x-55296<<10)+(h-56320),X++}if(x<128)p[H++]=x;else if(x<2048)p[H++]=192|x>>>6,p[H++]=128|x&63;else if(x<65536)p[H++]=224|x>>>12,p[H++]=128|x>>>6&63,p[H++]=128|x&63;else p[H++]=240|x>>>18,p[H++]=128|x>>>12&63,p[H++]=128|x>>>6&63,p[H++]=128|x&63}return p},rJ=function(P,p){var x;if(p=p||P.length,p>P.length)p=P.length;x=p-1;while(x>=0&&(P[x]&192)===128)x--;if(x<0)return p;if(x===0)return p;return x+BA[P[x]]>p?x:p},nJ=function(P){var p,x,h,X,H=P.length,A=new Array(H*2);for(x=0,p=0;p<H;){if(h=P[p++],h<128){A[x++]=h;continue}if(X=BA[h],X>4){A[x++]=65533,p+=X-1;continue}h&=X===2?31:X===3?15:7;while(X>1&&p<H)h=h<<6|P[p++]&63,X--;if(X>1){A[x++]=65533;continue}if(h<65536)A[x++]=h;else h-=65536,A[x++]=55296|h>>10&1023,A[x++]=56320|h&1023}if(A.length!==x)if(A.subarray)A=A.subarray(0,x);else A.length=x;return OX.applyFromCharCode(A)};sJ.utf8encode=function P(p){if(Fh.nodebuffer)return oJ.newBufferFrom(p,"utf-8");return aJ(p)};sJ.utf8decode=function P(p){if(Fh.nodebuffer)return OX.transformTo("nodebuffer",p).toString("utf-8");return p=OX.transformTo(Fh.uint8array?"uint8array":"array",p),nJ(p)};function yD(){gD.call(this,"utf-8 decode"),this.leftOver=null}OX.inherits(yD,gD);yD.prototype.processChunk=function(P){var p=OX.transformTo(Fh.uint8array?"uint8array":"array",P.data);if(this.leftOver&&this.leftOver.length){if(Fh.uint8array){var x=p;p=new Uint8Array(x.length+this.leftOver.length),p.set(this.leftOver,0),p.set(x,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var h=rJ(p),X=p;if(h!==p.length)if(Fh.uint8array)X=p.subarray(0,h),this.leftOver=p.subarray(h,p.length);else X=p.slice(0,h),this.leftOver=p.slice(h,p.length);this.push({data:sJ.utf8decode(X),meta:P.meta})};yD.prototype.flush=function(){if(this.leftOver&&this.leftOver.length)this.push({data:sJ.utf8decode(this.leftOver),meta:{}}),this.leftOver=null};sJ.Utf8DecodeWorker=yD;function j7(){gD.call(this,"utf-8 encode")}OX.inherits(j7,gD);j7.prototype.processChunk=function(P){this.push({data:sJ.utf8encode(P.data),meta:P.meta})};sJ.Utf8EncodeWorker=j7});var hM=M0((Ol,xM)=>{var PM=qp(),pM=XP();function d7(P){PM.call(this,"ConvertWorker to "+P),this.destType=P}pM.inherits(d7,PM);d7.prototype.processChunk=function(P){this.push({data:pM.transformTo(this.destType,P.data),meta:P.meta})};xM.exports=d7});var AM=M0((gl,HM)=>{var XM=(KD(),OP(dD)).Readable,Pd=XP();Pd.inherits(K7,XM);function K7(P,p,x){XM.call(this,p),this._helper=P;var h=this;P.on("data",function(X,H){if(!h.push(X))h._helper.pause();if(x)x(H)}).on("error",function(X){h.emit("error",X)}).on("end",function(){h.push(null)})}K7.prototype._read=function(){this._helper.resume()};HM.exports=K7});var R7=M0((yl,fM)=>{var bh=XP(),pd=hM(),xd=qp(),hd=q7(),Xd=b8(),Hd=lX(),BM=null;if(Xd.nodestream)try{BM=AM()}catch(P){}function Ad(P,p,x){switch(P){case"blob":return bh.newBlob(bh.transformTo("arraybuffer",p),x);case"base64":return hd.encode(p);default:return bh.transformTo(P,p)}}function Bd(P,p){var x,h=0,X=null,H=0;for(x=0;x<p.length;x++)H+=p[x].length;switch(P){case"string":return p.join("");case"array":return Array.prototype.concat.apply([],p);case"uint8array":X=new Uint8Array(H);for(x=0;x<p.length;x++)X.set(p[x],h),h+=p[x].length;return X;case"nodebuffer":return Buffer.concat(p);default:throw new Error("concat : unsupported type '"+P+"'")}}function Dd(P,p){return new Hd.Promise(function(x,h){var X=[],H=P._internalType,A=P._outputType,B=P._mimeType;P.on("data",function(f,D){if(X.push(f),p)p(D)}).on("error",function(f){X=[],h(f)}).on("end",function(){try{var f=Ad(A,Bd(H,X),B);x(f)}catch(D){h(D)}X=[]}).resume()})}function DM(P,p,x){var h=p;switch(p){case"blob":case"arraybuffer":h="uint8array";break;case"base64":h="string";break}try{this._internalType=h,this._outputType=p,this._mimeType=x,bh.checkSupport(h),this._worker=P.pipe(new pd(h)),P.lock()}catch(X){this._worker=new xd("error"),this._worker.error(X)}}DM.prototype={accumulate:function(P){return Dd(this,P)},on:function(P,p){var x=this;if(P==="data")this._worker.on(P,function(h){p.call(x,h.data,h.meta)});else this._worker.on(P,function(){bh.delay(p,arguments,x)});return this},resume:function(){return bh.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(P){if(bh.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new BM(this,{objectMode:this._outputType!=="nodebuffer"},P)}};fM.exports=DM});var c7=M0((fd)=>{fd.base64=!1;fd.binary=!1;fd.dir=!1;fd.createFolders=!0;fd.date=null;fd.compression=null;fd.compressionOptions=null;fd.comment=null;fd.unixPermissions=null;fd.dosPermissions=null});var v7=M0((il,ZM)=>{var _D=XP(),iD=qp(),qd=16384;function yX(P){iD.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,P.then(function(x){if(p.dataIsReady=!0,p.data=x,p.max=x&&x.length||0,p.type=_D.getTypeOf(x),!p.isPaused)p._tickAndRepeat()},function(x){p.error(x)})}_D.inherits(yX,iD);yX.prototype.cleanUp=function(){iD.prototype.cleanUp.call(this),this.data=null};yX.prototype.resume=function(){if(!iD.prototype.resume.call(this))return!1;if(!this._tickScheduled&&this.dataIsReady)this._tickScheduled=!0,_D.delay(this._tickAndRepeat,[],this);return!0};yX.prototype._tickAndRepeat=function(){if(this._tickScheduled=!1,this.isPaused||this.isFinished)return;if(this._tick(),!this.isFinished)_D.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0};yX.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var P=qd,p=null,x=Math.min(this.max,this.index+P);if(this.index>=this.max)return this.end();else{switch(this.type){case"string":p=this.data.substring(this.index,x);break;case"uint8array":p=this.data.subarray(this.index,x);break;case"array":case"nodebuffer":p=this.data.slice(this.index,x);break}return this.index=x,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})}};ZM.exports=yX});var mD=M0((ml,LM)=>{var Id=XP();function Ed(){var P,p=[];for(var x=0;x<256;x++){P=x;for(var h=0;h<8;h++)P=P&1?3988292384^P>>>1:P>>>1;p[x]=P}return p}var $M=Ed();function zd(P,p,x,h){var X=$M,H=h+x;P=P^-1;for(var A=h;A<H;A++)P=P>>>8^X[(P^p[A])&255];return P^-1}function wd(P,p,x,h){var X=$M,H=h+x;P=P^-1;for(var A=h;A<H;A++)P=P>>>8^X[(P^p.charCodeAt(A))&255];return P^-1}LM.exports=function P(p,x){if(typeof p==="undefined"||!p.length)return 0;var h=Id.getTypeOf(p)!=="string";if(h)return zd(x|0,p,p.length,0);else return wd(x|0,p,p.length,0)}});var G7=M0((ul,FM)=>{var CM=qp(),kd=mD(),Wd=XP();function U7(){CM.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}Wd.inherits(U7,CM);U7.prototype.processChunk=function(P){this.streamInfo.crc32=kd(P.data,this.streamInfo.crc32||0),this.push(P)};FM.exports=U7});var MM=M0((ol,bM)=>{var Td=XP(),S7=qp();function l7(P){S7.call(this,"DataLengthProbe for "+P),this.propName=P,this.withStreamInfo(P,0)}Td.inherits(l7,S7);l7.prototype.processChunk=function(P){if(P){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+P.data.length}S7.prototype.processChunk.call(this,P)};bM.exports=l7});var uD=M0((al,VM)=>{var YM=lX(),QM=v7(),jd=G7(),N7=MM();function O7(P,p,x,h,X){this.compressedSize=P,this.uncompressedSize=p,this.crc32=x,this.compression=h,this.compressedContent=X}O7.prototype={getContentWorker:function(){var P=new QM(YM.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new N7("data_length")),p=this;return P.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),P},getCompressedWorker:function(){return new QM(YM.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};O7.createWorkerFrom=function(P,p,x){return P.pipe(new jd).pipe(new N7("uncompressedSize")).pipe(p.compressWorker(x)).pipe(new N7("compressedSize")).withStreamInfo("compression",p)};VM.exports=O7});var zM=M0((rl,EM)=>{var Jd=R7(),dd=v7(),g7=gX(),y7=uD(),qM=qp(),_7=function(P,p,x){this.name=P,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=p,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}};_7.prototype={internalStream:function(P){var p=null,x="string";try{if(!P)throw new Error("No output type specified.");x=P.toLowerCase();var h=x==="string"||x==="text";if(x==="binarystring"||x==="text")x="string";p=this._decompressWorker();var X=!this._dataBinary;if(X&&!h)p=p.pipe(new g7.Utf8EncodeWorker);if(!X&&h)p=p.pipe(new g7.Utf8DecodeWorker)}catch(H){p=new qM("error"),p.error(H)}return new Jd(p,x,"")},async:function(P,p){return this.internalStream(P).accumulate(p)},nodeStream:function(P,p){return this.internalStream(P||"nodebuffer").toNodejsStream(p)},_compressWorker:function(P,p){if(this._data instanceof y7&&this._data.compression.magic===P.magic)return this._data.getCompressedWorker();else{var x=this._decompressWorker();if(!this._dataBinary)x=x.pipe(new g7.Utf8EncodeWorker);return y7.createWorkerFrom(x,P,p)}},_decompressWorker:function(){if(this._data instanceof y7)return this._data.getContentWorker();else if(this._data instanceof qM)return this._data;else return new dd(this._data)}};var IM=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Kd=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(DA=0;DA<IM.length;DA++)_7.prototype[IM[DA]]=Kd;var DA;EM.exports=_7});var M8=M0((i7)=>{var Ud=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";function Gd(P,p){return Object.prototype.hasOwnProperty.call(P,p)}i7.assign=function(P){var p=Array.prototype.slice.call(arguments,1);while(p.length){var x=p.shift();if(!x)continue;if(typeof x!=="object")throw new TypeError(x+"must be non-object");for(var h in x)if(Gd(x,h))P[h]=x[h]}return P};i7.shrinkBuf=function(P,p){if(P.length===p)return P;if(P.subarray)return P.subarray(0,p);return P.length=p,P};var Sd={arraySet:function(P,p,x,h,X){if(p.subarray&&P.subarray){P.set(p.subarray(x,x+h),X);return}for(var H=0;H<h;H++)P[X+H]=p[x+H]},flattenChunks:function(P){var p,x,h,X,H,A;h=0;for(p=0,x=P.length;p<x;p++)h+=P[p].length;A=new Uint8Array(h),X=0;for(p=0,x=P.length;p<x;p++)H=P[p],A.set(H,X),X+=H.length;return A}},ld={arraySet:function(P,p,x,h,X){for(var H=0;H<h;H++)P[X+H]=p[x+H]},flattenChunks:function(P){return[].concat.apply([],P)}};i7.setTyped=function(P){if(P)i7.Buf8=Uint8Array,i7.Buf16=Uint16Array,i7.Buf32=Int32Array,i7.assign(i7,Sd);else i7.Buf8=Array,i7.Buf16=Array,i7.Buf32=Array,i7.assign(i7,ld)};i7.setTyped(Ud)});var oM=M0((BK)=>{var Od=M8(),gd=4,kM=0,WM=1,yd=2;function iX(P){var p=P.length;while(--p>=0)P[p]=0}var _d=0,RM=1,id=2,md=3,ud=258,t7=29,FA=256,ZA=FA+1+t7,_X=30,e7=19,cM=2*ZA+1,Mh=15,u7=16,od=7,PZ=256,vM=16,UM=17,GM=18,n7=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],oD=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ad=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],SM=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rd=512,Y8=new Array((ZA+2)*2);iX(Y8);var fA=new Array(_X*2);iX(fA);var $A=new Array(rd);iX($A);var LA=new Array(ud-md+1);iX(LA);var pZ=new Array(t7);iX(pZ);var aD=new Array(_X);iX(aD);function o7(P,p,x,h,X){this.static_tree=P,this.extra_bits=p,this.extra_base=x,this.elems=h,this.max_length=X,this.has_stree=P&&P.length}var lM,NM,OM;function a7(P,p){this.dyn_tree=P,this.max_code=0,this.stat_desc=p}function gM(P){return P<256?$A[P]:$A[256+(P>>>7)]}function CA(P,p){P.pending_buf[P.pending++]=p&255,P.pending_buf[P.pending++]=p>>>8&255}function Ap(P,p,x){if(P.bi_valid>u7-x)P.bi_buf|=p<<P.bi_valid&65535,CA(P,P.bi_buf),P.bi_buf=p>>u7-P.bi_valid,P.bi_valid+=x-u7;else P.bi_buf|=p<<P.bi_valid&65535,P.bi_valid+=x}function R1(P,p,x){Ap(P,x[p*2],x[p*2+1])}function yM(P,p){var x=0;do x|=P&1,P>>>=1,x<<=1;while(--p>0);return x>>>1}function nd(P){if(P.bi_valid===16)CA(P,P.bi_buf),P.bi_buf=0,P.bi_valid=0;else if(P.bi_valid>=8)P.pending_buf[P.pending++]=P.bi_buf&255,P.bi_buf>>=8,P.bi_valid-=8}function sd(P,p){var{dyn_tree:x,max_code:h}=p,X=p.stat_desc.static_tree,H=p.stat_desc.has_stree,A=p.stat_desc.extra_bits,B=p.stat_desc.extra_base,f=p.stat_desc.max_length,D,Z,L,$,C,Y,V=0;for($=0;$<=Mh;$++)P.bl_count[$]=0;x[P.heap[P.heap_max]*2+1]=0;for(D=P.heap_max+1;D<cM;D++){if(Z=P.heap[D],$=x[x[Z*2+1]*2+1]+1,$>f)$=f,V++;if(x[Z*2+1]=$,Z>h)continue;if(P.bl_count[$]++,C=0,Z>=B)C=A[Z-B];if(Y=x[Z*2],P.opt_len+=Y*($+C),H)P.static_len+=Y*(X[Z*2+1]+C)}if(V===0)return;do{$=f-1;while(P.bl_count[$]===0)$--;P.bl_count[$]--,P.bl_count[$+1]+=2,P.bl_count[f]--,V-=2}while(V>0);for($=f;$!==0;$--){Z=P.bl_count[$];while(Z!==0){if(L=P.heap[--D],L>h)continue;if(x[L*2+1]!==$)P.opt_len+=($-x[L*2+1])*x[L*2],x[L*2+1]=$;Z--}}}function _M(P,p,x){var h=new Array(Mh+1),X=0,H,A;for(H=1;H<=Mh;H++)h[H]=X=X+x[H-1]<<1;for(A=0;A<=p;A++){var B=P[A*2+1];if(B===0)continue;P[A*2]=yM(h[B]++,B)}}function td(){var P,p,x,h,X,H=new Array(Mh+1);x=0;for(h=0;h<t7-1;h++){pZ[h]=x;for(P=0;P<1<<n7[h];P++)LA[x++]=h}LA[x-1]=h,X=0;for(h=0;h<16;h++){aD[h]=X;for(P=0;P<1<<oD[h];P++)$A[X++]=h}X>>=7;for(;h<_X;h++){aD[h]=X<<7;for(P=0;P<1<<oD[h]-7;P++)$A[256+X++]=h}for(p=0;p<=Mh;p++)H[p]=0;P=0;while(P<=143)Y8[P*2+1]=8,P++,H[8]++;while(P<=255)Y8[P*2+1]=9,P++,H[9]++;while(P<=279)Y8[P*2+1]=7,P++,H[7]++;while(P<=287)Y8[P*2+1]=8,P++,H[8]++;_M(Y8,ZA+1,H);for(P=0;P<_X;P++)fA[P*2+1]=5,fA[P*2]=yM(P,5);lM=new o7(Y8,n7,FA+1,ZA,Mh),NM=new o7(fA,oD,0,_X,Mh),OM=new o7(new Array(0),ad,0,e7,od)}function iM(P){var p;for(p=0;p<ZA;p++)P.dyn_ltree[p*2]=0;for(p=0;p<_X;p++)P.dyn_dtree[p*2]=0;for(p=0;p<e7;p++)P.bl_tree[p*2]=0;P.dyn_ltree[PZ*2]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function mM(P){if(P.bi_valid>8)CA(P,P.bi_buf);else if(P.bi_valid>0)P.pending_buf[P.pending++]=P.bi_buf;P.bi_buf=0,P.bi_valid=0}function ed(P,p,x,h){if(mM(P),h)CA(P,x),CA(P,~x);Od.arraySet(P.pending_buf,P.window,p,x,P.pending),P.pending+=x}function TM(P,p,x,h){var X=p*2,H=x*2;return P[X]<P[H]||P[X]===P[H]&&h[p]<=h[x]}function r7(P,p,x){var h=P.heap[x],X=x<<1;while(X<=P.heap_len){if(X<P.heap_len&&TM(p,P.heap[X+1],P.heap[X],P.depth))X++;if(TM(p,h,P.heap[X],P.depth))break;P.heap[x]=P.heap[X],x=X,X<<=1}P.heap[x]=h}function jM(P,p,x){var h,X,H=0,A,B;if(P.last_lit!==0)do if(h=P.pending_buf[P.d_buf+H*2]<<8|P.pending_buf[P.d_buf+H*2+1],X=P.pending_buf[P.l_buf+H],H++,h===0)R1(P,X,p);else{if(A=LA[X],R1(P,A+FA+1,p),B=n7[A],B!==0)X-=pZ[A],Ap(P,X,B);if(h--,A=gM(h),R1(P,A,x),B=oD[A],B!==0)h-=aD[A],Ap(P,h,B)}while(H<P.last_lit);R1(P,PZ,p)}function s7(P,p){var x=p.dyn_tree,h=p.stat_desc.static_tree,X=p.stat_desc.has_stree,H=p.stat_desc.elems,A,B,f=-1,D;P.heap_len=0,P.heap_max=cM;for(A=0;A<H;A++)if(x[A*2]!==0)P.heap[++P.heap_len]=f=A,P.depth[A]=0;else x[A*2+1]=0;while(P.heap_len<2)if(D=P.heap[++P.heap_len]=f<2?++f:0,x[D*2]=1,P.depth[D]=0,P.opt_len--,X)P.static_len-=h[D*2+1];p.max_code=f;for(A=P.heap_len>>1;A>=1;A--)r7(P,x,A);D=H;do A=P.heap[1],P.heap[1]=P.heap[P.heap_len--],r7(P,x,1),B=P.heap[1],P.heap[--P.heap_max]=A,P.heap[--P.heap_max]=B,x[D*2]=x[A*2]+x[B*2],P.depth[D]=(P.depth[A]>=P.depth[B]?P.depth[A]:P.depth[B])+1,x[A*2+1]=x[B*2+1]=D,P.heap[1]=D++,r7(P,x,1);while(P.heap_len>=2);P.heap[--P.heap_max]=P.heap[1],sd(P,p),_M(x,f,P.bl_count)}function JM(P,p,x){var h,X=-1,H,A=p[1],B=0,f=7,D=4;if(A===0)f=138,D=3;p[(x+1)*2+1]=65535;for(h=0;h<=x;h++){if(H=A,A=p[(h+1)*2+1],++B<f&&H===A)continue;else if(B<D)P.bl_tree[H*2]+=B;else if(H!==0){if(H!==X)P.bl_tree[H*2]++;P.bl_tree[vM*2]++}else if(B<=10)P.bl_tree[UM*2]++;else P.bl_tree[GM*2]++;if(B=0,X=H,A===0)f=138,D=3;else if(H===A)f=6,D=3;else f=7,D=4}}function dM(P,p,x){var h,X=-1,H,A=p[1],B=0,f=7,D=4;if(A===0)f=138,D=3;for(h=0;h<=x;h++){if(H=A,A=p[(h+1)*2+1],++B<f&&H===A)continue;else if(B<D)do R1(P,H,P.bl_tree);while(--B!==0);else if(H!==0){if(H!==X)R1(P,H,P.bl_tree),B--;R1(P,vM,P.bl_tree),Ap(P,B-3,2)}else if(B<=10)R1(P,UM,P.bl_tree),Ap(P,B-3,3);else R1(P,GM,P.bl_tree),Ap(P,B-11,7);if(B=0,X=H,A===0)f=138,D=3;else if(H===A)f=6,D=3;else f=7,D=4}}function PK(P){var p;JM(P,P.dyn_ltree,P.l_desc.max_code),JM(P,P.dyn_dtree,P.d_desc.max_code),s7(P,P.bl_desc);for(p=e7-1;p>=3;p--)if(P.bl_tree[SM[p]*2+1]!==0)break;return P.opt_len+=3*(p+1)+5+5+4,p}function pK(P,p,x,h){var X;Ap(P,p-257,5),Ap(P,x-1,5),Ap(P,h-4,4);for(X=0;X<h;X++)Ap(P,P.bl_tree[SM[X]*2+1],3);dM(P,P.dyn_ltree,p-1),dM(P,P.dyn_dtree,x-1)}function xK(P){var p=4093624447,x;for(x=0;x<=31;x++,p>>>=1)if(p&1&&P.dyn_ltree[x*2]!==0)return kM;if(P.dyn_ltree[18]!==0||P.dyn_ltree[20]!==0||P.dyn_ltree[26]!==0)return WM;for(x=32;x<FA;x++)if(P.dyn_ltree[x*2]!==0)return WM;return kM}var KM=!1;function hK(P){if(!KM)td(),KM=!0;P.l_desc=new a7(P.dyn_ltree,lM),P.d_desc=new a7(P.dyn_dtree,NM),P.bl_desc=new a7(P.bl_tree,OM),P.bi_buf=0,P.bi_valid=0,iM(P)}function uM(P,p,x,h){Ap(P,(_d<<1)+(h?1:0),3),ed(P,p,x,!0)}function XK(P){Ap(P,RM<<1,3),R1(P,PZ,Y8),nd(P)}function HK(P,p,x,h){var X,H,A=0;if(P.level>0){if(P.strm.data_type===yd)P.strm.data_type=xK(P);if(s7(P,P.l_desc),s7(P,P.d_desc),A=PK(P),X=P.opt_len+3+7>>>3,H=P.static_len+3+7>>>3,H<=X)X=H}else X=H=x+5;if(x+4<=X&&p!==-1)uM(P,p,x,h);else if(P.strategy===gd||H===X)Ap(P,(RM<<1)+(h?1:0),3),jM(P,Y8,fA);else Ap(P,(id<<1)+(h?1:0),3),pK(P,P.l_desc.max_code+1,P.d_desc.max_code+1,A+1),jM(P,P.dyn_ltree,P.dyn_dtree);if(iM(P),h)mM(P)}function AK(P,p,x){if(P.pending_buf[P.d_buf+P.last_lit*2]=p>>>8&255,P.pending_buf[P.d_buf+P.last_lit*2+1]=p&255,P.pending_buf[P.l_buf+P.last_lit]=x&255,P.last_lit++,p===0)P.dyn_ltree[x*2]++;else P.matches++,p--,P.dyn_ltree[(LA[x]+FA+1)*2]++,P.dyn_dtree[gM(p)*2]++;return P.last_lit===P.lit_bufsize-1}BK._tr_init=hK;BK._tr_stored_block=uM;BK._tr_flush_block=HK;BK._tr_tally=AK;BK._tr_align=XK});var xZ=M0((tl,aM)=>{function CK(P,p,x,h){var X=P&65535|0,H=P>>>16&65535|0,A=0;while(x!==0){A=x>2000?2000:x,x-=A;do X=X+p[h++]|0,H=H+X|0;while(--A);X%=65521,H%=65521}return X|H<<16|0}aM.exports=CK});var hZ=M0((el,rM)=>{function FK(){var P,p=[];for(var x=0;x<256;x++){P=x;for(var h=0;h<8;h++)P=P&1?3988292384^P>>>1:P>>>1;p[x]=P}return p}var bK=FK();function MK(P,p,x,h){var X=bK,H=h+x;P^=-1;for(var A=h;A<H;A++)P=P>>>8^X[(P^p[A])&255];return P^-1}rM.exports=MK});var rD=M0((PN,nM)=>{nM.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var HY=M0((rK)=>{var rP=M8(),_p=oM(),PY=xZ(),Fx=hZ(),YK=rD(),qh=0,QK=1,VK=3,Vx=4,sM=5,v1=0,tM=1,ip=-2,qK=-3,XZ=-5,IK=-1,EK=1,nD=2,zK=3,wK=4,kK=0,WK=2,P5=8,TK=9,jK=15,JK=8,dK=29,KK=256,AZ=KK+1+dK,RK=30,cK=19,vK=2*AZ+1,UK=15,J0=3,Yx=258,p1=Yx+J0+1,GK=32,p5=42,BZ=69,sD=73,tD=91,eD=103,Yh=113,MA=666,wP=1,YA=2,Qh=3,oX=4,SK=3;function Qx(P,p){return P.msg=YK[p],p}function eM(P){return(P<<1)-(P>4?9:0)}function Mx(P){var p=P.length;while(--p>=0)P[p]=0}function bx(P){var p=P.state,x=p.pending;if(x>P.avail_out)x=P.avail_out;if(x===0)return;if(rP.arraySet(P.output,p.pending_buf,p.pending_out,x,P.next_out),P.next_out+=x,p.pending_out+=x,P.total_out+=x,P.avail_out-=x,p.pending-=x,p.pending===0)p.pending_out=0}function GP(P,p){_p._tr_flush_block(P,P.block_start>=0?P.block_start:-1,P.strstart-P.block_start,p),P.block_start=P.strstart,bx(P.strm)}function c0(P,p){P.pending_buf[P.pending++]=p}function bA(P,p){P.pending_buf[P.pending++]=p>>>8&255,P.pending_buf[P.pending++]=p&255}function lK(P,p,x,h){var X=P.avail_in;if(X>h)X=h;if(X===0)return 0;if(P.avail_in-=X,rP.arraySet(p,P.input,P.next_in,X,x),P.state.wrap===1)P.adler=PY(P.adler,p,X,x);else if(P.state.wrap===2)P.adler=Fx(P.adler,p,X,x);return P.next_in+=X,P.total_in+=X,X}function pY(P,p){var{max_chain_length:x,strstart:h}=P,X,H,A=P.prev_length,B=P.nice_match,f=P.strstart>P.w_size-p1?P.strstart-(P.w_size-p1):0,D=P.window,Z=P.w_mask,L=P.prev,$=P.strstart+Yx,C=D[h+A-1],Y=D[h+A];if(P.prev_length>=P.good_match)x>>=2;if(B>P.lookahead)B=P.lookahead;do{if(X=p,D[X+A]!==Y||D[X+A-1]!==C||D[X]!==D[h]||D[++X]!==D[h+1])continue;h+=2,X++;do;while(D[++h]===D[++X]&&D[++h]===D[++X]&&D[++h]===D[++X]&&D[++h]===D[++X]&&D[++h]===D[++X]&&D[++h]===D[++X]&&D[++h]===D[++X]&&D[++h]===D[++X]&&h<$);if(H=Yx-($-h),h=$-Yx,H>A){if(P.match_start=p,A=H,H>=B)break;C=D[h+A-1],Y=D[h+A]}}while((p=L[p&Z])>f&&--x!==0);if(A<=P.lookahead)return A;return P.lookahead}function Vh(P){var p=P.w_size,x,h,X,H,A;do{if(H=P.window_size-P.lookahead-P.strstart,P.strstart>=p+(p-p1)){rP.arraySet(P.window,P.window,p,p,0),P.match_start-=p,P.strstart-=p,P.block_start-=p,h=P.hash_size,x=h;do X=P.head[--x],P.head[x]=X>=p?X-p:0;while(--h);h=p,x=h;do X=P.prev[--x],P.prev[x]=X>=p?X-p:0;while(--h);H+=p}if(P.strm.avail_in===0)break;if(h=lK(P.strm,P.window,P.strstart+P.lookahead,H),P.lookahead+=h,P.lookahead+P.insert>=J0){A=P.strstart-P.insert,P.ins_h=P.window[A],P.ins_h=(P.ins_h<<P.hash_shift^P.window[A+1])&P.hash_mask;while(P.insert)if(P.ins_h=(P.ins_h<<P.hash_shift^P.window[A+J0-1])&P.hash_mask,P.prev[A&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=A,A++,P.insert--,P.lookahead+P.insert<J0)break}}while(P.lookahead<p1&&P.strm.avail_in!==0)}function NK(P,p){var x=65535;if(x>P.pending_buf_size-5)x=P.pending_buf_size-5;for(;;){if(P.lookahead<=1){if(Vh(P),P.lookahead===0&&p===qh)return wP;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var h=P.block_start+x;if(P.strstart===0||P.strstart>=h){if(P.lookahead=P.strstart-h,P.strstart=h,GP(P,!1),P.strm.avail_out===0)return wP}if(P.strstart-P.block_start>=P.w_size-p1){if(GP(P,!1),P.strm.avail_out===0)return wP}}if(P.insert=0,p===Vx){if(GP(P,!0),P.strm.avail_out===0)return Qh;return oX}if(P.strstart>P.block_start){if(GP(P,!1),P.strm.avail_out===0)return wP}return wP}function HZ(P,p){var x,h;for(;;){if(P.lookahead<p1){if(Vh(P),P.lookahead<p1&&p===qh)return wP;if(P.lookahead===0)break}if(x=0,P.lookahead>=J0)P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+J0-1])&P.hash_mask,x=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;if(x!==0&&P.strstart-x<=P.w_size-p1)P.match_length=pY(P,x);if(P.match_length>=J0)if(h=_p._tr_tally(P,P.strstart-P.match_start,P.match_length-J0),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=J0){P.match_length--;do P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+J0-1])&P.hash_mask,x=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;while(--P.match_length!==0);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else h=_p._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(h){if(GP(P,!1),P.strm.avail_out===0)return wP}}if(P.insert=P.strstart<J0-1?P.strstart:J0-1,p===Vx){if(GP(P,!0),P.strm.avail_out===0)return Qh;return oX}if(P.last_lit){if(GP(P,!1),P.strm.avail_out===0)return wP}return YA}function mX(P,p){var x,h,X;for(;;){if(P.lookahead<p1){if(Vh(P),P.lookahead<p1&&p===qh)return wP;if(P.lookahead===0)break}if(x=0,P.lookahead>=J0)P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+J0-1])&P.hash_mask,x=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;if(P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=J0-1,x!==0&&P.prev_length<P.max_lazy_match&&P.strstart-x<=P.w_size-p1){if(P.match_length=pY(P,x),P.match_length<=5&&(P.strategy===EK||P.match_length===J0&&P.strstart-P.match_start>4096))P.match_length=J0-1}if(P.prev_length>=J0&&P.match_length<=P.prev_length){X=P.strstart+P.lookahead-J0,h=_p._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-J0),P.lookahead-=P.prev_length-1,P.prev_length-=2;do if(++P.strstart<=X)P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+J0-1])&P.hash_mask,x=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;while(--P.prev_length!==0);if(P.match_available=0,P.match_length=J0-1,P.strstart++,h){if(GP(P,!1),P.strm.avail_out===0)return wP}}else if(P.match_available){if(h=_p._tr_tally(P,0,P.window[P.strstart-1]),h)GP(P,!1);if(P.strstart++,P.lookahead--,P.strm.avail_out===0)return wP}else P.match_available=1,P.strstart++,P.lookahead--}if(P.match_available)h=_p._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0;if(P.insert=P.strstart<J0-1?P.strstart:J0-1,p===Vx){if(GP(P,!0),P.strm.avail_out===0)return Qh;return oX}if(P.last_lit){if(GP(P,!1),P.strm.avail_out===0)return wP}return YA}function OK(P,p){var x,h,X,H,A=P.window;for(;;){if(P.lookahead<=Yx){if(Vh(P),P.lookahead<=Yx&&p===qh)return wP;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=J0&&P.strstart>0){if(X=P.strstart-1,h=A[X],h===A[++X]&&h===A[++X]&&h===A[++X]){H=P.strstart+Yx;do;while(h===A[++X]&&h===A[++X]&&h===A[++X]&&h===A[++X]&&h===A[++X]&&h===A[++X]&&h===A[++X]&&h===A[++X]&&X<H);if(P.match_length=Yx-(H-X),P.match_length>P.lookahead)P.match_length=P.lookahead}}if(P.match_length>=J0)x=_p._tr_tally(P,1,P.match_length-J0),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0;else x=_p._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(x){if(GP(P,!1),P.strm.avail_out===0)return wP}}if(P.insert=0,p===Vx){if(GP(P,!0),P.strm.avail_out===0)return Qh;return oX}if(P.last_lit){if(GP(P,!1),P.strm.avail_out===0)return wP}return YA}function gK(P,p){var x;for(;;){if(P.lookahead===0){if(Vh(P),P.lookahead===0){if(p===qh)return wP;break}}if(P.match_length=0,x=_p._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,x){if(GP(P,!1),P.strm.avail_out===0)return wP}}if(P.insert=0,p===Vx){if(GP(P,!0),P.strm.avail_out===0)return Qh;return oX}if(P.last_lit){if(GP(P,!1),P.strm.avail_out===0)return wP}return YA}function c1(P,p,x,h,X){this.good_length=P,this.max_lazy=p,this.nice_length=x,this.max_chain=h,this.func=X}var uX;uX=[new c1(0,0,0,0,NK),new c1(4,4,8,4,HZ),new c1(4,5,16,8,HZ),new c1(4,6,32,32,HZ),new c1(4,4,16,16,mX),new c1(8,16,32,32,mX),new c1(8,16,128,128,mX),new c1(8,32,128,256,mX),new c1(32,128,258,1024,mX),new c1(32,258,258,4096,mX)];function yK(P){P.window_size=2*P.w_size,Mx(P.head),P.max_lazy_match=uX[P.level].max_lazy,P.good_match=uX[P.level].good_length,P.nice_match=uX[P.level].nice_length,P.max_chain_length=uX[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=J0-1,P.match_available=0,P.ins_h=0}function _K(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P5,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new rP.Buf16(vK*2),this.dyn_dtree=new rP.Buf16((2*RK+1)*2),this.bl_tree=new rP.Buf16((2*cK+1)*2),Mx(this.dyn_ltree),Mx(this.dyn_dtree),Mx(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new rP.Buf16(UK+1),this.heap=new rP.Buf16(2*AZ+1),Mx(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new rP.Buf16(2*AZ+1),Mx(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xY(P){var p;if(!P||!P.state)return Qx(P,ip);if(P.total_in=P.total_out=0,P.data_type=WK,p=P.state,p.pending=0,p.pending_out=0,p.wrap<0)p.wrap=-p.wrap;return p.status=p.wrap?p5:Yh,P.adler=p.wrap===2?0:1,p.last_flush=qh,_p._tr_init(p),v1}function hY(P){var p=xY(P);if(p===v1)yK(P.state);return p}function iK(P,p){if(!P||!P.state)return ip;if(P.state.wrap!==2)return ip;return P.state.gzhead=p,v1}function XY(P,p,x,h,X,H){if(!P)return ip;var A=1;if(p===IK)p=6;if(h<0)A=0,h=-h;else if(h>15)A=2,h-=16;if(X<1||X>TK||x!==P5||h<8||h>15||p<0||p>9||H<0||H>wK)return Qx(P,ip);if(h===8)h=9;var B=new _K;return P.state=B,B.strm=P,B.wrap=A,B.gzhead=null,B.w_bits=h,B.w_size=1<<B.w_bits,B.w_mask=B.w_size-1,B.hash_bits=X+7,B.hash_size=1<<B.hash_bits,B.hash_mask=B.hash_size-1,B.hash_shift=~~((B.hash_bits+J0-1)/J0),B.window=new rP.Buf8(B.w_size*2),B.head=new rP.Buf16(B.hash_size),B.prev=new rP.Buf16(B.w_size),B.lit_bufsize=1<<X+6,B.pending_buf_size=B.lit_bufsize*4,B.pending_buf=new rP.Buf8(B.pending_buf_size),B.d_buf=1*B.lit_bufsize,B.l_buf=3*B.lit_bufsize,B.level=p,B.strategy=H,B.method=x,hY(P)}function mK(P,p){return XY(P,p,P5,jK,JK,kK)}function uK(P,p){var x,h,X,H;if(!P||!P.state||p>sM||p<0)return P?Qx(P,ip):ip;if(h=P.state,!P.output||!P.input&&P.avail_in!==0||h.status===MA&&p!==Vx)return Qx(P,P.avail_out===0?XZ:ip);if(h.strm=P,x=h.last_flush,h.last_flush=p,h.status===p5)if(h.wrap===2)if(P.adler=0,c0(h,31),c0(h,139),c0(h,8),!h.gzhead)c0(h,0),c0(h,0),c0(h,0),c0(h,0),c0(h,0),c0(h,h.level===9?2:h.strategy>=nD||h.level<2?4:0),c0(h,SK),h.status=Yh;else{if(c0(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(!h.gzhead.extra?0:4)+(!h.gzhead.name?0:8)+(!h.gzhead.comment?0:16)),c0(h,h.gzhead.time&255),c0(h,h.gzhead.time>>8&255),c0(h,h.gzhead.time>>16&255),c0(h,h.gzhead.time>>24&255),c0(h,h.level===9?2:h.strategy>=nD||h.level<2?4:0),c0(h,h.gzhead.os&255),h.gzhead.extra&&h.gzhead.extra.length)c0(h,h.gzhead.extra.length&255),c0(h,h.gzhead.extra.length>>8&255);if(h.gzhead.hcrc)P.adler=Fx(P.adler,h.pending_buf,h.pending,0);h.gzindex=0,h.status=BZ}else{var A=P5+(h.w_bits-8<<4)<<8,B=-1;if(h.strategy>=nD||h.level<2)B=0;else if(h.level<6)B=1;else if(h.level===6)B=2;else B=3;if(A|=B<<6,h.strstart!==0)A|=GK;if(A+=31-A%31,h.status=Yh,bA(h,A),h.strstart!==0)bA(h,P.adler>>>16),bA(h,P.adler&65535);P.adler=1}if(h.status===BZ)if(h.gzhead.extra){X=h.pending;while(h.gzindex<(h.gzhead.extra.length&65535)){if(h.pending===h.pending_buf_size){if(h.gzhead.hcrc&&h.pending>X)P.adler=Fx(P.adler,h.pending_buf,h.pending-X,X);if(bx(P),X=h.pending,h.pending===h.pending_buf_size)break}c0(h,h.gzhead.extra[h.gzindex]&255),h.gzindex++}if(h.gzhead.hcrc&&h.pending>X)P.adler=Fx(P.adler,h.pending_buf,h.pending-X,X);if(h.gzindex===h.gzhead.extra.length)h.gzindex=0,h.status=sD}else h.status=sD;if(h.status===sD)if(h.gzhead.name){X=h.pending;do{if(h.pending===h.pending_buf_size){if(h.gzhead.hcrc&&h.pending>X)P.adler=Fx(P.adler,h.pending_buf,h.pending-X,X);if(bx(P),X=h.pending,h.pending===h.pending_buf_size){H=1;break}}if(h.gzindex<h.gzhead.name.length)H=h.gzhead.name.charCodeAt(h.gzindex++)&255;else H=0;c0(h,H)}while(H!==0);if(h.gzhead.hcrc&&h.pending>X)P.adler=Fx(P.adler,h.pending_buf,h.pending-X,X);if(H===0)h.gzindex=0,h.status=tD}else h.status=tD;if(h.status===tD)if(h.gzhead.comment){X=h.pending;do{if(h.pending===h.pending_buf_size){if(h.gzhead.hcrc&&h.pending>X)P.adler=Fx(P.adler,h.pending_buf,h.pending-X,X);if(bx(P),X=h.pending,h.pending===h.pending_buf_size){H=1;break}}if(h.gzindex<h.gzhead.comment.length)H=h.gzhead.comment.charCodeAt(h.gzindex++)&255;else H=0;c0(h,H)}while(H!==0);if(h.gzhead.hcrc&&h.pending>X)P.adler=Fx(P.adler,h.pending_buf,h.pending-X,X);if(H===0)h.status=eD}else h.status=eD;if(h.status===eD)if(h.gzhead.hcrc){if(h.pending+2>h.pending_buf_size)bx(P);if(h.pending+2<=h.pending_buf_size)c0(h,P.adler&255),c0(h,P.adler>>8&255),P.adler=0,h.status=Yh}else h.status=Yh;if(h.pending!==0){if(bx(P),P.avail_out===0)return h.last_flush=-1,v1}else if(P.avail_in===0&&eM(p)<=eM(x)&&p!==Vx)return Qx(P,XZ);if(h.status===MA&&P.avail_in!==0)return Qx(P,XZ);if(P.avail_in!==0||h.lookahead!==0||p!==qh&&h.status!==MA){var f=h.strategy===nD?gK(h,p):h.strategy===zK?OK(h,p):uX[h.level].func(h,p);if(f===Qh||f===oX)h.status=MA;if(f===wP||f===Qh){if(P.avail_out===0)h.last_flush=-1;return v1}if(f===YA){if(p===QK)_p._tr_align(h);else if(p!==sM){if(_p._tr_stored_block(h,0,0,!1),p===VK){if(Mx(h.head),h.lookahead===0)h.strstart=0,h.block_start=0,h.insert=0}}if(bx(P),P.avail_out===0)return h.last_flush=-1,v1}}if(p!==Vx)return v1;if(h.wrap<=0)return tM;if(h.wrap===2)c0(h,P.adler&255),c0(h,P.adler>>8&255),c0(h,P.adler>>16&255),c0(h,P.adler>>24&255),c0(h,P.total_in&255),c0(h,P.total_in>>8&255),c0(h,P.total_in>>16&255),c0(h,P.total_in>>24&255);else bA(h,P.adler>>>16),bA(h,P.adler&65535);if(bx(P),h.wrap>0)h.wrap=-h.wrap;return h.pending!==0?v1:tM}function oK(P){var p;if(!P||!P.state)return ip;if(p=P.state.status,p!==p5&&p!==BZ&&p!==sD&&p!==tD&&p!==eD&&p!==Yh&&p!==MA)return Qx(P,ip);return P.state=null,p===Yh?Qx(P,qK):v1}function aK(P,p){var x=p.length,h,X,H,A,B,f,D,Z;if(!P||!P.state)return ip;if(h=P.state,A=h.wrap,A===2||A===1&&h.status!==p5||h.lookahead)return ip;if(A===1)P.adler=PY(P.adler,p,x,0);if(h.wrap=0,x>=h.w_size){if(A===0)Mx(h.head),h.strstart=0,h.block_start=0,h.insert=0;Z=new rP.Buf8(h.w_size),rP.arraySet(Z,p,x-h.w_size,h.w_size,0),p=Z,x=h.w_size}B=P.avail_in,f=P.next_in,D=P.input,P.avail_in=x,P.next_in=0,P.input=p,Vh(h);while(h.lookahead>=J0){X=h.strstart,H=h.lookahead-(J0-1);do h.ins_h=(h.ins_h<<h.hash_shift^h.window[X+J0-1])&h.hash_mask,h.prev[X&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=X,X++;while(--H);h.strstart=X,h.lookahead=J0-1,Vh(h)}return h.strstart+=h.lookahead,h.block_start=h.strstart,h.insert=h.lookahead,h.lookahead=0,h.match_length=h.prev_length=J0-1,h.match_available=0,P.next_in=f,P.input=D,P.avail_in=B,h.wrap=A,v1}rK.deflateInit=mK;rK.deflateInit2=XY;rK.deflateReset=hY;rK.deflateResetKeep=xY;rK.deflateSetHeader=iK;rK.deflate=uK;rK.deflateEnd=oK;rK.deflateSetDictionary=aK;rK.deflateInfo="pako deflate (from Nodeca project)"});var DZ=M0((HR)=>{var x5=M8(),AY=!0,BY=!0;try{String.fromCharCode.apply(null,[0])}catch(P){AY=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(P){BY=!1}var QA=new x5.Buf8(256);for(U1=0;U1<256;U1++)QA[U1]=U1>=252?6:U1>=248?5:U1>=240?4:U1>=224?3:U1>=192?2:1;var U1;QA[254]=QA[254]=1;HR.string2buf=function(P){var p,x,h,X,H,A=P.length,B=0;for(X=0;X<A;X++){if(x=P.charCodeAt(X),(x&64512)===55296&&X+1<A){if(h=P.charCodeAt(X+1),(h&64512)===56320)x=65536+(x-55296<<10)+(h-56320),X++}B+=x<128?1:x<2048?2:x<65536?3:4}p=new x5.Buf8(B);for(H=0,X=0;H<B;X++){if(x=P.charCodeAt(X),(x&64512)===55296&&X+1<A){if(h=P.charCodeAt(X+1),(h&64512)===56320)x=65536+(x-55296<<10)+(h-56320),X++}if(x<128)p[H++]=x;else if(x<2048)p[H++]=192|x>>>6,p[H++]=128|x&63;else if(x<65536)p[H++]=224|x>>>12,p[H++]=128|x>>>6&63,p[H++]=128|x&63;else p[H++]=240|x>>>18,p[H++]=128|x>>>12&63,p[H++]=128|x>>>6&63,p[H++]=128|x&63}return p};function DY(P,p){if(p<65534){if(P.subarray&&BY||!P.subarray&&AY)return String.fromCharCode.apply(null,x5.shrinkBuf(P,p))}var x="";for(var h=0;h<p;h++)x+=String.fromCharCode(P[h]);return x}HR.buf2binstring=function(P){return DY(P,P.length)};HR.binstring2buf=function(P){var p=new x5.Buf8(P.length);for(var x=0,h=p.length;x<h;x++)p[x]=P.charCodeAt(x);return p};HR.buf2string=function(P,p){var x,h,X,H,A=p||P.length,B=new Array(A*2);for(h=0,x=0;x<A;){if(X=P[x++],X<128){B[h++]=X;continue}if(H=QA[X],H>4){B[h++]=65533,x+=H-1;continue}X&=H===2?31:H===3?15:7;while(H>1&&x<A)X=X<<6|P[x++]&63,H--;if(H>1){B[h++]=65533;continue}if(X<65536)B[h++]=X;else X-=65536,B[h++]=55296|X>>10&1023,B[h++]=56320|X&1023}return DY(B,h)};HR.utf8border=function(P,p){var x;if(p=p||P.length,p>P.length)p=P.length;x=p-1;while(x>=0&&(P[x]&192)===128)x--;if(x<0)return p;if(x===0)return p;return x+QA[P[x]]>p?x:p}});var fZ=M0((hN,fY)=>{function $R(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}fY.exports=$R});var CY=M0((VR)=>{var VA=HY(),qA=M8(),$Z=DZ(),LZ=rD(),LR=fZ(),LY=Object.prototype.toString,CR=0,ZZ=4,aX=0,ZY=1,$Y=2,FR=-1,bR=0,MR=8;function Ih(P){if(!(this instanceof Ih))return new Ih(P);this.options=qA.assign({level:FR,method:MR,chunkSize:16384,windowBits:15,memLevel:8,strategy:bR,to:""},P||{});var p=this.options;if(p.raw&&p.windowBits>0)p.windowBits=-p.windowBits;else if(p.gzip&&p.windowBits>0&&p.windowBits<16)p.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new LR,this.strm.avail_out=0;var x=VA.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(x!==aX)throw new Error(LZ[x]);if(p.header)VA.deflateSetHeader(this.strm,p.header);if(p.dictionary){var h;if(typeof p.dictionary==="string")h=$Z.string2buf(p.dictionary);else if(LY.call(p.dictionary)==="[object ArrayBuffer]")h=new Uint8Array(p.dictionary);else h=p.dictionary;if(x=VA.deflateSetDictionary(this.strm,h),x!==aX)throw new Error(LZ[x]);this._dict_set=!0}}Ih.prototype.push=function(P,p){var x=this.strm,h=this.options.chunkSize,X,H;if(this.ended)return!1;if(H=p===~~p?p:p===!0?ZZ:CR,typeof P==="string")x.input=$Z.string2buf(P);else if(LY.call(P)==="[object ArrayBuffer]")x.input=new Uint8Array(P);else x.input=P;x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0)x.output=new qA.Buf8(h),x.next_out=0,x.avail_out=h;if(X=VA.deflate(x,H),X!==ZY&&X!==aX)return this.onEnd(X),this.ended=!0,!1;if(x.avail_out===0||x.avail_in===0&&(H===ZZ||H===$Y))if(this.options.to==="string")this.onData($Z.buf2binstring(qA.shrinkBuf(x.output,x.next_out)));else this.onData(qA.shrinkBuf(x.output,x.next_out))}while((x.avail_in>0||x.avail_out===0)&&X!==ZY);if(H===ZZ)return X=VA.deflateEnd(this.strm),this.onEnd(X),this.ended=!0,X===aX;if(H===$Y)return this.onEnd(aX),x.avail_out=0,!0;return!0};Ih.prototype.onData=function(P){this.chunks.push(P)};Ih.prototype.onEnd=function(P){if(P===aX)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=qA.flattenChunks(this.chunks);this.chunks=[],this.err=P,this.msg=this.strm.msg};function CZ(P,p){var x=new Ih(p);if(x.push(P,!0),x.err)throw x.msg||LZ[x.err];return x.result}function YR(P,p){return p=p||{},p.raw=!0,CZ(P,p)}function QR(P,p){return p=p||{},p.gzip=!0,CZ(P,p)}VR.Deflate=Ih;VR.deflate=CZ;VR.deflateRaw=YR;VR.gzip=QR});var bY=M0((HN,FY)=>{var h5=30,wR=12;FY.exports=function P(p,x){var h,X,H,A,B,f,D,Z,L,$,C,Y,V,q,b,F,M,Q,I,j,k,w,S,T,R;h=p.state,X=p.next_in,T=p.input,H=X+(p.avail_in-5),A=p.next_out,R=p.output,B=A-(x-p.avail_out),f=A+(p.avail_out-257),D=h.dmax,Z=h.wsize,L=h.whave,$=h.wnext,C=h.window,Y=h.hold,V=h.bits,q=h.lencode,b=h.distcode,F=(1<<h.lenbits)-1,M=(1<<h.distbits)-1;P:do{if(V<15)Y+=T[X++]<<V,V+=8,Y+=T[X++]<<V,V+=8;Q=q[Y&F];p:for(;;){if(I=Q>>>24,Y>>>=I,V-=I,I=Q>>>16&255,I===0)R[A++]=Q&65535;else if(I&16){if(j=Q&65535,I&=15,I){if(V<I)Y+=T[X++]<<V,V+=8;j+=Y&(1<<I)-1,Y>>>=I,V-=I}if(V<15)Y+=T[X++]<<V,V+=8,Y+=T[X++]<<V,V+=8;Q=b[Y&M];x:for(;;){if(I=Q>>>24,Y>>>=I,V-=I,I=Q>>>16&255,I&16){if(k=Q&65535,I&=15,V<I){if(Y+=T[X++]<<V,V+=8,V<I)Y+=T[X++]<<V,V+=8}if(k+=Y&(1<<I)-1,k>D){p.msg="invalid distance too far back",h.mode=h5;break P}if(Y>>>=I,V-=I,I=A-B,k>I){if(I=k-I,I>L){if(h.sane){p.msg="invalid distance too far back",h.mode=h5;break P}}if(w=0,S=C,$===0){if(w+=Z-I,I<j){j-=I;do R[A++]=C[w++];while(--I);w=A-k,S=R}}else if($<I){if(w+=Z+$-I,I-=$,I<j){j-=I;do R[A++]=C[w++];while(--I);if(w=0,$<j){I=$,j-=I;do R[A++]=C[w++];while(--I);w=A-k,S=R}}}else if(w+=$-I,I<j){j-=I;do R[A++]=C[w++];while(--I);w=A-k,S=R}while(j>2)R[A++]=S[w++],R[A++]=S[w++],R[A++]=S[w++],j-=3;if(j){if(R[A++]=S[w++],j>1)R[A++]=S[w++]}}else{w=A-k;do R[A++]=R[w++],R[A++]=R[w++],R[A++]=R[w++],j-=3;while(j>2);if(j){if(R[A++]=R[w++],j>1)R[A++]=R[w++]}}}else if((I&64)===0){Q=b[(Q&65535)+(Y&(1<<I)-1)];continue x}else{p.msg="invalid distance code",h.mode=h5;break P}break}}else if((I&64)===0){Q=q[(Q&65535)+(Y&(1<<I)-1)];continue p}else if(I&32){h.mode=wR;break P}else{p.msg="invalid literal/length code",h.mode=h5;break P}break}}while(X<H&&A<f);j=V>>3,X-=j,V-=j<<3,Y&=(1<<V)-1,p.next_in=X,p.next_out=A,p.avail_in=X<H?5+(H-X):5-(X-H),p.avail_out=A<f?257+(f-A):257-(A-f),h.hold=Y,h.bits=V;return}});var EY=M0((AN,IY)=>{var MY=M8(),rX=15,YY=852,QY=592,VY=0,FZ=1,qY=2,kR=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],WR=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],TR=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],jR=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];IY.exports=function P(p,x,h,X,H,A,B,f){var D=f.bits,Z=0,L=0,$=0,C=0,Y=0,V=0,q=0,b=0,F=0,M=0,Q,I,j,k,w,S=null,T=0,R,v=new MY.Buf16(rX+1),J=new MY.Buf16(rX+1),N=null,c=0,r,e,g;for(Z=0;Z<=rX;Z++)v[Z]=0;for(L=0;L<X;L++)v[x[h+L]]++;Y=D;for(C=rX;C>=1;C--)if(v[C]!==0)break;if(Y>C)Y=C;if(C===0)return H[A++]=20971520,H[A++]=20971520,f.bits=1,0;for($=1;$<C;$++)if(v[$]!==0)break;if(Y<$)Y=$;b=1;for(Z=1;Z<=rX;Z++)if(b<<=1,b-=v[Z],b<0)return-1;if(b>0&&(p===VY||C!==1))return-1;J[1]=0;for(Z=1;Z<rX;Z++)J[Z+1]=J[Z]+v[Z];for(L=0;L<X;L++)if(x[h+L]!==0)B[J[x[h+L]]++]=L;if(p===VY)S=N=B,R=19;else if(p===FZ)S=kR,T-=257,N=WR,c-=257,R=256;else S=TR,N=jR,R=-1;if(M=0,L=0,Z=$,w=A,V=Y,q=0,j=-1,F=1<<Y,k=F-1,p===FZ&&F>YY||p===qY&&F>QY)return 1;for(;;){if(r=Z-q,B[L]<R)e=0,g=B[L];else if(B[L]>R)e=N[c+B[L]],g=S[T+B[L]];else e=96,g=0;Q=1<<Z-q,I=1<<V,$=I;do I-=Q,H[w+(M>>q)+I]=r<<24|e<<16|g|0;while(I!==0);Q=1<<Z-1;while(M&Q)Q>>=1;if(Q!==0)M&=Q-1,M+=Q;else M=0;if(L++,--v[Z]===0){if(Z===C)break;Z=x[h+B[L]]}if(Z>Y&&(M&k)!==j){if(q===0)q=Y;w+=$,V=Z-q,b=1<<V;while(V+q<C){if(b-=v[V+q],b<=0)break;V++,b<<=1}if(F+=1<<V,p===FZ&&F>YY||p===qY&&F>QY)return 1;j=M&k,H[j]=Y<<24|V<<16|w-A|0}}if(M!==0)H[w+M]=Z-q<<24|4194304|0;return f.bits=Y,0}});var hQ=M0((oR)=>{var Ip=M8(),qZ=xZ(),G1=hZ(),JR=bY(),IA=EY(),dR=0,aY=1,rY=2,zY=4,KR=5,X5=6,Eh=0,RR=1,cR=2,mp=-2,nY=-3,IZ=-4,vR=-5,wY=8,sY=1,kY=2,WY=3,TY=4,jY=5,JY=6,dY=7,KY=8,RY=9,cY=10,B5=11,Q8=12,bZ=13,vY=14,MZ=15,UY=16,GY=17,SY=18,lY=19,H5=20,A5=21,NY=22,OY=23,gY=24,yY=25,_Y=26,YZ=27,iY=28,mY=29,n0=30,EZ=31,UR=32,GR=852,SR=592,lR=15,NR=lR;function uY(P){return(P>>>24&255)+(P>>>8&65280)+((P&65280)<<8)+((P&255)<<24)}function OR(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ip.Buf16(320),this.work=new Ip.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function tY(P){var p;if(!P||!P.state)return mp;if(p=P.state,P.total_in=P.total_out=p.total=0,P.msg="",p.wrap)P.adler=p.wrap&1;return p.mode=sY,p.last=0,p.havedict=0,p.dmax=32768,p.head=null,p.hold=0,p.bits=0,p.lencode=p.lendyn=new Ip.Buf32(GR),p.distcode=p.distdyn=new Ip.Buf32(SR),p.sane=1,p.back=-1,Eh}function eY(P){var p;if(!P||!P.state)return mp;return p=P.state,p.wsize=0,p.whave=0,p.wnext=0,tY(P)}function PQ(P,p){var x,h;if(!P||!P.state)return mp;if(h=P.state,p<0)x=0,p=-p;else if(x=(p>>4)+1,p<48)p&=15;if(p&&(p<8||p>15))return mp;if(h.window!==null&&h.wbits!==p)h.window=null;return h.wrap=x,h.wbits=p,eY(P)}function pQ(P,p){var x,h;if(!P)return mp;if(h=new OR,P.state=h,h.window=null,x=PQ(P,p),x!==Eh)P.state=null;return x}function gR(P){return pQ(P,NR)}var oY=!0,QZ,VZ;function yR(P){if(oY){var p;QZ=new Ip.Buf32(512),VZ=new Ip.Buf32(32),p=0;while(p<144)P.lens[p++]=8;while(p<256)P.lens[p++]=9;while(p<280)P.lens[p++]=7;while(p<288)P.lens[p++]=8;IA(aY,P.lens,0,288,QZ,0,P.work,{bits:9}),p=0;while(p<32)P.lens[p++]=5;IA(rY,P.lens,0,32,VZ,0,P.work,{bits:5}),oY=!1}P.lencode=QZ,P.lenbits=9,P.distcode=VZ,P.distbits=5}function xQ(P,p,x,h){var X,H=P.state;if(H.window===null)H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new Ip.Buf8(H.wsize);if(h>=H.wsize)Ip.arraySet(H.window,p,x-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize;else{if(X=H.wsize-H.wnext,X>h)X=h;if(Ip.arraySet(H.window,p,x-h,X,H.wnext),h-=X,h)Ip.arraySet(H.window,p,x-h,h,0),H.wnext=h,H.whave=H.wsize;else{if(H.wnext+=X,H.wnext===H.wsize)H.wnext=0;if(H.whave<H.wsize)H.whave+=X}}return 0}function _R(P,p){var x,h,X,H,A,B,f,D,Z,L,$,C,Y,V,q=0,b,F,M,Q,I,j,k,w,S=new Ip.Buf8(4),T,R,v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return mp;if(x=P.state,x.mode===Q8)x.mode=bZ;A=P.next_out,X=P.output,f=P.avail_out,H=P.next_in,h=P.input,B=P.avail_in,D=x.hold,Z=x.bits,L=B,$=f,w=Eh;P:for(;;)switch(x.mode){case sY:if(x.wrap===0){x.mode=bZ;break}while(Z<16){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}if(x.wrap&2&&D===35615){x.check=0,S[0]=D&255,S[1]=D>>>8&255,x.check=G1(x.check,S,2,0),D=0,Z=0,x.mode=kY;break}if(x.flags=0,x.head)x.head.done=!1;if(!(x.wrap&1)||(((D&255)<<8)+(D>>8))%31){P.msg="incorrect header check",x.mode=n0;break}if((D&15)!==wY){P.msg="unknown compression method",x.mode=n0;break}if(D>>>=4,Z-=4,k=(D&15)+8,x.wbits===0)x.wbits=k;else if(k>x.wbits){P.msg="invalid window size",x.mode=n0;break}x.dmax=1<<k,P.adler=x.check=1,x.mode=D&512?cY:Q8,D=0,Z=0;break;case kY:while(Z<16){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}if(x.flags=D,(x.flags&255)!==wY){P.msg="unknown compression method",x.mode=n0;break}if(x.flags&57344){P.msg="unknown header flags set",x.mode=n0;break}if(x.head)x.head.text=D>>8&1;if(x.flags&512)S[0]=D&255,S[1]=D>>>8&255,x.check=G1(x.check,S,2,0);D=0,Z=0,x.mode=WY;case WY:while(Z<32){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}if(x.head)x.head.time=D;if(x.flags&512)S[0]=D&255,S[1]=D>>>8&255,S[2]=D>>>16&255,S[3]=D>>>24&255,x.check=G1(x.check,S,4,0);D=0,Z=0,x.mode=TY;case TY:while(Z<16){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}if(x.head)x.head.xflags=D&255,x.head.os=D>>8;if(x.flags&512)S[0]=D&255,S[1]=D>>>8&255,x.check=G1(x.check,S,2,0);D=0,Z=0,x.mode=jY;case jY:if(x.flags&1024){while(Z<16){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}if(x.length=D,x.head)x.head.extra_len=D;if(x.flags&512)S[0]=D&255,S[1]=D>>>8&255,x.check=G1(x.check,S,2,0);D=0,Z=0}else if(x.head)x.head.extra=null;x.mode=JY;case JY:if(x.flags&1024){if(C=x.length,C>B)C=B;if(C){if(x.head){if(k=x.head.extra_len-x.length,!x.head.extra)x.head.extra=new Array(x.head.extra_len);Ip.arraySet(x.head.extra,h,H,C,k)}if(x.flags&512)x.check=G1(x.check,h,C,H);B-=C,H+=C,x.length-=C}if(x.length)break P}x.length=0,x.mode=dY;case dY:if(x.flags&2048){if(B===0)break P;C=0;do if(k=h[H+C++],x.head&&k&&x.length<65536)x.head.name+=String.fromCharCode(k);while(k&&C<B);if(x.flags&512)x.check=G1(x.check,h,C,H);if(B-=C,H+=C,k)break P}else if(x.head)x.head.name=null;x.length=0,x.mode=KY;case KY:if(x.flags&4096){if(B===0)break P;C=0;do if(k=h[H+C++],x.head&&k&&x.length<65536)x.head.comment+=String.fromCharCode(k);while(k&&C<B);if(x.flags&512)x.check=G1(x.check,h,C,H);if(B-=C,H+=C,k)break P}else if(x.head)x.head.comment=null;x.mode=RY;case RY:if(x.flags&512){while(Z<16){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}if(D!==(x.check&65535)){P.msg="header crc mismatch",x.mode=n0;break}D=0,Z=0}if(x.head)x.head.hcrc=x.flags>>9&1,x.head.done=!0;P.adler=x.check=0,x.mode=Q8;break;case cY:while(Z<32){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}P.adler=x.check=uY(D),D=0,Z=0,x.mode=B5;case B5:if(x.havedict===0)return P.next_out=A,P.avail_out=f,P.next_in=H,P.avail_in=B,x.hold=D,x.bits=Z,cR;P.adler=x.check=1,x.mode=Q8;case Q8:if(p===KR||p===X5)break P;case bZ:if(x.last){D>>>=Z&7,Z-=Z&7,x.mode=YZ;break}while(Z<3){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}switch(x.last=D&1,D>>>=1,Z-=1,D&3){case 0:x.mode=vY;break;case 1:if(yR(x),x.mode=H5,p===X5){D>>>=2,Z-=2;break P}break;case 2:x.mode=GY;break;case 3:P.msg="invalid block type",x.mode=n0}D>>>=2,Z-=2;break;case vY:D>>>=Z&7,Z-=Z&7;while(Z<32){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}if((D&65535)!==(D>>>16^65535)){P.msg="invalid stored block lengths",x.mode=n0;break}if(x.length=D&65535,D=0,Z=0,x.mode=MZ,p===X5)break P;case MZ:x.mode=UY;case UY:if(C=x.length,C){if(C>B)C=B;if(C>f)C=f;if(C===0)break P;Ip.arraySet(X,h,H,C,A),B-=C,H+=C,f-=C,A+=C,x.length-=C;break}x.mode=Q8;break;case GY:while(Z<14){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}if(x.nlen=(D&31)+257,D>>>=5,Z-=5,x.ndist=(D&31)+1,D>>>=5,Z-=5,x.ncode=(D&15)+4,D>>>=4,Z-=4,x.nlen>286||x.ndist>30){P.msg="too many length or distance symbols",x.mode=n0;break}x.have=0,x.mode=SY;case SY:while(x.have<x.ncode){while(Z<3){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}x.lens[v[x.have++]]=D&7,D>>>=3,Z-=3}while(x.have<19)x.lens[v[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,T={bits:x.lenbits},w=IA(dR,x.lens,0,19,x.lencode,0,x.work,T),x.lenbits=T.bits,w){P.msg="invalid code lengths set",x.mode=n0;break}x.have=0,x.mode=lY;case lY:while(x.have<x.nlen+x.ndist){for(;;){if(q=x.lencode[D&(1<<x.lenbits)-1],b=q>>>24,F=q>>>16&255,M=q&65535,b<=Z)break;if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}if(M<16)D>>>=b,Z-=b,x.lens[x.have++]=M;else{if(M===16){R=b+2;while(Z<R){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}if(D>>>=b,Z-=b,x.have===0){P.msg="invalid bit length repeat",x.mode=n0;break}k=x.lens[x.have-1],C=3+(D&3),D>>>=2,Z-=2}else if(M===17){R=b+3;while(Z<R){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}D>>>=b,Z-=b,k=0,C=3+(D&7),D>>>=3,Z-=3}else{R=b+7;while(Z<R){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}D>>>=b,Z-=b,k=0,C=11+(D&127),D>>>=7,Z-=7}if(x.have+C>x.nlen+x.ndist){P.msg="invalid bit length repeat",x.mode=n0;break}while(C--)x.lens[x.have++]=k}}if(x.mode===n0)break;if(x.lens[256]===0){P.msg="invalid code -- missing end-of-block",x.mode=n0;break}if(x.lenbits=9,T={bits:x.lenbits},w=IA(aY,x.lens,0,x.nlen,x.lencode,0,x.work,T),x.lenbits=T.bits,w){P.msg="invalid literal/lengths set",x.mode=n0;break}if(x.distbits=6,x.distcode=x.distdyn,T={bits:x.distbits},w=IA(rY,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,T),x.distbits=T.bits,w){P.msg="invalid distances set",x.mode=n0;break}if(x.mode=H5,p===X5)break P;case H5:x.mode=A5;case A5:if(B>=6&&f>=258){if(P.next_out=A,P.avail_out=f,P.next_in=H,P.avail_in=B,x.hold=D,x.bits=Z,JR(P,$),A=P.next_out,X=P.output,f=P.avail_out,H=P.next_in,h=P.input,B=P.avail_in,D=x.hold,Z=x.bits,x.mode===Q8)x.back=-1;break}x.back=0;for(;;){if(q=x.lencode[D&(1<<x.lenbits)-1],b=q>>>24,F=q>>>16&255,M=q&65535,b<=Z)break;if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}if(F&&(F&240)===0){Q=b,I=F,j=M;for(;;){if(q=x.lencode[j+((D&(1<<Q+I)-1)>>Q)],b=q>>>24,F=q>>>16&255,M=q&65535,Q+b<=Z)break;if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}D>>>=Q,Z-=Q,x.back+=Q}if(D>>>=b,Z-=b,x.back+=b,x.length=M,F===0){x.mode=_Y;break}if(F&32){x.back=-1,x.mode=Q8;break}if(F&64){P.msg="invalid literal/length code",x.mode=n0;break}x.extra=F&15,x.mode=NY;case NY:if(x.extra){R=x.extra;while(Z<R){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}x.length+=D&(1<<x.extra)-1,D>>>=x.extra,Z-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=OY;case OY:for(;;){if(q=x.distcode[D&(1<<x.distbits)-1],b=q>>>24,F=q>>>16&255,M=q&65535,b<=Z)break;if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}if((F&240)===0){Q=b,I=F,j=M;for(;;){if(q=x.distcode[j+((D&(1<<Q+I)-1)>>Q)],b=q>>>24,F=q>>>16&255,M=q&65535,Q+b<=Z)break;if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}D>>>=Q,Z-=Q,x.back+=Q}if(D>>>=b,Z-=b,x.back+=b,F&64){P.msg="invalid distance code",x.mode=n0;break}x.offset=M,x.extra=F&15,x.mode=gY;case gY:if(x.extra){R=x.extra;while(Z<R){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}x.offset+=D&(1<<x.extra)-1,D>>>=x.extra,Z-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){P.msg="invalid distance too far back",x.mode=n0;break}x.mode=yY;case yY:if(f===0)break P;if(C=$-f,x.offset>C){if(C=x.offset-C,C>x.whave){if(x.sane){P.msg="invalid distance too far back",x.mode=n0;break}}if(C>x.wnext)C-=x.wnext,Y=x.wsize-C;else Y=x.wnext-C;if(C>x.length)C=x.length;V=x.window}else V=X,Y=A-x.offset,C=x.length;if(C>f)C=f;f-=C,x.length-=C;do X[A++]=V[Y++];while(--C);if(x.length===0)x.mode=A5;break;case _Y:if(f===0)break P;X[A++]=x.length,f--,x.mode=A5;break;case YZ:if(x.wrap){while(Z<32){if(B===0)break P;B--,D|=h[H++]<<Z,Z+=8}if($-=f,P.total_out+=$,x.total+=$,$)P.adler=x.check=x.flags?G1(x.check,X,$,A-$):qZ(x.check,X,$,A-$);if($=f,(x.flags?D:uY(D))!==x.check){P.msg="incorrect data check",x.mode=n0;break}D=0,Z=0}x.mode=iY;case iY:if(x.wrap&&x.flags){while(Z<32){if(B===0)break P;B--,D+=h[H++]<<Z,Z+=8}if(D!==(x.total&4294967295)){P.msg="incorrect length check",x.mode=n0;break}D=0,Z=0}x.mode=mY;case mY:w=RR;break P;case n0:w=nY;break P;case EZ:return IZ;case UR:default:return mp}if(P.next_out=A,P.avail_out=f,P.next_in=H,P.avail_in=B,x.hold=D,x.bits=Z,x.wsize||$!==P.avail_out&&x.mode<n0&&(x.mode<YZ||p!==zY)){if(xQ(P,P.output,P.next_out,$-P.avail_out))return x.mode=EZ,IZ}if(L-=P.avail_in,$-=P.avail_out,P.total_in+=L,P.total_out+=$,x.total+=$,x.wrap&&$)P.adler=x.check=x.flags?G1(x.check,X,$,P.next_out-$):qZ(x.check,X,$,P.next_out-$);if(P.data_type=x.bits+(x.last?64:0)+(x.mode===Q8?128:0)+(x.mode===H5||x.mode===MZ?256:0),(L===0&&$===0||p===zY)&&w===Eh)w=vR;return w}function iR(P){if(!P||!P.state)return mp;var p=P.state;if(p.window)p.window=null;return P.state=null,Eh}function mR(P,p){var x;if(!P||!P.state)return mp;if(x=P.state,(x.wrap&2)===0)return mp;return x.head=p,p.done=!1,Eh}function uR(P,p){var x=p.length,h,X,H;if(!P||!P.state)return mp;if(h=P.state,h.wrap!==0&&h.mode!==B5)return mp;if(h.mode===B5){if(X=1,X=qZ(X,p,x,0),X!==h.check)return nY}if(H=xQ(P,p,x,x),H)return h.mode=EZ,IZ;return h.havedict=1,Eh}oR.inflateReset=eY;oR.inflateReset2=PQ;oR.inflateResetKeep=tY;oR.inflateInit=gR;oR.inflateInit2=pQ;oR.inflate=_R;oR.inflateEnd=iR;oR.inflateGetHeader=mR;oR.inflateSetDictionary=uR;oR.inflateInfo="pako inflate (from Nodeca project)"});var zZ=M0((DN,XQ)=>{XQ.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var AQ=M0((fN,HQ)=>{function Xc(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}HQ.exports=Xc});var DQ=M0((Dc)=>{var nX=hQ(),EA=M8(),D5=DZ(),CP=zZ(),wZ=rD(),Hc=fZ(),Ac=AQ(),BQ=Object.prototype.toString;function zh(P){if(!(this instanceof zh))return new zh(P);this.options=EA.assign({chunkSize:16384,windowBits:0,to:""},P||{});var p=this.options;if(p.raw&&p.windowBits>=0&&p.windowBits<16){if(p.windowBits=-p.windowBits,p.windowBits===0)p.windowBits=-15}if(p.windowBits>=0&&p.windowBits<16&&!(P&&P.windowBits))p.windowBits+=32;if(p.windowBits>15&&p.windowBits<48){if((p.windowBits&15)===0)p.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hc,this.strm.avail_out=0;var x=nX.inflateInit2(this.strm,p.windowBits);if(x!==CP.Z_OK)throw new Error(wZ[x]);if(this.header=new Ac,nX.inflateGetHeader(this.strm,this.header),p.dictionary){if(typeof p.dictionary==="string")p.dictionary=D5.string2buf(p.dictionary);else if(BQ.call(p.dictionary)==="[object ArrayBuffer]")p.dictionary=new Uint8Array(p.dictionary);if(p.raw){if(x=nX.inflateSetDictionary(this.strm,p.dictionary),x!==CP.Z_OK)throw new Error(wZ[x])}}}zh.prototype.push=function(P,p){var x=this.strm,h=this.options.chunkSize,X=this.options.dictionary,H,A,B,f,D,Z=!1;if(this.ended)return!1;if(A=p===~~p?p:p===!0?CP.Z_FINISH:CP.Z_NO_FLUSH,typeof P==="string")x.input=D5.binstring2buf(P);else if(BQ.call(P)==="[object ArrayBuffer]")x.input=new Uint8Array(P);else x.input=P;x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0)x.output=new EA.Buf8(h),x.next_out=0,x.avail_out=h;if(H=nX.inflate(x,CP.Z_NO_FLUSH),H===CP.Z_NEED_DICT&&X)H=nX.inflateSetDictionary(this.strm,X);if(H===CP.Z_BUF_ERROR&&Z===!0)H=CP.Z_OK,Z=!1;if(H!==CP.Z_STREAM_END&&H!==CP.Z_OK)return this.onEnd(H),this.ended=!0,!1;if(x.next_out){if(x.avail_out===0||H===CP.Z_STREAM_END||x.avail_in===0&&(A===CP.Z_FINISH||A===CP.Z_SYNC_FLUSH))if(this.options.to==="string"){if(B=D5.utf8border(x.output,x.next_out),f=x.next_out-B,D=D5.buf2string(x.output,B),x.next_out=f,x.avail_out=h-f,f)EA.arraySet(x.output,x.output,B,f,0);this.onData(D)}else this.onData(EA.shrinkBuf(x.output,x.next_out))}if(x.avail_in===0&&x.avail_out===0)Z=!0}while((x.avail_in>0||x.avail_out===0)&&H!==CP.Z_STREAM_END);if(H===CP.Z_STREAM_END)A=CP.Z_FINISH;if(A===CP.Z_FINISH)return H=nX.inflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===CP.Z_OK;if(A===CP.Z_SYNC_FLUSH)return this.onEnd(CP.Z_OK),x.avail_out=0,!0;return!0};zh.prototype.onData=function(P){this.chunks.push(P)};zh.prototype.onEnd=function(P){if(P===CP.Z_OK)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=EA.flattenChunks(this.chunks);this.chunks=[],this.err=P,this.msg=this.strm.msg};function kZ(P,p){var x=new zh(p);if(x.push(P,!0),x.err)throw x.msg||wZ[x.err];return x.result}function Bc(P,p){return p=p||{},p.raw=!0,kZ(P,p)}Dc.Inflate=zh;Dc.inflate=kZ;Dc.inflateRaw=Bc;Dc.ungzip=kZ});var $Q=M0(($N,ZQ)=>{var Cc=M8().assign,Fc=CY(),bc=DQ(),Mc=zZ(),fQ={};Cc(fQ,Fc,bc,Mc);ZQ.exports=fQ});var CQ=M0((qc)=>{var Yc=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Uint32Array!=="undefined",Qc=$Q(),LQ=XP(),f5=qp(),Vc=Yc?"uint8array":"array";qc.magic="\b\x00";function wh(P,p){f5.call(this,"FlateWorker/"+P),this._pako=null,this._pakoAction=P,this._pakoOptions=p,this.meta={}}LQ.inherits(wh,f5);wh.prototype.processChunk=function(P){if(this.meta=P.meta,this._pako===null)this._createPako();this._pako.push(LQ.transformTo(Vc,P.data),!1)};wh.prototype.flush=function(){if(f5.prototype.flush.call(this),this._pako===null)this._createPako();this._pako.push([],!0)};wh.prototype.cleanUp=function(){f5.prototype.cleanUp.call(this),this._pako=null};wh.prototype._createPako=function(){this._pako=new Qc[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var P=this;this._pako.onData=function(p){P.push({data:p,meta:P.meta})}};qc.compressWorker=function(P){return new wh("Deflate",P)};qc.uncompressWorker=function(){return new wh("Inflate",{})}});var WZ=M0((wc)=>{var FQ=qp();wc.STORE={magic:"\x00\x00",compressWorker:function(){return new FQ("STORE compression")},uncompressWorker:function(){return new FQ("STORE decompression")}};wc.DEFLATE=CQ()});var TZ=M0((Tc)=>{Tc.LOCAL_FILE_HEADER="PK\x03\x04";Tc.CENTRAL_FILE_HEADER="PK\x01\x02";Tc.CENTRAL_DIRECTORY_END="PK\x05\x06";Tc.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07";Tc.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06";Tc.DATA_DESCRIPTOR="PK\x07\b"});var QQ=M0((bN,YQ)=>{var sX=XP(),tX=qp(),jZ=gX(),bQ=mD(),Z5=TZ(),m0=function(P,p){var x="",h;for(h=0;h<p;h++)x+=String.fromCharCode(P&255),P=P>>>8;return x},vc=function(P,p){var x=P;if(!P)x=p?16893:33204;return(x&65535)<<16},Uc=function(P){return(P||0)&63},MQ=function(P,p,x,h,X,H){var{file:A,compression:B}=P,f=H!==jZ.utf8encode,D=sX.transformTo("string",H(A.name)),Z=sX.transformTo("string",jZ.utf8encode(A.name)),L=A.comment,$=sX.transformTo("string",H(L)),C=sX.transformTo("string",jZ.utf8encode(L)),Y=Z.length!==A.name.length,V=C.length!==L.length,q,b,F="",M="",Q="",I=A.dir,j=A.date,k={crc32:0,compressedSize:0,uncompressedSize:0};if(!p||x)k.crc32=P.crc32,k.compressedSize=P.compressedSize,k.uncompressedSize=P.uncompressedSize;var w=0;if(p)w|=8;if(!f&&(Y||V))w|=2048;var S=0,T=0;if(I)S|=16;if(X==="UNIX")T=798,S|=vc(A.unixPermissions,I);else T=20,S|=Uc(A.dosPermissions,I);if(q=j.getUTCHours(),q=q<<6,q=q|j.getUTCMinutes(),q=q<<5,q=q|j.getUTCSeconds()/2,b=j.getUTCFullYear()-1980,b=b<<4,b=b|j.getUTCMonth()+1,b=b<<5,b=b|j.getUTCDate(),Y)M=m0(1,1)+m0(bQ(D),4)+Z,F+="up"+m0(M.length,2)+M;if(V)Q=m0(1,1)+m0(bQ($),4)+C,F+="uc"+m0(Q.length,2)+Q;var R="";R+=`
\x00`,R+=m0(w,2),R+=B.magic,R+=m0(q,2),R+=m0(b,2),R+=m0(k.crc32,4),R+=m0(k.compressedSize,4),R+=m0(k.uncompressedSize,4),R+=m0(D.length,2),R+=m0(F.length,2);var v=Z5.LOCAL_FILE_HEADER+R+D+F,J=Z5.CENTRAL_FILE_HEADER+m0(T,2)+R+m0($.length,2)+"\x00\x00\x00\x00"+m0(S,4)+m0(h,4)+D+F+$;return{fileRecord:v,dirRecord:J}},Gc=function(P,p,x,h,X){var H="",A=sX.transformTo("string",X(h));return H=Z5.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+m0(P,2)+m0(P,2)+m0(p,4)+m0(x,4)+m0(A.length,2)+A,H},Sc=function(P){var p="";return p=Z5.DATA_DESCRIPTOR+m0(P.crc32,4)+m0(P.compressedSize,4)+m0(P.uncompressedSize,4),p};function x1(P,p,x,h){tX.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=x,this.encodeFileName=h,this.streamFiles=P,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}sX.inherits(x1,tX);x1.prototype.push=function(P){var p=P.meta.percent||0,x=this.entriesCount,h=this._sources.length;if(this.accumulate)this.contentBuffer.push(P);else this.bytesWritten+=P.data.length,tX.prototype.push.call(this,{data:P.data,meta:{currentFile:this.currentFile,percent:x?(p+100*(x-h-1))/x:100}})};x1.prototype.openedSource=function(P){this.currentSourceOffset=this.bytesWritten,this.currentFile=P.file.name;var p=this.streamFiles&&!P.file.dir;if(p){var x=MQ(P,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0};x1.prototype.closedSource=function(P){this.accumulate=!1;var p=this.streamFiles&&!P.file.dir,x=MQ(P,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),p)this.push({data:Sc(P),meta:{percent:100}});else{this.push({data:x.fileRecord,meta:{percent:0}});while(this.contentBuffer.length)this.push(this.contentBuffer.shift())}this.currentFile=null};x1.prototype.flush=function(){var P=this.bytesWritten;for(var p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var x=this.bytesWritten-P,h=Gc(this.dirRecords.length,x,P,this.zipComment,this.encodeFileName);this.push({data:h,meta:{percent:100}})};x1.prototype.prepareNextSource=function(){if(this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused)this.previous.pause();else this.previous.resume()};x1.prototype.registerPrevious=function(P){this._sources.push(P);var p=this;return P.on("data",function(x){p.processChunk(x)}),P.on("end",function(){if(p.closedSource(p.previous.streamInfo),p._sources.length)p.prepareNextSource();else p.end()}),P.on("error",function(x){p.error(x)}),this};x1.prototype.resume=function(){if(!tX.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0};x1.prototype.error=function(P){var p=this._sources;if(!tX.prototype.error.call(this,P))return!1;for(var x=0;x<p.length;x++)try{p[x].error(P)}catch(h){}return!0};x1.prototype.lock=function(){tX.prototype.lock.call(this);var P=this._sources;for(var p=0;p<P.length;p++)P[p].lock()};YQ.exports=x1});var VQ=M0((gc)=>{var lc=WZ(),Nc=QQ(),Oc=function(P,p){var x=P||p,h=lc[x];if(!h)throw new Error(x+" is not a valid compression method !");return h};gc.generateWorker=function(P,p,x){var h=new Nc(p.streamFiles,x,p.platform,p.encodeFileName),X=0;try{P.forEach(function(H,A){X++;var B=Oc(A.options.compression,p.compression),f=A.options.compressionOptions||p.compressionOptions||{},D=A.dir,Z=A.date;A._compressWorker(B,f).withStreamInfo("file",{name:H,dir:D,date:Z,comment:A.comment||"",unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions}).pipe(h)}),h.entriesCount=X}catch(H){h.error(H)}return h}});var IQ=M0((YN,qQ)=>{var _c=XP(),$5=qp();function zA(P,p){$5.call(this,"Nodejs stream input adapter for "+P),this._upstreamEnded=!1,this._bindStream(p)}_c.inherits(zA,$5);zA.prototype._bindStream=function(P){var p=this;this._stream=P,P.pause(),P.on("data",function(x){p.push({data:x,meta:{percent:0}})}).on("error",function(x){if(p.isPaused)this.generatedError=x;else p.error(x)}).on("end",function(){if(p.isPaused)p._upstreamEnded=!0;else p.end()})};zA.prototype.pause=function(){if(!$5.prototype.pause.call(this))return!1;return this._stream.pause(),!0};zA.prototype.resume=function(){if(!$5.prototype.resume.call(this))return!1;if(this._upstreamEnded)this.end();else this._stream.resume();return!0};qQ.exports=zA});var KQ=M0((QN,dQ)=>{var ic=gX(),wA=XP(),kQ=qp(),mc=R7(),WQ=c7(),EQ=uD(),uc=zM(),oc=VQ(),zQ=pA(),ac=IQ(),TQ=function(P,p,x){var h=wA.getTypeOf(p),X,H=wA.extend(x||{},WQ);if(H.date=H.date||new Date,H.compression!==null)H.compression=H.compression.toUpperCase();if(typeof H.unixPermissions==="string")H.unixPermissions=parseInt(H.unixPermissions,8);if(H.unixPermissions&&H.unixPermissions&16384)H.dir=!0;if(H.dosPermissions&&H.dosPermissions&16)H.dir=!0;if(H.dir)P=jQ(P);if(H.createFolders&&(X=rc(P)))JQ.call(this,X,!0);var A=h==="string"&&H.binary===!1&&H.base64===!1;if(!x||typeof x.binary==="undefined")H.binary=!A;var B=p instanceof EQ&&p.uncompressedSize===0;if(B||H.dir||!p||p.length===0)H.base64=!1,H.binary=!0,p="",H.compression="STORE",h="string";var f=null;if(p instanceof EQ||p instanceof kQ)f=p;else if(zQ.isNode&&zQ.isStream(p))f=new ac(P,p);else f=wA.prepareContent(P,p,H.binary,H.optimizedBinaryString,H.base64);var D=new uc(P,f,H);this.files[P]=D},rc=function(P){if(P.slice(-1)==="/")P=P.substring(0,P.length-1);var p=P.lastIndexOf("/");return p>0?P.substring(0,p):""},jQ=function(P){if(P.slice(-1)!=="/")P+="/";return P},JQ=function(P,p){if(p=typeof p!=="undefined"?p:WQ.createFolders,P=jQ(P),!this.files[P])TQ.call(this,P,null,{dir:!0,createFolders:p});return this.files[P]};function wQ(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var nc={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var p,x,h;for(p in this.files)if(h=this.files[p],x=p.slice(this.root.length,p.length),x&&p.slice(0,this.root.length)===this.root)P(x,h)},filter:function(P){var p=[];return this.forEach(function(x,h){if(P(x,h))p.push(h)}),p},file:function(P,p,x){if(arguments.length===1)if(wQ(P)){var h=P;return this.filter(function(H,A){return!A.dir&&h.test(H)})}else{var X=this.files[this.root+P];if(X&&!X.dir)return X;else return null}else P=this.root+P,TQ.call(this,P,p,x);return this},folder:function(P){if(!P)return this;if(wQ(P))return this.filter(function(X,H){return H.dir&&P.test(X)});var p=this.root+P,x=JQ.call(this,p),h=this.clone();return h.root=x.name,h},remove:function(P){P=this.root+P;var p=this.files[P];if(!p){if(P.slice(-1)!=="/")P+="/";p=this.files[P]}if(p&&!p.dir)delete this.files[P];else{var x=this.filter(function(X,H){return H.name.slice(0,P.length)===P});for(var h=0;h<x.length;h++)delete this.files[x[h].name]}return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var p,x={};try{if(x=wA.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:ic.utf8encode}),x.type=x.type.toLowerCase(),x.compression=x.compression.toUpperCase(),x.type==="binarystring")x.type="string";if(!x.type)throw new Error("No output type specified.");if(wA.checkSupport(x.type),x.platform==="darwin"||x.platform==="freebsd"||x.platform==="linux"||x.platform==="sunos")x.platform="UNIX";if(x.platform==="win32")x.platform="DOS";var h=x.comment||this.comment||"";p=oc.generateWorker(this,x,h)}catch(X){p=new kQ("error"),p.error(X)}return new mc(p,x.type||"string",x.mimeType)},generateAsync:function(P,p){return this.generateInternalStream(P).accumulate(p)},generateNodeStream:function(P,p){if(P=P||{},!P.type)P.type="nodebuffer";return this.generateInternalStream(P).toNodejsStream(p)}};dQ.exports=nc});var JZ=M0((VN,cQ)=>{var sc=XP();function RQ(P){this.data=P,this.length=P.length,this.index=0,this.zero=0}RQ.prototype={checkOffset:function(P){this.checkIndex(this.index+P)},checkIndex:function(P){if(this.length<this.zero+P||P<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+P+"). Corrupted zip ?")},setIndex:function(P){this.checkIndex(P),this.index=P},skip:function(P){this.setIndex(this.index+P)},byteAt:function(){},readInt:function(P){var p=0,x;this.checkOffset(P);for(x=this.index+P-1;x>=this.index;x--)p=(p<<8)+this.byteAt(x);return this.index+=P,p},readString:function(P){return sc.transformTo("string",this.readData(P))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var P=this.readInt(4);return new Date(Date.UTC((P>>25&127)+1980,(P>>21&15)-1,P>>16&31,P>>11&31,P>>5&63,(P&31)<<1))}};cQ.exports=RQ});var dZ=M0((qN,UQ)=>{var vQ=JZ(),tc=XP();function eX(P){vQ.call(this,P);for(var p=0;p<this.data.length;p++)P[p]=P[p]&255}tc.inherits(eX,vQ);eX.prototype.byteAt=function(P){return this.data[this.zero+P]};eX.prototype.lastIndexOfSignature=function(P){var p=P.charCodeAt(0),x=P.charCodeAt(1),h=P.charCodeAt(2),X=P.charCodeAt(3);for(var H=this.length-4;H>=0;--H)if(this.data[H]===p&&this.data[H+1]===x&&this.data[H+2]===h&&this.data[H+3]===X)return H-this.zero;return-1};eX.prototype.readAndCheckSignature=function(P){var p=P.charCodeAt(0),x=P.charCodeAt(1),h=P.charCodeAt(2),X=P.charCodeAt(3),H=this.readData(4);return p===H[0]&&x===H[1]&&h===H[2]&&X===H[3]};eX.prototype.readData=function(P){if(this.checkOffset(P),P===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+P);return this.index+=P,p};UQ.exports=eX});var lQ=M0((IN,SQ)=>{var GQ=JZ(),ec=XP();function PH(P){GQ.call(this,P)}ec.inherits(PH,GQ);PH.prototype.byteAt=function(P){return this.data.charCodeAt(this.zero+P)};PH.prototype.lastIndexOfSignature=function(P){return this.data.lastIndexOf(P)-this.zero};PH.prototype.readAndCheckSignature=function(P){var p=this.readData(4);return P===p};PH.prototype.readData=function(P){this.checkOffset(P);var p=this.data.slice(this.zero+this.index,this.zero+this.index+P);return this.index+=P,p};SQ.exports=PH});var RZ=M0((EN,OQ)=>{var NQ=dZ(),Pv=XP();function KZ(P){NQ.call(this,P)}Pv.inherits(KZ,NQ);KZ.prototype.readData=function(P){if(this.checkOffset(P),P===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+P);return this.index+=P,p};OQ.exports=KZ});var _Q=M0((zN,yQ)=>{var gQ=RZ(),pv=XP();function cZ(P){gQ.call(this,P)}pv.inherits(cZ,gQ);cZ.prototype.readData=function(P){this.checkOffset(P);var p=this.data.slice(this.zero+this.index,this.zero+this.index+P);return this.index+=P,p};yQ.exports=cZ});var vZ=M0((wN,mQ)=>{var L5=XP(),iQ=b8(),xv=dZ(),hv=lQ(),Xv=_Q(),Hv=RZ();mQ.exports=function(P){var p=L5.getTypeOf(P);if(L5.checkSupport(p),p==="string"&&!iQ.uint8array)return new hv(P);if(p==="nodebuffer")return new Xv(P);if(iQ.uint8array)return new Hv(L5.transformTo("uint8array",P));return new xv(L5.transformTo("array",P))}});var rQ=M0((kN,aQ)=>{var UZ=vZ(),qx=XP(),Av=uD(),uQ=mD(),C5=gX(),F5=WZ(),Bv=b8(),Dv=0,fv=3,Zv=function(P){for(var p in F5){if(!Object.prototype.hasOwnProperty.call(F5,p))continue;if(F5[p].magic===P)return F5[p]}return null};function oQ(P,p){this.options=P,this.loadOptions=p}oQ.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(P){var p,x;if(P.skip(22),this.fileNameLength=P.readInt(2),x=P.readInt(2),this.fileName=P.readData(this.fileNameLength),P.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(p=Zv(this.compressionMethod),p===null)throw new Error("Corrupted zip : compression "+qx.pretty(this.compressionMethod)+" unknown (inner file : "+qx.transformTo("string",this.fileName)+")");this.decompressed=new Av(this.compressedSize,this.uncompressedSize,this.crc32,p,P.readData(this.compressedSize))},readCentralPart:function(P){this.versionMadeBy=P.readInt(2),P.skip(2),this.bitFlag=P.readInt(2),this.compressionMethod=P.readString(2),this.date=P.readDate(),this.crc32=P.readInt(4),this.compressedSize=P.readInt(4),this.uncompressedSize=P.readInt(4);var p=P.readInt(2);if(this.extraFieldsLength=P.readInt(2),this.fileCommentLength=P.readInt(2),this.diskNumberStart=P.readInt(2),this.internalFileAttributes=P.readInt(2),this.externalFileAttributes=P.readInt(4),this.localHeaderOffset=P.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");P.skip(p),this.readExtraFields(P),this.parseZIP64ExtraField(P),this.fileComment=P.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var P=this.versionMadeBy>>8;if(this.dir=this.externalFileAttributes&16?!0:!1,P===Dv)this.dosPermissions=this.externalFileAttributes&63;if(P===fv)this.unixPermissions=this.externalFileAttributes>>16&65535;if(!this.dir&&this.fileNameStr.slice(-1)==="/")this.dir=!0},parseZIP64ExtraField:function(){if(!this.extraFields[1])return;var P=UZ(this.extraFields[1].value);if(this.uncompressedSize===qx.MAX_VALUE_32BITS)this.uncompressedSize=P.readInt(8);if(this.compressedSize===qx.MAX_VALUE_32BITS)this.compressedSize=P.readInt(8);if(this.localHeaderOffset===qx.MAX_VALUE_32BITS)this.localHeaderOffset=P.readInt(8);if(this.diskNumberStart===qx.MAX_VALUE_32BITS)this.diskNumberStart=P.readInt(4)},readExtraFields:function(P){var p=P.index+this.extraFieldsLength,x,h,X;if(!this.extraFields)this.extraFields={};while(P.index+4<p)x=P.readInt(2),h=P.readInt(2),X=P.readData(h),this.extraFields[x]={id:x,length:h,value:X};P.setIndex(p)},handleUTF8:function(){var P=Bv.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C5.utf8decode(this.fileName),this.fileCommentStr=C5.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var x=qx.transformTo(P,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var h=this.findExtraFieldUnicodeComment();if(h!==null)this.fileCommentStr=h;else{var X=qx.transformTo(P,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(X)}}},findExtraFieldUnicodePath:function(){var P=this.extraFields[28789];if(P){var p=UZ(P.value);if(p.readInt(1)!==1)return null;if(uQ(this.fileName)!==p.readInt(4))return null;return C5.utf8decode(p.readData(P.length-5))}return null},findExtraFieldUnicodeComment:function(){var P=this.extraFields[25461];if(P){var p=UZ(P.value);if(p.readInt(1)!==1)return null;if(uQ(this.fileComment)!==p.readInt(4))return null;return C5.utf8decode(p.readData(P.length-5))}return null}};aQ.exports=oQ});var tQ=M0((WN,sQ)=>{var $v=vZ(),V8=XP(),h1=TZ(),Lv=rQ(),Cv=b8();function nQ(P){this.files=[],this.loadOptions=P}nQ.prototype={checkSignature:function(P){if(!this.reader.readAndCheckSignature(P)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+V8.pretty(p)+", expected "+V8.pretty(P)+")")}},isSignature:function(P,p){var x=this.reader.index;this.reader.setIndex(P);var h=this.reader.readString(4),X=h===p;return this.reader.setIndex(x),X},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var P=this.reader.readData(this.zipCommentLength),p=Cv.uint8array?"uint8array":"array",x=V8.transformTo(p,P);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};var P=this.zip64EndOfCentralSize-44,p=0,x,h,X;while(p<P)x=this.reader.readInt(2),h=this.reader.readInt(4),X=this.reader.readData(h),this.zip64ExtensibleData[x]={id:x,length:h,value:X}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var P,p;for(P=0;P<this.files.length;P++)p=this.files[P],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(h1.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var P;this.reader.setIndex(this.centralDirOffset);while(this.reader.readAndCheckSignature(h1.CENTRAL_FILE_HEADER))P=new Lv({zip64:this.zip64},this.loadOptions),P.readCentralPart(this.reader),this.files.push(P);if(this.centralDirRecords!==this.files.length){if(this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}},readEndOfCentral:function(){var P=this.reader.lastIndexOfSignature(h1.CENTRAL_DIRECTORY_END);if(P<0){var p=!this.isSignature(0,h1.LOCAL_FILE_HEADER);if(p)throw new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");else throw new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(P);var x=P;if(this.checkSignature(h1.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===V8.MAX_VALUE_16BITS||this.diskWithCentralDirStart===V8.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===V8.MAX_VALUE_16BITS||this.centralDirRecords===V8.MAX_VALUE_16BITS||this.centralDirSize===V8.MAX_VALUE_32BITS||this.centralDirOffset===V8.MAX_VALUE_32BITS){if(this.zip64=!0,P=this.reader.lastIndexOfSignature(h1.ZIP64_CENTRAL_DIRECTORY_LOCATOR),P<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(P),this.checkSignature(h1.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h1.ZIP64_CENTRAL_DIRECTORY_END)){if(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h1.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory")}this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h1.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;if(this.zip64)h+=20,h+=12+this.zip64EndOfCentralSize;var X=x-h;if(X>0)if(this.isSignature(x,h1.CENTRAL_FILE_HEADER));else this.reader.zero=X;else if(X<0)throw new Error("Corrupted zip: missing "+Math.abs(X)+" bytes.")},prepareReader:function(P){this.reader=$v(P)},load:function(P){this.prepareReader(P),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};sQ.exports=nQ});var pV=M0((TN,PV)=>{var GZ=XP(),b5=lX(),Fv=gX(),bv=tQ(),Mv=G7(),eQ=pA();function Yv(P){return new b5.Promise(function(p,x){var h=P.decompressed.getContentWorker().pipe(new Mv);h.on("error",function(X){x(X)}).on("end",function(){if(h.streamInfo.crc32!==P.decompressed.crc32)x(new Error("Corrupted zip : CRC32 mismatch"));else p()}).resume()})}PV.exports=function(P,p){var x=this;if(p=GZ.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:Fv.utf8decode}),eQ.isNode&&eQ.isStream(P))return b5.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file."));return GZ.prepareContent("the loaded zip file",P,!0,p.optimizedBinaryString,p.base64).then(function(h){var X=new bv(p);return X.load(h),X}).then(function h(X){var H=[b5.Promise.resolve(X)],A=X.files;if(p.checkCRC32)for(var B=0;B<A.length;B++)H.push(Yv(A[B]));return b5.Promise.all(H)}).then(function h(X){var H=X.shift(),A=H.files;for(var B=0;B<A.length;B++){var f=A[B],D=f.fileNameStr,Z=GZ.resolve(f.fileNameStr);if(x.file(Z,f.decompressed,{binary:!0,optimizedBinaryString:!0,date:f.date,dir:f.dir,comment:f.fileCommentStr.length?f.fileCommentStr:null,unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions,createFolders:p.createFolders}),!f.dir)x.file(Z).unsafeOriginalName=D}if(H.zipComment.length)x.comment=H.zipComment;return x})}});var hV=M0((jN,xV)=>{function up(){if(!(this instanceof up))return new up;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var P=new up;for(var p in this)if(typeof this[p]!=="function")P[p]=this[p];return P}}up.prototype=KQ();up.prototype.loadAsync=pV();up.support=b8();up.defaults=c7();up.version="3.10.1";up.loadAsync=function(P,p){return new up().loadAsync(P,p)};up.external=lX();xV.exports=up});var hz=S0(OF(),1);var yF=S0(y0(),1);var CT=Symbol.for("react.transitional.element"),FT=Symbol.for("react.fragment");function gF(P,p,x){var h=null;if(x!==void 0&&(h=""+x),p.key!==void 0&&(h=""+p.key),"key"in p){x={};for(var X in p)X!=="key"&&(x[X]=p[X])}else x=p;return p=x.ref,{$$typeof:CT,type:P,key:h,ref:p!==void 0?p:null,props:x}}var Bx=FT,p0=gF,LP=gF;function _F({setFileData:P,setIsProcessing:p,resetStates:x}){let h=yF.useRef(null);function X(H){console.log("FileHandler: uploadFiles called");let A=H.target.files;if(!A||A.length===0){console.error("No files selected.");return}p(!0),console.log("FileHandler: Files processing:",A.length);for(let B=0;B<A.length;B++){if(console.log("FileHandler: Processing file:",A[B].name),!A[B].type.startsWith("image/png")){console.error("Only PNG files are allowed.");continue}else{console.log("FileHandler: creating fileName");let f=A[B].name.substring(0,A[B].name.lastIndexOf(".")),D=A[B],Z=new FileReader;Z.onload=(L)=>{console.log("FileHandler: entering reader.onload for file:",f);let $=L.target?.result;P((C)=>{console.log("FileHandler: Previous files count:",C.length);let Y=[...C,{name:f,data:$}];if(console.log("FileHandler: Updated files count:",Y.length),Y.length===A.length)p(!1),console.log("FileHandler: processing complete, total files:",Y.length);return Y})},Z.readAsDataURL(D)}console.log("FileHandler: File processed + added to fileData.")}}return p0(Bx,{children:LP("div",{className:"py-5 ",children:[p0("button",{onClick:()=>{if(console.log("FileHandler: Upload button clicked"),h.current)h.current.value="",h.current.click()},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Upload Files"}),p0("p",{className:"italic text-gray-600",children:"only supports .PNG's"}),p0("input",{type:"file",id:"files",name:"files",multiple:!0,accept:"image/png",ref:h,className:"hidden",onChange:(H)=>{console.log("FileHandler: File input onChange triggered"),X(H)}})]})})}var XV=S0(hV(),1),HV=S0(y0(),1);function AV({files:P}){console.log("Preparing Files for ZIP:",P);let p=HV.useRef(null),x=new XV.default;async function h(){if(!P||P.length===0){alert("No files to download");return}for(let X=0;X<P.length;X++){let A=await(await fetch(P[X].data)).blob();if(x.file(`${P[X].name}.png`,A),X===P.length-1){let B=await x.generateAsync({type:"blob"}),f=URL.createObjectURL(B);if(p.current)p.current.href=f,p.current.download="icons.zip",p.current.click(),setTimeout(()=>URL.revokeObjectURL(f),100)}}}return p0(Bx,{children:LP("div",{className:"py-5",children:[p0("button",{onClick:h,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Click to Download"}),p0("a",{ref:p,style:{display:"none"}})]})})}function BV({files:P}){return console.log("IconDisplay received files:",P.map((p)=>p.name)),LP("div",{children:[p0("h2",{children:" Generated Icons "}),P?.length===0&&p0("p",{children:"No files to display"}),P?.length>0&&LP(Bx,{children:[p0(AV,{files:P}),p0("div",{className:"grid grid-cols-4 gap-4",children:P.map((p)=>p0("img",{src:p.data,alt:p.name,className:"w-full h-auto"},p.name))})]})]})}var Zf=S0(y0(),1);function K(P,p,x){return(p=function(h){var X=function(H,A){if(typeof H!="object"||!H)return H;var B=H[Symbol.toPrimitive];if(B!==void 0){var f=B.call(H,A||"default");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(H)}(h,"string");return typeof X=="symbol"?X:X+""}(p))in P?Object.defineProperty(P,p,{value:x,enumerable:!0,configurable:!0,writable:!0}):P[p]=x,P}function DV(P,p){var x=Object.keys(P);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(P);p&&(h=h.filter(function(X){return Object.getOwnPropertyDescriptor(P,X).enumerable})),x.push.apply(x,h)}return x}function d(P){for(var p=1;p<arguments.length;p++){var x=arguments[p]!=null?arguments[p]:{};p%2?DV(Object(x),!0).forEach(function(h){K(P,h,x[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(x)):DV(Object(x)).forEach(function(h){Object.defineProperty(P,h,Object.getOwnPropertyDescriptor(x,h))})}return P}function t0(P,p){if(P==null)return{};var x,h,X=function(A,B){if(A==null)return{};var f={};for(var D in A)if({}.hasOwnProperty.call(A,D)){if(B.indexOf(D)>=0)continue;f[D]=A[D]}return f}(P,p);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(P);for(h=0;h<H.length;h++)x=H[h],p.indexOf(x)>=0||{}.propertyIsEnumerable.call(P,x)&&(X[x]=P[x])}return X}function jx(P,p){return p||(p=P.slice(0)),Object.freeze(Object.defineProperties(P,{raw:{value:Object.freeze(p)}}))}class rZ{constructor(){K(this,"browserShadowBlurConstant",1),K(this,"DPI",96),K(this,"devicePixelRatio",typeof window!="undefined"?window.devicePixelRatio:1),K(this,"perfLimitSizeTotal",2097152),K(this,"maxCacheSideLimit",4096),K(this,"minCacheSideLimit",256),K(this,"disableStyleCopyPaste",!1),K(this,"enableGLFiltering",!0),K(this,"textureSize",4096),K(this,"forceGLPutImageData",!1),K(this,"cachesBoundsOfCurve",!1),K(this,"fontPaths",{}),K(this,"NUM_FRACTION_DIGITS",4)}}var K0=new class extends rZ{constructor(P){super(),this.configure(P)}configure(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,P)}addFonts(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=d(d({},this.fontPaths),P)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach((P)=>{delete this.fontPaths[P]})}clearFonts(){this.fontPaths={}}restoreDefaults(P){let p=new rZ,x=(P==null?void 0:P.reduce((h,X)=>(h[X]=p[X],h),{}))||p;this.configure(x)}},wx=function(P){for(var p=arguments.length,x=new Array(p>1?p-1:0),h=1;h<p;h++)x[h-1]=arguments[h];return console[P]("fabric",...x)};class B1 extends Error{constructor(P,p){super("fabric: ".concat(P),p)}}class F9 extends B1{constructor(P){super("".concat(P," 'options.signal' is in 'aborted' state"))}}class lV{}class NV extends lV{testPrecision(P,p){let x="precision ".concat(p,` float;
void main(){}`),h=P.createShader(P.FRAGMENT_SHADER);return!!h&&(P.shaderSource(h,x),P.compileShader(h),!!P.getShaderParameter(h,P.COMPILE_STATUS))}queryWebGL(P){let p=P.getContext("webgl");p&&(this.maxTextureSize=p.getParameter(p.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find((x)=>this.testPrecision(p,x)),p.getExtension("WEBGL_lose_context").loseContext(),wx("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(P){return!!this.maxTextureSize&&this.maxTextureSize>=P}}var Qv={},fV;var O1=()=>fV||(fV={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new NV,dispose(){},copyPasteData:Qv}),WH=()=>O1().document,O5=()=>O1().window,OV=()=>{var P;return Math.max((P=K0.devicePixelRatio)!==null&&P!==void 0?P:O5().devicePixelRatio,1)},dA=new class{constructor(){K(this,"charWidthsCache",{}),K(this,"boundsOfCurveCache",{})}getFontCache(P){let{fontFamily:p,fontStyle:x,fontWeight:h}=P;p=p.toLowerCase(),this.charWidthsCache[p]||(this.charWidthsCache[p]={});let X=this.charWidthsCache[p],H="".concat(x.toLowerCase(),"_").concat((h+"").toLowerCase());return X[H]||(X[H]={}),X[H]}clearFontCache(P){(P=(P||"").toLowerCase())?this.charWidthsCache[P]&&delete this.charWidthsCache[P]:this.charWidthsCache={}}limitDimsByArea(P){let{perfLimitSizeTotal:p}=K0,x=Math.sqrt(p*P);return[Math.floor(x),Math.floor(p/x)]}},nZ="6.6.1";function ch(){}var kx=Math.PI/2,j8=2*Math.PI,b9=Math.PI/180,tP=Object.freeze([1,0,0,1,0,0]),M9=16,Ix=0.4477152502,z0="center",G0="left",Dp="top",sZ="bottom",FP="right",fp="none",Y9=/\r?\n/,gV="moving",g5="scaling",yV="rotating",Q9="rotate",_V="skewing",GA="resizing",iV="modifyPoly",Vv="modifyPath",k5="changed",y5="scale",eP="scaleX",wp="scaleY",TH="skewX",jH="skewY",kP="fill",Zp="stroke",W5="modified",pH="json",SZ="svg",$0=new class{constructor(){this[pH]=new Map,this[SZ]=new Map}has(P){return this[pH].has(P)}getClass(P){let p=this[pH].get(P);if(!p)throw new B1("No class registered for ".concat(P));return p}setClass(P,p){p?this[pH].set(p,P):(this[pH].set(P.type,P),this[pH].set(P.type.toLowerCase(),P))}getSVGClass(P){return this[SZ].get(P)}setSVGClass(P,p){this[SZ].set(p!=null?p:P.type.toLowerCase(),P)}},T5=new class extends Array{remove(P){let p=this.indexOf(P);p>-1&&this.splice(p,1)}cancelAll(){let P=this.splice(0);return P.forEach((p)=>p.abort()),P}cancelByCanvas(P){if(!P)return[];let p=this.filter((x)=>{var h;return x.target===P||typeof x.target=="object"&&((h=x.target)===null||h===void 0?void 0:h.canvas)===P});return p.forEach((x)=>x.abort()),p}cancelByTarget(P){if(!P)return[];let p=this.filter((x)=>x.target===P);return p.forEach((x)=>x.abort()),p}};class mV{constructor(){K(this,"__eventListeners",{})}on(P,p){if(this.__eventListeners||(this.__eventListeners={}),typeof P=="object")return Object.entries(P).forEach((x)=>{let[h,X]=x;this.on(h,X)}),()=>this.off(P);if(p){let x=P;return this.__eventListeners[x]||(this.__eventListeners[x]=[]),this.__eventListeners[x].push(p),()=>this.off(x,p)}return()=>!1}once(P,p){if(typeof P=="object"){let x=[];return Object.entries(P).forEach((h)=>{let[X,H]=h;x.push(this.once(X,H))}),()=>x.forEach((h)=>h())}if(p){let x=this.on(P,function(){for(var h=arguments.length,X=new Array(h),H=0;H<h;H++)X[H]=arguments[H];p.call(this,...X),x()});return x}return()=>!1}_removeEventListener(P,p){if(this.__eventListeners[P])if(p){let x=this.__eventListeners[P],h=x.indexOf(p);h>-1&&x.splice(h,1)}else this.__eventListeners[P]=[]}off(P,p){if(this.__eventListeners)if(P===void 0)for(let x in this.__eventListeners)this._removeEventListener(x);else typeof P=="object"?Object.entries(P).forEach((x)=>{let[h,X]=x;this._removeEventListener(h,X)}):this._removeEventListener(P,p)}fire(P,p){var x;if(!this.__eventListeners)return;let h=(x=this.__eventListeners[P])===null||x===void 0?void 0:x.concat();if(h)for(let X=0;X<h.length;X++)h[X].call(this,p||{})}}var kh=(P,p)=>{let x=P.indexOf(p);return x!==-1&&P.splice(x,1),P},Z1=(P)=>{if(P===0)return 1;switch(Math.abs(P)/kx){case 1:case 3:return 0;case 2:return-1}return Math.cos(P)},$1=(P)=>{if(P===0)return 0;let p=P/kx,x=Math.sign(P);switch(p){case 1:return x;case 2:return 0;case 3:return-x}return Math.sin(P)};class O{constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof P=="object"?(this.x=P.x,this.y=P.y):(this.x=P,this.y=p)}add(P){return new O(this.x+P.x,this.y+P.y)}addEquals(P){return this.x+=P.x,this.y+=P.y,this}scalarAdd(P){return new O(this.x+P,this.y+P)}scalarAddEquals(P){return this.x+=P,this.y+=P,this}subtract(P){return new O(this.x-P.x,this.y-P.y)}subtractEquals(P){return this.x-=P.x,this.y-=P.y,this}scalarSubtract(P){return new O(this.x-P,this.y-P)}scalarSubtractEquals(P){return this.x-=P,this.y-=P,this}multiply(P){return new O(this.x*P.x,this.y*P.y)}scalarMultiply(P){return new O(this.x*P,this.y*P)}scalarMultiplyEquals(P){return this.x*=P,this.y*=P,this}divide(P){return new O(this.x/P.x,this.y/P.y)}scalarDivide(P){return new O(this.x/P,this.y/P)}scalarDivideEquals(P){return this.x/=P,this.y/=P,this}eq(P){return this.x===P.x&&this.y===P.y}lt(P){return this.x<P.x&&this.y<P.y}lte(P){return this.x<=P.x&&this.y<=P.y}gt(P){return this.x>P.x&&this.y>P.y}gte(P){return this.x>=P.x&&this.y>=P.y}lerp(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0.5;return p=Math.max(Math.min(1,p),0),new O(this.x+(P.x-this.x)*p,this.y+(P.y-this.y)*p)}distanceFrom(P){let p=this.x-P.x,x=this.y-P.y;return Math.sqrt(p*p+x*x)}midPointFrom(P){return this.lerp(P)}min(P){return new O(Math.min(this.x,P.x),Math.min(this.y,P.y))}max(P){return new O(Math.max(this.x,P.x),Math.max(this.y,P.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(P,p){return this.x=P,this.y=p,this}setX(P){return this.x=P,this}setY(P){return this.y=P,this}setFromPoint(P){return this.x=P.x,this.y=P.y,this}swap(P){let p=this.x,x=this.y;this.x=P.x,this.y=P.y,P.x=p,P.y=x}clone(){return new O(this.x,this.y)}rotate(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V9,x=$1(P),h=Z1(P),X=this.subtract(p);return new O(X.x*h-X.y*x,X.x*x+X.y*h).add(p)}transform(P){let p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new O(P[0]*this.x+P[2]*this.y+(p?0:P[4]),P[1]*this.x+P[3]*this.y+(p?0:P[5]))}}var V9=new O(0,0),z5=(P)=>!!P&&Array.isArray(P._objects);function uV(P){class p extends P{constructor(){super(...arguments),K(this,"_objects",[])}_onObjectAdded(x){}_onObjectRemoved(x){}_onStackOrderChanged(x){}add(){for(var x=arguments.length,h=new Array(x),X=0;X<x;X++)h[X]=arguments[X];let H=this._objects.push(...h);return h.forEach((A)=>this._onObjectAdded(A)),H}insertAt(x){for(var h=arguments.length,X=new Array(h>1?h-1:0),H=1;H<h;H++)X[H-1]=arguments[H];return this._objects.splice(x,0,...X),X.forEach((A)=>this._onObjectAdded(A)),this._objects.length}remove(){let x=this._objects,h=[];for(var X=arguments.length,H=new Array(X),A=0;A<X;A++)H[A]=arguments[A];return H.forEach((B)=>{let f=x.indexOf(B);f!==-1&&(x.splice(f,1),h.push(B),this._onObjectRemoved(B))}),h}forEachObject(x){this.getObjects().forEach((h,X,H)=>x(h,X,H))}getObjects(){for(var x=arguments.length,h=new Array(x),X=0;X<x;X++)h[X]=arguments[X];return h.length===0?[...this._objects]:this._objects.filter((H)=>H.isType(...h))}item(x){return this._objects[x]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(x,h){return!!this._objects.includes(x)||!!h&&this._objects.some((X)=>X instanceof p&&X.contains(x,!0))}complexity(){return this._objects.reduce((x,h)=>x+=h.complexity?h.complexity():0,0)}sendObjectToBack(x){return!(!x||x===this._objects[0])&&(kh(this._objects,x),this._objects.unshift(x),this._onStackOrderChanged(x),!0)}bringObjectToFront(x){return!(!x||x===this._objects[this._objects.length-1])&&(kh(this._objects,x),this._objects.push(x),this._onStackOrderChanged(x),!0)}sendObjectBackwards(x,h){if(!x)return!1;let X=this._objects.indexOf(x);if(X!==0){let H=this.findNewLowerIndex(x,X,h);return kh(this._objects,x),this._objects.splice(H,0,x),this._onStackOrderChanged(x),!0}return!1}bringObjectForward(x,h){if(!x)return!1;let X=this._objects.indexOf(x);if(X!==this._objects.length-1){let H=this.findNewUpperIndex(x,X,h);return kh(this._objects,x),this._objects.splice(H,0,x),this._onStackOrderChanged(x),!0}return!1}moveObjectTo(x,h){return x!==this._objects[h]&&(kh(this._objects,x),this._objects.splice(h,0,x),this._onStackOrderChanged(x),!0)}findNewLowerIndex(x,h,X){let H;if(X){H=h;for(let A=h-1;A>=0;--A)if(x.isOverlapping(this._objects[A])){H=A;break}}else H=h-1;return H}findNewUpperIndex(x,h,X){let H;if(X){H=h;for(let A=h+1;A<this._objects.length;++A)if(x.isOverlapping(this._objects[A])){H=A;break}}else H=h+1;return H}collectObjects(x){let{left:h,top:X,width:H,height:A}=x,{includeIntersecting:B=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=[],D=new O(h,X),Z=D.add(new O(H,A));for(let L=this._objects.length-1;L>=0;L--){let $=this._objects[L];$.selectable&&$.visible&&(B&&$.intersectsWithRect(D,Z)||$.isContainedWithinRect(D,Z)||B&&$.containsPoint(D)||B&&$.containsPoint(Z))&&f.push($)}return f}}return p}class q9 extends mV{_setOptions(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let p in P)this.set(p,P[p])}_setObject(P){for(let p in P)this._set(p,P[p])}set(P,p){return typeof P=="object"?this._setObject(P):this._set(P,p),this}_set(P,p){this[P]=p}toggle(P){let p=this.get(P);return typeof p=="boolean"&&this.set(P,!p),this}get(P){return this[P]}}function KA(P){return O5().requestAnimationFrame(P)}function oV(P){return O5().cancelAnimationFrame(P)}var qv=0,Wx=()=>qv++,rp=()=>{let P=WH().createElement("canvas");if(!P||P.getContext===void 0)throw new B1("Failed to create `canvas` element");return P},aV=()=>WH().createElement("img"),L1=(P)=>{let p=rp();return p.width=P.width,p.height=P.height,p},I9=(P,p,x)=>P.toDataURL("image/".concat(p),x),E9=(P,p,x)=>new Promise((h,X)=>{P.toBlob(h,"image/".concat(p),x)}),fP=(P)=>P*b9,Tx=(P)=>P/b9,rV=(P)=>P.every((p,x)=>p===tP[x]),iP=(P,p,x)=>new O(P).transform(p,x),zp=(P)=>{let p=1/(P[0]*P[3]-P[1]*P[2]),x=[p*P[3],-p*P[1],-p*P[2],p*P[0],0,0],{x:h,y:X}=new O(P[4],P[5]).transform(x,!0);return x[4]=-h,x[5]=-X,x},ZP=(P,p,x)=>[P[0]*p[0]+P[2]*p[1],P[1]*p[0]+P[3]*p[1],P[0]*p[2]+P[2]*p[3],P[1]*p[2]+P[3]*p[3],x?0:P[0]*p[4]+P[2]*p[5]+P[4],x?0:P[1]*p[4]+P[3]*p[5]+P[5]],_5=(P,p)=>P.reduceRight((x,h)=>h&&x?ZP(h,x,p):h||x,void 0)||tP.concat(),nV=(P)=>{let[p,x]=P;return Math.atan2(x,p)},EH=(P)=>{let p=nV(P),x=Math.pow(P[0],2)+Math.pow(P[1],2),h=Math.sqrt(x),X=(P[0]*P[3]-P[2]*P[1])/h,H=Math.atan2(P[0]*P[2]+P[1]*P[3],x);return{angle:Tx(p),scaleX:h,scaleY:X,skewX:Tx(H),skewY:0,translateX:P[4]||0,translateY:P[5]||0}},JH=function(P){return[1,0,0,1,P,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function dH(){let{angle:P=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:p=0,y:x=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=fP(P),X=Z1(h),H=$1(h);return[X,H,-H,X,p?p-(X*p-H*x):0,x?x-(H*p+X*x):0]}var i5=function(P){return[P,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:P,0,0]},sV=(P)=>Math.tan(fP(P)),z9=(P)=>[1,0,sV(P),1,0,0],w9=(P)=>[1,sV(P),0,1,0,0],OA=(P)=>{let{scaleX:p=1,scaleY:x=1,flipX:h=!1,flipY:X=!1,skewX:H=0,skewY:A=0}=P,B=i5(h?-p:p,X?-x:x);return H&&(B=ZP(B,z9(H),!0)),A&&(B=ZP(B,w9(A),!0)),B},tV=(P)=>{let{translateX:p=0,translateY:x=0,angle:h=0}=P,X=JH(p,x);h&&(X=ZP(X,dH({angle:h})));let H=OA(P);return rV(H)||(X=ZP(X,H)),X},RA=function(P){let{signal:p,crossOrigin:x=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(h,X){if(p&&p.aborted)return X(new F9("loadImage"));let H=aV(),A;p&&(A=function(f){H.src="",X(f)},p.addEventListener("abort",A,{once:!0}));let B=function(){H.onload=H.onerror=null,A&&(p==null||p.removeEventListener("abort",A)),h(H)};P?(H.onload=B,H.onerror=function(){A&&(p==null||p.removeEventListener("abort",A)),X(new B1("Error loading ".concat(H.src)))},x&&(H.crossOrigin=x),H.src=P):B()})},zH=function(P){let{signal:p,reviver:x=ch}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((h,X)=>{let H=[];p&&p.addEventListener("abort",X,{once:!0}),Promise.all(P.map((A)=>$0.getClass(A.type).fromObject(A,{signal:p}).then((B)=>(x(A,B),H.push(B),B)))).then(h).catch((A)=>{H.forEach((B)=>{B.dispose&&B.dispose()}),X(A)}).finally(()=>{p&&p.removeEventListener("abort",X)})})},gA=function(P){let{signal:p}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((x,h)=>{let X=[];p&&p.addEventListener("abort",h,{once:!0});let H=Object.values(P).map((B)=>B&&B.type&&$0.has(B.type)?zH([B],{signal:p}).then((f)=>{let[D]=f;return X.push(D),D}):B),A=Object.keys(P);Promise.all(H).then((B)=>B.reduce((f,D,Z)=>(f[A[Z]]=D,f),{})).then(x).catch((B)=>{X.forEach((f)=>{f.dispose&&f.dispose()}),h(B)}).finally(()=>{p&&p.removeEventListener("abort",h)})})},Gh=function(P){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((p,x)=>((x in P)&&(p[x]=P[x]),p),{})},k9=(P,p)=>Object.keys(P).reduce((x,h)=>(p(P[h],h,P)&&(x[h]=P[h]),x),{}),ZV={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},lZ=(P,p,x)=>(x<0&&(x+=1),x>1&&(x-=1),x<0.16666666666666666?P+6*(p-P)*x:x<0.5?p:x<0.6666666666666666?P+(p-P)*(0.6666666666666666-x)*6:P),$V=(P,p,x,h)=>{P/=255,p/=255,x/=255;let X=Math.max(P,p,x),H=Math.min(P,p,x),A,B,f=(X+H)/2;if(X===H)A=B=0;else{let D=X-H;switch(B=f>0.5?D/(2-X-H):D/(X+H),X){case P:A=(p-x)/D+(p<x?6:0);break;case p:A=(x-P)/D+2;break;case x:A=(P-p)/D+4}A/=6}return[Math.round(360*A),Math.round(100*B),Math.round(100*f),h]},LV=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(P)/(P.endsWith("%")?100:1)},M5=(P)=>Math.min(Math.round(P),255).toString(16).toUpperCase().padStart(2,"0"),CV=(P)=>{let[p,x,h,X=1]=P,H=Math.round(0.3*p+0.59*x+0.11*h);return[H,H,H,X]};class l0{constructor(P){if(K(this,"isUnrecognised",!1),P)if(P instanceof l0)this.setSource([...P._source]);else if(Array.isArray(P)){let[p,x,h,X=1]=P;this.setSource([p,x,h,X])}else this.setSource(this._tryParsingColor(P));else this.setSource([0,0,0,1])}_tryParsingColor(P){return(P=P.toLowerCase())in ZV&&(P=ZV[P]),P==="transparent"?[255,255,255,0]:l0.sourceFromHex(P)||l0.sourceFromRgb(P)||l0.sourceFromHsl(P)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(P){this._source=P}toRgb(){let[P,p,x]=this.getSource();return"rgb(".concat(P,",").concat(p,",").concat(x,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){let[P,p,x]=$V(...this.getSource());return"hsl(".concat(P,",").concat(p,"%,").concat(x,"%)")}toHsla(){let[P,p,x,h]=$V(...this.getSource());return"hsla(".concat(P,",").concat(p,"%,").concat(x,"%,").concat(h,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){let[P,p,x,h]=this.getSource();return"".concat(M5(P)).concat(M5(p)).concat(M5(x)).concat(M5(Math.round(255*h)))}getAlpha(){return this.getSource()[3]}setAlpha(P){return this._source[3]=P,this}toGrayscale(){return this.setSource(CV(this.getSource())),this}toBlackWhite(P){let[p,,,x]=CV(this.getSource()),h=p<(P||127)?0:255;return this.setSource([h,h,h,x]),this}overlayWith(P){P instanceof l0||(P=new l0(P));let p=this.getSource(),x=P.getSource(),[h,X,H]=p.map((A,B)=>Math.round(0.5*A+0.5*x[B]));return this.setSource([h,X,H,p[3]]),this}static fromRgb(P){return l0.fromRgba(P)}static fromRgba(P){return new l0(l0.sourceFromRgb(P))}static sourceFromRgb(P){let p=P.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(p){let[x,h,X]=p.slice(1,4).map((H)=>{let A=parseFloat(H);return H.endsWith("%")?Math.round(2.55*A):A});return[x,h,X,LV(p[4])]}}static fromHsl(P){return l0.fromHsla(P)}static fromHsla(P){return new l0(l0.sourceFromHsl(P))}static sourceFromHsl(P){let p=P.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!p)return;let x=(l0.parseAngletoDegrees(p[1])%360+360)%360/360,h=parseFloat(p[2])/100,X=parseFloat(p[3])/100,H,A,B;if(h===0)H=A=B=X;else{let f=X<=0.5?X*(h+1):X+h-X*h,D=2*X-f;H=lZ(D,f,x+0.3333333333333333),A=lZ(D,f,x),B=lZ(D,f,x-0.3333333333333333)}return[Math.round(255*H),Math.round(255*A),Math.round(255*B),LV(p[4])]}static fromHex(P){return new l0(l0.sourceFromHex(P))}static sourceFromHex(P){if(P.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){let p=P.slice(P.indexOf("#")+1),x;x=p.length<=4?p.split("").map((B)=>B+B):p.match(/.{2}/g);let[h,X,H,A=255]=x.map((B)=>parseInt(B,16));return[h,X,H,A/255]}}static parseAngletoDegrees(P){let p=P.toLowerCase(),x=parseFloat(p);return p.includes("rad")?Tx(x):p.includes("turn")?360*x:x}}var s0=(P,p)=>parseFloat(Number(P).toFixed(p)),vh=function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M9,x=/\D{0,2}$/.exec(P),h=parseFloat(P),X=K0.DPI;switch(x==null?void 0:x[0]){case"mm":return h*X/25.4;case"cm":return h*X/2.54;case"in":return h*X;case"pt":return h*X/72;case"pc":return h*X/72*12;case"em":return h*p;default:return h}},eV=(P)=>{let[p,x]=P.trim().split(" "),[h,X]=(H=p)&&H!==fp?[H.slice(1,4),H.slice(5,8)]:H===fp?[H,H]:["Mid","Mid"];var H;return{meetOrSlice:x||"meet",alignX:h,alignY:X}},SA=(P)=>"matrix("+P.map((p)=>s0(p,K0.NUM_FRACTION_DIGITS)).join(" ")+")",lA=function(P,p){let x,h,X=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(p)if(p.toLive)x="url(#SVGID_".concat(p.id,")");else{let H=new l0(p),A=H.getAlpha();x=H.toRgb(),A!==1&&(h=A.toString())}else x="none";return X?"".concat(P,": ").concat(x,"; ").concat(h?"".concat(P,"-opacity: ").concat(h,"; "):""):"".concat(P,'="').concat(x,'" ').concat(h?"".concat(P,'-opacity="').concat(h,'" '):"")},ap=(P)=>!!P&&P.toLive!==void 0,FV=(P)=>!!P&&typeof P.toObject=="function",bV=(P)=>!!P&&P.offsetX!==void 0&&("source"in P),Wh=(P)=>!!P&&("multiSelectionStacking"in P);function Pq(P){let p=P&&A1(P),x=0,h=0;if(!P||!p)return{left:x,top:h};let X=P,H=p.documentElement,A=p.body||{scrollLeft:0,scrollTop:0};for(;X&&(X.parentNode||X.host)&&(X=X.parentNode||X.host,X===p?(x=A.scrollLeft||H.scrollLeft||0,h=A.scrollTop||H.scrollTop||0):(x+=X.scrollLeft||0,h+=X.scrollTop||0),X.nodeType!==1||X.style.position!=="fixed"););return{left:x,top:h}}var A1=(P)=>P.ownerDocument||null,pq=(P)=>{var p;return((p=P.ownerDocument)===null||p===void 0?void 0:p.defaultView)||null},xq=function(P,p,x){let{width:h,height:X}=x,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;P.width=h,P.height=X,H>1&&(P.setAttribute("width",(h*H).toString()),P.setAttribute("height",(X*H).toString()),p.scale(H,H))},tZ=(P,p)=>{let{width:x,height:h}=p;x&&(P.style.width=typeof x=="number"?"".concat(x,"px"):x),h&&(P.style.height=typeof h=="number"?"".concat(h,"px"):h)};function MV(P){return P.onselectstart!==void 0&&(P.onselectstart=()=>!1),P.style.userSelect=fp,P}class W9{constructor(P){K(this,"_originalCanvasStyle",void 0),K(this,"lower",void 0);let p=this.createLowerCanvas(P);this.lower={el:p,ctx:p.getContext("2d")}}createLowerCanvas(P){let p=(x=P)&&x.getContext!==void 0?P:P&&WH().getElementById(P)||rp();var x;if(p.hasAttribute("data-fabric"))throw new B1("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=p.style.cssText,p.setAttribute("data-fabric","main"),p.classList.add("lower-canvas"),p}cleanupDOM(P){let{width:p,height:x}=P,{el:h}=this.lower;h.classList.remove("lower-canvas"),h.removeAttribute("data-fabric"),h.setAttribute("width","".concat(p)),h.setAttribute("height","".concat(x)),h.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(P,p){let{el:x,ctx:h}=this.lower;xq(x,h,P,p)}setCSSDimensions(P){tZ(this.lower.el,P)}calcOffset(){return function(P){var p;let x=P&&A1(P),h={left:0,top:0};if(!x)return h;let X=((p=pq(P))===null||p===void 0?void 0:p.getComputedStyle(P,null))||{};h.left+=parseInt(X.borderLeftWidth,10)||0,h.top+=parseInt(X.borderTopWidth,10)||0,h.left+=parseInt(X.paddingLeft,10)||0,h.top+=parseInt(X.paddingTop,10)||0;let H={left:0,top:0},A=x.documentElement;P.getBoundingClientRect!==void 0&&(H=P.getBoundingClientRect());let B=Pq(P);return{left:H.left+B.left-(A.clientLeft||0)+h.left,top:H.top+B.top-(A.clientTop||0)+h.top}}(this.lower.el)}dispose(){O1().dispose(this.lower.el),delete this.lower}}var Iv={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...tP]};class yA extends uV(q9){get lowerCanvasEl(){var P;return(P=this.elements.lower)===null||P===void 0?void 0:P.el}get contextContainer(){var P;return(P=this.elements.lower)===null||P===void 0?void 0:P.ctx}static getDefaults(){return yA.ownDefaults}constructor(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(p),this.initElements(P),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(P){this.elements=new W9(P)}add(){let P=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),P}insertAt(P){for(var p=arguments.length,x=new Array(p>1?p-1:0),h=1;h<p;h++)x[h-1]=arguments[h];let X=super.insertAt(P,...x);return x.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),X}remove(){let P=super.remove(...arguments);return P.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),P}_onObjectAdded(P){P.canvas&&P.canvas!==this&&(wx("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),P.canvas.remove(P)),P._set("canvas",this),P.setCoords(),this.fire("object:added",{target:P}),P.fire("added",{target:this})}_onObjectRemoved(P){P._set("canvas",void 0),this.fire("object:removed",{target:P}),P.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?OV():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(P,p){return this.setDimensions({width:P},p)}setHeight(P,p){return this.setDimensions({height:P},p)}_setDimensionsImpl(P){let{cssOnly:p=!1,backstoreOnly:x=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!p){let h=d({width:this.width,height:this.height},P);this.elements.setDimensions(h,this.getRetinaScaling()),this.hasLostContext=!0,this.width=h.width,this.height=h.height}x||this.elements.setCSSDimensions(P),this.calcOffset()}setDimensions(P,p){this._setDimensionsImpl(P,p),p&&p.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(P){this.viewportTransform=P,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(P,p){let x=P,h=[...this.viewportTransform],X=iP(P,zp(h));h[0]=p,h[3]=p;let H=iP(X,h);h[4]+=x.x-H.x,h[5]+=x.y-H.y,this.setViewportTransform(h)}setZoom(P){this.zoomToPoint(new O(0,0),P)}absolutePan(P){let p=[...this.viewportTransform];return p[4]=-P.x,p[5]=-P.y,this.setViewportTransform(p)}relativePan(P){return this.absolutePan(new O(-P.x-this.viewportTransform[4],-P.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(P){P.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=KA(()=>this.renderAndReset()))}calcViewportBoundaries(){let P=this.width,p=this.height,x=zp(this.viewportTransform),h=iP({x:0,y:0},x),X=iP({x:P,y:p},x),H=h.min(X),A=h.max(X);return this.vptCoords={tl:H,tr:new O(A.x,H.y),bl:new O(H.x,A.y),br:A}}cancelRequestedRender(){this.nextRenderHandle&&(oV(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(P){}renderCanvas(P,p){if(this.destroyed)return;let x=this.viewportTransform,h=this.clipPath;this.calcViewportBoundaries(),this.clearContext(P),P.imageSmoothingEnabled=this.imageSmoothingEnabled,P.patternQuality="best",this.fire("before:render",{ctx:P}),this._renderBackground(P),P.save(),P.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._renderObjects(P,p),P.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(P),h&&(h._set("canvas",this),h.shouldCache(),h._transformDone=!0,h.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(P,h)),this._renderOverlay(P),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(P),this.fire("after:render",{ctx:P}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(P,p){let x=this.viewportTransform;P.save(),P.transform(...x),P.globalCompositeOperation="destination-in",p.transform(P),P.scale(1/p.zoomX,1/p.zoomY),P.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),P.restore()}_renderObjects(P,p){for(let x=0,h=p.length;x<h;++x)p[x]&&p[x].render(P)}_renderBackgroundOrOverlay(P,p){let x=this["".concat(p,"Color")],h=this["".concat(p,"Image")],X=this.viewportTransform,H=this["".concat(p,"Vpt")];if(!x&&!h)return;let A=ap(x);if(x){if(P.save(),P.beginPath(),P.moveTo(0,0),P.lineTo(this.width,0),P.lineTo(this.width,this.height),P.lineTo(0,this.height),P.closePath(),P.fillStyle=A?x.toLive(P):x,H&&P.transform(...X),A){P.transform(1,0,0,1,x.offsetX||0,x.offsetY||0);let B=x.gradientTransform||x.patternTransform;B&&P.transform(...B)}P.fill(),P.restore()}if(h){P.save();let{skipOffscreen:B}=this;this.skipOffscreen=H,H&&P.transform(...X),h.render(P),this.skipOffscreen=B,P.restore()}}_renderBackground(P){this._renderBackgroundOrOverlay(P,"background")}_renderOverlay(P){this._renderBackgroundOrOverlay(P,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new O(this.width/2,this.height/2)}centerObjectH(P){return this._centerObject(P,new O(this.getCenterPoint().x,P.getCenterPoint().y))}centerObjectV(P){return this._centerObject(P,new O(P.getCenterPoint().x,this.getCenterPoint().y))}centerObject(P){return this._centerObject(P,this.getCenterPoint())}viewportCenterObject(P){return this._centerObject(P,this.getVpCenter())}viewportCenterObjectH(P){return this._centerObject(P,new O(this.getVpCenter().x,P.getCenterPoint().y))}viewportCenterObjectV(P){return this._centerObject(P,new O(P.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return iP(this.getCenterPoint(),zp(this.viewportTransform))}_centerObject(P,p){P.setXY(p,z0,z0),P.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(P){return this.toDatalessObject(P)}toObject(P){return this._toObjectMethod("toObject",P)}toJSON(){return this.toObject()}toDatalessObject(P){return this._toObjectMethod("toDatalessObject",P)}_toObjectMethod(P,p){let x=this.clipPath,h=x&&!x.excludeFromExport?this._toObject(x,P,p):null;return d(d(d({version:nZ},Gh(this,p)),{},{objects:this._objects.filter((X)=>!X.excludeFromExport).map((X)=>this._toObject(X,P,p))},this.__serializeBgOverlay(P,p)),h?{clipPath:h}:null)}_toObject(P,p,x){let h;this.includeDefaultValues||(h=P.includeDefaultValues,P.includeDefaultValues=!1);let X=P[p](x);return this.includeDefaultValues||(P.includeDefaultValues=!!h),X}__serializeBgOverlay(P,p){let x={},h=this.backgroundImage,X=this.overlayImage,H=this.backgroundColor,A=this.overlayColor;return ap(H)?H.excludeFromExport||(x.background=H.toObject(p)):H&&(x.background=H),ap(A)?A.excludeFromExport||(x.overlay=A.toObject(p)):A&&(x.overlay=A),h&&!h.excludeFromExport&&(x.backgroundImage=this._toObject(h,P,p)),X&&!X.excludeFromExport&&(x.overlayImage=this._toObject(X,P,p)),x}toSVG(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0;P.reviver=p;let x=[];return this._setSVGPreamble(x,P),this._setSVGHeader(x,P),this.clipPath&&x.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(x,"background"),this._setSVGBgOverlayImage(x,"backgroundImage",p),this._setSVGObjects(x,p),this.clipPath&&x.push(`</g>
`),this._setSVGBgOverlayColor(x,"overlay"),this._setSVGBgOverlayImage(x,"overlayImage",p),x.push("</svg>"),x.join("")}_setSVGPreamble(P,p){p.suppressPreamble||P.push('<?xml version="1.0" encoding="',p.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(P,p){let x=p.width||"".concat(this.width),h=p.height||"".concat(this.height),X=K0.NUM_FRACTION_DIGITS,H=p.viewBox,A;if(H)A='viewBox="'.concat(H.x," ").concat(H.y," ").concat(H.width," ").concat(H.height,'" ');else if(this.svgViewportTransformation){let B=this.viewportTransform;A='viewBox="'.concat(s0(-B[4]/B[0],X)," ").concat(s0(-B[5]/B[3],X)," ").concat(s0(this.width/B[0],X)," ").concat(s0(this.height/B[3],X),'" ')}else A='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');P.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',x,'" ','height="',h,'" ',A,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",nZ,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(p),`</defs>
`)}createSVGClipPathMarkup(P){let p=this.clipPath;return p?(p.clipPathId="CLIPPATH_".concat(Wx()),'<clipPath id="'.concat(p.clipPathId,`" >
`).concat(p.toClipPathSVG(P.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map((P)=>{let p=this["".concat(P,"Color")];if(ap(p)){let x=this["".concat(P,"Vpt")],h=this.viewportTransform,X={isType:()=>!1,width:this.width/(x?h[0]:1),height:this.height/(x?h[3]:1)};return p.toSVG(X,{additionalTransform:x?SA(h):""})}}).join("")}createSVGFontFacesMarkup(){let P=[],p={},x=K0.fontPaths;this._objects.forEach(function X(H){P.push(H),z5(H)&&H._objects.forEach(X)}),P.forEach((X)=>{if(!(H=X)||typeof H._renderText!="function")return;var H;let{styles:A,fontFamily:B}=X;!p[B]&&x[B]&&(p[B]=!0,A&&Object.values(A).forEach((f)=>{Object.values(f).forEach((D)=>{let{fontFamily:Z=""}=D;!p[Z]&&x[Z]&&(p[Z]=!0)})}))});let h=Object.keys(p).map((X)=>`		@font-face {
			font-family: '`.concat(X,`';
			src: url('`).concat(x[X],`');
		}
`)).join("");return h?`	<style type="text/css"><![CDATA[
`.concat(h,`]]></style>
`):""}_setSVGObjects(P,p){this.forEachObject((x)=>{x.excludeFromExport||this._setSVGObject(P,x,p)})}_setSVGObject(P,p,x){P.push(p.toSVG(x))}_setSVGBgOverlayImage(P,p,x){let h=this[p];h&&!h.excludeFromExport&&h.toSVG&&P.push(h.toSVG(x))}_setSVGBgOverlayColor(P,p){let x=this["".concat(p,"Color")];if(x)if(ap(x)){let h=x.repeat||"",X=this.width,H=this.height,A=this["".concat(p,"Vpt")]?SA(zp(this.viewportTransform)):"";P.push('<rect transform="'.concat(A," translate(").concat(X/2,",").concat(H/2,')" x="').concat(x.offsetX-X/2,'" y="').concat(x.offsetY-H/2,'" width="').concat(h!=="repeat-y"&&h!=="no-repeat"||!bV(x)?X:x.source.width,'" height="').concat(h!=="repeat-x"&&h!=="no-repeat"||!bV(x)?H:x.source.height,'" fill="url(#SVGID_').concat(x.id,`)"></rect>
`))}else P.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',x,'"',`></rect>
`)}loadFromJSON(P,p){let{signal:x}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!P)return Promise.reject(new B1("`json` is undefined"));let h=typeof P=="string"?JSON.parse(P):P,{objects:X=[],backgroundImage:H,background:A,overlayImage:B,overlay:f,clipPath:D}=h,Z=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([zH(X,{reviver:p,signal:x}),gA({backgroundImage:H,backgroundColor:A,overlayImage:B,overlayColor:f,clipPath:D},{signal:x})]).then((L)=>{let[$,C]=L;return this.clear(),this.add(...$),this.set(h),this.set(C),this.renderOnAddRemove=Z,this})}clone(P){let p=this.toObject(P);return this.cloneWithoutData().loadFromJSON(p)}cloneWithoutData(){let P=L1(this);return new this.constructor(P)}toDataURL(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:p="png",quality:x=1,multiplier:h=1,enableRetinaScaling:X=!1}=P,H=h*(X?this.getRetinaScaling():1);return I9(this.toCanvasElement(H,P),p,x)}toBlob(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:p="png",quality:x=1,multiplier:h=1,enableRetinaScaling:X=!1}=P,H=h*(X?this.getRetinaScaling():1);return E9(this.toCanvasElement(H,P),p,x)}toCanvasElement(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:p,height:x,left:h,top:X,filter:H}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=(p||this.width)*P,B=(x||this.height)*P,f=this.getZoom(),D=this.width,Z=this.height,L=this.skipControlsDrawing,$=f*P,C=this.viewportTransform,Y=[$,0,0,$,(C[4]-(h||0))*P,(C[5]-(X||0))*P],V=this.enableRetinaScaling,q=L1({width:A,height:B}),b=H?this._objects.filter((F)=>H(F)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=Y,this.width=A,this.height=B,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(q.getContext("2d"),b),this.viewportTransform=C,this.width=D,this.height=Z,this.calcViewportBoundaries(),this.enableRetinaScaling=V,this.skipControlsDrawing=L,q}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),T5.cancelByCanvas(this),this.disposed=!0,new Promise((P,p)=>{let x=()=>{this.destroy(),P(!0)};x.kill=p,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?P(!1):this.nextRenderHandle?this.__cleanupTask=x:x()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((P)=>P.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}K(yA,"ownDefaults",Iv);var Ev=["touchstart","touchmove","touchend"],hq=(P)=>{let p=Pq(P.target),x=function(h){let X=h.changedTouches;return X&&X[0]?X[0]:h}(P);return new O(x.clientX+p.left,x.clientY+p.top)},j5=(P)=>Ev.includes(P.type)||P.pointerType==="touch",eZ=(P)=>{P.preventDefault(),P.stopPropagation()},N1=(P)=>{let p=0,x=0,h=0,X=0;for(let H=0,A=P.length;H<A;H++){let{x:B,y:f}=P[H];(B>h||!H)&&(h=B),(B<p||!H)&&(p=B),(f>X||!H)&&(X=f),(f<x||!H)&&(x=f)}return{left:p,top:x,width:h-p,height:X-x}},zv=["translateX","translateY","scaleX","scaleY"],Xq=(P,p)=>wH(P,ZP(p,P.calcOwnMatrix())),wH=(P,p)=>{let x=EH(p),{translateX:h,translateY:X,scaleX:H,scaleY:A}=x,B=t0(x,zv),f=new O(h,X);P.flipX=!1,P.flipY=!1,Object.assign(P,B),P.set({scaleX:H,scaleY:A}),P.setPositionByOrigin(f,z0,z0)},Hq=(P)=>{P.scaleX=1,P.scaleY=1,P.skewX=0,P.skewY=0,P.flipX=!1,P.flipY=!1,P.rotate(0)},T9=(P)=>({scaleX:P.scaleX,scaleY:P.scaleY,skewX:P.skewX,skewY:P.skewY,angle:P.angle,left:P.left,flipX:P.flipX,flipY:P.flipY,top:P.top}),m5=(P,p,x)=>{let h=P/2,X=p/2,H=[new O(-h,-X),new O(h,-X),new O(-h,X),new O(h,X)].map((B)=>B.transform(x)),A=N1(H);return new O(A.width,A.height)},_A=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tP;return ZP(zp(arguments.length>1&&arguments[1]!==void 0?arguments[1]:tP),P)},k8=function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tP,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tP;return P.transform(_A(p,x))},Aq=function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tP,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tP;return P.transform(_A(p,x),!0)},P9=(P,p,x)=>{let h=_A(p,x);return wH(P,ZP(h,P.calcOwnMatrix())),h},j9=(P,p)=>{var x;let{transform:{target:h}}=p;(x=h.canvas)===null||x===void 0||x.fire("object:".concat(P),d(d({},p),{},{target:h})),h.fire(P,p)},wv={left:-0.5,top:-0.5,center:0,bottom:0.5,right:0.5},VP=(P)=>typeof P=="string"?wv[P]:P-0.5,J5="not-allowed";function Bq(P){return VP(P.originX)===VP(z0)&&VP(P.originY)===VP(z0)}function YV(P){return 0.5-VP(P)}var f1=(P,p)=>P[p],J9=(P,p,x,h)=>({e:P,transform:p,pointer:new O(x,h)});function Dq(P,p){let x=P.getTotalAngle()+Tx(Math.atan2(p.y,p.x))+360;return Math.round(x%360/45)}function u5(P,p,x,h,X){var H;let{target:A,corner:B}=P,f=A.controls[B],D=((H=A.canvas)===null||H===void 0?void 0:H.getZoom())||1,Z=A.padding/D,L=function($,C,Y,V){let q=$.getRelativeCenterPoint(),b=Y!==void 0&&V!==void 0?$.translateToGivenOrigin(q,z0,z0,Y,V):new O($.left,$.top);return($.angle?C.rotate(-fP($.angle),q):C).subtract(b)}(A,new O(h,X),p,x);return L.x>=Z&&(L.x-=Z),L.x<=-Z&&(L.x+=Z),L.y>=Z&&(L.y-=Z),L.y<=Z&&(L.y+=Z),L.x-=f.offsetX,L.y-=f.offsetY,L}var fq=(P,p,x,h)=>{let{target:X,offsetX:H,offsetY:A}=p,B=x-H,f=h-A,D=!f1(X,"lockMovementX")&&X.left!==B,Z=!f1(X,"lockMovementY")&&X.top!==f;return D&&X.set(G0,B),Z&&X.set(Dp,f),(D||Z)&&j9(gV,J9(P,p,x,h)),D||Z};class d9{getSvgStyles(P){let p=this.fillRule?this.fillRule:"nonzero",x=this.strokeWidth?this.strokeWidth:"0",h=this.strokeDashArray?this.strokeDashArray.join(" "):fp,X=this.strokeDashOffset?this.strokeDashOffset:"0",H=this.strokeLineCap?this.strokeLineCap:"butt",A=this.strokeLineJoin?this.strokeLineJoin:"miter",B=this.strokeMiterLimit?this.strokeMiterLimit:"4",f=this.opacity!==void 0?this.opacity:"1",D=this.visible?"":" visibility: hidden;",Z=P?"":this.getSvgFilter(),L=lA(kP,this.fill);return[lA(Zp,this.stroke),"stroke-width: ",x,"; ","stroke-dasharray: ",h,"; ","stroke-linecap: ",H,"; ","stroke-dashoffset: ",X,"; ","stroke-linejoin: ",A,"; ","stroke-miterlimit: ",B,"; ",L,"fill-rule: ",p,"; ","opacity: ",f,";",Z,D].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x=P?this.calcTransformMatrix():this.calcOwnMatrix(),h='transform="'.concat(SA(x));return"".concat(h).concat(p,'" ')}_toSVG(P){return[""]}toSVG(P){return this._createBaseSVGMarkup(this._toSVG(P),{reviver:P})}toClipPathSVG(P){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(P),{reviver:P})}_createBaseClipPathSVGMarkup(P){let{reviver:p,additionalTransform:x=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=[this.getSvgTransform(!0,x),this.getSvgCommons()].join(""),X=P.indexOf("COMMON_PARTS");return P[X]=h,p?p(P.join("")):P.join("")}_createBaseSVGMarkup(P){let{noStyle:p,reviver:x,withShadow:h,additionalTransform:X}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=p?"":'style="'.concat(this.getSvgStyles(),'" '),A=h?'style="'.concat(this.getSvgFilter(),'" '):"",B=this.clipPath,f=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",D=B&&B.absolutePositioned,Z=this.stroke,L=this.fill,$=this.shadow,C=[],Y=P.indexOf("COMMON_PARTS"),V;B&&(B.clipPathId="CLIPPATH_".concat(Wx()),V='<clipPath id="'.concat(B.clipPathId,`" >
`).concat(B.toClipPathSVG(x),`</clipPath>
`)),D&&C.push("<g ",A,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),D?"":A+this.getSvgCommons(),` >
`);let q=[H,f,p?"":this.addPaintOrder()," ",X?'transform="'.concat(X,'" '):""].join("");return P[Y]=q,ap(L)&&C.push(L.toSVG(this)),ap(Z)&&C.push(Z.toSVG(this)),$&&C.push($.toSVG(this)),B&&C.push(V),C.push(P.join("")),C.push(`</g>
`),D&&C.push(`</g>
`),x?x(C.join("")):C.join("")}addPaintOrder(){return this.paintFirst!==kP?' paint-order="'.concat(this.paintFirst,'" '):""}}function o5(P){return new RegExp("^("+P.join("|")+")\\b","i")}var QV,D1=String.raw(QV||(QV=jx(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"])));var kv=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+D1+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+D1+"))?\\s+(.*)"),Wv={cx:G0,x:G0,r:"radius",cy:Dp,y:Dp,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},NZ="font-size",OZ="clip-path",vN=o5(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),UN=o5(["symbol","image","marker","pattern","view","svg"]),VV=o5(["symbol","g","a","svg","clipPath","defs"]),GN=new RegExp("^\\s*("+D1+"+)\\s*,?\\s*("+D1+"+)\\s*,?\\s*("+D1+"+)\\s*,?\\s*("+D1+"+)\\s*$"),Tv=new O(1,0),Zq=new O,K9=(P,p)=>P.rotate(p),d5=(P,p)=>new O(p).subtract(P),K5=(P)=>P.distanceFrom(Zq),R5=(P,p)=>Math.atan2(qH(P,p),Lq(P,p)),$q=(P)=>R5(Tv,P),a5=(P)=>P.eq(Zq)?P:P.scalarDivide(K5(P)),R9=function(P){let p=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return a5(new O(-P.y,P.x).scalarMultiply(p?1:-1))},qH=(P,p)=>P.x*p.y-P.y*p.x,Lq=(P,p)=>P.x*p.x+P.y*p.y,p9=(P,p,x)=>{if(P.eq(p)||P.eq(x))return!0;let h=qH(p,x),X=qH(p,P),H=qH(x,P);return h>=0?X>=0&&H<=0:!(X<=0&&H>=0)},qV="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",IV=new RegExp("(?:\\s|^)"+qV+qV+"("+D1+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class W8{constructor(P){let p=typeof P=="string"?W8.parseShadow(P):P;Object.assign(this,W8.ownDefaults,p),this.id=Wx()}static parseShadow(P){let p=P.trim(),[,x=0,h=0,X=0]=(IV.exec(p)||[]).map((H)=>parseFloat(H)||0);return{color:(p.replace(IV,"")||"rgb(0,0,0)").trim(),offsetX:x,offsetY:h,blur:X}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(P){let p=K9(new O(this.offsetX,this.offsetY),fP(-P.angle)),x=new l0(this.color),h=40,X=40;return P.width&&P.height&&(h=100*s0((Math.abs(p.x)+this.blur)/P.width,K0.NUM_FRACTION_DIGITS)+20,X=100*s0((Math.abs(p.y)+this.blur)/P.height,K0.NUM_FRACTION_DIGITS)+20),P.flipX&&(p.x*=-1),P.flipY&&(p.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(X,'%" height="').concat(100+2*X,'%" x="-').concat(h,'%" width="').concat(100+2*h,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(s0(this.blur?this.blur/2:0,K0.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(s0(p.x,K0.NUM_FRACTION_DIGITS),'" dy="').concat(s0(p.y,K0.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(x.toRgb(),'" flood-opacity="').concat(x.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){let P={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},p=W8.ownDefaults;return this.includeDefaultValues?P:k9(P,(x,h)=>x!==p[h])}static async fromObject(P){return new this(P)}}K(W8,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),K(W8,"type","shadow"),$0.setClass(W8,"shadow");var Uh=(P,p,x)=>Math.max(P,Math.min(p,x)),jv=[Dp,G0,eP,wp,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",TH,jH],J8=[kP,Zp,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],Jv={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:G0,originY:Dp,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:kP,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},gZ=(P,p,x,h)=>(P<Math.abs(p)?(P=p,h=x/4):h=p===0&&P===0?x/j8*Math.asin(1):x/j8*Math.asin(p/P),{a:P,c:p,p:x,s:h}),EV=(P,p,x,h,X)=>P*Math.pow(2,10*(h-=1))*Math.sin((h*X-p)*j8/x),Cq=(P,p,x,h)=>-x*Math.cos(P/h*kx)+x+p,x9=(P,p,x,h)=>(P/=h)<0.36363636363636365?x*(7.5625*P*P)+p:P<0.7272727272727273?x*(7.5625*(P-=0.5454545454545454)*P+0.75)+p:P<0.9090909090909091?x*(7.5625*(P-=0.8181818181818182)*P+0.9375)+p:x*(7.5625*(P-=0.9545454545454546)*P+0.984375)+p,zV=(P,p,x,h)=>x-x9(h-P,0,x,h)+p,dv=Object.freeze({__proto__:null,defaultEasing:Cq,easeInBack:function(P,p,x,h){let X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return x*(P/=h)*P*((X+1)*P-X)+p},easeInBounce:zV,easeInCirc:(P,p,x,h)=>-x*(Math.sqrt(1-(P/=h)*P)-1)+p,easeInCubic:(P,p,x,h)=>x*(P/h)**3+p,easeInElastic:(P,p,x,h)=>{let X=x,H=0;if(P===0)return p;if((P/=h)===1)return p+x;H||(H=0.3*h);let{a:A,s:B,p:f}=gZ(X,x,H,1.70158);return-EV(A,B,f,P,h)+p},easeInExpo:(P,p,x,h)=>P===0?p:x*2**(10*(P/h-1))+p,easeInOutBack:function(P,p,x,h){let X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(P/=h/2)<1?x/2*(P*P*((1+(X*=1.525))*P-X))+p:x/2*((P-=2)*P*((1+(X*=1.525))*P+X)+2)+p},easeInOutBounce:(P,p,x,h)=>P<h/2?0.5*zV(2*P,0,x,h)+p:0.5*x9(2*P-h,0,x,h)+0.5*x+p,easeInOutCirc:(P,p,x,h)=>(P/=h/2)<1?-x/2*(Math.sqrt(1-P**2)-1)+p:x/2*(Math.sqrt(1-(P-=2)*P)+1)+p,easeInOutCubic:(P,p,x,h)=>(P/=h/2)<1?x/2*P**3+p:x/2*((P-2)**3+2)+p,easeInOutElastic:(P,p,x,h)=>{let X=x,H=0;if(P===0)return p;if((P/=h/2)===2)return p+x;H||(H=h*0.44999999999999996);let{a:A,s:B,p:f,c:D}=gZ(X,x,H,1.70158);return P<1?-0.5*EV(A,B,f,P,h)+p:A*Math.pow(2,-10*(P-=1))*Math.sin((P*h-B)*j8/f)*0.5+D+p},easeInOutExpo:(P,p,x,h)=>P===0?p:P===h?p+x:(P/=h/2)<1?x/2*2**(10*(P-1))+p:x/2*-(2**(-10*--P)+2)+p,easeInOutQuad:(P,p,x,h)=>(P/=h/2)<1?x/2*P**2+p:-x/2*(--P*(P-2)-1)+p,easeInOutQuart:(P,p,x,h)=>(P/=h/2)<1?x/2*P**4+p:-x/2*((P-=2)*P**3-2)+p,easeInOutQuint:(P,p,x,h)=>(P/=h/2)<1?x/2*P**5+p:x/2*((P-2)**5+2)+p,easeInOutSine:(P,p,x,h)=>-x/2*(Math.cos(Math.PI*P/h)-1)+p,easeInQuad:(P,p,x,h)=>x*(P/=h)*P+p,easeInQuart:(P,p,x,h)=>x*(P/=h)*P**3+p,easeInQuint:(P,p,x,h)=>x*(P/h)**5+p,easeInSine:(P,p,x,h)=>-x*Math.cos(P/h*kx)+x+p,easeOutBack:function(P,p,x,h){let X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return x*((P=P/h-1)*P*((X+1)*P+X)+1)+p},easeOutBounce:x9,easeOutCirc:(P,p,x,h)=>x*Math.sqrt(1-(P=P/h-1)*P)+p,easeOutCubic:(P,p,x,h)=>x*((P/h-1)**3+1)+p,easeOutElastic:(P,p,x,h)=>{let X=x,H=0;if(P===0)return p;if((P/=h)===1)return p+x;H||(H=0.3*h);let{a:A,s:B,p:f,c:D}=gZ(X,x,H,1.70158);return A*2**(-10*P)*Math.sin((P*h-B)*j8/f)+D+p},easeOutExpo:(P,p,x,h)=>P===h?p+x:x*-(2**(-10*P/h)+1)+p,easeOutQuad:(P,p,x,h)=>-x*(P/=h)*(P-2)+p,easeOutQuart:(P,p,x,h)=>-x*((P=P/h-1)*P**3-1)+p,easeOutQuint:(P,p,x,h)=>x*((P/h-1)**5+1)+p,easeOutSine:(P,p,x,h)=>x*Math.sin(P/h*kx)+p}),Kv=()=>!1;class r5{constructor(P){let{startValue:p,byValue:x,duration:h=500,delay:X=0,easing:H=Cq,onStart:A=ch,onChange:B=ch,onComplete:f=ch,abort:D=Kv,target:Z}=P;K(this,"_state","pending"),K(this,"durationProgress",0),K(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=h,this.delay=X,this.easing=H,this._onStart=A,this._onChange=B,this._onComplete=f,this._abort=D,this.target=Z,this.startValue=p,this.byValue=x,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){let P=(p)=>{this._state==="pending"&&(this.startTime=p||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>KA(P),this.delay):KA(P)}tick(P){let p=(P||+new Date)-this.startTime,x=Math.min(p,this.duration);this.durationProgress=x/this.duration;let{value:h,valueProgress:X}=this.calculate(x);this.value=Object.freeze(h),this.valueProgress=X,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):p>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),KA(this.tick)))}register(){T5.push(this)}unregister(){T5.remove(this)}abort(){this._state="aborted",this.unregister()}}var Rv=["startValue","endValue"];class Fq extends r5{constructor(P){let{startValue:p=0,endValue:x=100}=P;super(d(d({},t0(P,Rv)),{},{startValue:p,byValue:x-p}))}calculate(P){let p=this.easing(P,this.startValue,this.byValue,this.duration);return{value:p,valueProgress:Math.abs((p-this.startValue)/this.byValue)}}}var cv=["startValue","endValue"];class bq extends r5{constructor(P){let{startValue:p=[0],endValue:x=[100]}=P;super(d(d({},t0(P,cv)),{},{startValue:p,byValue:x.map((h,X)=>h-p[X])}))}calculate(P){let p=this.startValue.map((x,h)=>this.easing(P,x,this.byValue[h],this.duration,h));return{value:p,valueProgress:Math.abs((p[0]-this.startValue[0])/this.byValue[0])}}}var vv=["startValue","endValue","easing","onChange","onComplete","abort"],Uv=(P,p,x,h)=>p+x*(1-Math.cos(P/h*kx)),yZ=(P)=>P&&((p,x,h)=>P(new l0(p).toRgba(),x,h));class Mq extends r5{constructor(P){let{startValue:p,endValue:x,easing:h=Uv,onChange:X,onComplete:H,abort:A}=P,B=t0(P,vv),f=new l0(p).getSource(),D=new l0(x).getSource();super(d(d({},B),{},{startValue:f,byValue:D.map((Z,L)=>Z-f[L]),easing:h,onChange:yZ(X),onComplete:yZ(H),abort:yZ(A)}))}calculate(P){let[p,x,h,X]=this.startValue.map((A,B)=>this.easing(P,A,this.byValue[B],this.duration,B)),H=[...[p,x,h].map(Math.round),Uh(0,X,1)];return{value:H,valueProgress:H.map((A,B)=>this.byValue[B]!==0?Math.abs((A-this.startValue[B])/this.byValue[B]):0).find((A)=>A!==0)||0}}}function c9(P){let p=((x)=>Array.isArray(x.startValue)||Array.isArray(x.endValue))(P)?new bq(P):new Fq(P);return p.start(),p}function Yq(P){let p=new Mq(P);return p.start(),p}class HP{constructor(P){this.status=P,this.points=[]}includes(P){return this.points.some((p)=>p.eq(P))}append(){for(var P=arguments.length,p=new Array(P),x=0;x<P;x++)p[x]=arguments[x];return this.points=this.points.concat(p.filter((h)=>!this.includes(h))),this}static isPointContained(P,p,x){let h=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(p.eq(x))return P.eq(p);if(p.x===x.x)return P.x===p.x&&(h||P.y>=Math.min(p.y,x.y)&&P.y<=Math.max(p.y,x.y));if(p.y===x.y)return P.y===p.y&&(h||P.x>=Math.min(p.x,x.x)&&P.x<=Math.max(p.x,x.x));{let X=d5(p,x),H=d5(p,P).divide(X);return h?Math.abs(H.x)===Math.abs(H.y):H.x===H.y&&H.x>=0&&H.x<=1}}static isPointInPolygon(P,p){let x=new O(P).setX(Math.min(P.x-1,...p.map((X)=>X.x))),h=0;for(let X=0;X<p.length;X++){let H=this.intersectSegmentSegment(p[X],p[(X+1)%p.length],P,x);if(H.includes(P))return!0;h+=Number(H.status==="Intersection")}return h%2==1}static intersectLineLine(P,p,x,h){let X=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],H=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],A=p.x-P.x,B=p.y-P.y,f=h.x-x.x,D=h.y-x.y,Z=P.x-x.x,L=P.y-x.y,$=f*L-D*Z,C=A*L-B*Z,Y=D*A-f*B;if(Y!==0){let V=$/Y,q=C/Y;return(X||0<=V&&V<=1)&&(H||0<=q&&q<=1)?new HP("Intersection").append(new O(P.x+V*A,P.y+V*B)):new HP}if($===0||C===0){let V=X||H||HP.isPointContained(P,x,h)||HP.isPointContained(p,x,h)||HP.isPointContained(x,P,p)||HP.isPointContained(h,P,p);return new HP(V?"Coincident":void 0)}return new HP("Parallel")}static intersectSegmentLine(P,p,x,h){return HP.intersectLineLine(P,p,x,h,!1,!0)}static intersectSegmentSegment(P,p,x,h){return HP.intersectLineLine(P,p,x,h,!1,!1)}static intersectLinePolygon(P,p,x){let h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],X=new HP,H=x.length;for(let A,B,f,D=0;D<H;D++){if(A=x[D],B=x[(D+1)%H],f=HP.intersectLineLine(P,p,A,B,h,!1),f.status==="Coincident")return f;X.append(...f.points)}return X.points.length>0&&(X.status="Intersection"),X}static intersectSegmentPolygon(P,p,x){return HP.intersectLinePolygon(P,p,x,!1)}static intersectPolygonPolygon(P,p){let x=new HP,h=P.length,X=[];for(let H=0;H<h;H++){let A=P[H],B=P[(H+1)%h],f=HP.intersectSegmentPolygon(A,B,p);f.status==="Coincident"?(X.push(f),x.append(A,B)):x.append(...f.points)}return X.length>0&&X.length===P.length?new HP("Coincident"):(x.points.length>0&&(x.status="Intersection"),x)}static intersectPolygonRectangle(P,p,x){let h=p.min(x),X=p.max(x),H=new O(X.x,h.y),A=new O(h.x,X.y);return HP.intersectPolygonPolygon(P,[h,H,X,A])}}class Qq extends q9{getX(){return this.getXY().x}setX(P){this.setXY(this.getXY().setX(P))}getY(){return this.getXY().y}setY(P){this.setXY(this.getXY().setY(P))}getRelativeX(){return this.left}setRelativeX(P){this.left=P}getRelativeY(){return this.top}setRelativeY(P){this.top=P}getXY(){let P=this.getRelativeXY();return this.group?iP(P,this.group.calcTransformMatrix()):P}setXY(P,p,x){this.group&&(P=iP(P,zp(this.group.calcTransformMatrix()))),this.setRelativeXY(P,p,x)}getRelativeXY(){return new O(this.left,this.top)}setRelativeXY(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(P,p,x)}isStrokeAccountedForInDimensions(){return!1}getCoords(){let{tl:P,tr:p,br:x,bl:h}=this.aCoords||(this.aCoords=this.calcACoords()),X=[P,p,x,h];if(this.group){let H=this.group.calcTransformMatrix();return X.map((A)=>iP(A,H))}return X}intersectsWithRect(P,p){return HP.intersectPolygonRectangle(this.getCoords(),P,p).status==="Intersection"}intersectsWithObject(P){let p=HP.intersectPolygonPolygon(this.getCoords(),P.getCoords());return p.status==="Intersection"||p.status==="Coincident"||P.isContainedWithinObject(this)||this.isContainedWithinObject(P)}isContainedWithinObject(P){return this.getCoords().every((p)=>P.containsPoint(p))}isContainedWithinRect(P,p){let{left:x,top:h,width:X,height:H}=this.getBoundingRect();return x>=P.x&&x+X<=p.x&&h>=P.y&&h+H<=p.y}isOverlapping(P){return this.intersectsWithObject(P)||this.isContainedWithinObject(P)||P.isContainedWithinObject(this)}containsPoint(P){return HP.isPointInPolygon(P,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;let{tl:P,br:p}=this.canvas.vptCoords;return!!this.getCoords().some((x)=>x.x<=p.x&&x.x>=P.x&&x.y<=p.y&&x.y>=P.y)||(!!this.intersectsWithRect(P,p)||this.containsPoint(P.midPointFrom(p)))}isPartiallyOnScreen(){if(!this.canvas)return!1;let{tl:P,br:p}=this.canvas.vptCoords;if(this.intersectsWithRect(P,p))return!0;return this.getCoords().every((x)=>(x.x>=p.x||x.x<=P.x)&&(x.y>=p.y||x.y<=P.y))&&this.containsPoint(P.midPointFrom(p))}getBoundingRect(){return N1(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(P){this._set(eP,P),this._set(wp,P),this.setCoords()}scaleToWidth(P){let p=this.getBoundingRect().width/this.getScaledWidth();return this.scale(P/this.width/p)}scaleToHeight(P){let p=this.getBoundingRect().height/this.getScaledHeight();return this.scale(P/this.height/p)}getCanvasRetinaScaling(){var P;return((P=this.canvas)===null||P===void 0?void 0:P.getRetinaScaling())||1}getTotalAngle(){return this.group?Tx(nV(this.calcTransformMatrix())):this.angle}getViewportTransform(){var P;return((P=this.canvas)===null||P===void 0?void 0:P.viewportTransform)||tP.concat()}calcACoords(){let P=dH({angle:this.angle}),{x:p,y:x}=this.getRelativeCenterPoint(),h=JH(p,x),X=ZP(h,P),H=this._getTransformedDimensions(),A=H.x/2,B=H.y/2;return{tl:iP({x:-A,y:-B},X),tr:iP({x:A,y:-B},X),bl:iP({x:-A,y:B},X),br:iP({x:A,y:B},X)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let P=arguments.length>0&&arguments[0]!==void 0&&arguments[0],p=[];return!P&&this.group&&(p=this.group.transformMatrixKey(P)),p.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,VP(this.originX),VP(this.originY)),p}calcTransformMatrix(){let P=arguments.length>0&&arguments[0]!==void 0&&arguments[0],p=this.calcOwnMatrix();if(P||!this.group)return p;let x=this.transformMatrixKey(P),h=this.matrixCache;return h&&h.key.every((X,H)=>X===x[H])?h.value:(this.group&&(p=ZP(this.group.calcTransformMatrix(!1),p)),this.matrixCache={key:x,value:p},p)}calcOwnMatrix(){let P=this.transformMatrixKey(!0),p=this.ownMatrixCache;if(p&&p.key===P)return p.value;let x=this.getRelativeCenterPoint(),h={angle:this.angle,translateX:x.x,translateY:x.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},X=tV(h);return this.ownMatrixCache={key:P,value:X},X}_getNonTransformedDimensions(){return new O(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(P){return this._getTransformedDimensions(P).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=d({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},P),x=p.strokeWidth,h=x,X=0;this.strokeUniform&&(h=0,X=x);let H=p.width+h,A=p.height+h,B;return B=p.skewX===0&&p.skewY===0?new O(H*p.scaleX,A*p.scaleY):m5(H,A,OA(p)),B.scalarAdd(X)}translateToGivenOrigin(P,p,x,h,X){let{x:H,y:A}=P,B=VP(h)-VP(p),f=VP(X)-VP(x);if(B||f){let D=this._getTransformedDimensions();H+=B*D.x,A+=f*D.y}return new O(H,A)}translateToCenterPoint(P,p,x){if(p===z0&&x===z0)return P;let h=this.translateToGivenOrigin(P,p,x,z0,z0);return this.angle?h.rotate(fP(this.angle),P):h}translateToOriginPoint(P,p,x){let h=this.translateToGivenOrigin(P,z0,z0,p,x);return this.angle?h.rotate(fP(this.angle),P):h}getCenterPoint(){let P=this.getRelativeCenterPoint();return this.group?iP(P,this.group.calcTransformMatrix()):P}getRelativeCenterPoint(){return this.translateToCenterPoint(new O(this.left,this.top),this.originX,this.originY)}getPointByOrigin(P,p){return this.translateToOriginPoint(this.getRelativeCenterPoint(),P,p)}setPositionByOrigin(P,p,x){let h=this.translateToCenterPoint(P,p,x),X=this.translateToOriginPoint(h,this.originX,this.originY);this.set({left:X.x,top:X.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),G0,Dp)}}var Gv=["type"],Sv=["extraParam"],q8=class P extends Qq{static getDefaults(){return P.ownDefaults}get type(){let p=this.constructor.type;return p==="FabricObject"?"object":p.toLowerCase()}set type(p){wx("warn","Setting type has no effect",p)}constructor(p){super(),K(this,"_cacheContext",null),Object.assign(this,P.ownDefaults),this.setOptions(p)}_createCacheCanvas(){this._cacheCanvas=rp(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(p){let{width:x,height:h}=p,X=K0.maxCacheSideLimit,H=K0.minCacheSideLimit;if(x<=X&&h<=X&&x*h<=K0.perfLimitSizeTotal)return x<H&&(p.width=H),h<H&&(p.height=H),p;let A=x/h,[B,f]=dA.limitDimsByArea(A),D=Uh(H,B,X),Z=Uh(H,f,X);return x>D&&(p.zoomX/=x/D,p.width=D,p.capped=!0),h>Z&&(p.zoomY/=h/Z,p.height=Z,p.capped=!0),p}_getCacheCanvasDimensions(){let p=this.getTotalObjectScaling(),x=this._getTransformedDimensions({skewX:0,skewY:0}),h=x.x*p.x/this.scaleX,X=x.y*p.y/this.scaleY;return{width:Math.ceil(h+2),height:Math.ceil(X+2),zoomX:p.x,zoomY:p.y,x:h,y:X}}_updateCacheCanvas(){let p=this._cacheCanvas,x=this._cacheContext,{width:h,height:X,zoomX:H,zoomY:A,x:B,y:f}=this._limitCacheSize(this._getCacheCanvasDimensions()),D=h!==p.width||X!==p.height,Z=this.zoomX!==H||this.zoomY!==A;if(!p||!x)return!1;if(D||Z){h!==p.width||X!==p.height?(p.width=h,p.height=X):(x.setTransform(1,0,0,1,0,0),x.clearRect(0,0,p.width,p.height));let L=B/2,$=f/2;return this.cacheTranslationX=Math.round(p.width/2-L)+L,this.cacheTranslationY=Math.round(p.height/2-$)+$,x.translate(this.cacheTranslationX,this.cacheTranslationY),x.scale(H,A),this.zoomX=H,this.zoomY=A,!0}return!1}setOptions(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(p)}transform(p){let x=this.group&&!this.group._transformDone||this.group&&this.canvas&&p===this.canvas.contextTop,h=this.calcTransformMatrix(!x);p.transform(h[0],h[1],h[2],h[3],h[4],h[5])}getObjectScaling(){if(!this.group)return new O(Math.abs(this.scaleX),Math.abs(this.scaleY));let p=EH(this.calcTransformMatrix());return new O(Math.abs(p.scaleX),Math.abs(p.scaleY))}getTotalObjectScaling(){let p=this.getObjectScaling();if(this.canvas){let x=this.canvas.getZoom(),h=this.getCanvasRetinaScaling();return p.scalarMultiply(x*h)}return p}getObjectOpacity(){let p=this.opacity;return this.group&&(p*=this.group.getObjectOpacity()),p}_constrainScale(p){return Math.abs(p)<this.minScaleLimit?p<0?-this.minScaleLimit:this.minScaleLimit:p===0?0.0001:p}_set(p,x){p!==eP&&p!==wp||(x=this._constrainScale(x)),p===eP&&x<0?(this.flipX=!this.flipX,x*=-1):p==="scaleY"&&x<0?(this.flipY=!this.flipY,x*=-1):p!=="shadow"||!x||x instanceof W8||(x=new W8(x));let h=this[p]!==x;return this[p]=x,h&&this.constructor.cacheProperties.includes(p)&&(this.dirty=!0),this.parent&&(this.dirty||h&&this.constructor.stateProperties.includes(p))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(p){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(p.save(),this._setupCompositeOperation(p),this.drawSelectionBackground(p),this.transform(p),this._setOpacity(p),this._setShadow(p),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(p)):(this._removeCacheCanvas(),this.drawObject(p,!1,{}),this.dirty=!1),p.restore())}drawSelectionBackground(p){}renderCache(p){if(p=p||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){let{zoomX:x,zoomY:h,cacheTranslationX:X,cacheTranslationY:H}=this,{width:A,height:B}=this._cacheCanvas;this.drawObject(this._cacheContext,p.forClipping,{zoomX:x,zoomY:h,cacheTranslationX:X,cacheTranslationY:H,width:A,height:B,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===Zp&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(p,x,h){p.save(),x.inverted?p.globalCompositeOperation="destination-out":p.globalCompositeOperation="destination-in",p.setTransform(1,0,0,1,0,0),p.drawImage(h,0,0),p.restore()}drawObject(p,x,h){let X=this.fill,H=this.stroke;x?(this.fill="black",this.stroke="",this._setClippingProperties(p)):this._renderBackground(p),this._render(p),this._drawClipPath(p,this.clipPath,h),this.fill=X,this.stroke=H}createClipPathLayer(p,x){let h=L1(x),X=h.getContext("2d");if(X.translate(x.cacheTranslationX,x.cacheTranslationY),X.scale(x.zoomX,x.zoomY),p._cacheCanvas=h,x.parentClipPaths.forEach((H)=>{H.transform(X)}),x.parentClipPaths.push(p),p.absolutePositioned){let H=zp(this.calcTransformMatrix());X.transform(H[0],H[1],H[2],H[3],H[4],H[5])}return p.transform(X),p.drawObject(X,!0,x),h}_drawClipPath(p,x,h){if(!x)return;x._transformDone=!0;let X=this.createClipPathLayer(x,h);this.drawClipPathOnCache(p,x,X)}drawCacheOnCanvas(p){p.scale(1/this.zoomX,1/this.zoomY),p.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let p=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;let x=this._cacheCanvas,h=this._cacheContext;return!(!x||!h||p||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(x&&h&&!p&&(h.save(),h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,x.width,x.height),h.restore()),!0)}_renderBackground(p){if(!this.backgroundColor)return;let x=this._getNonTransformedDimensions();p.fillStyle=this.backgroundColor,p.fillRect(-x.x/2,-x.y/2,x.x,x.y),this._removeShadow(p)}_setOpacity(p){this.group&&!this.group._transformDone?p.globalAlpha=this.getObjectOpacity():p.globalAlpha*=this.opacity}_setStrokeStyles(p,x){let h=x.stroke;h&&(p.lineWidth=x.strokeWidth,p.lineCap=x.strokeLineCap,p.lineDashOffset=x.strokeDashOffset,p.lineJoin=x.strokeLineJoin,p.miterLimit=x.strokeMiterLimit,ap(h)?h.gradientUnits==="percentage"||h.gradientTransform||h.patternTransform?this._applyPatternForTransformedGradient(p,h):(p.strokeStyle=h.toLive(p),this._applyPatternGradientTransform(p,h)):p.strokeStyle=x.stroke)}_setFillStyles(p,x){let{fill:h}=x;h&&(ap(h)?(p.fillStyle=h.toLive(p),this._applyPatternGradientTransform(p,h)):p.fillStyle=h)}_setClippingProperties(p){p.globalAlpha=1,p.strokeStyle="transparent",p.fillStyle="#000000"}_setLineDash(p,x){x&&x.length!==0&&p.setLineDash(x)}_setShadow(p){if(!this.shadow)return;let x=this.shadow,h=this.canvas,X=this.getCanvasRetinaScaling(),[H,,,A]=(h==null?void 0:h.viewportTransform)||tP,B=H*X,f=A*X,D=x.nonScaling?new O(1,1):this.getObjectScaling();p.shadowColor=x.color,p.shadowBlur=x.blur*K0.browserShadowBlurConstant*(B+f)*(D.x+D.y)/4,p.shadowOffsetX=x.offsetX*B*D.x,p.shadowOffsetY=x.offsetY*f*D.y}_removeShadow(p){this.shadow&&(p.shadowColor="",p.shadowBlur=p.shadowOffsetX=p.shadowOffsetY=0)}_applyPatternGradientTransform(p,x){if(!ap(x))return{offsetX:0,offsetY:0};let h=x.gradientTransform||x.patternTransform,X=-this.width/2+x.offsetX||0,H=-this.height/2+x.offsetY||0;return x.gradientUnits==="percentage"?p.transform(this.width,0,0,this.height,X,H):p.transform(1,0,0,1,X,H),h&&p.transform(h[0],h[1],h[2],h[3],h[4],h[5]),{offsetX:X,offsetY:H}}_renderPaintInOrder(p){this.paintFirst===Zp?(this._renderStroke(p),this._renderFill(p)):(this._renderFill(p),this._renderStroke(p))}_render(p){}_renderFill(p){this.fill&&(p.save(),this._setFillStyles(p,this),this.fillRule==="evenodd"?p.fill("evenodd"):p.fill(),p.restore())}_renderStroke(p){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(p),p.save(),this.strokeUniform){let x=this.getObjectScaling();p.scale(1/x.x,1/x.y)}this._setLineDash(p,this.strokeDashArray),this._setStrokeStyles(p,this),p.stroke(),p.restore()}}_applyPatternForTransformedGradient(p,x){var h;let X=this._limitCacheSize(this._getCacheCanvasDimensions()),H=this.getCanvasRetinaScaling(),A=X.x/this.scaleX/H,B=X.y/this.scaleY/H,f=L1({width:Math.ceil(A),height:Math.ceil(B)}),D=f.getContext("2d");D&&(D.beginPath(),D.moveTo(0,0),D.lineTo(A,0),D.lineTo(A,B),D.lineTo(0,B),D.closePath(),D.translate(A/2,B/2),D.scale(X.zoomX/this.scaleX/H,X.zoomY/this.scaleY/H),this._applyPatternGradientTransform(D,x),D.fillStyle=x.toLive(p),D.fill(),p.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),p.scale(H*this.scaleX/X.zoomX,H*this.scaleY/X.zoomY),p.strokeStyle=(h=D.createPattern(f,"no-repeat"))!==null&&h!==void 0?h:"")}_findCenterFromElement(){return new O(this.left+this.width/2,this.top+this.height/2)}clone(p){let x=this.toObject(p);return this.constructor.fromObject(x)}cloneAsImage(p){let x=this.toCanvasElement(p);return new($0.getClass("image"))(x)}toCanvasElement(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=T9(this),h=this.group,X=this.shadow,H=Math.abs,A=p.enableRetinaScaling?OV():1,B=(p.multiplier||1)*A,f=p.canvasProvider||((F)=>new yA(F,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,p.withoutTransform&&Hq(this),p.withoutShadow&&(this.shadow=null),p.viewportTransform&&P9(this,this.getViewportTransform()),this.setCoords();let D=rp(),Z=this.getBoundingRect(),L=this.shadow,$=new O;if(L){let F=L.blur,M=L.nonScaling?new O(1,1):this.getObjectScaling();$.x=2*Math.round(H(L.offsetX)+F)*H(M.x),$.y=2*Math.round(H(L.offsetY)+F)*H(M.y)}let C=Z.width+$.x,Y=Z.height+$.y;D.width=Math.ceil(C),D.height=Math.ceil(Y);let V=f(D);p.format==="jpeg"&&(V.backgroundColor="#fff"),this.setPositionByOrigin(new O(V.width/2,V.height/2),z0,z0);let q=this.canvas;V._objects=[this],this.set("canvas",V),this.setCoords();let b=V.toCanvasElement(B||1,p);return this.set("canvas",q),this.shadow=X,h&&(this.group=h),this.set(x),this.setCoords(),V._objects=[],V.destroy(),b}toDataURL(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return I9(this.toCanvasElement(p),p.format||"png",p.quality||1)}toBlob(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return E9(this.toCanvasElement(p),p.format||"png",p.quality||1)}isType(){for(var p=arguments.length,x=new Array(p),h=0;h<p;h++)x[h]=arguments[h];return x.includes(this.constructor.type)||x.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(p){let{centeredRotation:x,originX:h,originY:X}=this;if(x){let{x:H,y:A}=this.getRelativeCenterPoint();this.originX=z0,this.originY=z0,this.left=H,this.top=A}if(this.set("angle",p),x){let{x:H,y:A}=this.translateToOriginPoint(this.getRelativeCenterPoint(),h,X);this.left=H,this.top=A,this.originX=h,this.originY=X}}setOnGroup(){}_setupCompositeOperation(p){this.globalCompositeOperation&&(p.globalCompositeOperation=this.globalCompositeOperation)}dispose(){T5.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&O1().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(p,x){return Object.entries(p).reduce((h,X)=>{let[H,A]=X;return h[H]=this._animate(H,A,x),h},{})}_animate(p,x){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=p.split("."),H=this.constructor.colorProperties.includes(X[X.length-1]),{abort:A,startValue:B,onChange:f,onComplete:D}=h,Z=d(d({},h),{},{target:this,startValue:B!=null?B:X.reduce((L,$)=>L[$],this),endValue:x,abort:A==null?void 0:A.bind(this),onChange:(L,$,C)=>{X.reduce((Y,V,q)=>(q===X.length-1&&(Y[V]=L),Y[V]),this),f&&f(L,$,C)},onComplete:(L,$,C)=>{this.setCoords(),D&&D(L,$,C)}});return H?Yq(Z):c9(Z)}isDescendantOf(p){let{parent:x,group:h}=this;return x===p||h===p||!!x&&x.isDescendantOf(p)||!!h&&h!==x&&h.isDescendantOf(p)}getAncestors(){let p=[],x=this;do x=x.parent,x&&p.push(x);while(x);return p}findCommonAncestors(p){if(this===p)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};let x=this.getAncestors(),h=p.getAncestors();if(x.length===0&&h.length>0&&this===h[h.length-1])return{fork:[],otherFork:[p,...h.slice(0,h.length-1)],common:[this]};for(let X,H=0;H<x.length;H++){if(X=x[H],X===p)return{fork:[this,...x.slice(0,H)],otherFork:[],common:x.slice(H)};for(let A=0;A<h.length;A++){if(this===h[A])return{fork:[],otherFork:[p,...h.slice(0,A)],common:[this,...x]};if(X===h[A])return{fork:[this,...x.slice(0,H)],otherFork:[p,...h.slice(0,A)],common:x.slice(H)}}}return{fork:[this,...x],otherFork:[p,...h],common:[]}}hasCommonAncestors(p){let x=this.findCommonAncestors(p);return x&&!!x.common.length}isInFrontOf(p){if(this===p)return;let x=this.findCommonAncestors(p);if(x.fork.includes(p))return!0;if(x.otherFork.includes(this))return!1;let h=x.common[0]||this.canvas;if(!h)return;let X=x.fork.pop(),H=x.otherFork.pop(),A=h._objects.indexOf(X),B=h._objects.indexOf(H);return A>-1&&A>B}toObject(){let p=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(P.customProperties,this.constructor.customProperties||[]),x,h=K0.NUM_FRACTION_DIGITS,{clipPath:X,fill:H,stroke:A,shadow:B,strokeDashArray:f,left:D,top:Z,originX:L,originY:$,width:C,height:Y,strokeWidth:V,strokeLineCap:q,strokeDashOffset:b,strokeLineJoin:F,strokeUniform:M,strokeMiterLimit:Q,scaleX:I,scaleY:j,angle:k,flipX:w,flipY:S,opacity:T,visible:R,backgroundColor:v,fillRule:J,paintFirst:N,globalCompositeOperation:c,skewX:r,skewY:e}=this;X&&!X.excludeFromExport&&(x=X.toObject(p.concat("inverted","absolutePositioned")));let g=(u)=>s0(u,h),Q0=d(d({},Gh(this,p)),{},{type:this.constructor.type,version:nZ,originX:L,originY:$,left:g(D),top:g(Z),width:g(C),height:g(Y),fill:FV(H)?H.toObject():H,stroke:FV(A)?A.toObject():A,strokeWidth:g(V),strokeDashArray:f?f.concat():f,strokeLineCap:q,strokeDashOffset:b,strokeLineJoin:F,strokeUniform:M,strokeMiterLimit:g(Q),scaleX:g(I),scaleY:g(j),angle:g(k),flipX:w,flipY:S,opacity:g(T),shadow:B?B.toObject():B,visible:R,backgroundColor:v,fillRule:J,paintFirst:N,globalCompositeOperation:c,skewX:g(r),skewY:g(e)},x?{clipPath:x}:null);return this.includeDefaultValues?Q0:this._removeDefaultValues(Q0)}toDatalessObject(p){return this.toObject(p)}_removeDefaultValues(p){let x=this.constructor.getDefaults(),h=Object.keys(x).length>0?x:Object.getPrototypeOf(this);return k9(p,(X,H)=>{if(H===G0||H===Dp||H==="type")return!0;let A=h[H];return X!==A&&!(Array.isArray(X)&&Array.isArray(A)&&X.length===0&&A.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(p){let x=t0(p,Gv),h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:X}=h,H=t0(h,Sv);return gA(x,H).then((A)=>X?(delete A[X],new this(x[X],A)):new this(A))}static fromObject(p,x){return this._fromObject(p,x)}};K(q8,"stateProperties",jv),K(q8,"cacheProperties",J8),K(q8,"ownDefaults",Jv),K(q8,"type","FabricObject"),K(q8,"colorProperties",[kP,Zp,"backgroundColor"]),K(q8,"customProperties",[]),$0.setClass(q8),$0.setClass(q8,"object");var Jx=(P,p,x)=>(h,X,H,A)=>{let B=p(h,X,H,A);return B&&j9(P,d(d({},J9(h,X,H,A)),x)),B};function Sh(P){return(p,x,h,X)=>{let{target:H,originX:A,originY:B}=x,f=H.getRelativeCenterPoint(),D=H.translateToOriginPoint(f,A,B),Z=P(p,x,h,X);return H.setPositionByOrigin(D,x.originX,x.originY),Z}}var h9=Jx(GA,Sh((P,p,x,h)=>{let X=u5(p,p.originX,p.originY,x,h);if(VP(p.originX)===VP(z0)||VP(p.originX)===VP(FP)&&X.x<0||VP(p.originX)===VP(G0)&&X.x>0){let{target:H}=p,A=H.strokeWidth/(H.strokeUniform?H.scaleX:1),B=Bq(p)?2:1,f=H.width,D=Math.abs(X.x*B/H.scaleX)-A;return H.set("width",Math.max(D,1)),f!==H.width}return!1}));function Vq(P,p,x,h,X){h=h||{};let H=this.sizeX||h.cornerSize||X.cornerSize,A=this.sizeY||h.cornerSize||X.cornerSize,B=h.transparentCorners!==void 0?h.transparentCorners:X.transparentCorners,f=B?Zp:kP,D=!B&&(h.cornerStrokeColor||X.cornerStrokeColor),Z,L=p,$=x;P.save(),P.fillStyle=h.cornerColor||X.cornerColor||"",P.strokeStyle=h.cornerStrokeColor||X.cornerStrokeColor||"",H>A?(Z=H,P.scale(1,A/H),$=x*H/A):A>H?(Z=A,P.scale(H/A,1),L=p*A/H):Z=H,P.beginPath(),P.arc(L,$,Z/2,0,j8,!1),P[f](),D&&P.stroke(),P.restore()}function qq(P,p,x,h,X){h=h||{};let H=this.sizeX||h.cornerSize||X.cornerSize,A=this.sizeY||h.cornerSize||X.cornerSize,B=h.transparentCorners!==void 0?h.transparentCorners:X.transparentCorners,f=B?Zp:kP,D=!B&&(h.cornerStrokeColor||X.cornerStrokeColor),Z=H/2,L=A/2;P.save(),P.fillStyle=h.cornerColor||X.cornerColor||"",P.strokeStyle=h.cornerStrokeColor||X.cornerStrokeColor||"",P.translate(p,x);let $=X.getTotalAngle();P.rotate(fP($)),P["".concat(f,"Rect")](-Z,-L,H,A),D&&P.strokeRect(-Z,-L,H,A),P.restore()}class Bp{constructor(P){K(this,"visible",!0),K(this,"actionName",y5),K(this,"angle",0),K(this,"x",0),K(this,"y",0),K(this,"offsetX",0),K(this,"offsetY",0),K(this,"sizeX",0),K(this,"sizeY",0),K(this,"touchSizeX",0),K(this,"touchSizeY",0),K(this,"cursorStyle","crosshair"),K(this,"withConnection",!1),Object.assign(this,P)}shouldActivate(P,p,x,h){var X;let{tl:H,tr:A,br:B,bl:f}=h;return((X=p.canvas)===null||X===void 0?void 0:X.getActiveObject())===p&&p.isControlVisible(P)&&HP.isPointInPolygon(x,[H,A,B,f])}getActionHandler(P,p,x){return this.actionHandler}getMouseDownHandler(P,p,x){return this.mouseDownHandler}getMouseUpHandler(P,p,x){return this.mouseUpHandler}cursorStyleHandler(P,p,x){return p.cursorStyle}getActionName(P,p,x){return p.actionName}getVisibility(P,p){var x,h;return(x=(h=P._controlsVisibility)===null||h===void 0?void 0:h[p])!==null&&x!==void 0?x:this.visible}setVisibility(P,p,x){this.visible=P}positionHandler(P,p,x,h){return new O(this.x*P.x+this.offsetX,this.y*P.y+this.offsetY).transform(p)}calcCornerCoords(P,p,x,h,X,H){let A=_5([JH(x,h),dH({angle:P}),i5((X?this.touchSizeX:this.sizeX)||p,(X?this.touchSizeY:this.sizeY)||p)]);return{tl:new O(-0.5,-0.5).transform(A),tr:new O(0.5,-0.5).transform(A),br:new O(0.5,0.5).transform(A),bl:new O(-0.5,0.5).transform(A)}}render(P,p,x,h,X){if(((h=h||{}).cornerStyle||X.cornerStyle)==="circle")Vq.call(this,P,p,x,h,X);else qq.call(this,P,p,x,h,X)}}var Iq=(P,p,x)=>x.lockRotation?J5:p.cursorStyle,Eq=Jx(yV,Sh((P,p,x,h)=>{let{target:X,ex:H,ey:A,theta:B,originX:f,originY:D}=p,Z=X.translateToOriginPoint(X.getRelativeCenterPoint(),f,D);if(f1(X,"lockRotation"))return!1;let L=Math.atan2(A-Z.y,H-Z.x),$=Math.atan2(h-Z.y,x-Z.x),C=Tx($-L+B);if(X.snapAngle&&X.snapAngle>0){let V=X.snapAngle,q=X.snapThreshold||V,b=Math.ceil(C/V)*V,F=Math.floor(C/V)*V;Math.abs(C-F)<q?C=F:Math.abs(C-b)<q&&(C=b)}C<0&&(C=360+C),C%=360;let Y=X.angle!==C;return X.angle=C,Y}));function zq(P,p){let x=p.canvas,h=P[x.uniScaleKey];return x.uniformScaling&&!h||!x.uniformScaling&&h}function wq(P,p,x){let h=f1(P,"lockScalingX"),X=f1(P,"lockScalingY");if(h&&X)return!0;if(!p&&(h||X)&&x)return!0;if(h&&p==="x")return!0;if(X&&p==="y")return!0;let{width:H,height:A,strokeWidth:B}=P;return H===0&&B===0&&p!=="y"||A===0&&B===0&&p!=="x"}var lv=["e","se","s","sw","w","nw","n","ne","e"],hH=(P,p,x)=>{let h=zq(P,x);if(wq(x,p.x!==0&&p.y===0?"x":p.x===0&&p.y!==0?"y":"",h))return J5;let X=Dq(x,p);return"".concat(lv[X],"-resize")};function v9(P,p,x,h){let X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},H=p.target,A=X.by,B=zq(P,H),f,D,Z,L,$,C;if(wq(H,A,B))return!1;if(p.gestureScale)D=p.scaleX*p.gestureScale,Z=p.scaleY*p.gestureScale;else{if(f=u5(p,p.originX,p.originY,x,h),$=A!=="y"?Math.sign(f.x||p.signX||1):1,C=A!=="x"?Math.sign(f.y||p.signY||1):1,p.signX||(p.signX=$),p.signY||(p.signY=C),f1(H,"lockScalingFlip")&&(p.signX!==$||p.signY!==C))return!1;if(L=H._getTransformedDimensions(),B&&!A){let q=Math.abs(f.x)+Math.abs(f.y),{original:b}=p,F=q/(Math.abs(L.x*b.scaleX/H.scaleX)+Math.abs(L.y*b.scaleY/H.scaleY));D=b.scaleX*F,Z=b.scaleY*F}else D=Math.abs(f.x*H.scaleX/L.x),Z=Math.abs(f.y*H.scaleY/L.y);Bq(p)&&(D*=2,Z*=2),p.signX!==$&&A!=="y"&&(p.originX=YV(p.originX),D*=-1,p.signX=$),p.signY!==C&&A!=="x"&&(p.originY=YV(p.originY),Z*=-1,p.signY=C)}let{scaleX:Y,scaleY:V}=H;return A?(A==="x"&&H.set(eP,D),A==="y"&&H.set(wp,Z)):(!f1(H,"lockScalingX")&&H.set(eP,D),!f1(H,"lockScalingY")&&H.set(wp,Z)),Y!==H.scaleX||V!==H.scaleY}var WA=Jx(g5,Sh((P,p,x,h)=>v9(P,p,x,h))),kq=Jx(g5,Sh((P,p,x,h)=>v9(P,p,x,h,{by:"x"}))),Wq=Jx(g5,Sh((P,p,x,h)=>v9(P,p,x,h,{by:"y"}))),Nv=["target","ex","ey","skewingSide"],_Z={x:{counterAxis:"y",scale:eP,skew:TH,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:wp,skew:jH,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},Ov=["ns","nesw","ew","nwse"],Tq=(P,p,x)=>{if(p.x!==0&&f1(x,"lockSkewingY"))return J5;if(p.y!==0&&f1(x,"lockSkewingX"))return J5;let h=Dq(x,p)%4;return"".concat(Ov[h],"-resize")};function jq(P,p,x,h,X){let{target:H}=x,{counterAxis:A,origin:B,lockSkewing:f,skew:D,flip:Z}=_Z[P];if(f1(H,f))return!1;let{origin:L,flip:$}=_Z[A],C=VP(x[L])*(H[$]?-1:1),Y=-Math.sign(C)*(H[Z]?-1:1),V=0.5*-((H[D]===0&&u5(x,z0,z0,h,X)[P]>0||H[D]>0?1:-1)*Y)+0.5;return Jx(_V,Sh((b,F,M,Q)=>function(I,j,k){let{target:w,ex:S,ey:T,skewingSide:R}=j,v=t0(j,Nv),{skew:J}=_Z[I],N=k.subtract(new O(S,T)).divide(new O(w.scaleX,w.scaleY))[I],c=w[J],r=v[J],e=Math.tan(fP(r)),g=I==="y"?w._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:w._getTransformedDimensions({scaleX:1,scaleY:1}).y,Q0=2*N*R/Math.max(g,1)+e,u=Tx(Math.atan(Q0));w.set(J,u);let L0=c!==w[J];if(L0&&I==="y"){let{skewX:W,scaleX:_}=w,P0=w._getTransformedDimensions({skewY:c}),i=w._getTransformedDimensions(),Z0=W!==0?P0.x/i.x:1;Z0!==1&&w.set(eP,Z0*_)}return L0}(P,F,new O(M,Q))))(p,d(d({},x),{},{[B]:V,skewingSide:Y}),h,X)}var Jq=(P,p,x,h)=>jq("x",P,p,x,h),dq=(P,p,x,h)=>jq("y",P,p,x,h);function n5(P,p){return P[p.canvas.altActionKey]}var TA=(P,p,x)=>{let h=n5(P,x);return p.x===0?h?TH:wp:p.y===0?h?jH:eP:""},Jh=(P,p,x)=>n5(P,x)?Tq(0,p,x):hH(P,p,x),X9=(P,p,x,h)=>n5(P,p.target)?dq(P,p,x,h):kq(P,p,x,h),H9=(P,p,x,h)=>n5(P,p.target)?Jq(P,p,x,h):Wq(P,p,x,h),U9=()=>({ml:new Bp({x:-0.5,y:0,cursorStyleHandler:Jh,actionHandler:X9,getActionName:TA}),mr:new Bp({x:0.5,y:0,cursorStyleHandler:Jh,actionHandler:X9,getActionName:TA}),mb:new Bp({x:0,y:0.5,cursorStyleHandler:Jh,actionHandler:H9,getActionName:TA}),mt:new Bp({x:0,y:-0.5,cursorStyleHandler:Jh,actionHandler:H9,getActionName:TA}),tl:new Bp({x:-0.5,y:-0.5,cursorStyleHandler:hH,actionHandler:WA}),tr:new Bp({x:0.5,y:-0.5,cursorStyleHandler:hH,actionHandler:WA}),bl:new Bp({x:-0.5,y:0.5,cursorStyleHandler:hH,actionHandler:WA}),br:new Bp({x:0.5,y:0.5,cursorStyleHandler:hH,actionHandler:WA}),mtr:new Bp({x:0,y:-0.5,actionHandler:Eq,cursorStyleHandler:Iq,offsetY:-40,withConnection:!0,actionName:Q9})}),Kq=()=>({mr:new Bp({x:0.5,y:0,actionHandler:h9,cursorStyleHandler:Jh,actionName:GA}),ml:new Bp({x:-0.5,y:0,actionHandler:h9,cursorStyleHandler:Jh,actionName:GA})}),Rq=()=>d(d({},U9()),Kq());class NA extends q8{static getDefaults(){return d(d({},super.getDefaults()),NA.ownDefaults)}constructor(P){super(),Object.assign(this,this.constructor.createControls(),NA.ownDefaults),this.setOptions(P)}static createControls(){return{controls:U9()}}_updateCacheCanvas(){let P=this.canvas;if(this.noScaleCache&&P&&P._currentTransform){let p=P._currentTransform,x=p.target,h=p.action;if(this===x&&h&&h.startsWith(y5))return!1}return super._updateCacheCanvas()}getActiveControl(){let P=this.__corner;return P?{key:P,control:this.controls[P],coord:this.oCoords[P]}:void 0}findControl(P){let p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;let x=Object.entries(this.oCoords);for(let h=x.length-1;h>=0;h--){let[X,H]=x[h],A=this.controls[X];if(A.shouldActivate(X,this,P,p?H.touchCorner:H.corner))return this.__corner=X,{key:X,control:A,coord:this.oCoords[X]}}}calcOCoords(){let P=this.getViewportTransform(),p=this.getCenterPoint(),x=JH(p.x,p.y),h=dH({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),X=ZP(x,h),H=ZP(P,X),A=ZP(H,[1/P[0],0,0,1/P[3],0,0]),B=this.group?EH(this.calcTransformMatrix()):void 0;B&&(B.scaleX=Math.abs(B.scaleX),B.scaleY=Math.abs(B.scaleY));let f=this._calculateCurrentDimensions(B),D={};return this.forEachControl((Z,L)=>{let $=Z.positionHandler(f,A,this,Z);D[L]=Object.assign($,this._calcCornerCoords(Z,$))}),D}_calcCornerCoords(P,p){let x=this.getTotalAngle();return{corner:P.calcCornerCoords(x,this.cornerSize,p.x,p.y,!1,this),touchCorner:P.calcCornerCoords(x,this.touchCornerSize,p.x,p.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(P){for(let p in this.controls)P(this.controls[p],p,this)}drawSelectionBackground(P){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;P.save();let p=this.getRelativeCenterPoint(),x=this._calculateCurrentDimensions(),h=this.getViewportTransform();P.translate(p.x,p.y),P.scale(1/h[0],1/h[3]),P.rotate(fP(this.angle)),P.fillStyle=this.selectionBackgroundColor,P.fillRect(-x.x/2,-x.y/2,x.x,x.y),P.restore()}strokeBorders(P,p){P.strokeRect(-p.x/2,-p.y/2,p.x,p.y)}_drawBorders(P,p){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=d({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},x);P.save(),P.strokeStyle=h.borderColor,this._setLineDash(P,h.borderDashArray),this.strokeBorders(P,p),h.hasControls&&this.drawControlsConnectingLines(P,p),P.restore()}_renderControls(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{hasBorders:x,hasControls:h}=this,X=d({hasBorders:x,hasControls:h},p),H=this.getViewportTransform(),A=X.hasBorders,B=X.hasControls,f=ZP(H,this.calcTransformMatrix()),D=EH(f);P.save(),P.translate(D.translateX,D.translateY),P.lineWidth=this.borderScaleFactor,this.group===this.parent&&(P.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(D.angle-=180),P.rotate(fP(this.group?D.angle:this.angle)),A&&this.drawBorders(P,D,p),B&&this.drawControls(P,p),P.restore()}drawBorders(P,p,x){let h;if(x&&x.forActiveSelection||this.group){let X=m5(this.width,this.height,OA(p)),H=this.isStrokeAccountedForInDimensions()?V9:(this.strokeUniform?new O().scalarAdd(this.canvas?this.canvas.getZoom():1):new O(p.scaleX,p.scaleY)).scalarMultiply(this.strokeWidth);h=X.add(H).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else h=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(P,h,x)}drawControlsConnectingLines(P,p){let x=!1;P.beginPath(),this.forEachControl((h,X)=>{h.withConnection&&h.getVisibility(this,X)&&(x=!0,P.moveTo(h.x*p.x,h.y*p.y),P.lineTo(h.x*p.x+h.offsetX,h.y*p.y+h.offsetY))}),x&&P.stroke()}drawControls(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};P.save();let x=this.getCanvasRetinaScaling(),{cornerStrokeColor:h,cornerDashArray:X,cornerColor:H}=this,A=d({cornerStrokeColor:h,cornerDashArray:X,cornerColor:H},p);P.setTransform(x,0,0,x,0,0),P.strokeStyle=P.fillStyle=A.cornerColor,this.transparentCorners||(P.strokeStyle=A.cornerStrokeColor),this._setLineDash(P,A.cornerDashArray),this.forEachControl((B,f)=>{if(B.getVisibility(this,f)){let D=this.oCoords[f];B.render(P,D.x,D.y,A,this)}}),P.restore()}isControlVisible(P){return this.controls[P]&&this.controls[P].getVisibility(this,P)}setControlVisible(P,p){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[P]=p}setControlsVisibility(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(P).forEach((p)=>{let[x,h]=p;return this.setControlVisible(x,h)})}clearContextTop(P){if(!this.canvas)return;let p=this.canvas.contextTop;if(!p)return;let x=this.canvas.viewportTransform;p.save(),p.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this.transform(p);let h=this.width+4,X=this.height+4;return p.clearRect(-h/2,-X/2,h,X),P||p.restore(),p}onDeselect(P){return!1}onSelect(P){return!1}shouldStartDragging(P){return!1}onDragStart(P){return!1}canDrop(P){return!1}renderDragSourceEffect(P){}renderDropTargetEffect(P){}}function cq(P,p){return p.forEach((x)=>{Object.getOwnPropertyNames(x.prototype).forEach((h)=>{h!=="constructor"&&Object.defineProperty(P.prototype,h,Object.getOwnPropertyDescriptor(x.prototype,h)||Object.create(null))})}),P}K(NA,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:0.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class SP extends NA{}cq(SP,[d9]),$0.setClass(SP),$0.setClass(SP,"object");var vq=(P,p,x,h)=>{let X=2*(h=Math.round(h))+1,{data:H}=P.getImageData(p-h,x-h,X,X);for(let A=3;A<H.length;A+=4)if(H[A]>0)return!1;return!0};class G9{constructor(P){this.options=P,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new O(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new O(1/this.options.scaleX,1/this.options.scaleY):new O(1,1)}createSideVector(P,p){let x=d5(P,p);return this.options.strokeUniform?x.multiply(this.scale):x}projectOrthogonally(P,p,x){return this.applySkew(P.add(this.calcOrthogonalProjection(P,p,x)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(P){let p=new O(P);return p.y+=p.x*Math.tan(fP(this.options.skewY)),p.x+=p.y*Math.tan(fP(this.options.skewX)),p}scaleUnitVector(P,p){return P.multiply(this.strokeUniformScalar).scalarMultiply(p)}}var gv=new O;class IH extends G9{static getOrthogonalRotationFactor(P,p){let x=p?R5(P,p):$q(P);return Math.abs(x)<kx?-1:1}constructor(P,p,x,h){super(h),K(this,"AB",void 0),K(this,"AC",void 0),K(this,"alpha",void 0),K(this,"bisector",void 0),this.A=new O(P),this.B=new O(p),this.C=new O(x),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=R5(this.AB,this.AC),this.bisector=a5(K9(this.AB.eq(gv)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(P,p){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,h=this.createSideVector(P,p),X=R9(h),H=IH.getOrthogonalRotationFactor(X,this.bisector);return this.scaleUnitVector(X,x*H)}projectBevel(){let P=[];return(this.alpha%j8==0?[this.B]:[this.B,this.C]).forEach((p)=>{P.push(this.projectOrthogonally(this.A,p)),P.push(this.projectOrthogonally(this.A,p,-this.strokeProjectionMagnitude))}),P}projectMiter(){let P=[],p=Math.abs(this.alpha),x=1/Math.sin(p/2),h=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*x),X=this.options.strokeUniform?K5(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return K5(h)/this.strokeProjectionMagnitude<=X&&P.push(this.applySkew(this.A.add(h))),P.push(...this.projectBevel()),P}projectRoundNoSkew(P,p){let x=[],h=new O(IH.getOrthogonalRotationFactor(this.bisector),IH.getOrthogonalRotationFactor(new O(this.bisector.y,this.bisector.x)));return[new O(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(h),new O(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(h)].forEach((X)=>{p9(X,P,p)&&x.push(this.A.add(X))}),x}projectRoundWithSkew(P,p){let x=[],{skewX:h,skewY:X,scaleX:H,scaleY:A,strokeUniform:B}=this.options,f=new O(Math.tan(fP(h)),Math.tan(fP(X))),D=this.strokeProjectionMagnitude,Z=B?D/A/Math.sqrt(1/A**2+1/H**2*f.y**2):D/Math.sqrt(1+f.y**2),L=new O(Math.sqrt(Math.max(D**2-Z**2,0)),Z),$=B?D/Math.sqrt(1+f.x**2*(1/A)**2/(1/H+1/H*f.x*f.y)**2):D/Math.sqrt(1+f.x**2/(1+f.x*f.y)**2),C=new O($,Math.sqrt(Math.max(D**2-$**2,0)));return[C,C.scalarMultiply(-1),L,L.scalarMultiply(-1)].map((Y)=>this.applySkew(B?Y.multiply(this.strokeUniformScalar):Y)).forEach((Y)=>{p9(Y,P,p)&&x.push(this.applySkew(this.A).add(Y))}),x}projectRound(){let P=[];P.push(...this.projectBevel());let p=this.alpha%j8==0,x=this.applySkew(this.A),h=P[p?0:2].subtract(x),X=P[p?1:0].subtract(x),H=p?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),A=qH(h,H)>0,B=A?h:X,f=A?X:h;return this.isSkewed()?P.push(...this.projectRoundWithSkew(B,f)):P.push(...this.projectRoundNoSkew(B,f)),P}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map((P)=>({originPoint:this.A,projectedPoint:P,angle:this.alpha,bisector:this.bisector}))}}class A9 extends G9{constructor(P,p,x){super(x),this.A=new O(P),this.T=new O(p)}calcOrthogonalProjection(P,p){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,h=this.createSideVector(P,p);return this.scaleUnitVector(R9(h),x)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){let P=[];if(!this.isSkewed()&&this.A.eq(this.T)){let p=new O(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);P.push(this.applySkew(this.A.add(p)),this.applySkew(this.A.subtract(p)))}else P.push(...new IH(this.A,this.T,this.T,this.options).projectRound());return P}projectSquare(){let P=[];if(this.A.eq(this.T)){let p=new O(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);P.push(this.A.add(p),this.A.subtract(p))}else{let p=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),x=this.scaleUnitVector(a5(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),h=this.A.add(x);P.push(h.add(p),h.subtract(p))}return P.map((p)=>this.applySkew(p))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map((P)=>({originPoint:this.A,projectedPoint:P}))}}var Uq=function(P,p){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=[];if(P.length===0)return h;let X=P.reduce((H,A)=>(H[H.length-1].eq(A)||H.push(new O(A)),H),[new O(P[0])]);if(X.length===1)x=!0;else if(!x){let H=X[0],A=((B,f)=>{for(let D=B.length-1;D>=0;D--)if(f(B[D],D,B))return D;return-1})(X,(B)=>!B.eq(H));X.splice(A+1)}return X.forEach((H,A,B)=>{let f,D;A===0?(D=B[1],f=x?H:B[B.length-1]):A===B.length-1?(f=B[A-1],D=x?H:B[0]):(f=B[A-1],D=B[A+1]),x&&B.length===1?h.push(...new A9(H,H,p).project()):!x||A!==0&&A!==B.length-1?h.push(...new IH(H,f,D,p).project()):h.push(...new A9(H,A===0?D:f,p).project())}),h},S9=(P)=>{let p={};return Object.keys(P).forEach((x)=>{p[x]={},Object.keys(P[x]).forEach((h)=>{p[x][h]=d({},P[x][h])})}),p},Gq=(P)=>P.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),s5=(P)=>{let p=[];for(let x,h=0;h<P.length;h++)(x=yv(P,h))!==!1&&p.push(x);return p},yv=(P,p)=>{let x=P.charCodeAt(p);if(isNaN(x))return"";if(x<55296||x>57343)return P.charAt(p);if(55296<=x&&x<=56319){if(P.length<=p+1)throw"High surrogate without following low surrogate";let X=P.charCodeAt(p+1);if(56320>X||X>57343)throw"High surrogate without following low surrogate";return P.charAt(p)+P.charAt(p+1)}if(p===0)throw"Low surrogate without preceding high surrogate";let h=P.charCodeAt(p-1);if(55296>h||h>56319)throw"Low surrogate without preceding high surrogate";return!1},_v=Object.freeze({__proto__:null,capitalize:function(P){let p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(P.charAt(0).toUpperCase()).concat(p?P.slice(1):P.slice(1).toLowerCase())},escapeXml:Gq,graphemeSplit:s5}),t5=function(P,p){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return P.fill!==p.fill||P.stroke!==p.stroke||P.strokeWidth!==p.strokeWidth||P.fontSize!==p.fontSize||P.fontFamily!==p.fontFamily||P.fontWeight!==p.fontWeight||P.fontStyle!==p.fontStyle||P.textBackgroundColor!==p.textBackgroundColor||P.deltaY!==p.deltaY||x&&(P.overline!==p.overline||P.underline!==p.underline||P.linethrough!==p.linethrough)},Sq=(P,p)=>{let x=p.split(`
`),h=[],X=-1,H={};P=S9(P);for(let A=0;A<x.length;A++){let B=s5(x[A]);if(P[A])for(let f=0;f<B.length;f++){X++;let D=P[A][f];D&&Object.keys(D).length>0&&(t5(H,D,!0)?h.push({start:X,end:X+1,style:D}):h[h.length-1].end++),H=D||{}}else X+=B.length,H={}}return h},lq=(P,p)=>{if(!Array.isArray(P))return S9(P);let x=p.split(Y9),h={},X=-1,H=0;for(let A=0;A<x.length;A++){let B=s5(x[A]);for(let f=0;f<B.length;f++)X++,P[H]&&P[H].start<=X&&X<P[H].end&&(h[A]=h[A]||{},h[A][f]=d({},P[H].style),X===P[H].end-1&&H++)}return h},dx=["display","transform",kP,"fill-opacity","fill-rule","opacity",Zp,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function wV(P,p){let x=P.nodeName,h=P.getAttribute("class"),X=P.getAttribute("id"),A;if(A=new RegExp("^"+x,"i"),p=p.replace(A,""),X&&p.length&&(A=new RegExp("#"+X+"(?![a-zA-Z\\-]+)","i"),p=p.replace(A,"")),h&&p.length){let B=h.split(" ");for(let f=B.length;f--;)A=new RegExp("\\."+B[f]+"(?![a-zA-Z\\-]+)","i"),p=p.replace(A,"")}return p.length===0}function iv(P,p){let x=!0,h=wV(P,p.pop());return h&&p.length&&(x=function(X,H){let A,B=!0;for(;X.parentElement&&X.parentElement.nodeType===1&&H.length;)B&&(A=H.pop()),B=wV(X=X.parentElement,A);return H.length===0}(P,p)),h&&x&&p.length===0}var mv=(P)=>{var p;return(p=Wv[P])!==null&&p!==void 0?p:P},uv=new RegExp("(".concat(D1,")"),"gi"),ov=(P)=>P.replace(uv," $1 ").replace(/,/gi," ").replace(/\s+/gi," "),kV,WV,TV,jV,JV,dV,KV,sP="(".concat(D1,")"),av=String.raw(kV||(kV=jx(["(skewX)(",")"],["(skewX)\\(","\\)"])),sP),rv=String.raw(WV||(WV=jx(["(skewY)(",")"],["(skewY)\\(","\\)"])),sP),nv=String.raw(TV||(TV=jx(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),sP,sP,sP),sv=String.raw(jV||(jV=jx(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),sP,sP),tv=String.raw(JV||(JV=jx(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),sP,sP),ev=String.raw(dV||(dV=jx(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),sP,sP,sP,sP,sP,sP),l9="(?:".concat(ev,"|").concat(tv,"|").concat(nv,"|").concat(sv,"|").concat(av,"|").concat(rv,")"),PU="(?:".concat(l9,"*)"),pU=String.raw(KV||(KV=jx(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),PU),xU=new RegExp(pU),hU=new RegExp(l9),XU=new RegExp(l9,"g");function B9(P){let p=[];if(!(P=ov(P).replace(/\s*([()])\s*/gi,"$1"))||P&&!xU.test(P))return[...tP];for(let x of P.matchAll(XU)){let h=hU.exec(x[0]);if(!h)continue;let X=tP,H=h.filter((Y)=>!!Y),[,A,...B]=H,[f,D,Z,L,$,C]=B.map((Y)=>parseFloat(Y));switch(A){case"translate":X=JH(f,D);break;case Q9:X=dH({angle:f},{x:D,y:Z});break;case y5:X=i5(f,D);break;case TH:X=z9(f);break;case jH:X=w9(f);break;case"matrix":X=[f,D,Z,L,$,C]}p.push(X)}return _5(p)}function HU(P,p,x,h){let X=Array.isArray(p),H,A=p;if(P!==kP&&P!==Zp||p!==fp){if(P==="strokeUniform")return p==="non-scaling-stroke";if(P==="strokeDashArray")A=p===fp?null:p.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(P==="transformMatrix")A=x&&x.transformMatrix?ZP(x.transformMatrix,B9(p)):B9(p);else if(P==="visible")A=p!==fp&&p!=="hidden",x&&x.visible===!1&&(A=!1);else if(P==="opacity")A=parseFloat(p),x&&x.opacity!==void 0&&(A*=x.opacity);else if(P==="textAnchor")A=p==="start"?G0:p==="end"?FP:z0;else if(P==="charSpacing")H=vh(p,h)/h*1000;else if(P==="paintFirst"){let B=p.indexOf(kP),f=p.indexOf(Zp);A=kP,(B>-1&&f>-1&&f<B||B===-1&&f>-1)&&(A=Zp)}else{if(P==="href"||P==="xlink:href"||P==="font"||P==="id")return p;if(P==="imageSmoothing")return p==="optimizeQuality";H=X?p.map(vh):vh(p,h)}}else A="";return!X&&isNaN(H)?A:H}function AU(P,p){let x=P.match(kv);if(!x)return;let h=x[1],X=x[3],H=x[4],A=x[5],B=x[6];h&&(p.fontStyle=h),X&&(p.fontWeight=isNaN(parseFloat(X))?X:parseFloat(X)),H&&(p.fontSize=vh(H)),B&&(p.fontFamily=B),A&&(p.lineHeight=A==="normal"?1:A)}function BU(P,p){P.replace(/;\s*$/,"").split(";").forEach((x)=>{if(!x)return;let[h,X]=x.split(":");p[h.trim().toLowerCase()]=X.trim()})}function DU(P){let p={},x=P.getAttribute("style");return x?(typeof x=="string"?BU(x,p):function(h,X){Object.entries(h).forEach((H)=>{let[A,B]=H;B!==void 0&&(X[A.toLowerCase()]=B)})}(x,p),p):p}var fU={stroke:"strokeOpacity",fill:"fillOpacity"};function d8(P,p,x){if(!P)return{};let h,X={},H=M9;P.parentNode&&VV.test(P.parentNode.nodeName)&&(X=d8(P.parentElement,p,x),X.fontSize&&(h=H=vh(X.fontSize)));let A=d(d(d({},p.reduce((D,Z)=>{let L=P.getAttribute(Z);return L&&(D[Z]=L),D},{})),function(D){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L={};for(let $ in Z)iv(D,$.split(" "))&&(L=d(d({},L),Z[$]));return L}(P,x)),DU(P));A[OZ]&&P.setAttribute(OZ,A[OZ]),A[NZ]&&(h=vh(A[NZ],H),A[NZ]="".concat(h));let B={};for(let D in A){let Z=mv(D),L=HU(Z,A[D],X,h);B[Z]=L}B&&B.font&&AU(B.font,B);let f=d(d({},X),B);return VV.test(P.nodeName)?f:function(D){let Z=SP.getDefaults();return Object.entries(fU).forEach((L)=>{let[$,C]=L;if(D[C]===void 0||D[$]==="")return;if(D[$]===void 0){if(!Z[$])return;D[$]=Z[$]}if(D[$].indexOf("url(")===0)return;let Y=new l0(D[$]);D[$]=Y.setAlpha(s0(Y.getAlpha()*D[C],2)).toRgba()}),D}(f)}var ZU=["left","top","width","height","visible"],Nq=["rx","ry"];class S1 extends SP{static getDefaults(){return d(d({},super.getDefaults()),S1.ownDefaults)}constructor(P){super(),Object.assign(this,S1.ownDefaults),this.setOptions(P),this._initRxRy()}_initRxRy(){let{rx:P,ry:p}=this;P&&!p?this.ry=P:p&&!P&&(this.rx=p)}_render(P){let{width:p,height:x}=this,h=-p/2,X=-x/2,H=this.rx?Math.min(this.rx,p/2):0,A=this.ry?Math.min(this.ry,x/2):0,B=H!==0||A!==0;P.beginPath(),P.moveTo(h+H,X),P.lineTo(h+p-H,X),B&&P.bezierCurveTo(h+p-Ix*H,X,h+p,X+Ix*A,h+p,X+A),P.lineTo(h+p,X+x-A),B&&P.bezierCurveTo(h+p,X+x-Ix*A,h+p-Ix*H,X+x,h+p-H,X+x),P.lineTo(h+H,X+x),B&&P.bezierCurveTo(h+Ix*H,X+x,h,X+x-Ix*A,h,X+x-A),P.lineTo(h,X+A),B&&P.bezierCurveTo(h,X+Ix*A,h+Ix*H,X,h+H,X),P.closePath(),this._renderPaintInOrder(P)}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Nq,...P])}_toSVG(){let{width:P,height:p,rx:x,ry:h}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-P/2,'" y="').concat(-p/2,'" rx="').concat(x,'" ry="').concat(h,'" width="').concat(P,'" height="').concat(p,`" />
`)]}static async fromElement(P,p,x){let h=d8(P,this.ATTRIBUTE_NAMES,x),{left:X=0,top:H=0,width:A=0,height:B=0,visible:f=!0}=h,D=t0(h,ZU);return new this(d(d(d({},p),D),{},{left:X,top:H,width:A,height:B,visible:Boolean(f&&A&&B)}))}}K(S1,"type","Rect"),K(S1,"cacheProperties",[...J8,...Nq]),K(S1,"ownDefaults",{rx:0,ry:0}),K(S1,"ATTRIBUTE_NAMES",[...dx,"x","y","rx","ry","width","height"]),$0.setClass(S1),$0.setSVGClass(S1);var z8="initialization",c5="added",N9="removed",v5="imperative",Oq=(P,p)=>{let{strokeUniform:x,strokeWidth:h,width:X,height:H,group:A}=p,B=A&&A!==P?_A(A.calcTransformMatrix(),P.calcTransformMatrix()):null,f=B?p.getRelativeCenterPoint().transform(B):p.getRelativeCenterPoint(),D=!p.isStrokeAccountedForInDimensions(),Z=x&&D?Aq(new O(h,h),void 0,P.calcTransformMatrix()):V9,L=!x&&D?h:0,$=m5(X+L,H+L,_5([B,p.calcOwnMatrix()],!0)).add(Z).scalarDivide(2);return[f.subtract($),f.add($)]};class iA{calcLayoutResult(P,p){if(this.shouldPerformLayout(P))return this.calcBoundingBox(p,P)}shouldPerformLayout(P){let{type:p,prevStrategy:x,strategy:h}=P;return p===z8||p===v5||!!x&&h!==x}shouldLayoutClipPath(P){let{type:p,target:{clipPath:x}}=P;return p!==z8&&x&&!x.absolutePositioned}getInitialSize(P,p){return p.size}calcBoundingBox(P,p){let{type:x,target:h}=p;if(x===v5&&p.overrides)return p.overrides;if(P.length===0)return;let{left:X,top:H,width:A,height:B}=N1(P.map((Z)=>Oq(h,Z)).reduce((Z,L)=>Z.concat(L),[])),f=new O(A,B),D=new O(X,H).add(f.scalarDivide(2));if(x===z8){let Z=this.getInitialSize(p,{size:f,center:D});return{center:D,relativeCorrection:new O(0,0),size:Z}}return{center:D.transform(h.calcOwnMatrix()),size:f}}}K(iA,"type","strategy");class U5 extends iA{shouldPerformLayout(P){return!0}}K(U5,"type","fit-content"),$0.setClass(U5);var $U=["strategy"],LU=["target","strategy","bubbles","prevStrategy"],gq="layoutManager";class kH{constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new U5;K(this,"strategy",void 0),this.strategy=P,this._subscriptions=new Map}performLayout(P){let p=d(d({bubbles:!0,strategy:this.strategy},P),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(p);let x=this.getLayoutResult(p);x&&this.commitLayout(p,x),this.onAfterLayout(p,x),this._prevLayoutStrategy=p.strategy}attachHandlers(P,p){let{target:x}=p;return[W5,gV,GA,yV,g5,_V,k5,iV,Vv].map((h)=>P.on(h,(X)=>this.performLayout(h===W5?{type:"object_modified",trigger:h,e:X,target:x}:{type:"object_modifying",trigger:h,e:X,target:x})))}subscribe(P,p){this.unsubscribe(P,p);let x=this.attachHandlers(P,p);this._subscriptions.set(P,x)}unsubscribe(P,p){(this._subscriptions.get(P)||[]).forEach((x)=>x()),this._subscriptions.delete(P)}unsubscribeTargets(P){P.targets.forEach((p)=>this.unsubscribe(p,P))}subscribeTargets(P){P.targets.forEach((p)=>this.subscribe(p,P))}onBeforeLayout(P){let{target:p,type:x}=P,{canvas:h}=p;if(x===z8||x===c5?this.subscribeTargets(P):x===N9&&this.unsubscribeTargets(P),p.fire("layout:before",{context:P}),h&&h.fire("object:layout:before",{target:p,context:P}),x===v5&&P.deep){let X=t0(P,$U);p.forEachObject((H)=>H.layoutManager&&H.layoutManager.performLayout(d(d({},X),{},{bubbles:!1,target:H})))}}getLayoutResult(P){let{target:p,strategy:x,type:h}=P,X=x.calcLayoutResult(P,p.getObjects());if(!X)return;let H=h===z8?new O:p.getRelativeCenterPoint(),{center:A,correction:B=new O,relativeCorrection:f=new O}=X,D=H.subtract(A).add(B).transform(h===z8?tP:zp(p.calcOwnMatrix()),!0).add(f);return{result:X,prevCenter:H,nextCenter:A,offset:D}}commitLayout(P,p){let{target:x}=P,{result:{size:h},nextCenter:X}=p;var H,A;(x.set({width:h.x,height:h.y}),this.layoutObjects(P,p),P.type===z8)?x.set({left:(H=P.x)!==null&&H!==void 0?H:X.x+h.x*VP(x.originX),top:(A=P.y)!==null&&A!==void 0?A:X.y+h.y*VP(x.originY)}):(x.setPositionByOrigin(X,z0,z0),x.setCoords(),x.set("dirty",!0))}layoutObjects(P,p){let{target:x}=P;x.forEachObject((h)=>{h.group===x&&this.layoutObject(P,p,h)}),P.strategy.shouldLayoutClipPath(P)&&this.layoutObject(P,p,x.clipPath)}layoutObject(P,p,x){let{offset:h}=p;x.set({left:x.left+h.x,top:x.top+h.y})}onAfterLayout(P,p){let{target:x,strategy:h,bubbles:X,prevStrategy:H}=P,A=t0(P,LU),{canvas:B}=x;x.fire("layout:after",{context:P,result:p}),B&&B.fire("object:layout:after",{context:P,result:p,target:x});let f=x.parent;X&&f!=null&&f.layoutManager&&((A.path||(A.path=[])).push(x),f.layoutManager.performLayout(d(d({},A),{},{target:f}))),x.set("dirty",!0)}dispose(){let{_subscriptions:P}=this;P.forEach((p)=>p.forEach((x)=>x())),P.clear()}toObject(){return{type:gq,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}$0.setClass(kH,gq);var CU=["type","objects","layoutManager"];class yq extends kH{performLayout(){}}class T8 extends uV(SP){static getDefaults(){return d(d({},super.getDefaults()),T8.ownDefaults)}constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),K(this,"_activeObjects",[]),K(this,"__objectSelectionTracker",void 0),K(this,"__objectSelectionDisposer",void 0),Object.assign(this,T8.ownDefaults),this.setOptions(p),this.groupInit(P,p)}groupInit(P,p){var x;this._objects=[...P],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((h)=>{this.enterGroup(h,!1)}),this.layoutManager=(x=p.layoutManager)!==null&&x!==void 0?x:new kH,this.layoutManager.performLayout({type:z8,target:this,targets:[...P],x:p.left,y:p.top})}canEnterGroup(P){return P===this||this.isDescendantOf(P)?(wx("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(P)===-1||(wx("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(P){return P.filter((p,x,h)=>this.canEnterGroup(p)&&h.indexOf(p)===x)}add(){for(var P=arguments.length,p=new Array(P),x=0;x<P;x++)p[x]=arguments[x];let h=this._filterObjectsBeforeEnteringGroup(p),X=super.add(...h);return this._onAfterObjectsChange(c5,h),X}insertAt(P){for(var p=arguments.length,x=new Array(p>1?p-1:0),h=1;h<p;h++)x[h-1]=arguments[h];let X=this._filterObjectsBeforeEnteringGroup(x),H=super.insertAt(P,...X);return this._onAfterObjectsChange(c5,X),H}remove(){let P=super.remove(...arguments);return this._onAfterObjectsChange(N9,P),P}_onObjectAdded(P){this.enterGroup(P,!0),this.fire("object:added",{target:P}),P.fire("added",{target:this})}_onObjectRemoved(P,p){this.exitGroup(P,p),this.fire("object:removed",{target:P}),P.fire("removed",{target:this})}_onAfterObjectsChange(P,p){this.layoutManager.performLayout({type:P,targets:p,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(P,p){let x=this[P];return super._set(P,p),P==="canvas"&&x!==p&&(this._objects||[]).forEach((h)=>{h._set(P,p)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(P,p){let{target:x}=p,h=this._activeObjects;if(P)h.push(x),this._set("dirty",!0);else if(h.length>0){let X=h.indexOf(x);X>-1&&(h.splice(X,1),this._set("dirty",!0))}}_watchObject(P,p){P&&this._watchObject(!1,p),P?(p.on("selected",this.__objectSelectionTracker),p.on("deselected",this.__objectSelectionDisposer)):(p.off("selected",this.__objectSelectionTracker),p.off("deselected",this.__objectSelectionDisposer))}enterGroup(P,p){P.group&&P.group.remove(P),P._set("parent",this),this._enterGroup(P,p)}_enterGroup(P,p){p&&wH(P,ZP(zp(this.calcTransformMatrix()),P.calcTransformMatrix())),this._shouldSetNestedCoords()&&P.setCoords(),P._set("group",this),P._set("canvas",this.canvas),this._watchObject(!0,P);let x=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();x&&(x===P||P.isDescendantOf(x))&&this._activeObjects.push(P)}exitGroup(P,p){this._exitGroup(P,p),P._set("parent",void 0),P._set("canvas",void 0)}_exitGroup(P,p){P._set("group",void 0),p||(wH(P,ZP(this.calcTransformMatrix(),P.calcTransformMatrix())),P.setCoords()),this._watchObject(!1,P);let x=this._activeObjects.length>0?this._activeObjects.indexOf(P):-1;x>-1&&this._activeObjects.splice(x,1)}shouldCache(){let P=SP.prototype.shouldCache.call(this);if(P){for(let p=0;p<this._objects.length;p++)if(this._objects[p].willDrawShadow())return this.ownCaching=!1,!1}return P}willDrawShadow(){if(super.willDrawShadow())return!0;for(let P=0;P<this._objects.length;P++)if(this._objects[P].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(P,p,x){this._renderBackground(P);for(let X=0;X<this._objects.length;X++){var h;let H=this._objects[X];(h=this.canvas)!==null&&h!==void 0&&h.preserveObjectStacking&&H.group!==this?(P.save(),P.transform(...zp(this.calcTransformMatrix())),H.render(P),P.restore()):H.group===this&&H.render(P)}this._drawClipPath(P,this.clipPath,x)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject((P)=>P.setCoords())}triggerLayout(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(d({target:this,type:v5},P))}render(P){this._transformDone=!0,super.render(P),this._transformDone=!1}__serializeObjects(P,p){let x=this.includeDefaultValues;return this._objects.filter(function(h){return!h.excludeFromExport}).map(function(h){let X=h.includeDefaultValues;h.includeDefaultValues=x;let H=h[P||"toObject"](p);return h.includeDefaultValues=X,H})}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=this.layoutManager.toObject();return d(d(d({},super.toObject(["subTargetCheck","interactive",...P])),p.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:p}:{}),{},{objects:this.__serializeObjects("toObject",P)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((P)=>{this._watchObject(!1,P),P.dispose()}),super.dispose()}_createSVGBgRect(P){if(!this.backgroundColor)return"";let p=S1.prototype._toSVG.call(this),x=p.indexOf("COMMON_PARTS");p[x]='for="group" ';let h=p.join("");return P?P(h):h}_toSVG(P){let p=["<g ","COMMON_PARTS",` >
`],x=this._createSVGBgRect(P);x&&p.push("\t\t",x);for(let h=0;h<this._objects.length;h++)p.push("\t\t",this._objects[h].toSVG(P));return p.push(`</g>
`),p}getSvgStyles(){let P=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",p=this.visible?"":" visibility: hidden;";return[P,this.getSvgFilter(),p].join("")}toClipPathSVG(P){let p=[],x=this._createSVGBgRect(P);x&&p.push("\t",x);for(let h=0;h<this._objects.length;h++)p.push("\t",this._objects[h].toClipPathSVG(P));return this._createBaseClipPathSVGMarkup(p,{reviver:P})}static fromObject(P,p){let{type:x,objects:h=[],layoutManager:X}=P,H=t0(P,CU);return Promise.all([zH(h,p),gA(H,p)]).then((A)=>{let[B,f]=A,D=new this(B,d(d(d({},H),f),{},{layoutManager:new yq}));if(X){let Z=$0.getClass(X.type),L=$0.getClass(X.strategy);D.layoutManager=new Z(new L)}else D.layoutManager=new kH;return D.layoutManager.subscribeTargets({type:z8,target:D,targets:D.getObjects()}),D.setCoords(),D})}}K(T8,"type","Group"),K(T8,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),$0.setClass(T8);var _q=(P,p)=>Math.min(p.width/P.width,p.height/P.height),iq=(P,p)=>Math.max(p.width/P.width,p.height/P.height),D9="\\s*,?\\s*",kA="".concat(D9,"(").concat(D1,")"),FU="".concat(kA).concat(kA).concat(kA).concat(D9,"([01])").concat(D9,"([01])").concat(kA).concat(kA),bU={m:"l",M:"L"},MU=(P,p,x,h,X,H,A,B,f,D,Z)=>{let L=Z1(P),$=$1(P),C=Z1(p),Y=$1(p),V=x*X*C-h*H*Y+A,q=h*X*C+x*H*Y+B;return["C",D+f*(-x*X*$-h*H*L),Z+f*(-h*X*$+x*H*L),V+f*(x*X*Y+h*H*C),q+f*(h*X*Y-x*H*C),V,q]},RV=(P,p,x,h)=>{let X=Math.atan2(p,P),H=Math.atan2(h,x);return H>=X?H-X:2*Math.PI-(X-H)};function f9(P,p,x,h,X,H,A,B){let f;if(K0.cachesBoundsOfCurve&&(f=[...arguments].join(),dA.boundsOfCurveCache[f]))return dA.boundsOfCurveCache[f];let{sqrt:D,abs:Z}=Math,L=[],$=[[0,0],[0,0]],C=6*P-12*x+6*X,Y=-3*P+9*x-9*X+3*A,V=3*x-3*P;for(let Q=0;Q<2;++Q){if(Q>0&&(C=6*p-12*h+6*H,Y=-3*p+9*h-9*H+3*B,V=3*h-3*p),Z(Y)<0.000000000001){if(Z(C)<0.000000000001)continue;let S=-V/C;0<S&&S<1&&L.push(S);continue}let I=C*C-4*V*Y;if(I<0)continue;let j=D(I),k=(-C+j)/(2*Y);0<k&&k<1&&L.push(k);let w=(-C-j)/(2*Y);0<w&&w<1&&L.push(w)}let q=L.length,b=q,F=uq(P,p,x,h,X,H,A,B);for(;q--;){let{x:Q,y:I}=F(L[q]);$[0][q]=Q,$[1][q]=I}$[0][b]=P,$[1][b]=p,$[0][b+1]=A,$[1][b+1]=B;let M=[new O(Math.min(...$[0]),Math.min(...$[1])),new O(Math.max(...$[0]),Math.max(...$[1]))];return K0.cachesBoundsOfCurve&&(dA.boundsOfCurveCache[f]=M),M}var YU=(P,p,x)=>{let[h,X,H,A,B,f,D,Z]=x,L=(($,C,Y,V,q,b,F)=>{if(Y===0||V===0)return[];let M=0,Q=0,I=0,j=Math.PI,k=F*b9,w=$1(k),S=Z1(k),T=0.5*(-S*$-w*C),R=0.5*(-S*C+w*$),v=Y**2,J=V**2,N=R**2,c=T**2,r=v*J-v*N-J*c,e=Math.abs(Y),g=Math.abs(V);if(r<0){let m=Math.sqrt(1-r/(v*J));e*=m,g*=m}else I=(q===b?-1:1)*Math.sqrt(r/(v*N+J*c));let Q0=I*e*R/g,u=-I*g*T/e,L0=S*Q0-w*u+0.5*$,W=w*Q0+S*u+0.5*C,_=RV(1,0,(T-Q0)/e,(R-u)/g),P0=RV((T-Q0)/e,(R-u)/g,(-T-Q0)/e,(-R-u)/g);b===0&&P0>0?P0-=2*j:b===1&&P0<0&&(P0+=2*j);let i=Math.ceil(Math.abs(P0/j*2)),Z0=[],D0=P0/i,w0=2.6666666666666665*Math.sin(D0/4)*Math.sin(D0/4)/Math.sin(D0/2),V0=_+D0;for(let m=0;m<i;m++)Z0[m]=MU(_,V0,S,w,e,g,L0,W,w0,M,Q),M=Z0[m][5],Q=Z0[m][6],_=V0,V0+=D0;return Z0})(D-P,Z-p,X,H,B,f,A);for(let $=0,C=L.length;$<C;$++)L[$][1]+=P,L[$][2]+=p,L[$][3]+=P,L[$][4]+=p,L[$][5]+=P,L[$][6]+=p;return L},mq=(P)=>{let p=0,x=0,h=0,X=0,H=[],A,B=0,f=0;for(let D of P){let Z=[...D],L;switch(Z[0]){case"l":Z[1]+=p,Z[2]+=x;case"L":p=Z[1],x=Z[2],L=["L",p,x];break;case"h":Z[1]+=p;case"H":p=Z[1],L=["L",p,x];break;case"v":Z[1]+=x;case"V":x=Z[1],L=["L",p,x];break;case"m":Z[1]+=p,Z[2]+=x;case"M":p=Z[1],x=Z[2],h=Z[1],X=Z[2],L=["M",p,x];break;case"c":Z[1]+=p,Z[2]+=x,Z[3]+=p,Z[4]+=x,Z[5]+=p,Z[6]+=x;case"C":B=Z[3],f=Z[4],p=Z[5],x=Z[6],L=["C",Z[1],Z[2],B,f,p,x];break;case"s":Z[1]+=p,Z[2]+=x,Z[3]+=p,Z[4]+=x;case"S":A==="C"?(B=2*p-B,f=2*x-f):(B=p,f=x),p=Z[3],x=Z[4],L=["C",B,f,Z[1],Z[2],p,x],B=L[3],f=L[4];break;case"q":Z[1]+=p,Z[2]+=x,Z[3]+=p,Z[4]+=x;case"Q":B=Z[1],f=Z[2],p=Z[3],x=Z[4],L=["Q",B,f,p,x];break;case"t":Z[1]+=p,Z[2]+=x;case"T":A==="Q"?(B=2*p-B,f=2*x-f):(B=p,f=x),p=Z[1],x=Z[2],L=["Q",B,f,p,x];break;case"a":Z[6]+=p,Z[7]+=x;case"A":YU(p,x,Z).forEach(($)=>H.push($)),p=Z[6],x=Z[7];break;case"z":case"Z":p=h,x=X,L=["Z"]}L?(H.push(L),A=L[0]):A=""}return H},G5=(P,p,x,h)=>Math.sqrt((x-P)**2+(h-p)**2),uq=(P,p,x,h,X,H,A,B)=>(f)=>{let D=f**3,Z=((C)=>3*C**2*(1-C))(f),L=((C)=>3*C*(1-C)**2)(f),$=((C)=>(1-C)**3)(f);return new O(A*D+X*Z+x*L+P*$,B*D+H*Z+h*L+p*$)},oq=(P)=>P**2,aq=(P)=>2*P*(1-P),rq=(P)=>(1-P)**2,QU=(P,p,x,h,X,H,A,B)=>(f)=>{let D=oq(f),Z=aq(f),L=rq(f),$=3*(L*(x-P)+Z*(X-x)+D*(A-X)),C=3*(L*(h-p)+Z*(H-h)+D*(B-H));return Math.atan2(C,$)},VU=(P,p,x,h,X,H)=>(A)=>{let B=oq(A),f=aq(A),D=rq(A);return new O(X*B+x*f+P*D,H*B+h*f+p*D)},qU=(P,p,x,h,X,H)=>(A)=>{let B=1-A,f=2*(B*(x-P)+A*(X-x)),D=2*(B*(h-p)+A*(H-h));return Math.atan2(D,f)},cV=(P,p,x)=>{let h=new O(p,x),X=0;for(let H=1;H<=100;H+=1){let A=P(H/100);X+=G5(h.x,h.y,A.x,A.y),h=A}return X},IU=(P,p)=>{let x,h=0,X=0,H={x:P.x,y:P.y},A=d({},H),B=0.01,f=0,D=P.iterator,Z=P.angleFinder;for(;X<p&&B>0.0001;)A=D(h),f=h,x=G5(H.x,H.y,A.x,A.y),x+X>p?(h-=B,B/=2):(H=A,h+=B,X+=x);return d(d({},A),{},{angle:Z(f)})},O9=(P)=>{let p,x,h=0,X=0,H=0,A=0,B=0,f=[];for(let D of P){let Z={x:X,y:H,command:D[0],length:0};switch(D[0]){case"M":x=Z,x.x=A=X=D[1],x.y=B=H=D[2];break;case"L":x=Z,x.length=G5(X,H,D[1],D[2]),X=D[1],H=D[2];break;case"C":p=uq(X,H,D[1],D[2],D[3],D[4],D[5],D[6]),x=Z,x.iterator=p,x.angleFinder=QU(X,H,D[1],D[2],D[3],D[4],D[5],D[6]),x.length=cV(p,X,H),X=D[5],H=D[6];break;case"Q":p=VU(X,H,D[1],D[2],D[3],D[4]),x=Z,x.iterator=p,x.angleFinder=qU(X,H,D[1],D[2],D[3],D[4]),x.length=cV(p,X,H),X=D[3],H=D[4];break;case"Z":x=Z,x.destX=A,x.destY=B,x.length=G5(X,H,A,B),X=A,H=B}h+=x.length,f.push(x)}return f.push({length:h,x:X,y:H}),f},nq=function(P,p){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O9(P),h=0;for(;p-x[h].length>0&&h<x.length-2;)p-=x[h].length,h++;let X=x[h],H=p/X.length,A=P[h];switch(X.command){case"M":return{x:X.x,y:X.y,angle:0};case"Z":return d(d({},new O(X.x,X.y).lerp(new O(X.destX,X.destY),H)),{},{angle:Math.atan2(X.destY-X.y,X.destX-X.x)});case"L":return d(d({},new O(X.x,X.y).lerp(new O(A[1],A[2]),H)),{},{angle:Math.atan2(A[2]-X.y,A[1]-X.x)});case"C":case"Q":return IU(X,p)}},EU=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),vV=new RegExp(FU,"g"),zU=new RegExp(D1,"gi"),wU={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},sq=(P)=>{var p;let x=[],h=(p=P.match(EU))!==null&&p!==void 0?p:[];for(let X of h){let H=X[0];if(H==="z"||H==="Z"){x.push([H]);continue}let A=wU[H.toLowerCase()],B=[];if(H==="a"||H==="A"){vV.lastIndex=0;for(let f=null;f=vV.exec(X);)B.push(...f.slice(1))}else B=X.match(zU)||[];for(let f=0;f<B.length;f+=A){let D=new Array(A),Z=bU[H];D[0]=f>0&&Z?Z:H;for(let L=0;L<A;L++)D[L+1]=parseFloat(B[f+L]);x.push(D)}}return x},kU=function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=new O(P[0]),h=new O(P[1]),X=1,H=0,A=[],B=P.length,f=B>2,D;for(f&&(X=P[2].x<h.x?-1:P[2].x===h.x?0:1,H=P[2].y<h.y?-1:P[2].y===h.y?0:1),A.push(["M",x.x-X*p,x.y-H*p]),D=1;D<B;D++){if(!x.eq(h)){let Z=x.midPointFrom(h);A.push(["Q",x.x,x.y,Z.x,Z.y])}x=P[D],D+1<P.length&&(h=P[D+1])}return f&&(X=x.x>P[D-2].x?1:x.x===P[D-2].x?0:-1,H=x.y>P[D-2].y?1:x.y===P[D-2].y?0:-1),A.push(["L",x.x+X*p,x.y+H*p]),A},tq=(P,p)=>P.map((x)=>x.map((h,X)=>X===0||p===void 0?h:s0(h,p)).join(" ")).join(" ");function S5(P,p){let x=P.style;x&&p&&(typeof p=="string"?x.cssText+=";"+p:Object.entries(p).forEach((h)=>{let[X,H]=h;return x.setProperty(X,H)}))}var WU=(P,p)=>Math.floor(Math.random()*(p-P+1))+P;function TU(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=p.onComplete||ch,h=new(O5()).XMLHttpRequest,X=p.signal,H=function(){h.abort()},A=function(){X&&X.removeEventListener("abort",H),h.onerror=h.ontimeout=ch};if(X&&X.aborted)throw new F9("request");return X&&X.addEventListener("abort",H,{once:!0}),h.onreadystatechange=function(){h.readyState===4&&(A(),x(h),h.onreadystatechange=ch)},h.onerror=h.ontimeout=A,h.open("get",P,!0),h.send(),h}var jU=(P,p)=>{let x=P._findCenterFromElement();P.transformMatrix&&(((h)=>{if(h.transformMatrix){let{scaleX:X,scaleY:H,angle:A,skewX:B}=EH(h.transformMatrix);h.flipX=!1,h.flipY=!1,h.set(eP,X),h.set(wp,H),h.angle=A,h.skewX=B,h.skewY=0}})(P),x=x.transform(P.transformMatrix)),delete P.transformMatrix,p&&(P.scaleX*=p.scaleX,P.scaleY*=p.scaleY,P.cropX=p.cropX,P.cropY=p.cropY,x.x+=p.offsetLeft,x.y+=p.offsetTop,P.width=p.width,P.height=p.height),P.setPositionByOrigin(x,z0,z0)},SN=Object.freeze({__proto__:null,addTransformToObject:Xq,animate:c9,animateColor:Yq,applyTransformToObject:wH,calcAngleBetweenVectors:R5,calcDimensionsMatrix:OA,calcPlaneChangeMatrix:_A,calcVectorRotation:$q,cancelAnimFrame:oV,capValue:Uh,composeMatrix:tV,copyCanvasElement:(P)=>{var p;let x=L1(P);return(p=x.getContext("2d"))===null||p===void 0||p.drawImage(P,0,0),x},cos:Z1,createCanvasElement:rp,createImage:aV,createRotateMatrix:dH,createScaleMatrix:i5,createSkewXMatrix:z9,createSkewYMatrix:w9,createTranslateMatrix:JH,createVector:d5,crossProduct:qH,degreesToRadians:fP,dotProduct:Lq,ease:dv,enlivenObjectEnlivables:gA,enlivenObjects:zH,findScaleToCover:iq,findScaleToFit:_q,getBoundsOfCurve:f9,getOrthonormalVector:R9,getPathSegmentsInfo:O9,getPointOnPath:nq,getPointer:hq,getRandomInt:WU,getRegularPolygonPath:(P,p)=>{let x=2*Math.PI/P,h=-kx;P%2==0&&(h+=x/2);let X=new Array(P+1);for(let H=0;H<P;H++){let A=H*x+h,{x:B,y:f}=new O(Z1(A),$1(A)).scalarMultiply(p);X[H]=[H===0?"M":"L",B,f]}return X[P]=["Z"],X},getSmoothPathFromPoints:kU,getSvgAttributes:(P)=>{let p=["instantiated_by_use","style","id","class"];switch(P){case"linearGradient":return p.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return p.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return p.concat(["offset","stop-color","stop-opacity"])}return p},getUnitVector:a5,groupSVGElements:(P,p)=>P&&P.length===1?P[0]:new T8(P,p),hasStyleChanged:t5,invertTransform:zp,isBetweenVectors:p9,isIdentityMatrix:rV,isTouchEvent:j5,isTransparent:vq,joinPath:tq,loadImage:RA,magnitude:K5,makeBoundingBoxFromPoints:N1,makePathSimpler:mq,matrixToSVG:SA,mergeClipPaths:(P,p)=>{var x;let h=P,X=p;h.inverted&&!X.inverted&&(h=p,X=P),P9(X,(x=X.group)===null||x===void 0?void 0:x.calcTransformMatrix(),h.calcTransformMatrix());let H=h.inverted&&X.inverted;return H&&(h.inverted=X.inverted=!1),new T8([h],{clipPath:X,inverted:H})},multiplyTransformMatrices:ZP,multiplyTransformMatrixArray:_5,parsePath:sq,parsePreserveAspectRatioAttribute:eV,parseUnit:vh,pick:Gh,projectStrokeOnPoints:Uq,qrDecompose:EH,radiansToDegrees:Tx,removeFromArray:kh,removeTransformFromObject:(P,p)=>{let x=zp(p),h=ZP(x,P.calcOwnMatrix());wH(P,h)},removeTransformMatrixForSvgParsing:jU,request:TU,requestAnimFrame:KA,resetObjectTransform:Hq,rotatePoint:(P,p,x)=>P.rotate(x,p),rotateVector:K9,saveObjectTransform:T9,sendObjectToPlane:P9,sendPointToPlane:k8,sendVectorToPlane:Aq,setStyle:S5,sin:$1,sizeAfterTransform:m5,string:_v,stylesFromArray:lq,stylesToArray:Sq,toBlob:E9,toDataURL:I9,toFixed:s0,transformPath:(P,p,x)=>(x&&(p=ZP(p,[1,0,0,1,-x.x,-x.y])),P.map((h)=>{let X=[...h];for(let H=1;H<h.length-1;H+=2){let{x:A,y:B}=iP({x:h[H],y:h[H+1]},p);X[H]=A,X[H+1]=B}return X})),transformPoint:iP});class eq extends W9{constructor(P){let{allowTouchScrolling:p=!1,containerClass:x=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(P),K(this,"upper",void 0),K(this,"container",void 0);let{el:h}=this.lower,X=this.createUpperCanvas();this.upper={el:X,ctx:X.getContext("2d")},this.applyCanvasStyle(h,{allowTouchScrolling:p}),this.applyCanvasStyle(X,{allowTouchScrolling:p,styles:{position:"absolute",left:"0",top:"0"}});let H=this.createContainerElement();H.classList.add(x),h.parentNode&&h.parentNode.replaceChild(H,h),H.append(h,X),this.container=H}createUpperCanvas(){let{el:P}=this.lower,p=rp();return p.className=P.className,p.classList.remove("lower-canvas"),p.classList.add("upper-canvas"),p.setAttribute("data-fabric","top"),p.style.cssText=P.style.cssText,p.setAttribute("draggable","true"),p}createContainerElement(){let P=WH().createElement("div");return P.setAttribute("data-fabric","wrapper"),S5(P,{position:"relative"}),MV(P),P}applyCanvasStyle(P,p){let{styles:x,allowTouchScrolling:h}=p;S5(P,d(d({},x),{},{"touch-action":h?"manipulation":fp})),MV(P)}setDimensions(P,p){super.setDimensions(P,p);let{el:x,ctx:h}=this.upper;xq(x,h,P,p)}setCSSDimensions(P){super.setCSSDimensions(P),tZ(this.upper.el,P),tZ(this.container,P)}cleanupDOM(P){let p=this.container,{el:x}=this.lower,{el:h}=this.upper;super.cleanupDOM(P),p.removeChild(h),p.removeChild(x),p.parentNode&&p.parentNode.replaceChild(x,p)}dispose(){super.dispose(),O1().dispose(this.upper.el),delete this.upper,delete this.container}}class e5 extends yA{constructor(){super(...arguments),K(this,"targets",[]),K(this,"_hoveredTargets",[]),K(this,"_objectsToRender",void 0),K(this,"_currentTransform",null),K(this,"_groupSelector",null),K(this,"contextTopDirty",!1)}static getDefaults(){return d(d({},super.getDefaults()),e5.ownDefaults)}get upperCanvasEl(){var P;return(P=this.elements.upper)===null||P===void 0?void 0:P.el}get contextTop(){var P;return(P=this.elements.upper)===null||P===void 0?void 0:P.ctx}get wrapperEl(){return this.elements.container}initElements(P){this.elements=new eq(P,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(P){this._objectsToRender=void 0,super._onObjectAdded(P)}_onObjectRemoved(P){this._objectsToRender=void 0,P===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[P]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[P]}),P.fire("deselected",{target:P})),P===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(P)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){let P=this._activeObject;return!this.preserveObjectStacking&&P?this._objects.filter((p)=>!p.group&&p!==P).concat(P):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(P){P.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(P),this.contextTopDirty=!0),P.restore()}renderTop(){let P=this.contextTop;this.clearContext(P),this.renderTopLayer(P),this.fire("after:render",{ctx:P})}setTargetFindTolerance(P){P=Math.round(P),this.targetFindTolerance=P;let p=this.getRetinaScaling(),x=Math.ceil((2*P+1)*p);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=x,this.pixelFindContext.scale(p,p)}isTargetTransparent(P,p,x){let h=this.targetFindTolerance,X=this.pixelFindContext;this.clearContext(X),X.save(),X.translate(-p+h,-x+h),X.transform(...this.viewportTransform);let H=P.selectionBackgroundColor;P.selectionBackgroundColor="",P.render(X),P.selectionBackgroundColor=H,X.restore();let A=Math.round(h*this.getRetinaScaling());return vq(X,A,A,A)}_isSelectionKeyPressed(P){let p=this.selectionKey;return!!p&&(Array.isArray(p)?!!p.find((x)=>!!x&&P[x]===!0):P[p])}_shouldClearSelection(P,p){let x=this.getActiveObjects(),h=this._activeObject;return!!(!p||p&&h&&x.length>1&&x.indexOf(p)===-1&&h!==p&&!this._isSelectionKeyPressed(P)||p&&!p.evented||p&&!p.selectable&&h&&h!==p)}_shouldCenterTransform(P,p,x){if(!P)return;let h;return p===y5||p===eP||p===wp||p===GA?h=this.centeredScaling||P.centeredScaling:p===Q9&&(h=this.centeredRotation||P.centeredRotation),h?!x:x}_getOriginFromCorner(P,p){let x={x:P.originX,y:P.originY};return p?(["ml","tl","bl"].includes(p)?x.x=FP:["mr","tr","br"].includes(p)&&(x.x=G0),["tl","mt","tr"].includes(p)?x.y=sZ:["bl","mb","br"].includes(p)&&(x.y=Dp),x):x}_setupCurrentTransform(P,p,x){var h;let X=p.group?k8(this.getScenePoint(P),void 0,p.group.calcTransformMatrix()):this.getScenePoint(P),{key:H="",control:A}=p.getActiveControl()||{},B=x&&A?(h=A.getActionHandler(P,p,A))===null||h===void 0?void 0:h.bind(A):fq,f=(($,C,Y,V)=>{if(!C||!$)return"drag";let q=V.controls[C];return q.getActionName(Y,q,V)})(x,H,P,p),D=P[this.centeredKey],Z=this._shouldCenterTransform(p,f,D)?{x:z0,y:z0}:this._getOriginFromCorner(p,H),L={target:p,action:f,actionHandler:B,actionPerformed:!1,corner:H,scaleX:p.scaleX,scaleY:p.scaleY,skewX:p.skewX,skewY:p.skewY,offsetX:X.x-p.left,offsetY:X.y-p.top,originX:Z.x,originY:Z.y,ex:X.x,ey:X.y,lastX:X.x,lastY:X.y,theta:fP(p.angle),width:p.width,height:p.height,shiftKey:P.shiftKey,altKey:D,original:d(d({},T9(p)),{},{originX:Z.x,originY:Z.y})};this._currentTransform=L,this.fire("before:transform",{e:P,transform:L})}setCursor(P){this.upperCanvasEl.style.cursor=P}_drawSelection(P){let{x:p,y:x,deltaX:h,deltaY:X}=this._groupSelector,H=new O(p,x).transform(this.viewportTransform),A=new O(p+h,x+X).transform(this.viewportTransform),B=this.selectionLineWidth/2,f=Math.min(H.x,A.x),D=Math.min(H.y,A.y),Z=Math.max(H.x,A.x),L=Math.max(H.y,A.y);this.selectionColor&&(P.fillStyle=this.selectionColor,P.fillRect(f,D,Z-f,L-D)),this.selectionLineWidth&&this.selectionBorderColor&&(P.lineWidth=this.selectionLineWidth,P.strokeStyle=this.selectionBorderColor,f+=B,D+=B,Z-=B,L-=B,SP.prototype._setLineDash.call(this,P,this.selectionDashArray),P.strokeRect(f,D,Z-f,L-D))}findTarget(P){if(this.skipTargetFind)return;let p=this.getViewportPoint(P),x=this._activeObject,h=this.getActiveObjects();if(this.targets=[],x&&h.length>=1){if(x.findControl(p,j5(P)))return x;if(h.length>1&&this.searchPossibleTargets([x],p))return x;if(x===this.searchPossibleTargets([x],p)){if(this.preserveObjectStacking){let X=this.targets;this.targets=[];let H=this.searchPossibleTargets(this._objects,p);return P[this.altSelectionKey]&&H&&H!==x?(this.targets=X,x):H}return x}}return this.searchPossibleTargets(this._objects,p)}_pointIsInObjectSelectionArea(P,p){let x=P.getCoords(),h=this.getZoom(),X=P.padding/h;if(X){let[H,A,B,f]=x,D=Math.atan2(A.y-H.y,A.x-H.x),Z=Z1(D)*X,L=$1(D)*X,$=Z+L,C=Z-L;x=[new O(H.x-C,H.y-$),new O(A.x+$,A.y-C),new O(B.x+C,B.y+$),new O(f.x-$,f.y+C)]}return HP.isPointInPolygon(p,x)}_checkTarget(P,p){if(P&&P.visible&&P.evented&&this._pointIsInObjectSelectionArea(P,k8(p,void 0,this.viewportTransform))){if(!this.perPixelTargetFind&&!P.perPixelTargetFind||P.isEditing)return!0;if(!this.isTargetTransparent(P,p.x,p.y))return!0}return!1}_searchPossibleTargets(P,p){let x=P.length;for(;x--;){let h=P[x];if(this._checkTarget(h,p)){if(z5(h)&&h.subTargetCheck){let X=this._searchPossibleTargets(h._objects,p);X&&this.targets.push(X)}return h}}}searchPossibleTargets(P,p){let x=this._searchPossibleTargets(P,p);if(x&&z5(x)&&x.interactive&&this.targets[0]){let h=this.targets;for(let X=h.length-1;X>0;X--){let H=h[X];if(!z5(H)||!H.interactive)return H}return h[0]}return x}getViewportPoint(P){return this._pointer?this._pointer:this.getPointer(P,!0)}getScenePoint(P){return this._absolutePointer?this._absolutePointer:this.getPointer(P)}getPointer(P){let p=arguments.length>1&&arguments[1]!==void 0&&arguments[1],x=this.upperCanvasEl,h=x.getBoundingClientRect(),X=hq(P),H=h.width||0,A=h.height||0;H&&A||((Dp in h)&&(sZ in h)&&(A=Math.abs(h.top-h.bottom)),(FP in h)&&(G0 in h)&&(H=Math.abs(h.right-h.left))),this.calcOffset(),X.x=X.x-this._offset.left,X.y=X.y-this._offset.top,p||(X=k8(X,void 0,this.viewportTransform));let B=this.getRetinaScaling();B!==1&&(X.x/=B,X.y/=B);let f=H===0||A===0?new O(1,1):new O(x.width/H,x.height/A);return X.multiply(f)}_setDimensionsImpl(P,p){this._resetTransformEventData(),super._setDimensionsImpl(P,p),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=rp(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){let P=this._activeObject;return Wh(P)?P.getObjects():P?[P]:[]}_fireSelectionEvents(P,p){let x=!1,h=!1,X=this.getActiveObjects(),H=[],A=[];P.forEach((B)=>{X.includes(B)||(x=!0,B.fire("deselected",{e:p,target:B}),A.push(B))}),X.forEach((B)=>{P.includes(B)||(x=!0,B.fire("selected",{e:p,target:B}),H.push(B))}),P.length>0&&X.length>0?(h=!0,x&&this.fire("selection:updated",{e:p,selected:H,deselected:A})):X.length>0?(h=!0,this.fire("selection:created",{e:p,selected:H})):P.length>0&&(h=!0,this.fire("selection:cleared",{e:p,deselected:A})),h&&(this._objectsToRender=void 0)}setActiveObject(P,p){let x=this.getActiveObjects(),h=this._setActiveObject(P,p);return this._fireSelectionEvents(x,p),h}_setActiveObject(P,p){let x=this._activeObject;return x!==P&&(!(!this._discardActiveObject(p,P)&&this._activeObject)&&(!P.onSelect({e:p})&&(this._activeObject=P,Wh(P)&&x!==P&&P.set("canvas",this),P.setCoords(),!0)))}_discardActiveObject(P,p){let x=this._activeObject;return!!x&&(!x.onDeselect({e:P,object:p})&&(this._currentTransform&&this._currentTransform.target===x&&this.endCurrentTransform(P),Wh(x)&&x===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0))}discardActiveObject(P){let p=this.getActiveObjects(),x=this.getActiveObject();p.length&&this.fire("before:selection:cleared",{e:P,deselected:[x]});let h=this._discardActiveObject(P);return this._fireSelectionEvents(p,P),h}endCurrentTransform(P){let p=this._currentTransform;this._finalizeCurrentTransform(P),p&&p.target&&(p.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(P){let p=this._currentTransform,x=p.target,h={e:P,target:x,transform:p,action:p.action};x._scaling&&(x._scaling=!1),x.setCoords(),p.actionPerformed&&(this.fire("object:modified",h),x.fire(W5,h))}setViewportTransform(P){super.setViewportTransform(P);let p=this._activeObject;p&&p.setCoords()}destroy(){let P=this._activeObject;Wh(P)&&(P.removeAll(),P.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(P){let p=this._activeObject;p&&p._renderControls(P)}_toObject(P,p,x){let h=this._realizeGroupTransformOnObject(P),X=super._toObject(P,p,x);return P.set(h),X}_realizeGroupTransformOnObject(P){let{group:p}=P;if(p&&Wh(p)&&this._activeObject===p){let x=Gh(P,["angle","flipX","flipY",G0,eP,wp,TH,jH,Dp]);return Xq(P,p.calcOwnMatrix()),x}return{}}_setSVGObject(P,p,x){let h=this._realizeGroupTransformOnObject(p);super._setSVGObject(P,p,x),p.set(h)}}K(e5,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class PI{constructor(P){K(this,"targets",[]),K(this,"__disposer",void 0);let p=()=>{let{hiddenTextarea:h}=P.getActiveObject()||{};h&&h.focus()},x=P.upperCanvasEl;x.addEventListener("click",p),this.__disposer=()=>x.removeEventListener("click",p)}exitTextEditing(){this.target=void 0,this.targets.forEach((P)=>{P.isEditing&&P.exitEditing()})}add(P){this.targets.push(P)}remove(P){this.unregister(P),kh(this.targets,P)}register(P){this.target=P}unregister(P){P===this.target&&(this.target=void 0)}onMouseMove(P){var p;((p=this.target)===null||p===void 0?void 0:p.isEditing)&&this.target.updateSelectionOnMouseMove(P)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}var JU=["target","oldTarget","fireCanvas","e"],Ep={passive:!1},xH=(P,p)=>{let x=P.getViewportPoint(p),h=P.getScenePoint(p);return{viewportPoint:x,scenePoint:h,pointer:x,absolutePointer:h}},Ex=function(P){for(var p=arguments.length,x=new Array(p>1?p-1:0),h=1;h<p;h++)x[h-1]=arguments[h];return P.addEventListener(...x)},op=function(P){for(var p=arguments.length,x=new Array(p>1?p-1:0),h=1;h<p;h++)x[h-1]=arguments[h];return P.removeEventListener(...x)},dU={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class C1 extends e5{constructor(P){super(P,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),K(this,"_isClick",void 0),K(this,"textEditingManager",new PI(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach((p)=>{this[p]=this[p].bind(this)}),this.addOrRemove(Ex,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(P,p){let x=this.upperCanvasEl,h=this._getEventPrefix();P(pq(x),"resize",this._onResize),P(x,h+"down",this._onMouseDown),P(x,"".concat(h,"move"),this._onMouseMove,Ep),P(x,"".concat(h,"out"),this._onMouseOut),P(x,"".concat(h,"enter"),this._onMouseEnter),P(x,"wheel",this._onMouseWheel),P(x,"contextmenu",this._onContextMenu),P(x,"dblclick",this._onDoubleClick),P(x,"dragstart",this._onDragStart),P(x,"dragend",this._onDragEnd),P(x,"dragover",this._onDragOver),P(x,"dragenter",this._onDragEnter),P(x,"dragleave",this._onDragLeave),P(x,"drop",this._onDrop),this.enablePointerEvents||P(x,"touchstart",this._onTouchStart,Ep)}removeListeners(){this.addOrRemove(op,"remove");let P=this._getEventPrefix(),p=A1(this.upperCanvasEl);op(p,"".concat(P,"up"),this._onMouseUp),op(p,"touchend",this._onTouchEnd,Ep),op(p,"".concat(P,"move"),this._onMouseMove,Ep),op(p,"touchmove",this._onMouseMove,Ep),clearTimeout(this._willAddMouseDown)}_onMouseWheel(P){this.__onMouseWheel(P)}_onMouseOut(P){let p=this._hoveredTarget,x=d({e:P},xH(this,P));this.fire("mouse:out",d(d({},x),{},{target:p})),this._hoveredTarget=void 0,p&&p.fire("mouseout",d({},x)),this._hoveredTargets.forEach((h)=>{this.fire("mouse:out",d(d({},x),{},{target:h})),h&&h.fire("mouseout",d({},x))}),this._hoveredTargets=[]}_onMouseEnter(P){this._currentTransform||this.findTarget(P)||(this.fire("mouse:over",d({e:P},xH(this,P))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(P){this._isClick=!1;let p=this.getActiveObject();if(p&&p.onDragStart(P)){this._dragSource=p;let x={e:P,target:p};return this.fire("dragstart",x),p.fire("dragstart",x),void Ex(this.upperCanvasEl,"drag",this._onDragProgress)}eZ(P)}_renderDragEffects(P,p,x){let h=!1,X=this._dropTarget;X&&X!==p&&X!==x&&(X.clearContextTop(),h=!0),p==null||p.clearContextTop(),x!==p&&(x==null||x.clearContextTop());let H=this.contextTop;H.save(),H.transform(...this.viewportTransform),p&&(H.save(),p.transform(H),p.renderDragSourceEffect(P),H.restore(),h=!0),x&&(H.save(),x.transform(H),x.renderDropTargetEffect(P),H.restore(),h=!0),H.restore(),h&&(this.contextTopDirty=!0)}_onDragEnd(P){let p=!!P.dataTransfer&&P.dataTransfer.dropEffect!==fp,x=p?this._activeObject:void 0,h={e:P,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:p,dropTarget:x};op(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",h),this._dragSource&&this._dragSource.fire("dragend",h),delete this._dragSource,this._onMouseUp(P)}_onDragProgress(P){let p={e:P,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",p),this._dragSource&&this._dragSource.fire("drag",p)}findDragTargets(P){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(P)),targets:[...this.targets]}}_onDragOver(P){let{target:x,targets:h}=this.findDragTargets(P),X=this._dragSource,H={e:P,target:x,subTargets:h,dragSource:X,canDrop:!1,dropTarget:void 0},A;this.fire("dragover",H),this._fireEnterLeaveEvents(x,H),x&&(x.canDrop(P)&&(A=x),x.fire("dragover",H));for(let B=0;B<h.length;B++){let f=h[B];f.canDrop(P)&&(A=f),f.fire("dragover",H)}this._renderDragEffects(P,X,A),this._dropTarget=A}_onDragEnter(P){let{target:p,targets:x}=this.findDragTargets(P),h={e:P,target:p,subTargets:x,dragSource:this._dragSource};this.fire("dragenter",h),this._fireEnterLeaveEvents(p,h)}_onDragLeave(P){let p={e:P,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",p),this._fireEnterLeaveEvents(void 0,p),this._renderDragEffects(P,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(P){let{target:p,targets:x}=this.findDragTargets(P),h=this._basicEventHandler("drop:before",d({e:P,target:p,subTargets:x,dragSource:this._dragSource},xH(this,P)));h.didDrop=!1,h.dropTarget=void 0,this._basicEventHandler("drop",h),this.fire("drop:after",h)}_onContextMenu(P){let p=this.findTarget(P),x=this.targets||[],h=this._basicEventHandler("contextmenu:before",{e:P,target:p,subTargets:x});return this.stopContextMenu&&eZ(P),this._basicEventHandler("contextmenu",h),!1}_onDoubleClick(P){this._cacheTransformEventData(P),this._handleEvent(P,"dblclick"),this._resetTransformEventData()}getPointerId(P){let p=P.changedTouches;return p?p[0]&&p[0].identifier:this.enablePointerEvents?P.pointerId:-1}_isMainEvent(P){return P.isPrimary===!0||P.isPrimary!==!1&&(P.type==="touchend"&&P.touches.length===0||(!P.changedTouches||P.changedTouches[0].identifier===this.mainTouchId))}_onTouchStart(P){let p=!this.allowTouchScrolling,x=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(P)),this.__onMouseDown(P),(this.isDrawingMode||x&&this._target===x)&&(p=!0),p&&P.preventDefault(),this._resetTransformEventData();let h=this.upperCanvasEl,X=this._getEventPrefix(),H=A1(h);Ex(H,"touchend",this._onTouchEnd,Ep),p&&Ex(H,"touchmove",this._onMouseMove,Ep),op(h,"".concat(X,"down"),this._onMouseDown)}_onMouseDown(P){this.__onMouseDown(P),this._resetTransformEventData();let p=this.upperCanvasEl,x=this._getEventPrefix();op(p,"".concat(x,"move"),this._onMouseMove,Ep);let h=A1(p);Ex(h,"".concat(x,"up"),this._onMouseUp),Ex(h,"".concat(x,"move"),this._onMouseMove,Ep)}_onTouchEnd(P){if(P.touches.length>0)return;this.__onMouseUp(P),this._resetTransformEventData(),delete this.mainTouchId;let p=this._getEventPrefix(),x=A1(this.upperCanvasEl);op(x,"touchend",this._onTouchEnd,Ep),op(x,"touchmove",this._onMouseMove,Ep),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Ex(this.upperCanvasEl,"".concat(p,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(P){this.__onMouseUp(P),this._resetTransformEventData();let p=this.upperCanvasEl,x=this._getEventPrefix();if(this._isMainEvent(P)){let h=A1(this.upperCanvasEl);op(h,"".concat(x,"up"),this._onMouseUp),op(h,"".concat(x,"move"),this._onMouseMove,Ep),Ex(p,"".concat(x,"move"),this._onMouseMove,Ep)}}_onMouseMove(P){let p=this.getActiveObject();!this.allowTouchScrolling&&(!p||!p.shouldStartDragging(P))&&P.preventDefault&&P.preventDefault(),this.__onMouseMove(P)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(P){let p=this.getActiveObject();return!!p!=!!P||p&&P&&p!==P}__onMouseUp(P){var p;this._cacheTransformEventData(P),this._handleEvent(P,"up:before");let x=this._currentTransform,h=this._isClick,X=this._target,{button:H}=P;if(H)return(this.fireMiddleClick&&H===1||this.fireRightClick&&H===2)&&this._handleEvent(P,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(P);if(!this._isMainEvent(P))return;let A,B,f=!1;if(x&&(this._finalizeCurrentTransform(P),f=x.actionPerformed),!h){let D=X===this._activeObject;this.handleSelection(P),f||(f=this._shouldRender(X)||!D&&X===this._activeObject)}if(X){let D=X.findControl(this.getViewportPoint(P),j5(P)),{key:Z,control:L}=D||{};if(B=Z,X.selectable&&X!==this._activeObject&&X.activeOn==="up")this.setActiveObject(X,P),f=!0;else if(L){let $=L.getMouseUpHandler(P,X,L);$&&(A=this.getScenePoint(P),$.call(L,P,x,A.x,A.y))}X.isMoving=!1}if(x&&(x.target!==X||x.corner!==B)){let D=x.target&&x.target.controls[x.corner],Z=D&&D.getMouseUpHandler(P,x.target,D);A=A||this.getScenePoint(P),Z&&Z.call(D,P,x,A.x,A.y)}this._setCursorFromEvent(P,X),this._handleEvent(P,"up"),this._groupSelector=null,this._currentTransform=null,X&&(X.__corner=void 0),f?this.requestRenderAll():h||(p=this._activeObject)!==null&&p!==void 0&&p.isEditing||this.renderTop()}_basicEventHandler(P,p){let{target:x,subTargets:h=[]}=p;this.fire(P,p),x&&x.fire(P,p);for(let X=0;X<h.length;X++)h[X]!==x&&h[X].fire(P,p);return p}_handleEvent(P,p){let x=this._target,h=this.targets||[],X=d(d({e:P,target:x,subTargets:h},xH(this,P)),{},{transform:this._currentTransform},p==="up:before"||p==="up"?{isClick:this._isClick,currentTarget:this.findTarget(P),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(p),X),x&&x.fire("mouse".concat(p),X);for(let H=0;H<h.length;H++)h[H]!==x&&h[H].fire("mouse".concat(p),X)}_onMouseDownInDrawingMode(P){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(P),this.requestRenderAll());let p=this.getScenePoint(P);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(p,{e:P,pointer:p}),this._handleEvent(P,"down")}_onMouseMoveInDrawingMode(P){if(this._isCurrentlyDrawing){let p=this.getScenePoint(P);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(p,{e:P,pointer:p})}this.setCursor(this.freeDrawingCursor),this._handleEvent(P,"move")}_onMouseUpInDrawingMode(P){let p=this.getScenePoint(P);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:P,pointer:p}):this._isCurrentlyDrawing=!1,this._handleEvent(P,"up")}__onMouseDown(P){this._isClick=!0,this._cacheTransformEventData(P),this._handleEvent(P,"down:before");let p=this._target,{button:x}=P;if(x)return(this.fireMiddleClick&&x===1||this.fireRightClick&&x===2)&&this._handleEvent(P,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(P);if(!this._isMainEvent(P))return;if(this._currentTransform)return;let h=this._shouldRender(p),X=!1;if(this.handleMultiSelection(P,p)?(p=this._activeObject,X=!0,h=!0):this._shouldClearSelection(P,p)&&this.discardActiveObject(P),this.selection&&(!p||!p.selectable&&!p.isEditing&&p!==this._activeObject)){let H=this.getScenePoint(P);this._groupSelector={x:H.x,y:H.y,deltaY:0,deltaX:0}}if(p){let H=p===this._activeObject;p.selectable&&p.activeOn==="down"&&this.setActiveObject(p,P);let A=p.findControl(this.getViewportPoint(P),j5(P));if(p===this._activeObject&&(A||!X)){this._setupCurrentTransform(P,p,H);let B=A?A.control:void 0,f=this.getScenePoint(P),D=B&&B.getMouseDownHandler(P,p,B);D&&D.call(B,P,this._currentTransform,f.x,f.y)}}h&&(this._objectsToRender=void 0),this._handleEvent(P,"down"),h&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(P){this._resetTransformEventData(),this._pointer=this.getViewportPoint(P),this._absolutePointer=k8(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(P)}__onMouseMove(P){if(this._isClick=!1,this._cacheTransformEventData(P),this._handleEvent(P,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(P);if(!this._isMainEvent(P))return;let p=this._groupSelector;if(p){let x=this.getScenePoint(P);p.deltaX=x.x-p.x,p.deltaY=x.y-p.y,this.renderTop()}else if(this._currentTransform)this._transformObject(P);else{let x=this.findTarget(P);this._setCursorFromEvent(P,x),this._fireOverOutEvents(P,x)}this.textEditingManager.onMouseMove(P),this._handleEvent(P,"move"),this._resetTransformEventData()}_fireOverOutEvents(P,p){let x=this._hoveredTarget,h=this._hoveredTargets,X=this.targets,H=Math.max(h.length,X.length);this.fireSyntheticInOutEvents("mouse",{e:P,target:p,oldTarget:x,fireCanvas:!0});for(let A=0;A<H;A++)this.fireSyntheticInOutEvents("mouse",{e:P,target:X[A],oldTarget:h[A]});this._hoveredTarget=p,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(P,p){let x=this._draggedoverTarget,h=this._hoveredTargets,X=this.targets,H=Math.max(h.length,X.length);this.fireSyntheticInOutEvents("drag",d(d({},p),{},{target:P,oldTarget:x,fireCanvas:!0}));for(let A=0;A<H;A++)this.fireSyntheticInOutEvents("drag",d(d({},p),{},{target:X[A],oldTarget:h[A]}));this._draggedoverTarget=P}fireSyntheticInOutEvents(P,p){let{target:x,oldTarget:h,fireCanvas:X,e:H}=p,A=t0(p,JU),{targetIn:B,targetOut:f,canvasIn:D,canvasOut:Z}=dU[P],L=h!==x;if(h&&L){let $=d(d({},A),{},{e:H,target:h,nextTarget:x},xH(this,H));X&&this.fire(Z,$),h.fire(f,$)}if(x&&L){let $=d(d({},A),{},{e:H,target:x,previousTarget:h},xH(this,H));X&&this.fire(D,$),x.fire(B,$)}}__onMouseWheel(P){this._cacheTransformEventData(P),this._handleEvent(P,"wheel"),this._resetTransformEventData()}_transformObject(P){let p=this.getScenePoint(P),x=this._currentTransform,h=x.target,X=h.group?k8(p,void 0,h.group.calcTransformMatrix()):p;x.shiftKey=P.shiftKey,x.altKey=!!this.centeredKey&&P[this.centeredKey],this._performTransformAction(P,x,X),x.actionPerformed&&this.requestRenderAll()}_performTransformAction(P,p,x){let{action:h,actionHandler:X,target:H}=p,A=!!X&&X(P,p,x.x,x.y);A&&H.setCoords(),h==="drag"&&A&&(p.target.isMoving=!0,this.setCursor(p.target.moveCursor||this.moveCursor)),p.actionPerformed=p.actionPerformed||A}_setCursorFromEvent(P,p){if(!p)return void this.setCursor(this.defaultCursor);let x=p.hoverCursor||this.hoverCursor,h=Wh(this._activeObject)?this._activeObject:null,X=(!h||p.group!==h)&&p.findControl(this.getViewportPoint(P));if(X){let H=X.control;this.setCursor(H.cursorStyleHandler(P,H,p))}else p.subTargetCheck&&this.targets.concat().reverse().map((H)=>{x=H.hoverCursor||x}),this.setCursor(x)}handleMultiSelection(P,p){let x=this._activeObject,h=Wh(x);if(x&&this._isSelectionKeyPressed(P)&&this.selection&&p&&p.selectable&&(x!==p||h)&&(h||!p.isDescendantOf(x)&&!x.isDescendantOf(p))&&!p.onSelect({e:P})&&!x.getActiveControl()){if(h){let X=x.getObjects();if(p===x){let H=this.getViewportPoint(P);if(!(p=this.searchPossibleTargets(X,H)||this.searchPossibleTargets(this._objects,H))||!p.selectable)return!1}p.group===x?(x.remove(p),this._hoveredTarget=p,this._hoveredTargets=[...this.targets],x.size()===1&&this._setActiveObject(x.item(0),P)):(x.multiSelectAdd(p),this._hoveredTarget=x,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(X,P)}else{x.isEditing&&x.exitEditing();let X=new($0.getClass("ActiveSelection"))([],{canvas:this});X.multiSelectAdd(x,p),this._hoveredTarget=X,this._setActiveObject(X,P),this._fireSelectionEvents([x],P)}return!0}return!1}handleSelection(P){if(!this.selection||!this._groupSelector)return!1;let{x:p,y:x,deltaX:h,deltaY:X}=this._groupSelector,H=new O(p,x),A=H.add(new O(h,X)),B=H.min(A),f=H.max(A).subtract(B),D=this.collectObjects({left:B.x,top:B.y,width:f.x,height:f.y},{includeIntersecting:!this.selectionFullyContained}),Z=H.eq(A)?D[0]?[D[0]]:[]:D.length>1?D.filter((L)=>!L.onSelect({e:P})).reverse():D;if(Z.length===1)this.setActiveObject(Z[0],P);else if(Z.length>1){let L=$0.getClass("ActiveSelection");this.setActiveObject(new L(Z,{canvas:this}),P)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}var pI={x1:0,y1:0,x2:0,y2:0},KU=d(d({},pI),{},{r1:0,r2:0}),XH=(P,p)=>isNaN(P)&&typeof p=="number"?p:P,RU=/^(\d+\.\d+)%|(\d+)%$/;function xI(P){return P&&RU.test(P)}function hI(P,p){let x=typeof P=="number"?P:typeof P=="string"?parseFloat(P)/(xI(P)?100:1):NaN;return Uh(0,XH(x,p),1)}var cU=/\s*;\s*/,vU=/\s*:\s*/;function UU(P,p){let x,h,X=P.getAttribute("style");if(X){let A=X.split(cU);A[A.length-1]===""&&A.pop();for(let B=A.length;B--;){let[f,D]=A[B].split(vU).map((Z)=>Z.trim());f==="stop-color"?x=D:f==="stop-opacity"&&(h=D)}}let H=new l0(x||P.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:hI(P.getAttribute("offset"),0),color:H.toRgb(),opacity:XH(parseFloat(h||P.getAttribute("stop-opacity")||""),1)*H.getAlpha()*p}}function GU(P,p){let x=[],h=P.getElementsByTagName("stop"),X=hI(p,1);for(let H=h.length;H--;)x.push(UU(h[H],X));return x}function XI(P){return P.nodeName==="linearGradient"||P.nodeName==="LINEARGRADIENT"?"linear":"radial"}function HI(P){return P.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function X1(P,p){return P.getAttribute(p)}function SU(P,p){return function(x,h){let X,{width:H,height:A,gradientUnits:B}=h;return Object.keys(x).reduce((f,D)=>{let Z=x[D];return Z==="Infinity"?X=1:Z==="-Infinity"?X=0:(X=typeof Z=="string"?parseFloat(Z):Z,typeof Z=="string"&&xI(Z)&&(X*=0.01,B==="pixels"&&(D!=="x1"&&D!=="x2"&&D!=="r2"||(X*=H),D!=="y1"&&D!=="y2"||(X*=A)))),f[D]=X,f},{})}(XI(P)==="linear"?function(x){return{x1:X1(x,"x1")||0,y1:X1(x,"y1")||0,x2:X1(x,"x2")||"100%",y2:X1(x,"y2")||0}}(P):function(x){return{x1:X1(x,"fx")||X1(x,"cx")||"50%",y1:X1(x,"fy")||X1(x,"cy")||"50%",r1:0,x2:X1(x,"cx")||"50%",y2:X1(x,"cy")||"50%",r2:X1(x,"r")||"50%"}}(P),d(d({},p),{},{gradientUnits:HI(P)}))}class jA{constructor(P){let{type:p="linear",gradientUnits:x="pixels",coords:h={},colorStops:X=[],offsetX:H=0,offsetY:A=0,gradientTransform:B,id:f}=P||{};Object.assign(this,{type:p,gradientUnits:x,coords:d(d({},p==="radial"?KU:pI),h),colorStops:X,offsetX:H,offsetY:A,gradientTransform:B,id:f?"".concat(f,"_").concat(Wx()):Wx()})}addColorStop(P){for(let p in P){let x=new l0(P[p]);this.colorStops.push({offset:parseFloat(p),color:x.toRgb(),opacity:x.getAlpha()})}return this}toObject(P){return d(d({},Gh(this,P)),{},{type:this.type,coords:d({},this.coords),colorStops:this.colorStops.map((p)=>d({},p)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(P){let{additionalTransform:p}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=[],h=this.gradientTransform?this.gradientTransform.concat():tP.concat(),X=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",H=this.colorStops.map((Z)=>d({},Z)).sort((Z,L)=>Z.offset-L.offset),A=-this.offsetX,B=-this.offsetY;var f;X==="objectBoundingBox"?(A/=P.width,B/=P.height):(A+=P.width/2,B+=P.height/2),(f=P)&&typeof f._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(A-=P.pathOffset.x,B-=P.pathOffset.y),h[4]-=A,h[5]-=B;let D=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(X,'"'),'gradientTransform="'.concat(p?p+" ":"").concat(SA(h),'"'),""].join(" ");if(this.type==="linear"){let{x1:Z,y1:L,x2:$,y2:C}=this.coords;x.push("<linearGradient ",D,' x1="',Z,'" y1="',L,'" x2="',$,'" y2="',C,`">
`)}else if(this.type==="radial"){let{x1:Z,y1:L,x2:$,y2:C,r1:Y,r2:V}=this.coords,q=Y>V;x.push("<radialGradient ",D,' cx="',q?Z:$,'" cy="',q?L:C,'" r="',q?Y:V,'" fx="',q?$:Z,'" fy="',q?C:L,`">
`),q&&(H.reverse(),H.forEach((F)=>{F.offset=1-F.offset}));let b=Math.min(Y,V);if(b>0){let F=b/Math.max(Y,V);H.forEach((M)=>{M.offset+=F*(1-M.offset)})}}return H.forEach((Z)=>{let{color:L,offset:$,opacity:C}=Z;x.push("<stop ",'offset="',100*$+"%",'" style="stop-color:',L,C!==void 0?";stop-opacity: "+C:";",`"/>
`)}),x.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),x.join("")}toLive(P){let{x1:p,y1:x,x2:h,y2:X,r1:H,r2:A}=this.coords,B=this.type==="linear"?P.createLinearGradient(p,x,h,X):P.createRadialGradient(p,x,H,h,X,A);return this.colorStops.forEach((f)=>{let{color:D,opacity:Z,offset:L}=f;B.addColorStop(L,Z!==void 0?new l0(D).setAlpha(Z).toRgba():D)}),B}static async fromObject(P){let{colorStops:p,gradientTransform:x}=P;return new this(d(d({},P),{},{colorStops:p?p.map((h)=>d({},h)):void 0,gradientTransform:x?[...x]:void 0}))}static fromElement(P,p,x){let h=HI(P),X=p._findCenterFromElement();return new this(d({id:P.getAttribute("id")||void 0,type:XI(P),coords:SU(P,{width:x.viewBoxWidth||x.width,height:x.viewBoxHeight||x.height}),colorStops:GU(P,x.opacity),gradientUnits:h,gradientTransform:B9(P.getAttribute("gradientTransform")||"")},h==="pixels"?{offsetX:p.width/2-X.x,offsetY:p.height/2-X.y}:{offsetX:0,offsetY:0}))}}K(jA,"type","Gradient"),$0.setClass(jA,"gradient"),$0.setClass(jA,"linear"),$0.setClass(jA,"radial");var lU=["type","source","patternTransform"];class w5{get type(){return"pattern"}set type(P){wx("warn","Setting type has no effect",P)}constructor(P){K(this,"repeat","repeat"),K(this,"offsetX",0),K(this,"offsetY",0),K(this,"crossOrigin",""),this.id=Wx(),Object.assign(this,P)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(P){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?P.createPattern(this.source,this.repeat):null}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{repeat:p,crossOrigin:x}=this;return d(d({},Gh(this,P)),{},{type:"pattern",source:this.sourceToString(),repeat:p,crossOrigin:x,offsetX:s0(this.offsetX,K0.NUM_FRACTION_DIGITS),offsetY:s0(this.offsetY,K0.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(P){let{width:p,height:x}=P,{source:h,repeat:X,id:H}=this,A=XH(this.offsetX/p,0),B=XH(this.offsetY/x,0),f=X==="repeat-y"||X==="no-repeat"?1+Math.abs(A||0):XH(h.width/p,0),D=X==="repeat-x"||X==="no-repeat"?1+Math.abs(B||0):XH(h.height/x,0);return['<pattern id="SVGID_'.concat(H,'" x="').concat(A,'" y="').concat(B,'" width="').concat(f,'" height="').concat(D,'">'),'<image x="0" y="0" width="'.concat(h.width,'" height="').concat(h.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(P,p){let{type:x,source:h,patternTransform:X}=P,H=t0(P,lU),A=await RA(h,d(d({},p),{},{crossOrigin:H.crossOrigin}));return new this(d(d({},H),{},{patternTransform:X&&X.slice(0),source:A}))}}K(w5,"type","Pattern"),$0.setClass(w5),$0.setClass(w5,"pattern");var NU=["path","left","top"],OU=["d"];class Th extends SP{constructor(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:x,left:h,top:X}=p,H=t0(p,NU);super(),Object.assign(this,Th.ownDefaults),this.setOptions(H),this._setPath(P||[],!0),typeof h=="number"&&this.set(G0,h),typeof X=="number"&&this.set(Dp,X)}_setPath(P,p){this.path=mq(Array.isArray(P)?P:sq(P)),this.setBoundingBox(p)}_findCenterFromElement(){let P=this._calcBoundsFromPath();return new O(P.left+P.width/2,P.top+P.height/2)}_renderPathCommands(P){let p=-this.pathOffset.x,x=-this.pathOffset.y;P.beginPath();for(let h of this.path)switch(h[0]){case"L":P.lineTo(h[1]+p,h[2]+x);break;case"M":P.moveTo(h[1]+p,h[2]+x);break;case"C":P.bezierCurveTo(h[1]+p,h[2]+x,h[3]+p,h[4]+x,h[5]+p,h[6]+x);break;case"Q":P.quadraticCurveTo(h[1]+p,h[2]+x,h[3]+p,h[4]+x);break;case"Z":P.closePath()}}_render(P){this._renderPathCommands(P),this._renderPaintInOrder(P)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return d(d({},super.toObject(P)),{},{path:this.path.map((p)=>p.slice())})}toDatalessObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=this.toObject(P);return this.sourcePath&&(delete p.path,p.sourcePath=this.sourcePath),p}_toSVG(){let P=tq(this.path,K0.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(P,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){let P=K0.NUM_FRACTION_DIGITS;return" translate(".concat(s0(-this.pathOffset.x,P),", ").concat(s0(-this.pathOffset.y,P),")")}toClipPathSVG(P){let p=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:P,additionalTransform:p})}toSVG(P){let p=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:P,additionalTransform:p})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(P){let{width:p,height:x,pathOffset:h}=this._calcDimensions();this.set({width:p,height:x,pathOffset:h}),P&&this.setPositionByOrigin(h,z0,z0)}_calcBoundsFromPath(){let P=[],p=0,x=0,h=0,X=0;for(let H of this.path)switch(H[0]){case"L":h=H[1],X=H[2],P.push({x:p,y:x},{x:h,y:X});break;case"M":h=H[1],X=H[2],p=h,x=X;break;case"C":P.push(...f9(h,X,H[1],H[2],H[3],H[4],H[5],H[6])),h=H[5],X=H[6];break;case"Q":P.push(...f9(h,X,H[1],H[2],H[1],H[2],H[3],H[4])),h=H[3],X=H[4];break;case"Z":h=p,X=x}return N1(P)}_calcDimensions(){let P=this._calcBoundsFromPath();return d(d({},P),{},{pathOffset:new O(P.left+P.width/2,P.top+P.height/2)})}static fromObject(P){return this._fromObject(P,{extraParam:"path"})}static async fromElement(P,p,x){let h=d8(P,this.ATTRIBUTE_NAMES,x),{d:X}=h;return new this(X,d(d(d({},t0(h,OU)),p),{},{left:void 0,top:void 0}))}}K(Th,"type","Path"),K(Th,"cacheProperties",[...J8,"path","fillRule"]),K(Th,"ATTRIBUTE_NAMES",[...dx,"d"]),$0.setClass(Th),$0.setSVGClass(Th);var gU=["left","top","radius"],AI=["radius","startAngle","endAngle","counterClockwise"];class I8 extends SP{static getDefaults(){return d(d({},super.getDefaults()),I8.ownDefaults)}constructor(P){super(),Object.assign(this,I8.ownDefaults),this.setOptions(P)}_set(P,p){return super._set(P,p),P==="radius"&&this.setRadius(p),this}_render(P){P.beginPath(),P.arc(0,0,this.radius,fP(this.startAngle),fP(this.endAngle),this.counterClockwise),this._renderPaintInOrder(P)}getRadiusX(){return this.get("radius")*this.get(eP)}getRadiusY(){return this.get("radius")*this.get(wp)}setRadius(P){this.radius=P,this.set({width:2*P,height:2*P})}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...AI,...P])}_toSVG(){let P=(this.endAngle-this.startAngle)%360;if(P===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{let{radius:p}=this,x=fP(this.startAngle),h=fP(this.endAngle),X=Z1(x)*p,H=$1(x)*p,A=Z1(h)*p,B=$1(h)*p,f=P>180?1:0,D=this.counterClockwise?0:1;return['<path d="M '.concat(X," ").concat(H," A ").concat(p," ").concat(p," 0 ").concat(f," ").concat(D," ").concat(A," ").concat(B,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(P,p,x){let h=d8(P,this.ATTRIBUTE_NAMES,x),{left:X=0,top:H=0,radius:A=0}=h;return new this(d(d({},t0(h,gU)),{},{radius:A,left:X-A,top:H-A}))}static fromObject(P){return super._fromObject(P)}}K(I8,"type","Circle"),K(I8,"cacheProperties",[...J8,...AI]),K(I8,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),K(I8,"ATTRIBUTE_NAMES",["cx","cy","r",...dx]),$0.setClass(I8),$0.setSVGClass(I8);var yU=["x1","y1","x2","y2"],_U=["x1","y1","x2","y2"],Z9=["x1","x2","y1","y2"];class jh extends SP{constructor(){let[P,p,x,h]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,jh.ownDefaults),this.setOptions(X),this.x1=P,this.x2=x,this.y1=p,this.y2=h,this._setWidthHeight();let{left:H,top:A}=X;typeof H=="number"&&this.set(G0,H),typeof A=="number"&&this.set(Dp,A)}_setWidthHeight(){let{x1:P,y1:p,x2:x,y2:h}=this;this.width=Math.abs(x-P),this.height=Math.abs(h-p);let{left:X,top:H,width:A,height:B}=N1([{x:P,y:p},{x,y:h}]),f=new O(X+A/2,H+B/2);this.setPositionByOrigin(f,z0,z0)}_set(P,p){return super._set(P,p),Z9.includes(P)&&this._setWidthHeight(),this}_render(P){P.beginPath();let p=this.calcLinePoints();P.moveTo(p.x1,p.y1),P.lineTo(p.x2,p.y2),P.lineWidth=this.strokeWidth;let x=P.strokeStyle;var h;ap(this.stroke)?P.strokeStyle=this.stroke.toLive(P):P.strokeStyle=(h=this.stroke)!==null&&h!==void 0?h:P.fillStyle,this.stroke&&this._renderStroke(P),P.strokeStyle=x}_findCenterFromElement(){return new O((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return d(d({},super.toObject(P)),this.calcLinePoints())}_getNonTransformedDimensions(){let P=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(P.y-=this.strokeWidth),this.height===0&&(P.x-=this.strokeWidth)),P}calcLinePoints(){let{x1:P,x2:p,y1:x,y2:h,width:X,height:H}=this,A=P<=p?-1:1,B=x<=h?-1:1;return{x1:A*X/2,x2:A*-X/2,y1:B*H/2,y2:B*-H/2}}_toSVG(){let{x1:P,x2:p,y1:x,y2:h}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(P,'" y1="').concat(x,'" x2="').concat(p,'" y2="').concat(h,`" />
`)]}static async fromElement(P,p,x){let h=d8(P,this.ATTRIBUTE_NAMES,x),{x1:X=0,y1:H=0,x2:A=0,y2:B=0}=h;return new this([X,H,A,B],t0(h,yU))}static fromObject(P){let{x1:p,y1:x,x2:h,y2:X}=P,H=t0(P,_U);return this._fromObject(d(d({},H),{},{points:[p,x,h,X]}),{extraParam:"points"})}}K(jh,"type","Line"),K(jh,"cacheProperties",[...J8,...Z9]),K(jh,"ATTRIBUTE_NAMES",dx.concat(Z9)),$0.setClass(jh),$0.setSVGClass(jh);class dh extends SP{static getDefaults(){return d(d({},super.getDefaults()),dh.ownDefaults)}constructor(P){super(),Object.assign(this,dh.ownDefaults),this.setOptions(P)}_render(P){let p=this.width/2,x=this.height/2;P.beginPath(),P.moveTo(-p,x),P.lineTo(0,-x),P.lineTo(p,x),P.closePath(),this._renderPaintInOrder(P)}_toSVG(){let P=this.width/2,p=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-P," ").concat(p,",0 ").concat(-p,",").concat(P," ").concat(p),'" />']}}K(dh,"type","Triangle"),K(dh,"ownDefaults",{width:100,height:100}),$0.setClass(dh),$0.setSVGClass(dh);var BI=["rx","ry"];class E8 extends SP{static getDefaults(){return d(d({},super.getDefaults()),E8.ownDefaults)}constructor(P){super(),Object.assign(this,E8.ownDefaults),this.setOptions(P)}_set(P,p){switch(super._set(P,p),P){case"rx":this.rx=p,this.set("width",2*p);break;case"ry":this.ry=p,this.set("height",2*p)}return this}getRx(){return this.get("rx")*this.get(eP)}getRy(){return this.get("ry")*this.get(wp)}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...BI,...P])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(P){P.beginPath(),P.save(),P.transform(1,0,0,this.ry/this.rx,0,0),P.arc(0,0,this.rx,0,j8,!1),P.restore(),this._renderPaintInOrder(P)}static async fromElement(P,p,x){let h=d8(P,this.ATTRIBUTE_NAMES,x);return h.left=(h.left||0)-h.rx,h.top=(h.top||0)-h.ry,new this(h)}}function iU(P){if(!P)return[];let p=P.replace(/,/g," ").trim().split(/\s+/),x=[];for(let h=0;h<p.length;h+=2)x.push({x:parseFloat(p[h]),y:parseFloat(p[h+1])});return x}K(E8,"type","Ellipse"),K(E8,"cacheProperties",[...J8,...BI]),K(E8,"ownDefaults",{rx:0,ry:0}),K(E8,"ATTRIBUTE_NAMES",[...dx,"cx","cy","rx","ry"]),$0.setClass(E8),$0.setSVGClass(E8);var mU=["left","top"],DI={exactBoundingBox:!1};class H1 extends SP{static getDefaults(){return d(d({},super.getDefaults()),H1.ownDefaults)}constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),K(this,"strokeDiff",void 0),Object.assign(this,H1.ownDefaults),this.setOptions(p),this.points=P;let{left:x,top:h}=p;this.initialized=!0,this.setBoundingBox(!0),typeof x=="number"&&this.set(G0,x),typeof h=="number"&&this.set(Dp,h)}isOpen(){return!0}_projectStrokeOnPoints(P){return Uq(this.points,P,this.isOpen())}_calcDimensions(P){P=d({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},P||{});let p=this.exactBoundingBox?this._projectStrokeOnPoints(P).map((f)=>f.projectedPoint):this.points;if(p.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new O,strokeOffset:new O,strokeDiff:new O};let x=N1(p),h=OA(d(d({},P),{},{scaleX:1,scaleY:1})),X=N1(this.points.map((f)=>iP(f,h,!0))),H=new O(this.scaleX,this.scaleY),A=x.left+x.width/2,B=x.top+x.height/2;return this.exactBoundingBox&&(A-=B*Math.tan(fP(this.skewX)),B-=A*Math.tan(fP(this.skewY))),d(d({},x),{},{pathOffset:new O(A,B),strokeOffset:new O(X.left,X.top).subtract(new O(x.left,x.top)).multiply(H),strokeDiff:new O(x.width,x.height).subtract(new O(X.width,X.height)).multiply(H)})}_findCenterFromElement(){let P=N1(this.points);return new O(P.left+P.width/2,P.top+P.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(P){let{left:p,top:x,width:h,height:X,pathOffset:H,strokeOffset:A,strokeDiff:B}=this._calcDimensions();this.set({width:h,height:X,pathOffset:H,strokeOffset:A,strokeDiff:B}),P&&this.setPositionByOrigin(new O(p+h/2,x+X/2),z0,z0)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new O(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let H;if(Object.keys(P).some((A)=>this.strokeUniform||this.constructor.layoutProperties.includes(A))){var p,x;let{width:A,height:B}=this._calcDimensions(P);H=new O((p=P.width)!==null&&p!==void 0?p:A,(x=P.height)!==null&&x!==void 0?x:B)}else{var h,X;H=new O((h=P.width)!==null&&h!==void 0?h:this.width,(X=P.height)!==null&&X!==void 0?X:this.height)}return H.multiply(new O(P.scaleX||this.scaleX,P.scaleY||this.scaleY))}return super._getTransformedDimensions(P)}_set(P,p){let x=this.initialized&&this[P]!==p,h=super._set(P,p);return this.exactBoundingBox&&x&&((P===eP||P===wp)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(P))&&this.setDimensions(),h}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return d(d({},super.toObject(P)),{},{points:this.points.map((p)=>{let{x,y:h}=p;return{x,y:h}})})}_toSVG(){let P=[],p=this.pathOffset.x,x=this.pathOffset.y,h=K0.NUM_FRACTION_DIGITS;for(let X=0,H=this.points.length;X<H;X++)P.push(s0(this.points[X].x-p,h),",",s0(this.points[X].y-x,h)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(P.join(""),`" />
`)]}_render(P){let p=this.points.length,x=this.pathOffset.x,h=this.pathOffset.y;if(p&&!isNaN(this.points[p-1].y)){P.beginPath(),P.moveTo(this.points[0].x-x,this.points[0].y-h);for(let X=0;X<p;X++){let H=this.points[X];P.lineTo(H.x-x,H.y-h)}!this.isOpen()&&P.closePath(),this._renderPaintInOrder(P)}}complexity(){return this.points.length}static async fromElement(P,p,x){return new this(iU(P.getAttribute("points")),d(d({},t0(d8(P,this.ATTRIBUTE_NAMES,x),mU)),p))}static fromObject(P){return this._fromObject(P,{extraParam:"points"})}}K(H1,"ownDefaults",DI),K(H1,"type","Polyline"),K(H1,"layoutProperties",[TH,jH,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),K(H1,"cacheProperties",[...J8,"points"]),K(H1,"ATTRIBUTE_NAMES",[...dx]),$0.setClass(H1),$0.setSVGClass(H1);class JA extends H1{isOpen(){return!1}}K(JA,"ownDefaults",DI),K(JA,"type","Polygon"),$0.setClass(JA),$0.setSVGClass(JA);var fI=["fontSize","fontWeight","fontFamily","fontStyle"],ZI=["underline","overline","linethrough"],$I=[...fI,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],LI=[...$I,...ZI,"textBackgroundColor","direction"],uU=[...fI,...ZI,Zp,"strokeWidth",kP,"deltaY","textBackgroundColor"],oU={_reNewline:Y9,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:G0,fontStyle:"normal",lineHeight:1.16,superscript:{size:0.6,baseline:-0.35},subscript:{size:0.6,baseline:0.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:G0,pathAlign:"baseline",_fontSizeFraction:0.222,offsets:{underline:0.1,linethrough:-0.315,overline:-0.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},l1="justify",l5="justify-left",cA="justify-right",vA="justify-center";class g9 extends SP{isEmptyStyles(P){if(!this.styles)return!0;if(P!==void 0&&!this.styles[P])return!0;let p=P===void 0?this.styles:{line:this.styles[P]};for(let x in p)for(let h in p[x])for(let X in p[x][h])return!1;return!0}styleHas(P,p){if(!this.styles)return!1;if(p!==void 0&&!this.styles[p])return!1;let x=p===void 0?this.styles:{0:this.styles[p]};for(let h in x)for(let X in x[h])if(x[h][X][P]!==void 0)return!0;return!1}cleanStyle(P){if(!this.styles)return!1;let p=this.styles,x,h,X=0,H=!0,A=0;for(let B in p){x=0;for(let f in p[B]){let D=p[B][f]||{};X++,D[P]!==void 0?(h?D[P]!==h&&(H=!1):h=D[P],D[P]===this[P]&&delete D[P]):H=!1,Object.keys(D).length!==0?x++:delete p[B][f]}x===0&&delete p[B]}for(let B=0;B<this._textLines.length;B++)A+=this._textLines[B].length;H&&X===A&&(this[P]=h,this.removeStyle(P))}removeStyle(P){if(!this.styles)return;let p=this.styles,x,h,X;for(h in p){for(X in x=p[h],x)delete x[X][P],Object.keys(x[X]).length===0&&delete x[X];Object.keys(x).length===0&&delete p[h]}}_extendStyles(P,p){let{lineIndex:x,charIndex:h}=this.get2DCursorLocation(P);this._getLineStyle(x)||this._setLineStyle(x);let X=k9(d(d({},this._getStyleDeclaration(x,h)),p),(H)=>H!==void 0);this._setStyleDeclaration(x,h,X)}getSelectionStyles(P,p,x){let h=[];for(let X=P;X<(p||P);X++)h.push(this.getStyleAtPosition(X,x));return h}getStyleAtPosition(P,p){let{lineIndex:x,charIndex:h}=this.get2DCursorLocation(P);return p?this.getCompleteStyleDeclaration(x,h):this._getStyleDeclaration(x,h)}setSelectionStyles(P,p,x){for(let h=p;h<(x||p);h++)this._extendStyles(h,P);this._forceClearCache=!0}_getStyleDeclaration(P,p){var x;let h=this.styles&&this.styles[P];return h&&(x=h[p])!==null&&x!==void 0?x:{}}getCompleteStyleDeclaration(P,p){return d(d({},Gh(this,this.constructor._styleProperties)),this._getStyleDeclaration(P,p))}_setStyleDeclaration(P,p,x){this.styles[P][p]=x}_deleteStyleDeclaration(P,p){delete this.styles[P][p]}_getLineStyle(P){return!!this.styles[P]}_setLineStyle(P){this.styles[P]={}}_deleteLineStyle(P){delete this.styles[P]}}K(g9,"_styleProperties",uU);var aU=/  +/g,rU=/"/g;function iZ(P,p,x,h,X){return"\t\t".concat(function(H,A){let{left:B,top:f,width:D,height:Z}=A,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:K0.NUM_FRACTION_DIGITS,$=lA(kP,H,!1),[C,Y,V,q]=[B,f,D,Z].map((b)=>s0(b,L));return"<rect ".concat($,' x="').concat(C,'" y="').concat(Y,'" width="').concat(V,'" height="').concat(q,'"></rect>')}(P,{left:p,top:x,width:h,height:X}),`
`)}var nU=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],mZ;class nP extends g9{static getDefaults(){return d(d({},super.getDefaults()),nP.ownDefaults)}constructor(P,p){super(),K(this,"__charBounds",[]),Object.assign(this,nP.ownDefaults),this.setOptions(p),this.styles||(this.styles={}),this.text=P,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){let P=this.path;P&&(P.segmentsInfo=O9(P.path))}_splitText(){let P=this._splitTextIntoLines(this.text);return this.textLines=P.lines,this._textLines=P.graphemeLines,this._unwrappedTextLines=P._unwrappedLines,this._text=P.graphemeText,P}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(l1)&&this.enlargeSpaces()}enlargeSpaces(){let P,p,x,h,X,H,A;for(let B=0,f=this._textLines.length;B<f;B++)if((this.textAlign===l1||B!==f-1&&!this.isEndOfWrapping(B))&&(h=0,X=this._textLines[B],p=this.getLineWidth(B),p<this.width&&(A=this.textLines[B].match(this._reSpacesAndTabs)))){x=A.length,P=(this.width-p)/x;for(let D=0;D<=X.length;D++)H=this.__charBounds[B][D],this._reSpaceAndTab.test(X[D])?(H.width+=P,H.kernedWidth+=P,H.left+=h,h+=P):H.left+=h}}isEndOfWrapping(P){return P===this._textLines.length-1}missingNewlineOffset(P){return 1}get2DCursorLocation(P,p){let x=p?this._unwrappedTextLines:this._textLines,h;for(h=0;h<x.length;h++){if(P<=x[h].length)return{lineIndex:h,charIndex:P};P-=x[h].length+this.missingNewlineOffset(h,p)}return{lineIndex:h-1,charIndex:x[h-1].length<P?x[h-1].length:P}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){let P=super._getCacheCanvasDimensions(),p=this.fontSize;return P.width+=p*P.zoomX,P.height+=p*P.zoomY,P}_render(P){let p=this.path;p&&!p.isNotVisible()&&p._render(P),this._setTextStyles(P),this._renderTextLinesBackground(P),this._renderTextDecoration(P,"underline"),this._renderText(P),this._renderTextDecoration(P,"overline"),this._renderTextDecoration(P,"linethrough")}_renderText(P){this.paintFirst===Zp?(this._renderTextStroke(P),this._renderTextFill(P)):(this._renderTextFill(P),this._renderTextStroke(P))}_setTextStyles(P,p,x){if(P.textBaseline="alphabetic",this.path)switch(this.pathAlign){case z0:P.textBaseline="middle";break;case"ascender":P.textBaseline=Dp;break;case"descender":P.textBaseline=sZ}P.font=this._getFontDeclaration(p,x)}calcTextWidth(){let P=this.getLineWidth(0);for(let p=1,x=this._textLines.length;p<x;p++){let h=this.getLineWidth(p);h>P&&(P=h)}return P}_renderTextLine(P,p,x,h,X,H){this._renderChars(P,p,x,h,X,H)}_renderTextLinesBackground(P){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;let p=P.fillStyle,x=this._getLeftOffset(),h=this._getTopOffset();for(let X=0,H=this._textLines.length;X<H;X++){let A=this.getHeightOfLine(X);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",X)){h+=A;continue}let B=this._textLines[X].length,f=this._getLineLeftOffset(X),D,Z,L=0,$=0,C=this.getValueOfPropertyAt(X,0,"textBackgroundColor");for(let Y=0;Y<B;Y++){let V=this.__charBounds[X][Y];Z=this.getValueOfPropertyAt(X,Y,"textBackgroundColor"),this.path?(P.save(),P.translate(V.renderLeft,V.renderTop),P.rotate(V.angle),P.fillStyle=Z,Z&&P.fillRect(-V.width/2,-A/this.lineHeight*(1-this._fontSizeFraction),V.width,A/this.lineHeight),P.restore()):Z!==C?(D=x+f+$,this.direction==="rtl"&&(D=this.width-D-L),P.fillStyle=C,C&&P.fillRect(D,h,L,A/this.lineHeight),$=V.left,L=V.width,C=Z):L+=V.kernedWidth}Z&&!this.path&&(D=x+f+$,this.direction==="rtl"&&(D=this.width-D-L),P.fillStyle=Z,P.fillRect(D,h,L,A/this.lineHeight)),h+=A}P.fillStyle=p,this._removeShadow(P)}_measureChar(P,p,x,h){let X=dA.getFontCache(p),H=this._getFontDeclaration(p),A=x+P,B=x&&H===this._getFontDeclaration(h),f=p.fontSize/this.CACHE_FONT_SIZE,D,Z,L,$;if(x&&X[x]!==void 0&&(L=X[x]),X[P]!==void 0&&($=D=X[P]),B&&X[A]!==void 0&&(Z=X[A],$=Z-L),D===void 0||L===void 0||Z===void 0){let C=function(){if(!mZ)mZ=L1({width:0,height:0}).getContext("2d");return mZ}();this._setTextStyles(C,p,!0),D===void 0&&($=D=C.measureText(P).width,X[P]=D),L===void 0&&B&&x&&(L=C.measureText(x).width,X[x]=L),B&&Z===void 0&&(Z=C.measureText(A).width,X[A]=Z,$=Z-L)}return{width:D*f,kernedWidth:$*f}}getHeightOfChar(P,p){return this.getValueOfPropertyAt(P,p,"fontSize")}measureLine(P){let p=this._measureLine(P);return this.charSpacing!==0&&(p.width-=this._getWidthOfCharSpacing()),p.width<0&&(p.width=0),p}_measureLine(P){let p,x,h=0,X=this.pathSide===FP,H=this.path,A=this._textLines[P],B=A.length,f=new Array(B);this.__charBounds[P]=f;for(let D=0;D<B;D++){let Z=A[D];x=this._getGraphemeBox(Z,P,D,p),f[D]=x,h+=x.kernedWidth,p=Z}if(f[B]={left:x?x.left+x.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},H&&H.segmentsInfo){let D=0,Z=H.segmentsInfo[H.segmentsInfo.length-1].length;switch(this.textAlign){case G0:D=X?Z-h:0;break;case z0:D=(Z-h)/2;break;case FP:D=X?0:Z-h}D+=this.pathStartOffset*(X?-1:1);for(let L=X?B-1:0;X?L>=0:L<B;X?L--:L++)x=f[L],D>Z?D%=Z:D<0&&(D+=Z),this._setGraphemeOnPath(D,x),D+=x.kernedWidth}return{width:h,numOfSpaces:0}}_setGraphemeOnPath(P,p){let x=P+p.kernedWidth/2,h=this.path,X=nq(h.path,x,h.segmentsInfo);p.renderLeft=X.x-h.pathOffset.x,p.renderTop=X.y-h.pathOffset.y,p.angle=X.angle+(this.pathSide===FP?Math.PI:0)}_getGraphemeBox(P,p,x,h,X){let H=this.getCompleteStyleDeclaration(p,x),A=h?this.getCompleteStyleDeclaration(p,x-1):{},B=this._measureChar(P,H,h,A),f,D=B.kernedWidth,Z=B.width;this.charSpacing!==0&&(f=this._getWidthOfCharSpacing(),Z+=f,D+=f);let L={width:Z,left:0,height:H.fontSize,kernedWidth:D,deltaY:H.deltaY};if(x>0&&!X){let $=this.__charBounds[p][x-1];L.left=$.left+$.width+B.kernedWidth-B.width}return L}getHeightOfLine(P){if(this.__lineHeights[P])return this.__lineHeights[P];let p=this.getHeightOfChar(P,0);for(let x=1,h=this._textLines[P].length;x<h;x++)p=Math.max(this.getHeightOfChar(P,x),p);return this.__lineHeights[P]=p*this.lineHeight*this._fontSizeMult}calcTextHeight(){let P,p=0;for(let x=0,h=this._textLines.length;x<h;x++)P=this.getHeightOfLine(x),p+=x===h-1?P/this.lineHeight:P;return p}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(P,p){P.save();let x=0,h=this._getLeftOffset(),X=this._getTopOffset();for(let H=0,A=this._textLines.length;H<A;H++){let B=this.getHeightOfLine(H),f=B/this.lineHeight,D=this._getLineLeftOffset(H);this._renderTextLine(p,P,this._textLines[H],h+D,X+x+f,H),x+=B}P.restore()}_renderTextFill(P){(this.fill||this.styleHas(kP))&&this._renderTextCommon(P,"fillText")}_renderTextStroke(P){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(P),P.save(),this._setLineDash(P,this.strokeDashArray),P.beginPath(),this._renderTextCommon(P,"strokeText"),P.closePath(),P.restore())}_renderChars(P,p,x,h,X,H){let A=this.getHeightOfLine(H),B=this.textAlign.includes(l1),f=this.path,D=!B&&this.charSpacing===0&&this.isEmptyStyles(H)&&!f,Z=this.direction==="ltr",L=this.direction==="ltr"?1:-1,$=p.direction,C,Y,V,q,b,F="",M=0;if(p.save(),$!==this.direction&&(p.canvas.setAttribute("dir",Z?"ltr":"rtl"),p.direction=Z?"ltr":"rtl",p.textAlign=Z?G0:FP),X-=A*this._fontSizeFraction/this.lineHeight,D)return this._renderChar(P,p,H,0,x.join(""),h,X),void p.restore();for(let Q=0,I=x.length-1;Q<=I;Q++)q=Q===I||this.charSpacing||f,F+=x[Q],V=this.__charBounds[H][Q],M===0?(h+=L*(V.kernedWidth-V.width),M+=V.width):M+=V.kernedWidth,B&&!q&&this._reSpaceAndTab.test(x[Q])&&(q=!0),q||(C=C||this.getCompleteStyleDeclaration(H,Q),Y=this.getCompleteStyleDeclaration(H,Q+1),q=t5(C,Y,!1)),q&&(f?(p.save(),p.translate(V.renderLeft,V.renderTop),p.rotate(V.angle),this._renderChar(P,p,H,Q,F,-M/2,0),p.restore()):(b=h,this._renderChar(P,p,H,Q,F,b,X)),F="",C=Y,h+=L*M,M=0);p.restore()}_applyPatternGradientTransformText(P){let p=this.width+this.strokeWidth,x=this.height+this.strokeWidth,h=L1({width:p,height:x}),X=h.getContext("2d");return h.width=p,h.height=x,X.beginPath(),X.moveTo(0,0),X.lineTo(p,0),X.lineTo(p,x),X.lineTo(0,x),X.closePath(),X.translate(p/2,x/2),X.fillStyle=P.toLive(X),this._applyPatternGradientTransform(X,P),X.fill(),X.createPattern(h,"no-repeat")}handleFiller(P,p,x){let h,X;return ap(x)?x.gradientUnits==="percentage"||x.gradientTransform||x.patternTransform?(h=-this.width/2,X=-this.height/2,P.translate(h,X),P[p]=this._applyPatternGradientTransformText(x),{offsetX:h,offsetY:X}):(P[p]=x.toLive(P),this._applyPatternGradientTransform(P,x)):(P[p]=x,{offsetX:0,offsetY:0})}_setStrokeStyles(P,p){let{stroke:x,strokeWidth:h}=p;return P.lineWidth=h,P.lineCap=this.strokeLineCap,P.lineDashOffset=this.strokeDashOffset,P.lineJoin=this.strokeLineJoin,P.miterLimit=this.strokeMiterLimit,this.handleFiller(P,"strokeStyle",x)}_setFillStyles(P,p){let{fill:x}=p;return this.handleFiller(P,"fillStyle",x)}_renderChar(P,p,x,h,X,H,A){let B=this._getStyleDeclaration(x,h),f=this.getCompleteStyleDeclaration(x,h),D=P==="fillText"&&f.fill,Z=P==="strokeText"&&f.stroke&&f.strokeWidth;if(Z||D){if(p.save(),p.font=this._getFontDeclaration(f),B.textBackgroundColor&&this._removeShadow(p),B.deltaY&&(A+=B.deltaY),D){let L=this._setFillStyles(p,f);p.fillText(X,H-L.offsetX,A-L.offsetY)}if(Z){let L=this._setStrokeStyles(p,f);p.strokeText(X,H-L.offsetX,A-L.offsetY)}p.restore()}}setSuperscript(P,p){this._setScript(P,p,this.superscript)}setSubscript(P,p){this._setScript(P,p,this.subscript)}_setScript(P,p,x){let h=this.get2DCursorLocation(P,!0),X=this.getValueOfPropertyAt(h.lineIndex,h.charIndex,"fontSize"),H=this.getValueOfPropertyAt(h.lineIndex,h.charIndex,"deltaY"),A={fontSize:X*x.size,deltaY:H+X*x.baseline};this.setSelectionStyles(A,P,p)}_getLineLeftOffset(P){let p=this.getLineWidth(P),x=this.width-p,h=this.textAlign,X=this.direction,H=this.isEndOfWrapping(P),A=0;return h===l1||h===vA&&!H||h===cA&&!H||h===l5&&!H?0:(h===z0&&(A=x/2),h===FP&&(A=x),h===vA&&(A=x/2),h===cA&&(A=x),X==="rtl"&&(h===FP||h===l1||h===cA?A=0:h===G0||h===l5?A=-x:h!==z0&&h!==vA||(A=-x/2)),A)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(P){if(this.__lineWidths[P]!==void 0)return this.__lineWidths[P];let{width:p}=this.measureLine(P);return this.__lineWidths[P]=p,p}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1000:0}getValueOfPropertyAt(P,p,x){var h;return(h=this._getStyleDeclaration(P,p)[x])!==null&&h!==void 0?h:this[x]}_renderTextDecoration(P,p){if(!this[p]&&!this.styleHas(p))return;let x=this._getTopOffset(),h=this._getLeftOffset(),X=this.path,H=this._getWidthOfCharSpacing(),A=this.offsets[p];for(let B=0,f=this._textLines.length;B<f;B++){let D=this.getHeightOfLine(B);if(!this[p]&&!this.styleHas(p,B)){x+=D;continue}let Z=this._textLines[B],L=D/this.lineHeight,$=this._getLineLeftOffset(B),C,Y,V=0,q=0,b=this.getValueOfPropertyAt(B,0,p),F=this.getValueOfPropertyAt(B,0,kP),M=x+L*(1-this._fontSizeFraction),Q=this.getHeightOfChar(B,0),I=this.getValueOfPropertyAt(B,0,"deltaY");for(let k=0,w=Z.length;k<w;k++){let S=this.__charBounds[B][k];C=this.getValueOfPropertyAt(B,k,p),Y=this.getValueOfPropertyAt(B,k,kP);let T=this.getHeightOfChar(B,k),R=this.getValueOfPropertyAt(B,k,"deltaY");if(X&&C&&Y)P.save(),P.fillStyle=F,P.translate(S.renderLeft,S.renderTop),P.rotate(S.angle),P.fillRect(-S.kernedWidth/2,A*T+R,S.kernedWidth,this.fontSize/15),P.restore();else if((C!==b||Y!==F||T!==Q||R!==I)&&q>0){let v=h+$+V;this.direction==="rtl"&&(v=this.width-v-q),b&&F&&(P.fillStyle=F,P.fillRect(v,M+A*Q+I,q,this.fontSize/15)),V=S.left,q=S.width,b=C,F=Y,Q=T,I=R}else q+=S.kernedWidth}let j=h+$+V;this.direction==="rtl"&&(j=this.width-j-q),P.fillStyle=Y,C&&Y&&P.fillRect(j,M+A*Q+I,q-H,this.fontSize/15),x+=D}this._removeShadow(P)}_getFontDeclaration(){let{fontFamily:P=this.fontFamily,fontStyle:p=this.fontStyle,fontWeight:x=this.fontWeight,fontSize:h=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=arguments.length>1?arguments[1]:void 0,H=P.includes("'")||P.includes('"')||P.includes(",")||nP.genericFonts.includes(P.toLowerCase())?P:'"'.concat(P,'"');return[p,x,"".concat(X?this.CACHE_FONT_SIZE:h,"px"),H].join(" ")}render(P){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(P)))}graphemeSplit(P){return s5(P)}_splitTextIntoLines(P){let p=P.split(this._reNewline),x=new Array(p.length),h=[`
`],X=[];for(let H=0;H<p.length;H++)x[H]=this.graphemeSplit(p[H]),X=X.concat(x[H],h);return X.pop(),{_unwrappedLines:x,lines:p,graphemeText:X,graphemeLines:x}}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return d(d({},super.toObject([...LI,...P])),{},{styles:Sq(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(P,p){let{textLayoutProperties:x}=this.constructor;super.set(P,p);let h=!1,X=!1;if(typeof P=="object")for(let H in P)H==="path"&&this.setPathInfo(),h=h||x.includes(H),X=X||H==="path";else h=x.includes(P),X=P==="path";return X&&this.setPathInfo(),h&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(P,p,x){let h=d8(P,nP.ATTRIBUTE_NAMES,x),X=d(d({},p),h),{textAnchor:H=G0,textDecoration:A="",dx:B=0,dy:f=0,top:D=0,left:Z=0,fontSize:L=M9,strokeWidth:$=1}=X,C=t0(X,nU),Y=new this((P.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),d({left:Z+B,top:D+f,underline:A.includes("underline"),overline:A.includes("overline"),linethrough:A.includes("line-through"),strokeWidth:0,fontSize:L},C)),V=Y.getScaledHeight()/Y.height,q=((Y.height+Y.strokeWidth)*Y.lineHeight-Y.height)*V,b=Y.getScaledHeight()+q,F=0;return H===z0&&(F=Y.getScaledWidth()/2),H===FP&&(F=Y.getScaledWidth()),Y.set({left:Y.left-F,top:Y.top-(b-Y.fontSize*(0.07+Y._fontSizeFraction))/Y.lineHeight,strokeWidth:$}),Y}static fromObject(P){return this._fromObject(d(d({},P),{},{styles:lq(P.styles||{},P.text)}),{extraParam:"text"})}}K(nP,"textLayoutProperties",$I),K(nP,"cacheProperties",[...J8,...LI]),K(nP,"ownDefaults",oU),K(nP,"type","Text"),K(nP,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),K(nP,"ATTRIBUTE_NAMES",dx.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),cq(nP,[class extends d9{_toSVG(){let P=this._getSVGLeftTopOffsets(),p=this._getSVGTextAndBg(P.textTop,P.textLeft);return this._wrapSVGTextAndBg(p)}toSVG(P){return this._createBaseSVGMarkup(this._toSVG(),{reviver:P,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(P){let{textBgRects:p,textSpans:x}=P,h=this.getSvgTextDecoration(this);return[p.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(rU,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",h?'text-decoration="'.concat(h,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",x.join(""),`</text>
`]}_getSVGTextAndBg(P,p){let x=[],h=[],X,H=P;this.backgroundColor&&h.push(...iZ(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let A=0,B=this._textLines.length;A<B;A++)X=this._getLineLeftOffset(A),this.direction==="rtl"&&(X+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",A))&&this._setSVGTextLineBg(h,A,p+X,H),this._setSVGTextLineText(x,A,p+X,H),H+=this.getHeightOfLine(A);return{textSpans:x,textBgRects:h}}_createTextCharSpan(P,p,x,h){let X=this.getSvgSpanStyles(p,P!==P.trim()||!!P.match(aU)),H=X?'style="'.concat(X,'"'):"",A=p.deltaY,B=A?' dy="'.concat(s0(A,K0.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(s0(x,K0.NUM_FRACTION_DIGITS),'" y="').concat(s0(h,K0.NUM_FRACTION_DIGITS),'" ').concat(B).concat(H,">").concat(Gq(P),"</tspan>")}_setSVGTextLineText(P,p,x,h){let X=this.getHeightOfLine(p),H=this.textAlign.includes(l1),A=this._textLines[p],B,f,D,Z,L,$="",C=0;h+=X*(1-this._fontSizeFraction)/this.lineHeight;for(let Y=0,V=A.length-1;Y<=V;Y++)L=Y===V||this.charSpacing,$+=A[Y],D=this.__charBounds[p][Y],C===0?(x+=D.kernedWidth-D.width,C+=D.width):C+=D.kernedWidth,H&&!L&&this._reSpaceAndTab.test(A[Y])&&(L=!0),L||(B=B||this.getCompleteStyleDeclaration(p,Y),f=this.getCompleteStyleDeclaration(p,Y+1),L=t5(B,f,!0)),L&&(Z=this._getStyleDeclaration(p,Y),P.push(this._createTextCharSpan($,Z,x,h)),$="",B=f,this.direction==="rtl"?x-=C:x+=C,C=0)}_setSVGTextLineBg(P,p,x,h){let X=this._textLines[p],H=this.getHeightOfLine(p)/this.lineHeight,A,B=0,f=0,D=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(let Z=0;Z<X.length;Z++){let{left:L,width:$,kernedWidth:C}=this.__charBounds[p][Z];A=this.getValueOfPropertyAt(p,Z,"textBackgroundColor"),A!==D?(D&&P.push(...iZ(D,x+f,h,B,H)),f=L,B=$,D=A):B+=C}A&&P.push(...iZ(D,x+f,h,B,H))}_getSVGLineTopOffset(P){let p,x=0;for(p=0;p<P;p++)x+=this.getHeightOfLine(p);let h=this.getHeightOfLine(p);return{lineTop:x,offset:(this._fontSizeMult-this._fontSizeFraction)*h/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(P){return"".concat(super.getSvgStyles(P)," white-space: pre;")}getSvgSpanStyles(P,p){let{fontFamily:x,strokeWidth:h,stroke:X,fill:H,fontSize:A,fontStyle:B,fontWeight:f,deltaY:D}=P,Z=this.getSvgTextDecoration(P);return[X?lA(Zp,X):"",h?"stroke-width: ".concat(h,"; "):"",x?"font-family: ".concat(x.includes("'")||x.includes('"')?x:"'".concat(x,"'"),"; "):"",A?"font-size: ".concat(A,"px; "):"",B?"font-style: ".concat(B,"; "):"",f?"font-weight: ".concat(f,"; "):"",Z?"text-decoration: ".concat(Z,"; "):Z,H?lA(kP,H):"",D?"baseline-shift: ".concat(-D,"; "):"",p?"white-space: pre; ":""].join("")}getSvgTextDecoration(P){return["overline","underline","line-through"].filter((p)=>P[p.replace("-","")]).join(" ")}}]),$0.setClass(nP),$0.setSVGClass(nP);class CI{constructor(P){K(this,"target",void 0),K(this,"__mouseDownInPlace",!1),K(this,"__dragStartFired",!1),K(this,"__isDraggingOver",!1),K(this,"__dragStartSelection",void 0),K(this,"__dragImageDisposer",void 0),K(this,"_dispose",void 0),this.target=P;let p=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{p.forEach((x)=>x()),this._dispose=void 0}}isPointerOverSelection(P){let p=this.target,x=p.getSelectionStartFromPointer(P);return p.isEditing&&x>=p.selectionStart&&x<=p.selectionEnd&&p.selectionStart<p.selectionEnd}start(P){return this.__mouseDownInPlace=this.isPointerOverSelection(P)}isActive(){return this.__mouseDownInPlace}end(P){let p=this.isActive();return p&&!this.__dragStartFired&&(this.target.setCursorByClick(P),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,p}getDragStartSelection(){return this.__dragStartSelection}setDragImage(P,p){var x;let{selectionStart:h,selectionEnd:X}=p,H=this.target,A=H.canvas,B=new O(H.flipX?-1:1,H.flipY?-1:1),f=H._getCursorBoundaries(h),D=new O(f.left+f.leftOffset,f.top+f.topOffset).multiply(B).transform(H.calcTransformMatrix()),Z=A.getScenePoint(P).subtract(D),L=H.getCanvasRetinaScaling(),$=H.getBoundingRect(),C=D.subtract(new O($.left,$.top)),Y=A.viewportTransform,V=C.add(Z).transform(Y,!0),q=H.backgroundColor,b=S9(H.styles);H.backgroundColor="";let F={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};H.setSelectionStyles(F,0,h),H.setSelectionStyles(F,X,H.text.length),H.dirty=!0;let M=H.toCanvasElement({enableRetinaScaling:A.enableRetinaScaling,viewportTransform:!0});H.backgroundColor=q,H.styles=b,H.dirty=!0,S5(M,{position:"fixed",left:"".concat(-M.width,"px"),border:fp,width:"".concat(M.width/L,"px"),height:"".concat(M.height/L,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{M.remove()},A1(P.target||this.target.hiddenTextarea).body.appendChild(M),(x=P.dataTransfer)===null||x===void 0||x.setDragImage(M,V.x,V.y)}onDragStart(P){this.__dragStartFired=!0;let p=this.target,x=this.isActive();if(x&&P.dataTransfer){let h=this.__dragStartSelection={selectionStart:p.selectionStart,selectionEnd:p.selectionEnd},X=p._text.slice(h.selectionStart,h.selectionEnd).join(""),H=d({text:p.text,value:X},h);P.dataTransfer.setData("text/plain",X),P.dataTransfer.setData("application/fabric",JSON.stringify({value:X,styles:p.getSelectionStyles(h.selectionStart,h.selectionEnd,!0)})),P.dataTransfer.effectAllowed="copyMove",this.setDragImage(P,H)}return p.abortCursorAnimation(),x}canDrop(P){if(this.target.editable&&!this.target.getActiveControl()&&!P.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){let p=this.target.getSelectionStartFromPointer(P),x=this.__dragStartSelection;return p<x.selectionStart||p>x.selectionEnd}return!0}return!1}targetCanDrop(P){return this.target.canDrop(P)}dragEnterHandler(P){let{e:p}=P,x=this.targetCanDrop(p);!this.__isDraggingOver&&x&&(this.__isDraggingOver=!0)}dragOverHandler(P){let{e:p}=P,x=this.targetCanDrop(p);!this.__isDraggingOver&&x?this.__isDraggingOver=!0:this.__isDraggingOver&&!x&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(p.preventDefault(),P.canDrop=!0,P.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(P){var p;let{e:x}=P,h=x.defaultPrevented;this.__isDraggingOver=!1,x.preventDefault();let X=(p=x.dataTransfer)===null||p===void 0?void 0:p.getData("text/plain");if(X&&!h){let H=this.target,A=H.canvas,B=H.getSelectionStartFromPointer(x),{styles:f}=x.dataTransfer.types.includes("application/fabric")?JSON.parse(x.dataTransfer.getData("application/fabric")):{},D=X[Math.max(0,X.length-1)],Z=0;if(this.__dragStartSelection){let L=this.__dragStartSelection.selectionStart,$=this.__dragStartSelection.selectionEnd;B>L&&B<=$?B=L:B>$&&(B-=$-L),H.removeChars(L,$),delete this.__dragStartSelection}H._reNewline.test(D)&&(H._reNewline.test(H._text[B])||B===H._text.length)&&(X=X.trimEnd()),P.didDrop=!0,P.dropTarget=H,H.insertChars(X,f,B),A.setActiveObject(H),H.enterEditing(x),H.selectionStart=Math.min(B+Z,H._text.length),H.selectionEnd=Math.min(H.selectionStart+X.length,H._text.length),H.hiddenTextarea.value=H.text,H._updateTextarea(),H.hiddenTextarea.focus(),H.fire(k5,{index:B+Z,action:"drop"}),A.fire("text:changed",{target:H}),A.contextTopDirty=!0,A.requestRenderAll()}}dragEndHandler(P){let{e:p}=P;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var x;let h=this.target,X=this.target.canvas,{selectionStart:H,selectionEnd:A}=this.__dragStartSelection,B=((x=p.dataTransfer)===null||x===void 0?void 0:x.dropEffect)||fp;B===fp?(h.selectionStart=H,h.selectionEnd=A,h._updateTextarea(),h.hiddenTextarea.focus()):(h.clearContextTop(),B==="move"&&(h.removeChars(H,A),h.selectionStart=h.selectionEnd=H,h.hiddenTextarea&&(h.hiddenTextarea.value=h.text),h._updateTextarea(),h.fire(k5,{index:H,action:"dragend"}),X.fire("text:changed",{target:h}),X.requestRenderAll()),h.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}var UV=/[ \n\.,;!\?\-]/;class FI extends nP{constructor(){super(...arguments),K(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(P){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(P)}_animateCursor(P){let{toValue:p,duration:x,delay:h,onComplete:X}=P;return c9({startValue:this._currentCursorOpacity,endValue:p,duration:x,delay:h,onComplete:X,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:(H)=>{this._currentCursorOpacity=H,this.renderCursorOrSelection()}})}_tick(P){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(P||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var P;(P=this._currentTickCompleteState)===null||P===void 0||P.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(P){this.abortCursorAnimation(),this._tick(P?0:this.cursorDelay)}abortCursorAnimation(){let P=!1;[this._currentTickState,this._currentTickCompleteState].forEach((p)=>{p&&!p.isDone()&&(P=!0,p.abort())}),this._currentCursorOpacity=1,P&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some((P)=>!P||P.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(P){let p=0,x=P-1;if(this._reSpace.test(this._text[x]))for(;this._reSpace.test(this._text[x]);)p++,x--;for(;/\S/.test(this._text[x])&&x>-1;)p++,x--;return P-p}findWordBoundaryRight(P){let p=0,x=P;if(this._reSpace.test(this._text[x]))for(;this._reSpace.test(this._text[x]);)p++,x++;for(;/\S/.test(this._text[x])&&x<this._text.length;)p++,x++;return P+p}findLineBoundaryLeft(P){let p=0,x=P-1;for(;!/\n/.test(this._text[x])&&x>-1;)p++,x--;return P-p}findLineBoundaryRight(P){let p=0,x=P;for(;!/\n/.test(this._text[x])&&x<this._text.length;)p++,x++;return P+p}searchWordBoundary(P,p){let x=this._text,h=P>0&&this._reSpace.test(x[P])&&(p===-1||!Y9.test(x[P-1]))?P-1:P,X=x[h];for(;h>0&&h<x.length&&!UV.test(X);)h+=p,X=x[h];return p===-1&&UV.test(X)&&h++,h}selectWord(P){P=P||this.selectionStart;let p=this.searchWordBoundary(P,-1),x=Math.max(p,this.searchWordBoundary(P,1));this.selectionStart=p,this.selectionEnd=x,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(P){P=P||this.selectionStart;let p=this.findLineBoundaryLeft(P),x=this.findLineBoundaryRight(P);return this.selectionStart=p,this.selectionEnd=x,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(P){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",P?{e:P}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:P}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(P){if(this.getActiveControl())return;let p=this.hiddenTextarea;A1(p).activeElement!==p&&p.focus();let x=this.getSelectionStartFromPointer(P),h=this.selectionStart,X=this.selectionEnd;(x===this.__selectionStartOnMouseDown&&h!==X||h!==x&&X!==x)&&(x>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=x):(this.selectionStart=x,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===h&&this.selectionEnd===X||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(P,p,x){let h=x.slice(0,P),X=this.graphemeSplit(h).length;if(P===p)return{selectionStart:X,selectionEnd:X};let H=x.slice(P,p);return{selectionStart:X,selectionEnd:X+this.graphemeSplit(H).length}}fromGraphemeToStringSelection(P,p,x){let h=x.slice(0,P).join("").length;if(P===p)return{selectionStart:h,selectionEnd:h};return{selectionStart:h,selectionEnd:h+x.slice(P,p).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){let P=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=P.selectionStart,this.hiddenTextarea.selectionEnd=P.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};let P=this.hiddenTextarea;this.text=P.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();let p=this.fromStringToGraphemeSelection(P.selectionStart,P.selectionEnd,P.value);this.selectionEnd=this.selectionStart=p.selectionEnd,this.inCompositionMode||(this.selectionStart=p.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){let P=this._calcTextareaPosition();this.hiddenTextarea.style.left=P.left,this.hiddenTextarea.style.top=P.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};let P=this.inCompositionMode?this.compositionStart:this.selectionStart,p=this._getCursorBoundaries(P),x=this.get2DCursorLocation(P),h=x.lineIndex,X=x.charIndex,H=this.getValueOfPropertyAt(h,X,"fontSize")*this.lineHeight,A=p.leftOffset,B=this.getCanvasRetinaScaling(),f=this.canvas.upperCanvasEl,D=f.width/B,Z=f.height/B,L=D-H,$=Z-H,C=new O(p.left+A,p.top+p.topOffset+H).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new O(f.clientWidth/D,f.clientHeight/Z));return C.x<0&&(C.x=0),C.x>L&&(C.x=L),C.y<0&&(C.y=0),C.y>$&&(C.y=$),C.x+=this.canvas._offset.left,C.y+=this.canvas._offset.top,{left:"".concat(C.x,"px"),top:"".concat(C.y,"px"),fontSize:"".concat(H,"px"),charHeight:H}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){let P=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,P&&(P.blur&&P.blur(),P.parentNode&&P.parentNode.removeChild(P)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){let P=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),P&&this.fire(W5),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),P&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(let P in this.styles)this._textLines[P]||delete this.styles[P]}removeStyleFromTo(P,p){let{lineIndex:x,charIndex:h}=this.get2DCursorLocation(P,!0),{lineIndex:X,charIndex:H}=this.get2DCursorLocation(p,!0);if(x!==X){if(this.styles[x])for(let A=h;A<this._unwrappedTextLines[x].length;A++)delete this.styles[x][A];if(this.styles[X])for(let A=H;A<this._unwrappedTextLines[X].length;A++){let B=this.styles[X][A];B&&(this.styles[x]||(this.styles[x]={}),this.styles[x][h+A-H]=B)}for(let A=x+1;A<=X;A++)delete this.styles[A];this.shiftLineStyles(X,x-X)}else if(this.styles[x]){let A=this.styles[x],B=H-h;for(let f=h;f<H;f++)delete A[f];for(let f in this.styles[x]){let D=parseInt(f,10);D>=H&&(A[D-B]=A[f],delete A[f])}}}shiftLineStyles(P,p){let x=Object.assign({},this.styles);for(let h in this.styles){let X=parseInt(h,10);X>P&&(this.styles[X+p]=x[X],x[X-p]||delete this.styles[X])}}insertNewlineStyleObject(P,p,x,h){let X={},H=this._unwrappedTextLines[P].length,A=H===p,B=!1;x||(x=1),this.shiftLineStyles(P,x);let f=this.styles[P]?this.styles[P][p===0?p:p-1]:void 0;for(let Z in this.styles[P]){let L=parseInt(Z,10);L>=p&&(B=!0,X[L-p]=this.styles[P][Z],A&&p===0||delete this.styles[P][Z])}let D=!1;for(B&&!A&&(this.styles[P+x]=X,D=!0),(D||H>p)&&x--;x>0;)h&&h[x-1]?this.styles[P+x]={0:d({},h[x-1])}:f?this.styles[P+x]={0:d({},f)}:delete this.styles[P+x],x--;this._forceClearCache=!0}insertCharStyleObject(P,p,x,h){this.styles||(this.styles={});let X=this.styles[P],H=X?d({},X):{};x||(x=1);for(let B in H){let f=parseInt(B,10);f>=p&&(X[f+x]=H[f],H[f-x]||delete X[f])}if(this._forceClearCache=!0,h){for(;x--;)Object.keys(h[x]).length&&(this.styles[P]||(this.styles[P]={}),this.styles[P][p+x]=d({},h[x]));return}if(!X)return;let A=X[p?p-1:1];for(;A&&x--;)this.styles[P][p+x]=d({},A)}insertNewStyleBlock(P,p,x){let h=this.get2DCursorLocation(p,!0),X=[0],H,A=0;for(let B=0;B<P.length;B++)P[B]===`
`?(A++,X[A]=0):X[A]++;for(X[0]>0&&(this.insertCharStyleObject(h.lineIndex,h.charIndex,X[0],x),x=x&&x.slice(X[0]+1)),A&&this.insertNewlineStyleObject(h.lineIndex,h.charIndex+X[0],A),H=1;H<A;H++)X[H]>0?this.insertCharStyleObject(h.lineIndex+H,0,X[H],x):x&&this.styles[h.lineIndex+H]&&x[0]&&(this.styles[h.lineIndex+H][0]=x[0]),x=x&&x.slice(X[H]+1);X[H]>0&&this.insertCharStyleObject(h.lineIndex+H,0,X[H],x)}removeChars(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P+1;this.removeStyleFromTo(P,p),this._text.splice(P,p-P),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(P,p,x){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:x;h>x&&this.removeStyleFromTo(x,h);let X=this.graphemeSplit(P);this.insertNewStyleBlock(X,x,p),this._text=[...this._text.slice(0,x),...X,...this._text.slice(h)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(P,p,x){x<=P?(p===P?this._selectionDirection=G0:this._selectionDirection===FP&&(this._selectionDirection=G0,this.selectionEnd=P),this.selectionStart=x):x>P&&x<p?this._selectionDirection===FP?this.selectionEnd=x:this.selectionStart=x:(p===P?this._selectionDirection=FP:this._selectionDirection===G0&&(this._selectionDirection=FP,this.selectionStart=p),this.selectionEnd=x)}}class bI extends FI{initHiddenTextarea(){let P=this.canvas&&A1(this.canvas.getElement())||WH(),p=P.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map((H)=>{let[A,B]=H;return p.setAttribute(A,B)});let{top:x,left:h,fontSize:X}=this._calcTextareaPosition();p.style.cssText="position: absolute; top: ".concat(x,"; left: ").concat(h,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(X,";"),(this.hiddenTextareaContainer||P.body).appendChild(p),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map((H)=>{let[A,B]=H;return p.addEventListener(A,this[B].bind(this))}),this.hiddenTextarea=p}blur(){this.abortCursorAnimation()}onKeyDown(P){if(!this.isEditing)return;let p=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(P.keyCode in p)this[p[P.keyCode]](P);else{if(!(P.keyCode in this.ctrlKeysMapDown)||!P.ctrlKey&&!P.metaKey)return;this[this.ctrlKeysMapDown[P.keyCode]](P)}P.stopImmediatePropagation(),P.preventDefault(),P.keyCode>=33&&P.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(P){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:(P.keyCode in this.ctrlKeysMapUp)&&(P.ctrlKey||P.metaKey)&&(this[this.ctrlKeysMapUp[P.keyCode]](P),P.stopImmediatePropagation(),P.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(P){let p=this.fromPaste;if(this.fromPaste=!1,P&&P.stopPropagation(),!this.isEditing)return;let x=()=>{this.updateFromTextArea(),this.fire(k5),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void x();let h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,X=this._text.length,H=h.length,A=this.selectionStart,B=this.selectionEnd,f=A!==B,D,Z,L,$,C=H-X,Y=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),V=A>Y.selectionStart;f?(Z=this._text.slice(A,B),C+=B-A):H<X&&(Z=V?this._text.slice(B+C,B):this._text.slice(A,A-C));let q=h.slice(Y.selectionEnd-C,Y.selectionEnd);if(Z&&Z.length&&(q.length&&(D=this.getSelectionStyles(A,A+1,!1),D=q.map(()=>D[0])),f?(L=A,$=B):V?(L=B-Z.length,$=B):(L=B,$=B+Z.length),this.removeStyleFromTo(L,$)),q.length){let{copyPasteData:b}=O1();p&&q.join("")===b.copiedText&&!K0.disableStyleCopyPaste&&(D=b.copiedTextStyle),this.insertNewStyleBlock(q,A,D)}x()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(P){let{target:p}=P,{selectionStart:x,selectionEnd:h}=p;this.compositionStart=x,this.compositionEnd=h,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;let{copyPasteData:P}=O1();P.copiedText=this.getSelectedText(),K0.disableStyleCopyPaste?P.copiedTextStyle=void 0:P.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(P,p){let x,h=this._getLineLeftOffset(P);return p>0&&(x=this.__charBounds[P][p-1],h+=x.left+x.width),h}getDownCursorOffset(P,p){let x=this._getSelectionForOffset(P,p),h=this.get2DCursorLocation(x),X=h.lineIndex;if(X===this._textLines.length-1||P.metaKey||P.keyCode===34)return this._text.length-x;let H=h.charIndex,A=this._getWidthBeforeCursor(X,H),B=this._getIndexOnLine(X+1,A);return this._textLines[X].slice(H).length+B+1+this.missingNewlineOffset(X)}_getSelectionForOffset(P,p){return P.shiftKey&&this.selectionStart!==this.selectionEnd&&p?this.selectionEnd:this.selectionStart}getUpCursorOffset(P,p){let x=this._getSelectionForOffset(P,p),h=this.get2DCursorLocation(x),X=h.lineIndex;if(X===0||P.metaKey||P.keyCode===33)return-x;let H=h.charIndex,A=this._getWidthBeforeCursor(X,H),B=this._getIndexOnLine(X-1,A),f=this._textLines[X].slice(0,H),D=this.missingNewlineOffset(X-1);return-this._textLines[X-1].length+B-f.length+(1-D)}_getIndexOnLine(P,p){let x=this._textLines[P],h,X,H=this._getLineLeftOffset(P),A=0;for(let B=0,f=x.length;B<f;B++)if(h=this.__charBounds[P][B].width,H+=h,H>p){X=!0;let D=H-h,Z=H,L=Math.abs(D-p);A=Math.abs(Z-p)<L?B:B-1;break}return X||(A=x.length-1),A}moveCursorDown(P){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",P)}moveCursorUp(P){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",P)}_moveCursorUpOrDown(P,p){let x=this["get".concat(P,"CursorOffset")](p,this._selectionDirection===FP);if(p.shiftKey?this.moveCursorWithShift(x):this.moveCursorWithoutShift(x),x!==0){let h=this.text.length;this.selectionStart=Uh(0,this.selectionStart,h),this.selectionEnd=Uh(0,this.selectionEnd,h),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(P){let p=this._selectionDirection===G0?this.selectionStart+P:this.selectionEnd+P;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,p),P!==0}moveCursorWithoutShift(P){return P<0?(this.selectionStart+=P,this.selectionEnd=this.selectionStart):(this.selectionEnd+=P,this.selectionStart=this.selectionEnd),P!==0}moveCursorLeft(P){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",P)}_move(P,p,x){let h;if(P.altKey)h=this["findWordBoundary".concat(x)](this[p]);else{if(!P.metaKey&&P.keyCode!==35&&P.keyCode!==36)return this[p]+=x==="Left"?-1:1,!0;h=this["findLineBoundary".concat(x)](this[p])}return h!==void 0&&this[p]!==h&&(this[p]=h,!0)}_moveLeft(P,p){return this._move(P,p,"Left")}_moveRight(P,p){return this._move(P,p,"Right")}moveCursorLeftWithoutShift(P){let p=!0;return this._selectionDirection=G0,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(p=this._moveLeft(P,"selectionStart")),this.selectionEnd=this.selectionStart,p}moveCursorLeftWithShift(P){return this._selectionDirection===FP&&this.selectionStart!==this.selectionEnd?this._moveLeft(P,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=G0,this._moveLeft(P,"selectionStart")):void 0}moveCursorRight(P){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",P)}_moveCursorLeftOrRight(P,p){let x="moveCursor".concat(P).concat(p.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[x](p)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(P){return this._selectionDirection===G0&&this.selectionStart!==this.selectionEnd?this._moveRight(P,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=FP,this._moveRight(P,"selectionEnd")):void 0}moveCursorRightWithoutShift(P){let p=!0;return this._selectionDirection=FP,this.selectionStart===this.selectionEnd?(p=this._moveRight(P,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,p}}var uZ=(P)=>!!P.button;class MI extends bI{constructor(){super(...arguments),K(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new CI(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(P){return this.draggableTextDelegate.onDragStart(P)}canDrop(P){return this.draggableTextDelegate.canDrop(P)}onMouseDown(P){if(!this.canvas)return;this.__newClickTime=+new Date;let p=P.pointer;this.isTripleClick(p)&&(this.fire("tripleclick",P),eZ(P.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=p,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(P){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===P.x&&this.__lastPointer.y===P.y}doubleClickHandler(P){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(P.e))}tripleClickHandler(P){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(P.e))}_mouseDownHandler(P){let{e:p}=P;this.canvas&&this.editable&&!uZ(p)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(p)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(p)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(P){let{e:p}=P;this.canvas&&this.editable&&!uZ(p)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(P){let{e:p,transform:x}=P,h=this.draggableTextDelegate.end(p);if(this.canvas){this.canvas.textEditingManager.unregister(this);let X=this.canvas._activeObject;if(X&&X!==this)return}!this.editable||this.group&&!this.group.interactive||x&&x.actionPerformed||uZ(p)||h||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(p),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(P){let p=this.getSelectionStartFromPointer(P),x=this.selectionStart,h=this.selectionEnd;P.shiftKey?this.setSelectionStartEndWithShift(x,h,p):(this.selectionStart=p,this.selectionEnd=p),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(P){let p=this.canvas.getScenePoint(P).transform(zp(this.calcTransformMatrix())).add(new O(-this._getLeftOffset(),-this._getTopOffset())),x=0,h=0,X=0;for(let f=0;f<this._textLines.length&&x<=p.y;f++)x+=this.getHeightOfLine(f),X=f,f>0&&(h+=this._textLines[f-1].length+this.missingNewlineOffset(f-1));let H=Math.abs(this._getLineLeftOffset(X)),A=this._textLines[X].length,B=this.__charBounds[X];for(let f=0;f<A;f++){let D=H+B[f].kernedWidth;if(p.x<=D){Math.abs(p.x-D)<=Math.abs(p.x-H)&&h++;break}H=D,h++}return Math.min(this.flipX?A-h:h,this._text.length)}}var Y5="moveCursorUp",Q5="moveCursorDown",V5="moveCursorLeft",q5="moveCursorRight",I5="exitEditing",sU=d({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1000,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:I5,27:I5,33:Y5,34:Q5,35:q5,36:V5,37:V5,38:Y5,39:q5,40:Q5},keysMapRtl:{9:I5,27:I5,33:Y5,34:Q5,35:V5,36:q5,37:q5,38:Y5,39:V5,40:Q5},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class w8 extends MI{static getDefaults(){return d(d({},super.getDefaults()),w8.ownDefaults)}get type(){let P=super.type;return P==="itext"?"i-text":P}constructor(P,p){super(P,d(d({},w8.ownDefaults),p)),this.initBehavior()}_set(P,p){return this.isEditing&&this._savedProps&&P in this._savedProps?(this._savedProps[P]=p,this):(P==="canvas"&&(this.canvas instanceof C1&&this.canvas.textEditingManager.remove(this),p instanceof C1&&p.textEditingManager.add(this)),super._set(P,p))}setSelectionStart(P){P=Math.max(P,0),this._updateAndFire("selectionStart",P)}setSelectionEnd(P){P=Math.min(P,this.text.length),this._updateAndFire("selectionEnd",P)}_updateAndFire(P,p){this[P]!==p&&(this._fireSelectionChanged(),this[P]=p),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,x=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(P,p,x)}setSelectionStyles(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(P,p,x)}get2DCursorLocation(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,p=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(P,p)}render(P){super.render(P),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(P){let p=this.isEditing;this.isEditing=!1;let x=super.toCanvasElement(P);return this.isEditing=p,x}renderCursorOrSelection(){if(!this.isEditing)return;let P=this.clearContextTop(!0);if(!P)return;let p=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(P,p):this.renderCursor(P,p),this.canvas.contextTopDirty=!0,P.restore()}_getCursorBoundaries(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,p=arguments.length>1?arguments[1]:void 0,x=this._getLeftOffset(),h=this._getTopOffset(),X=this._getCursorBoundariesOffsets(P,p);return{left:x,top:h,leftOffset:X.left,topOffset:X.top}}_getCursorBoundariesOffsets(P,p){return p?this.__getCursorBoundariesOffsets(P):this.cursorOffsetCache&&("top"in this.cursorOffsetCache)?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(P)}__getCursorBoundariesOffsets(P){let p=0,x=0,{charIndex:h,lineIndex:X}=this.get2DCursorLocation(P);for(let f=0;f<X;f++)p+=this.getHeightOfLine(f);let H=this._getLineLeftOffset(X),A=this.__charBounds[X][h];A&&(x=A.left),this.charSpacing!==0&&h===this._textLines[X].length&&(x-=this._getWidthOfCharSpacing());let B={top:p,left:H+(x>0?x:0)};return this.direction==="rtl"&&(this.textAlign===FP||this.textAlign===l1||this.textAlign===cA?B.left*=-1:this.textAlign===G0||this.textAlign===l5?B.left=H-(x>0?x:0):this.textAlign!==z0&&this.textAlign!==vA||(B.left=H-(x>0?x:0))),B}renderCursorAt(P){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(P,!0),P)}renderCursor(P,p){this._renderCursor(P,p,this.selectionStart)}getCursorRenderingData(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(P),x=this.get2DCursorLocation(P),h=x.lineIndex,X=x.charIndex>0?x.charIndex-1:0,H=this.getValueOfPropertyAt(h,X,"fontSize"),A=this.getObjectScaling().x*this.canvas.getZoom(),B=this.cursorWidth/A,f=this.getValueOfPropertyAt(h,X,"deltaY"),D=p.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(h)/this.lineHeight-H*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(h,X,"fill"),opacity:this._currentCursorOpacity,left:p.left+p.leftOffset-B/2,top:D+p.top+f,width:B,height:H}}_renderCursor(P,p,x){let{color:h,opacity:X,left:H,top:A,width:B,height:f}=this.getCursorRenderingData(x,p);P.fillStyle=h,P.globalAlpha=X,P.fillRect(H,A,B,f)}renderSelection(P,p){let x={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(P,x,p)}renderDragSourceEffect(){let P=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,P,this._getCursorBoundaries(P.selectionStart,!0))}renderDropTargetEffect(P){let p=this.getSelectionStartFromPointer(P);this.renderCursorAt(p)}_renderSelection(P,p,x){let{selectionStart:h,selectionEnd:X}=p,H=this.textAlign.includes(l1),A=this.get2DCursorLocation(h),B=this.get2DCursorLocation(X),f=A.lineIndex,D=B.lineIndex,Z=A.charIndex<0?0:A.charIndex,L=B.charIndex<0?0:B.charIndex;for(let $=f;$<=D;$++){let C=this._getLineLeftOffset($)||0,Y=this.getHeightOfLine($),V=0,q=0,b=0;if($===f&&(q=this.__charBounds[f][Z].left),$>=f&&$<D)b=H&&!this.isEndOfWrapping($)?this.width:this.getLineWidth($)||5;else if($===D)if(L===0)b=this.__charBounds[D][L].left;else{let j=this._getWidthOfCharSpacing();b=this.__charBounds[D][L-1].left+this.__charBounds[D][L-1].width-j}V=Y,(this.lineHeight<1||$===D&&this.lineHeight>1)&&(Y/=this.lineHeight);let F=x.left+C+q,M=Y,Q=0,I=b-q;this.inCompositionMode?(P.fillStyle=this.compositionColor||"black",M=1,Q=Y):P.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===FP||this.textAlign===l1||this.textAlign===cA?F=this.width-F-I:this.textAlign===G0||this.textAlign===l5?F=x.left+C-b:this.textAlign!==z0&&this.textAlign!==vA||(F=x.left+C-b)),P.fillRect(F,x.top+x.topOffset+Q,I,M),x.topOffset+=V}}getCurrentCharFontSize(){let P=this._getCurrentCharIndex();return this.getValueOfPropertyAt(P.l,P.c,"fontSize")}getCurrentCharColor(){let P=this._getCurrentCharIndex();return this.getValueOfPropertyAt(P.l,P.c,kP)}_getCurrentCharIndex(){let P=this.get2DCursorLocation(this.selectionStart,!0),p=P.charIndex>0?P.charIndex-1:0;return{l:P.lineIndex,c:p}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}K(w8,"ownDefaults",sU),K(w8,"type","IText"),$0.setClass(w8),$0.setClass(w8,"i-text");class Kh extends w8{static getDefaults(){return d(d({},super.getDefaults()),Kh.ownDefaults)}constructor(P,p){super(P,d(d({},Kh.ownDefaults),p))}static createControls(){return{controls:Rq()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(l1)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(P){let p=0,x=0,h=0,X={};for(let H=0;H<P.graphemeLines.length;H++)P.graphemeText[h]===`
`&&H>0?(x=0,h++,p++):!this.splitByGrapheme&&this._reSpaceAndTab.test(P.graphemeText[h])&&H>0&&(x++,h++),X[H]={line:p,offset:x},h+=P.graphemeLines[H].length,x+=P.graphemeLines[H].length;return X}styleHas(P,p){if(this._styleMap&&!this.isWrapping){let x=this._styleMap[p];x&&(p=x.line)}return super.styleHas(P,p)}isEmptyStyles(P){if(!this.styles)return!0;let p,x=0,h=P+1,X=!1,H=this._styleMap[P],A=this._styleMap[P+1];H&&(P=H.line,x=H.offset),A&&(h=A.line,X=h===P,p=A.offset);let B=P===void 0?this.styles:{line:this.styles[P]};for(let f in B)for(let D in B[f]){let Z=parseInt(D,10);if(Z>=x&&(!X||Z<p))for(let L in B[f][D])return!1}return!0}_getStyleDeclaration(P,p){if(this._styleMap&&!this.isWrapping){let x=this._styleMap[P];if(!x)return{};P=x.line,p=x.offset+p}return super._getStyleDeclaration(P,p)}_setStyleDeclaration(P,p,x){let h=this._styleMap[P];super._setStyleDeclaration(h.line,h.offset+p,x)}_deleteStyleDeclaration(P,p){let x=this._styleMap[P];super._deleteStyleDeclaration(x.line,x.offset+p)}_getLineStyle(P){let p=this._styleMap[P];return!!this.styles[p.line]}_setLineStyle(P){let p=this._styleMap[P];super._setLineStyle(p.line)}_wrapText(P,p){this.isWrapping=!0;let x=this.getGraphemeDataForRender(P),h=[];for(let X=0;X<x.wordsData.length;X++)h.push(...this._wrapLine(X,p,x));return this.isWrapping=!1,h}getGraphemeDataForRender(P){let p=this.splitByGrapheme,x=p?"":" ",h=0;return{wordsData:P.map((X,H)=>{let A=0,B=p?this.graphemeSplit(X):this.wordSplit(X);return B.length===0?[{word:[],width:0}]:B.map((f)=>{let D=p?[f]:this.graphemeSplit(f),Z=this._measureWord(D,H,A);return h=Math.max(Z,h),A+=D.length+x.length,{word:D,width:Z}})}),largestWordWidth:h}}_measureWord(P,p){let x,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,X=0;for(let H=0,A=P.length;H<A;H++)X+=this._getGraphemeBox(P[H],p,H+h,x,!0).kernedWidth,x=P[H];return X}wordSplit(P){return P.split(this._wordJoiners)}_wrapLine(P,p,x){let{largestWordWidth:h,wordsData:X}=x,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,A=this._getWidthOfCharSpacing(),B=this.splitByGrapheme,f=[],D=B?"":" ",Z=0,L=[],$=0,C=0,Y=!0;p-=H;let V=Math.max(p,h,this.dynamicMinWidth),q=X[P],b;for($=0,b=0;b<q.length;b++){let{word:F,width:M}=q[b];$+=F.length,Z+=C+M-A,Z>V&&!Y?(f.push(L),L=[],Z=M,Y=!0):Z+=A,Y||B||L.push(D),L=L.concat(F),C=B?0:this._measureWord([D],P,$),$++,Y=!1}return b&&f.push(L),h+H>this.dynamicMinWidth&&(this.dynamicMinWidth=h-A+H),f}isEndOfWrapping(P){return!this._styleMap[P+1]||this._styleMap[P+1].line!==this._styleMap[P].line}missingNewlineOffset(P,p){return this.splitByGrapheme&&!p?this.isEndOfWrapping(P)?1:0:1}_splitTextIntoLines(P){let p=super._splitTextIntoLines(P),x=this._wrapText(p.lines,this.width),h=new Array(x.length);for(let X=0;X<x.length;X++)h[X]=x[X].join("");return p.lines=h,p.graphemeLines=x,p}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){let P=new Map;for(let p in this._styleMap){let x=parseInt(p,10);if(this._textLines[x]){let h=this._styleMap[p].line;P.set("".concat(h),!0)}}for(let p in this.styles)P.has(p)||delete this.styles[p]}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...P])}}K(Kh,"type","Textbox"),K(Kh,"textLayoutProperties",[...w8.textLayoutProperties,"width"]),K(Kh,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),$0.setClass(Kh);class $9 extends iA{shouldPerformLayout(P){return!!P.target.clipPath&&super.shouldPerformLayout(P)}shouldLayoutClipPath(){return!1}calcLayoutResult(P,p){let{target:x}=P,{clipPath:h,group:X}=x;if(!h||!this.shouldPerformLayout(P))return;let{width:H,height:A}=N1(Oq(x,h)),B=new O(H,A);if(h.absolutePositioned)return{center:k8(h.getRelativeCenterPoint(),void 0,X?X.calcTransformMatrix():void 0),size:B};{let f=h.getRelativeCenterPoint().transform(x.calcOwnMatrix(),!0);if(this.shouldPerformLayout(P)){let{center:D=new O,correction:Z=new O}=this.calcBoundingBox(p,P)||{};return{center:D.add(f),correction:Z.subtract(f),size:B}}return{center:x.getRelativeCenterPoint().add(f),size:B}}}}K($9,"type","clip-path"),$0.setClass($9);class L9 extends iA{getInitialSize(P,p){let{target:x}=P,{size:h}=p;return new O(x.width||h.x,x.height||h.y)}}K(L9,"type","fixed"),$0.setClass(L9);class YI extends kH{subscribeTargets(P){let p=P.target;P.targets.reduce((x,h)=>(h.parent&&x.add(h.parent),x),new Set).forEach((x)=>{x.layoutManager.subscribeTargets({target:x,targets:[p]})})}unsubscribeTargets(P){let p=P.target,x=p.getObjects();P.targets.reduce((h,X)=>(X.parent&&h.add(X.parent),h),new Set).forEach((h)=>{!x.some((X)=>X.parent===h)&&h.layoutManager.unsubscribeTargets({target:h,targets:[p]})})}}class Rh extends T8{static getDefaults(){return d(d({},super.getDefaults()),Rh.ownDefaults)}constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Rh.ownDefaults),this.setOptions(p);let{left:x,top:h,layoutManager:X}=p;this.groupInit(P,{left:x,top:h,layoutManager:X!=null?X:new YI})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var P=arguments.length,p=new Array(P),x=0;x<P;x++)p[x]=arguments[x];this.multiSelectionStacking==="selection-order"?this.add(...p):p.forEach((h)=>{let X=this._objects.findIndex((A)=>A.isInFrontOf(h)),H=X===-1?this.size():X;this.insertAt(H,h)})}canEnterGroup(P){return this.getObjects().some((p)=>p.isDescendantOf(P)||P.isDescendantOf(p))?(wx("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(P)}enterGroup(P,p){P.parent&&P.parent===P.group?P.parent._exitGroup(P):P.group&&P.parent!==P.group&&P.group.remove(P),this._enterGroup(P,p)}exitGroup(P,p){this._exitGroup(P,p),P.parent&&P.parent._enterGroup(P,!0)}_onAfterObjectsChange(P,p){super._onAfterObjectsChange(P,p);let x=new Set;p.forEach((h)=>{let{parent:X}=h;X&&x.add(X)}),P===N9?x.forEach((h)=>{h._onAfterObjectsChange(c5,p)}):x.forEach((h)=>{h._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(P,p,x){P.save(),P.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;let h=d(d({hasControls:!1},x),{},{forActiveSelection:!0});for(let X=0;X<this._objects.length;X++)this._objects[X]._renderControls(P,h);super._renderControls(P,p),P.restore()}}K(Rh,"type","ActiveSelection"),K(Rh,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),$0.setClass(Rh),$0.setClass(Rh,"activeSelection");class QI{constructor(){K(this,"resources",{})}applyFilters(P,p,x,h,X){let H=X.getContext("2d");if(!H)return;H.drawImage(p,0,0,x,h);let A={sourceWidth:x,sourceHeight:h,imageData:H.getImageData(0,0,x,h),originalEl:p,originalImageData:H.getImageData(0,0,x,h),canvasEl:X,ctx:H,filterBackend:this};P.forEach((f)=>{f.applyTo(A)});let{imageData:B}=A;return B.width===x&&B.height===h||(X.width=B.width,X.height=B.height),H.putImageData(B,0,0),A}}class y9{constructor(){let{tileSize:P=K0.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};K(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),K(this,"resources",{}),this.tileSize=P,this.setupGLContext(P,P),this.captureGPUInfo()}setupGLContext(P,p){this.dispose(),this.createWebGLCanvas(P,p)}createWebGLCanvas(P,p){let x=L1({width:P,height:p}),h=x.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});h&&(h.clearColor(0,0,0,0),this.canvas=x,this.gl=h)}applyFilters(P,p,x,h,X,H){let A=this.gl,B=X.getContext("2d");if(!A||!B)return;let f;H&&(f=this.getCachedTexture(H,p));let D={originalWidth:p.width||p.naturalWidth||0,originalHeight:p.height||p.naturalHeight||0,sourceWidth:x,sourceHeight:h,destinationWidth:x,destinationHeight:h,context:A,sourceTexture:this.createTexture(A,x,h,f?void 0:p),targetTexture:this.createTexture(A,x,h),originalTexture:f||this.createTexture(A,x,h,f?void 0:p),passes:P.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:X},Z=A.createFramebuffer();return A.bindFramebuffer(A.FRAMEBUFFER,Z),P.forEach((L)=>{L&&L.applyTo(D)}),function(L){let $=L.targetCanvas,C=$.width,Y=$.height,V=L.destinationWidth,q=L.destinationHeight;C===V&&Y===q||($.width=V,$.height=q)}(D),this.copyGLTo2D(A,D),A.bindTexture(A.TEXTURE_2D,null),A.deleteTexture(D.sourceTexture),A.deleteTexture(D.targetTexture),A.deleteFramebuffer(Z),B.setTransform(1,0,0,1,0,0),D}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(P,p,x,h,X){let{NEAREST:H,TEXTURE_2D:A,RGBA:B,UNSIGNED_BYTE:f,CLAMP_TO_EDGE:D,TEXTURE_MAG_FILTER:Z,TEXTURE_MIN_FILTER:L,TEXTURE_WRAP_S:$,TEXTURE_WRAP_T:C}=P,Y=P.createTexture();return P.bindTexture(A,Y),P.texParameteri(A,Z,X||H),P.texParameteri(A,L,X||H),P.texParameteri(A,$,D),P.texParameteri(A,C,D),h?P.texImage2D(A,0,B,B,f,h):P.texImage2D(A,0,B,p,x,0,B,f,null),Y}getCachedTexture(P,p,x){let{textureCache:h}=this;if(h[P])return h[P];{let X=this.createTexture(this.gl,p.width,p.height,p,x);return X&&(h[P]=X),X}}evictCachesForKey(P){this.textureCache[P]&&(this.gl.deleteTexture(this.textureCache[P]),delete this.textureCache[P])}copyGLTo2D(P,p){let x=P.canvas,h=p.targetCanvas,X=h.getContext("2d");if(!X)return;X.translate(0,h.height),X.scale(1,-1);let H=x.height-h.height;X.drawImage(x,0,H,h.width,h.height,0,0,h.width,h.height)}copyGLTo2DPutImageData(P,p){let x=p.targetCanvas.getContext("2d"),h=p.destinationWidth,X=p.destinationHeight,H=h*X*4;if(!x)return;let A=new Uint8Array(this.imageBuffer,0,H),B=new Uint8ClampedArray(this.imageBuffer,0,H);P.readPixels(0,0,h,X,P.RGBA,P.UNSIGNED_BYTE,A);let f=new ImageData(B,h,X);x.putImageData(f,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;let P=this.gl,p={renderer:"",vendor:""};if(!P)return p;let x=P.getExtension("WEBGL_debug_renderer_info");if(x){let h=P.getParameter(x.UNMASKED_RENDERER_WEBGL),X=P.getParameter(x.UNMASKED_VENDOR_WEBGL);h&&(p.renderer=h.toLowerCase()),X&&(p.vendor=X.toLowerCase())}return this.gpuInfo=p,p}}var oZ;function tU(){let{WebGLProbe:P}=O1();return P.queryWebGL(rp()),K0.enableGLFiltering&&P.isSupported(K0.textureSize)?new y9({tileSize:K0.textureSize}):new QI}function aZ(){return!oZ&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(oZ=tU()),oZ}var eU=["filters","resizeFilter","src","crossOrigin","type"],VI=["cropX","cropY"];class v0 extends SP{static getDefaults(){return d(d({},super.getDefaults()),v0.ownDefaults)}constructor(P,p){super(),K(this,"_lastScaleX",1),K(this,"_lastScaleY",1),K(this,"_filterScalingX",1),K(this,"_filterScalingY",1),this.filters=[],Object.assign(this,v0.ownDefaults),this.setOptions(p),this.cacheKey="texture".concat(Wx()),this.setElement(typeof P=="string"?(this.canvas&&A1(this.canvas.getElement())||WH()).getElementById(P):P,p)}getElement(){return this._element}setElement(P){var p;let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=P,this._originalElement=P,this._setWidthHeight(x),(p=P.classList)===null||p===void 0||p.add(v0.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(P){let p=aZ(!1);p instanceof y9&&p.evictCachesForKey(P)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((P)=>{let p=this[P];p&&O1().dispose(p),this[P]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){let P=this.getElement();return P?{width:P.naturalWidth||P.width,height:P.naturalHeight||P.height}:{width:0,height:0}}_stroke(P){if(!this.stroke||this.strokeWidth===0)return;let p=this.width/2,x=this.height/2;P.beginPath(),P.moveTo(-p,-x),P.lineTo(p,-x),P.lineTo(p,x),P.lineTo(-p,x),P.lineTo(-p,-x),P.closePath()}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=[];return this.filters.forEach((x)=>{x&&p.push(x.toObject())}),d(d({},super.toObject([...VI,...P])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:p},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){let P=[],p=this._element,x=-this.width/2,h=-this.height/2,X=[],H=[],A="",B="";if(!p)return[];if(this.hasCrop()){let f=Wx();X.push('<clipPath id="imageCrop_'+f+`">
`,'\t<rect x="'+x+'" y="'+h+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),A=' clip-path="url(#imageCrop_'+f+')" '}if(this.imageSmoothing||(B=' image-rendering="optimizeSpeed"'),P.push("\t<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(x-this.cropX,'" y="').concat(h-this.cropY,'" width="').concat(p.width||p.naturalWidth,'" height="').concat(p.height||p.naturalHeight,'"').concat(B).concat(A,`></image>
`)),this.stroke||this.strokeDashArray){let f=this.fill;this.fill=null,H=['\t<rect x="'.concat(x,'" y="').concat(h,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=f}return X=this.paintFirst!==kP?X.concat(H,P):X.concat(P,H),X}getSrc(P){let p=P?this._element:this._originalElement;return p?p.toDataURL?p.toDataURL():this.srcFromAttribute?p.getAttribute("src")||"":p.src:this.src||""}getSvgSrc(P){return this.getSrc(P)}setSrc(P){let{crossOrigin:p,signal:x}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return RA(P,{crossOrigin:p,signal:x}).then((h)=>{p!==void 0&&this.set({crossOrigin:p}),this.setElement(h)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){let P=this.resizeFilter,p=this.minimumScaleTrigger,x=this.getTotalObjectScaling(),h=x.x,X=x.y,H=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!P||h>p&&X>p)return this._element=H,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=h,void(this._lastScaleY=X);let A=L1(H),{width:B,height:f}=H;this._element=A,this._lastScaleX=P.scaleX=h,this._lastScaleY=P.scaleY=X,aZ().applyFilters([P],H,B,f,this._element),this._filterScalingX=A.width/this._originalElement.width,this._filterScalingY=A.height/this._originalElement.height}applyFilters(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(P=P.filter((X)=>X&&!X.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),P.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);let p=this._originalElement,x=p.naturalWidth||p.width,h=p.naturalHeight||p.height;if(this._element===this._originalElement){let X=L1({width:x,height:h});this._element=X,this._filteredEl=X}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,x,h),this._lastScaleX=1,this._lastScaleY=1);aZ().applyFilters(P,this._originalElement,x,h,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(P){P.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(P),this._renderPaintInOrder(P)}drawCacheOnCanvas(P){P.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(P)}shouldCache(){return this.needsItsOwnCache()}_renderFill(P){let p=this._element;if(!p)return;let x=this._filterScalingX,h=this._filterScalingY,X=this.width,H=this.height,A=Math.max(this.cropX,0),B=Math.max(this.cropY,0),f=p.naturalWidth||p.width,D=p.naturalHeight||p.height,Z=A*x,L=B*h,$=Math.min(X*x,f-Z),C=Math.min(H*h,D-L),Y=-X/2,V=-H/2,q=Math.min(X,f/x-A),b=Math.min(H,D/h-B);p&&P.drawImage(p,Z,L,$,C,Y,V,q,b)}_needsResize(){let P=this.getTotalObjectScaling();return P.x!==this._lastScaleX||P.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:P,height:p}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=this.getOriginalSize();this.width=P||x.width,this.height=p||x.height}parsePreserveAspectRatioAttribute(){let P=eV(this.preserveAspectRatio||""),p=this.width,x=this.height,h={width:p,height:x},X,H=this._element.width,A=this._element.height,B=1,f=1,D=0,Z=0,L=0,$=0;return!P||P.alignX===fp&&P.alignY===fp?(B=p/H,f=x/A):(P.meetOrSlice==="meet"&&(B=f=_q(this._element,h),X=(p-H*B)/2,P.alignX==="Min"&&(D=-X),P.alignX==="Max"&&(D=X),X=(x-A*f)/2,P.alignY==="Min"&&(Z=-X),P.alignY==="Max"&&(Z=X)),P.meetOrSlice==="slice"&&(B=f=iq(this._element,h),X=H-p/B,P.alignX==="Mid"&&(L=X/2),P.alignX==="Max"&&(L=X),X=A-x/f,P.alignY==="Mid"&&($=X/2),P.alignY==="Max"&&($=X),H=p/B,A=x/f)),{width:H,height:A,scaleX:B,scaleY:f,offsetLeft:D,offsetTop:Z,cropX:L,cropY:$}}static fromObject(P,p){let{filters:x,resizeFilter:h,src:X,crossOrigin:H,type:A}=P,B=t0(P,eU);return Promise.all([RA(X,d(d({},p),{},{crossOrigin:H})),x&&zH(x,p),h&&zH([h],p),gA(B,p)]).then((f)=>{let[D,Z=[],[L]=[],$={}]=f;return new this(D,d(d({},B),{},{src:X,filters:Z,resizeFilter:L},$))})}static fromURL(P){let{crossOrigin:p=null,signal:x}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2?arguments[2]:void 0;return RA(P,{crossOrigin:p,signal:x}).then((X)=>new this(X,h))}static async fromElement(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2?arguments[2]:void 0,h=d8(P,this.ATTRIBUTE_NAMES,x);return this.fromURL(h["xlink:href"],p,h).catch((X)=>(wx("log","Unable to parse Image",X),null))}}K(v0,"type","Image"),K(v0,"cacheProperties",[...J8,...VI]),K(v0,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:0.5,cropX:0,cropY:0,imageSmoothing:!0}),K(v0,"CSS_CANVAS","canvas-img"),K(v0,"ATTRIBUTE_NAMES",[...dx,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),$0.setClass(v0),$0.setSVGClass(v0);var lN=o5(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);var qI=iV,GV=(P)=>function(p,x,h){let{points:X,pathOffset:H}=h;return new O(X[P]).subtract(H).transform(ZP(h.getViewportTransform(),h.calcTransformMatrix()))},II=(P,p,x,h)=>{let{target:X,pointIndex:H}=p,A=X,B=k8(new O(x,h),void 0,A.calcOwnMatrix());return A.points[H]=B.add(A.pathOffset),A.setDimensions(),!0},EI=(P,p)=>function(x,h,X,H){let A=h.target,B=new O(A.points[(P>0?P:A.points.length)-1]),f=B.subtract(A.pathOffset).transform(A.calcOwnMatrix()),D=p(x,d(d({},h),{},{pointIndex:P}),X,H),Z=B.subtract(A.pathOffset).transform(A.calcOwnMatrix()).subtract(f);return A.left-=Z.x,A.top-=Z.y,D},SV=(P)=>Jx(qI,EI(P,II)),C9=(P,p,x)=>{let{path:h,pathOffset:X}=P,H=h[p];return new O(H[x]-X.x,H[x+1]-X.y).transform(ZP(P.getViewportTransform(),P.calcTransformMatrix()))};function PG(P,p,x){let{commandIndex:h,pointIndex:X}=this;return C9(x,h,X)}function pG(P,p,x,h){let{target:X}=p,{commandIndex:H,pointIndex:A}=this,B=((f,D,Z,L,$)=>{let{path:C,pathOffset:Y}=f,V=C[(L>0?L:C.length)-1],q=new O(V[$],V[$+1]),b=q.subtract(Y).transform(f.calcOwnMatrix()),F=k8(new O(D,Z),void 0,f.calcOwnMatrix());C[L][$]=F.x+Y.x,C[L][$+1]=F.y+Y.y,f.setDimensions();let M=q.subtract(f.pathOffset).transform(f.calcOwnMatrix()).subtract(b);return f.left-=M.x,f.top-=M.y,f.set("dirty",!0),!0})(X,x,h,H,A);return j9(this.actionName,d(d({},J9(P,p,x,h)),{},{commandIndex:H,pointIndex:A})),B}class _9 extends Bp{constructor(P){super(P)}render(P,p,x,h,X){let H=d(d({},h),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(P,p,x,H,X)}}class zI extends _9{constructor(P){super(P)}render(P,p,x,h,X){let{path:H}=X,{commandIndex:A,pointIndex:B,connectToCommandIndex:f,connectToPointIndex:D}=this;P.save(),P.strokeStyle=this.controlStroke,this.connectionDashArray&&P.setLineDash(this.connectionDashArray);let[Z]=H[A],L=C9(X,f,D);if(Z==="Q"){let $=C9(X,A,B+2);P.moveTo($.x,$.y),P.lineTo(p,x)}else P.moveTo(p,x);P.lineTo(L.x,L.y),P.stroke(),P.restore(),super.render(P,p,x,h,X)}}var E5=(P,p,x,h,X,H)=>new(x?zI:_9)(d(d({commandIndex:P,pointIndex:p,actionName:"modifyPath",positionHandler:PG,actionHandler:pG,connectToCommandIndex:X,connectToPointIndex:H},h),x?h.controlPointStyle:h.pointStyle)),NN=Object.freeze({__proto__:null,changeWidth:h9,createObjectDefaultControls:U9,createPathControls:function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x={},h="M";return P.path.forEach((X,H)=>{let A=X[0];switch(A!=="Z"&&(x["c_".concat(H,"_").concat(A)]=E5(H,X.length-2,!1,p)),A){case"C":x["c_".concat(H,"_C_CP_1")]=E5(H,1,!0,p,H-1,((B)=>B==="C"?5:B==="Q"?3:1)(h)),x["c_".concat(H,"_C_CP_2")]=E5(H,3,!0,p,H,5);break;case"Q":x["c_".concat(H,"_Q_CP_1")]=E5(H,1,!0,p,H,3)}h=A}),x},createPolyActionHandler:SV,createPolyControls:function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x={};for(let h=0;h<(typeof P=="number"?P:P.points.length);h++)x["p".concat(h)]=new Bp(d({actionName:qI,positionHandler:GV(h),actionHandler:SV(h)},p));return x},createPolyPositionHandler:GV,createResizeControls:Kq,createTextboxDefaultControls:Rq,dragHandler:fq,factoryPolyActionHandler:EI,getLocalPoint:u5,polyActionHandler:II,renderCircleControl:Vq,renderSquareControl:qq,rotationStyleHandler:Iq,rotationWithSnapping:Eq,scaleCursorStyleHandler:hH,scaleOrSkewActionName:TA,scaleSkewCursorStyleHandler:Jh,scalingEqually:WA,scalingX:kq,scalingXOrSkewingY:X9,scalingY:Wq,scalingYOrSkewingX:H9,skewCursorStyleHandler:Tq,skewHandlerX:Jq,skewHandlerY:dq,wrapWithFireEvent:Jx,wrapWithFixedAnchor:Sh}),Pf=(P)=>P.webgl!==void 0;var i9="precision highp float",xG=`
    `.concat(i9,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),hG=["type"],XG=["type"],HG=new RegExp(i9,"g");class bP{get type(){return this.constructor.type}constructor(){let P=t0(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},hG);Object.assign(this,this.constructor.defaults,P)}getFragmentSource(){return xG}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource(),{WebGLProbe:{GLPrecision:h="highp"}}=O1();h!=="highp"&&(p=p.replace(HG,i9.replace("highp",h)));let X=P.createShader(P.VERTEX_SHADER),H=P.createShader(P.FRAGMENT_SHADER),A=P.createProgram();if(!X||!H||!A)throw new B1("Vertex, fragment shader or program creation error");if(P.shaderSource(X,x),P.compileShader(X),!P.getShaderParameter(X,P.COMPILE_STATUS))throw new B1("Vertex shader compile error for ".concat(this.type,": ").concat(P.getShaderInfoLog(X)));if(P.shaderSource(H,p),P.compileShader(H),!P.getShaderParameter(H,P.COMPILE_STATUS))throw new B1("Fragment shader compile error for ".concat(this.type,": ").concat(P.getShaderInfoLog(H)));if(P.attachShader(A,X),P.attachShader(A,H),P.linkProgram(A),!P.getProgramParameter(A,P.LINK_STATUS))throw new B1('Shader link error for "'.concat(this.type,'" ').concat(P.getProgramInfoLog(A)));let B=this.getUniformLocations(P,A)||{};return B.uStepW=P.getUniformLocation(A,"uStepW"),B.uStepH=P.getUniformLocation(A,"uStepH"),{program:A,attributeLocations:this.getAttributeLocations(P,A),uniformLocations:B}}getAttributeLocations(P,p){return{aPosition:P.getAttribLocation(p,"aPosition")}}getUniformLocations(P,p){let x=this.constructor.uniformLocations,h={};for(let X=0;X<x.length;X++)h[x[X]]=P.getUniformLocation(p,x[X]);return h}sendAttributeData(P,p,x){let h=p.aPosition,X=P.createBuffer();P.bindBuffer(P.ARRAY_BUFFER,X),P.enableVertexAttribArray(h),P.vertexAttribPointer(h,2,P.FLOAT,!1,0,0),P.bufferData(P.ARRAY_BUFFER,x,P.STATIC_DRAW)}_setupFrameBuffer(P){let p=P.context;if(P.passes>1){let{destinationWidth:x,destinationHeight:h}=P;P.sourceWidth===x&&P.sourceHeight===h||(p.deleteTexture(P.targetTexture),P.targetTexture=P.filterBackend.createTexture(p,x,h)),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,P.targetTexture,0)}else p.bindFramebuffer(p.FRAMEBUFFER,null),p.finish()}_swapTextures(P){P.passes--,P.pass++;let p=P.targetTexture;P.targetTexture=P.sourceTexture,P.sourceTexture=p}isNeutralState(P){return!1}applyTo(P){Pf(P)?(this._setupFrameBuffer(P),this.applyToWebGL(P),this._swapTextures(P)):this.applyTo2d(P)}applyTo2d(P){}getCacheKey(){return this.type}retrieveShader(P){let p=this.getCacheKey();return P.programCache[p]||(P.programCache[p]=this.createProgram(P.context)),P.programCache[p]}applyToWebGL(P){let p=P.context,x=this.retrieveShader(P);P.pass===0&&P.originalTexture?p.bindTexture(p.TEXTURE_2D,P.originalTexture):p.bindTexture(p.TEXTURE_2D,P.sourceTexture),p.useProgram(x.program),this.sendAttributeData(p,x.attributeLocations,P.aPosition),p.uniform1f(x.uniformLocations.uStepW,1/P.sourceWidth),p.uniform1f(x.uniformLocations.uStepH,1/P.sourceHeight),this.sendUniformData(p,x.uniformLocations),p.viewport(0,0,P.destinationWidth,P.destinationHeight),p.drawArrays(p.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(P,p,x){P.activeTexture(x),P.bindTexture(P.TEXTURE_2D,p),P.activeTexture(P.TEXTURE0)}unbindAdditionalTexture(P,p){P.activeTexture(p),P.bindTexture(P.TEXTURE_2D,null),P.activeTexture(P.TEXTURE0)}sendUniformData(P,p){}createHelpLayer(P){if(!P.helpLayer){let{sourceWidth:p,sourceHeight:x}=P,h=L1({width:p,height:x});P.helpLayer=h}}toObject(){let P=Object.keys(this.constructor.defaults||{});return d({type:this.type},P.reduce((p,x)=>(p[x]=this[x],p),{}))}toJSON(){return this.toObject()}static async fromObject(P,p){return new this(t0(P,XG))}}K(bP,"type","BaseFilter"),K(bP,"uniformLocations",[]);var AG={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class HH extends bP{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(AG[this.mode],`
        }
      }
      `)}applyTo2d(P){let{imageData:{data:p}}=P,x=new l0(this.color).getSource(),h=this.alpha,X=x[0]*h,H=x[1]*h,A=x[2]*h,B=1-h;for(let f=0;f<p.length;f+=4){let D=p[f],Z=p[f+1],L=p[f+2],$,C,Y;switch(this.mode){case"multiply":$=D*X/255,C=Z*H/255,Y=L*A/255;break;case"screen":$=255-(255-D)*(255-X)/255,C=255-(255-Z)*(255-H)/255,Y=255-(255-L)*(255-A)/255;break;case"add":$=D+X,C=Z+H,Y=L+A;break;case"difference":$=Math.abs(D-X),C=Math.abs(Z-H),Y=Math.abs(L-A);break;case"subtract":$=D-X,C=Z-H,Y=L-A;break;case"darken":$=Math.min(D,X),C=Math.min(Z,H),Y=Math.min(L,A);break;case"lighten":$=Math.max(D,X),C=Math.max(Z,H),Y=Math.max(L,A);break;case"overlay":$=X<128?2*D*X/255:255-2*(255-D)*(255-X)/255,C=H<128?2*Z*H/255:255-2*(255-Z)*(255-H)/255,Y=A<128?2*L*A/255:255-2*(255-L)*(255-A)/255;break;case"exclusion":$=X+D-2*X*D/255,C=H+Z-2*H*Z/255,Y=A+L-2*A*L/255;break;case"tint":$=X+D*B,C=H+Z*B,Y=A+L*B}p[f]=$,p[f+1]=C,p[f+2]=Y}}sendUniformData(P,p){let x=new l0(this.color).getSource();x[0]=this.alpha*x[0]/255,x[1]=this.alpha*x[1]/255,x[2]=this.alpha*x[2]/255,x[3]=this.alpha,P.uniform4fv(p.uColor,x)}}K(HH,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),K(HH,"type","BlendColor"),K(HH,"uniformLocations",["uColor"]),$0.setClass(HH);var BG={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},DG=["type","image"];class AH extends bP{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return BG[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(P){let p=P.context,x=this.createTexture(P.filterBackend,this.image);this.bindAdditionalTexture(p,x,p.TEXTURE1),super.applyToWebGL(P),this.unbindAdditionalTexture(p,p.TEXTURE1)}createTexture(P,p){return P.getCachedTexture(p.cacheKey,p.getElement())}calculateMatrix(){let P=this.image,{width:p,height:x}=P.getElement();return[1/P.scaleX,0,0,0,1/P.scaleY,0,-P.left/p,-P.top/x,1]}applyTo2d(P){let{imageData:{data:p,width:x,height:h},filterBackend:{resources:X}}=P,H=this.image;X.blendImage||(X.blendImage=rp());let A=X.blendImage,B=A.getContext("2d");A.width!==x||A.height!==h?(A.width=x,A.height=h):B.clearRect(0,0,x,h),B.setTransform(H.scaleX,0,0,H.scaleY,H.left,H.top),B.drawImage(H.getElement(),0,0,x,h);let f=B.getImageData(0,0,x,h).data;for(let D=0;D<p.length;D+=4){let Z=p[D],L=p[D+1],$=p[D+2],C=p[D+3],Y=f[D],V=f[D+1],q=f[D+2],b=f[D+3];switch(this.mode){case"multiply":p[D]=Z*Y/255,p[D+1]=L*V/255,p[D+2]=$*q/255,p[D+3]=C*b/255;break;case"mask":p[D+3]=b}}}sendUniformData(P,p){let x=this.calculateMatrix();P.uniform1i(p.uImage,1),P.uniformMatrix3fv(p.uTransformMatrix,!1,x)}toObject(){return d(d({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(P,p){let{type:x,image:h}=P,X=t0(P,DG);return v0.fromObject(h,p).then((H)=>new this(d(d({},X),{},{image:H})))}}K(AH,"type","BlendImage"),K(AH,"defaults",{mode:"multiply",alpha:1}),K(AH,"uniformLocations",["uTransformMatrix","uImage"]),$0.setClass(AH);class BH extends bP{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(P){Pf(P)?(this.aspectRatio=P.sourceWidth/P.sourceHeight,P.passes++,this._setupFrameBuffer(P),this.horizontal=!0,this.applyToWebGL(P),this._swapTextures(P),this._setupFrameBuffer(P),this.horizontal=!1,this.applyToWebGL(P),this._swapTextures(P)):this.applyTo2d(P)}applyTo2d(P){P.imageData=this.simpleBlur(P)}simpleBlur(P){let{ctx:p,imageData:x,filterBackend:{resources:h}}=P,{width:X,height:H}=x;h.blurLayer1||(h.blurLayer1=rp(),h.blurLayer2=rp());let{blurLayer1:A,blurLayer2:B}=h;A.width===X&&A.height===H||(B.width=A.width=X,B.height=A.height=H);let f=A.getContext("2d"),D=B.getContext("2d"),Z=15,L=0.06*this.blur*0.5,$,C,Y,V;for(f.putImageData(x,0,0),D.clearRect(0,0,X,H),V=-15;V<=Z;V++)$=(Math.random()-0.5)/4,C=V/Z,Y=L*C*X+$,D.globalAlpha=1-Math.abs(C),D.drawImage(A,Y,$),f.drawImage(B,0,0),D.globalAlpha=1,D.clearRect(0,0,B.width,B.height);for(V=-15;V<=Z;V++)$=(Math.random()-0.5)/4,C=V/Z,Y=L*C*H+$,D.globalAlpha=1-Math.abs(C),D.drawImage(A,$,Y),f.drawImage(B,0,0),D.globalAlpha=1,D.clearRect(0,0,B.width,B.height);p.drawImage(A,0,0);let q=p.getImageData(0,0,A.width,A.height);return f.globalAlpha=1,f.clearRect(0,0,A.width,A.height),q}sendUniformData(P,p){let x=this.chooseRightDelta();P.uniform2fv(p.uDelta,x)}isNeutralState(){return this.blur===0}chooseRightDelta(){let P=1,p=[0,0];this.horizontal?this.aspectRatio>1&&(P=1/this.aspectRatio):this.aspectRatio<1&&(P=this.aspectRatio);let x=P*this.blur*0.12;return this.horizontal?p[0]=x:p[1]=x,p}}K(BH,"type","Blur"),K(BH,"defaults",{blur:0}),K(BH,"uniformLocations",["uDelta"]),$0.setClass(BH);class DH extends bP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(P){let{imageData:{data:p}}=P,x=Math.round(255*this.brightness);for(let h=0;h<p.length;h+=4)p[h]+=x,p[h+1]+=x,p[h+2]+=x}isNeutralState(){return this.brightness===0}sendUniformData(P,p){P.uniform1f(p.uBrightness,this.brightness)}}K(DH,"type","Brightness"),K(DH,"defaults",{brightness:0}),K(DH,"uniformLocations",["uBrightness"]),$0.setClass(DH);var wI={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class zx extends bP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(P){let p=P.imageData.data,x=this.matrix,h=this.colorsOnly;for(let X=0;X<p.length;X+=4){let H=p[X],A=p[X+1],B=p[X+2];if(p[X]=H*x[0]+A*x[1]+B*x[2]+255*x[4],p[X+1]=H*x[5]+A*x[6]+B*x[7]+255*x[9],p[X+2]=H*x[10]+A*x[11]+B*x[12]+255*x[14],!h){let f=p[X+3];p[X]+=f*x[3],p[X+1]+=f*x[8],p[X+2]+=f*x[13],p[X+3]=H*x[15]+A*x[16]+B*x[17]+f*x[18]+255*x[19]}}}sendUniformData(P,p){let x=this.matrix,h=[x[0],x[1],x[2],x[3],x[5],x[6],x[7],x[8],x[10],x[11],x[12],x[13],x[15],x[16],x[17],x[18]],X=[x[4],x[9],x[14],x[19]];P.uniformMatrix4fv(p.uColorMatrix,!1,h),P.uniform4fv(p.uConstants,X)}toObject(){return d(d({},super.toObject()),{},{matrix:[...this.matrix]})}}function lh(P,p){var x;let h=(K(x=class extends zx{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",P),K(x,"defaults",{colorsOnly:!1,matrix:p}),x);return $0.setClass(h,P),h}K(zx,"type","ColorMatrix"),K(zx,"defaults",wI),K(zx,"uniformLocations",["uColorMatrix","uConstants"]),$0.setClass(zx);var fG=lh("Brownie",[0.5997,0.34553,-0.27082,0,0.186,-0.0377,0.86095,0.15059,0,-0.1449,0.24113,-0.07441,0.44972,0,-0.02965,0,0,0,1,0]),ZG=lh("Vintage",[0.62793,0.32021,-0.03965,0,0.03784,0.02578,0.64411,0.03259,0,0.02926,0.0466,-0.08512,0.52416,0,0.02023,0,0,0,1,0]),$G=lh("Kodachrome",[1.12855,-0.39673,-0.03992,0,0.24991,-0.16404,1.08352,-0.05498,0,0.09698,-0.16786,-0.56034,1.60148,0,0.13972,0,0,0,1,0]),LG=lh("Technicolor",[1.91252,-0.85453,-0.09155,0,0.04624,-0.30878,1.76589,-0.10601,0,-0.27589,-0.2311,-0.75018,1.84759,0,0.12137,0,0,0,1,0]),CG=lh("Polaroid",[1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0]),FG=lh("Sepia",[0.393,0.769,0.189,0,0,0.349,0.686,0.168,0,0,0.272,0.534,0.131,0,0,0,0,0,1,0]),bG=lh("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class N5 extends bP{constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(P),this.subFilters=P.subFilters||[]}applyTo(P){Pf(P)&&(P.passes+=this.subFilters.length-1),this.subFilters.forEach((p)=>{p.applyTo(P)})}toObject(){return{type:this.type,subFilters:this.subFilters.map((P)=>P.toObject())}}isNeutralState(){return!this.subFilters.some((P)=>!P.isNeutralState())}static fromObject(P,p){return Promise.all((P.subFilters||[]).map((x)=>$0.getClass(x.type).fromObject(x,p))).then((x)=>new this({subFilters:x}))}}K(N5,"type","Composed"),$0.setClass(N5);class fH extends bP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(P){let{imageData:{data:p}}=P,x=Math.floor(255*this.contrast),h=259*(x+255)/(255*(259-x));for(let X=0;X<p.length;X+=4)p[X]=h*(p[X]-128)+128,p[X+1]=h*(p[X+1]-128)+128,p[X+2]=h*(p[X+2]-128)+128}sendUniformData(P,p){P.uniform1f(p.uContrast,this.contrast)}}K(fH,"type","Contrast"),K(fH,"defaults",{contrast:0}),K(fH,"uniformLocations",["uContrast"]),$0.setClass(fH);var MG={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class ZH extends bP{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return MG[this.getCacheKey()]}applyTo2d(P){let p=P.imageData,x=p.data,h=this.matrix,X=Math.round(Math.sqrt(h.length)),H=Math.floor(X/2),A=p.width,B=p.height,f=P.ctx.createImageData(A,B),D=f.data,Z=this.opaque?1:0,L,$,C,Y,V,q,b,F,M,Q,I,j,k;for(I=0;I<B;I++)for(Q=0;Q<A;Q++){for(V=4*(I*A+Q),L=0,$=0,C=0,Y=0,k=0;k<X;k++)for(j=0;j<X;j++)b=I+k-H,q=Q+j-H,b<0||b>=B||q<0||q>=A||(F=4*(b*A+q),M=h[k*X+j],L+=x[F]*M,$+=x[F+1]*M,C+=x[F+2]*M,Z||(Y+=x[F+3]*M));D[V]=L,D[V+1]=$,D[V+2]=C,D[V+3]=Z?x[V+3]:Y}P.imageData=f}sendUniformData(P,p){P.uniform1fv(p.uMatrix,this.matrix)}toObject(){return d(d({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}K(ZH,"type","Convolute"),K(ZH,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),K(ZH,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),$0.setClass(ZH);var kI="Gamma";class $H extends bP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(P),this.gamma=P.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(P){let{imageData:{data:p}}=P,x=this.gamma,h=1/x[0],X=1/x[1],H=1/x[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});let A=this.rgbValues;for(let B=0;B<256;B++)A.r[B]=255*Math.pow(B/255,h),A.g[B]=255*Math.pow(B/255,X),A.b[B]=255*Math.pow(B/255,H);for(let B=0;B<p.length;B+=4)p[B]=A.r[p[B]],p[B+1]=A.g[p[B+1]],p[B+2]=A.b[p[B+2]]}sendUniformData(P,p){P.uniform3fv(p.uGamma,this.gamma)}isNeutralState(){let{gamma:P}=this;return P[0]===1&&P[1]===1&&P[2]===1}toObject(){return{type:kI,gamma:this.gamma.concat()}}}K($H,"type",kI),K($H,"defaults",{gamma:[1,1,1]}),K($H,"uniformLocations",["uGamma"]),$0.setClass($H);var YG={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class LH extends bP{applyTo2d(P){let{imageData:{data:p}}=P;for(let x,h=0;h<p.length;h+=4){let X=p[h],H=p[h+1],A=p[h+2];switch(this.mode){case"average":x=(X+H+A)/3;break;case"lightness":x=(Math.min(X,H,A)+Math.max(X,H,A))/2;break;case"luminosity":x=0.21*X+0.72*H+0.07*A}p[h+2]=p[h+1]=p[h]=x}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return YG[this.mode]}sendUniformData(P,p){P.uniform1i(p.uMode,1)}isNeutralState(){return!1}}K(LH,"type","Grayscale"),K(LH,"defaults",{mode:"average"}),K(LH,"uniformLocations",["uMode"]),$0.setClass(LH);var QG=d(d({},wI),{},{rotation:0});class UA extends zx{calculateMatrix(){let P=this.rotation*Math.PI,p=Z1(P),x=$1(P),X=Math.sqrt(0.3333333333333333)*x,H=1-p;this.matrix=[p+H/3,0.3333333333333333*H-X,0.3333333333333333*H+X,0,0,0.3333333333333333*H+X,p+0.3333333333333333*H,0.3333333333333333*H-X,0,0,0.3333333333333333*H-X,0.3333333333333333*H+X,p+0.3333333333333333*H,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(P){this.calculateMatrix(),super.applyTo(P)}toObject(){return{type:this.type,rotation:this.rotation}}}K(UA,"type","HueRotation"),K(UA,"defaults",QG),$0.setClass(UA);class CH extends bP{applyTo2d(P){let{imageData:{data:p}}=P;for(let x=0;x<p.length;x+=4)p[x]=255-p[x],p[x+1]=255-p[x+1],p[x+2]=255-p[x+2],this.alpha&&(p[x+3]=255-p[x+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(P,p){P.uniform1i(p.uInvert,Number(this.invert)),P.uniform1i(p.uAlpha,Number(this.alpha))}}K(CH,"type","Invert"),K(CH,"defaults",{alpha:!1,invert:!0}),K(CH,"uniformLocations",["uInvert","uAlpha"]),$0.setClass(CH);class FH extends bP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(P){let{imageData:{data:p}}=P,x=this.noise;for(let h=0;h<p.length;h+=4){let X=(0.5-Math.random())*x;p[h]+=X,p[h+1]+=X,p[h+2]+=X}}sendUniformData(P,p){P.uniform1f(p.uNoise,this.noise/255),P.uniform1f(p.uSeed,Math.random())}isNeutralState(){return this.noise===0}}K(FH,"type","Noise"),K(FH,"defaults",{noise:0}),K(FH,"uniformLocations",["uNoise","uSeed"]),$0.setClass(FH);class bH extends bP{applyTo2d(P){let{imageData:{data:p,width:x,height:h}}=P;for(let X=0;X<h;X+=this.blocksize)for(let H=0;H<x;H+=this.blocksize){let A=4*X*x+4*H,B=p[A],f=p[A+1],D=p[A+2],Z=p[A+3];for(let L=X;L<Math.min(X+this.blocksize,h);L++)for(let $=H;$<Math.min(H+this.blocksize,x);$++){let C=4*L*x+4*$;p[C]=B,p[C+1]=f,p[C+2]=D,p[C+3]=Z}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(P,p){P.uniform1f(p.uBlocksize,this.blocksize)}}K(bH,"type","Pixelate"),K(bH,"defaults",{blocksize:4}),K(bH,"uniformLocations",["uBlocksize"]),$0.setClass(bH);class MH extends bP{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(P){let{imageData:{data:p}}=P,x=255*this.distance,h=new l0(this.color).getSource(),X=[h[0]-x,h[1]-x,h[2]-x],H=[h[0]+x,h[1]+x,h[2]+x];for(let A=0;A<p.length;A+=4){let B=p[A],f=p[A+1],D=p[A+2];B>X[0]&&f>X[1]&&D>X[2]&&B<H[0]&&f<H[1]&&D<H[2]&&(p[A+3]=0)}}sendUniformData(P,p){let x=new l0(this.color).getSource(),h=this.distance,X=[0+x[0]/255-h,0+x[1]/255-h,0+x[2]/255-h,1],H=[x[0]/255+h,x[1]/255+h,x[2]/255+h,1];P.uniform4fv(p.uLow,X),P.uniform4fv(p.uHigh,H)}}K(MH,"type","RemoveColor"),K(MH,"defaults",{color:"#FFFFFF",distance:0.02,useAlpha:!1}),K(MH,"uniformLocations",["uLow","uHigh"]),$0.setClass(MH);class YH extends bP{sendUniformData(P,p){P.uniform2fv(p.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),P.uniform1fv(p.uTaps,this.taps)}getFilterWindow(){let P=this.tempScale;return Math.ceil(this.lanczosLobes/P)}getCacheKey(){let P=this.getFilterWindow();return"".concat(this.type,"_").concat(P)}getFragmentSource(){let P=this.getFilterWindow();return this.generateShader(P)}getTaps(){let P=this.lanczosCreate(this.lanczosLobes),p=this.tempScale,x=this.getFilterWindow(),h=new Array(x);for(let X=1;X<=x;X++)h[X-1]=P(X*p);return h}generateShader(P){let p=new Array(P);for(let x=1;x<=P;x++)p[x-1]="".concat(x,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(P,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(p.map((x,h)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(x,") * uTaps[").concat(h,"] + texture2D(uTexture, vTexCoord - ").concat(x,") * uTaps[").concat(h,`];
              sum += 2.0 * uTaps[`).concat(h,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(P){P.passes++,this.width=P.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=P.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),P.destinationWidth=this.dW,super.applyTo(P),P.sourceWidth=P.destinationWidth,this.height=P.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),P.destinationHeight=this.dH,super.applyTo(P),P.sourceHeight=P.destinationHeight}applyTo(P){Pf(P)?this.applyToForWebgl(P):this.applyTo2d(P)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(P){return(p)=>{if(p>=P||p<=-P)return 0;if(p<0.00000011920929&&p>-0.00000011920929)return 1;let x=(p*=Math.PI)/P;return Math.sin(p)/p*Math.sin(x)/x}}applyTo2d(P){let p=P.imageData,x=this.scaleX,h=this.scaleY;this.rcpScaleX=1/x,this.rcpScaleY=1/h;let{width:X,height:H}=p,A=Math.round(X*x),B=Math.round(H*h),f;f=this.resizeType==="sliceHack"?this.sliceByTwo(P,X,H,A,B):this.resizeType==="hermite"?this.hermiteFastResize(P,X,H,A,B):this.resizeType==="bilinear"?this.bilinearFiltering(P,X,H,A,B):this.resizeType==="lanczos"?this.lanczosResize(P,X,H,A,B):new ImageData(A,B),P.imageData=f}sliceByTwo(P,p,x,h,X){let H=P.imageData,B=!1,f=!1,D=p*0.5,Z=x*0.5,L=P.filterBackend.resources,$=0,C=0,Y=p,V=0;L.sliceByTwo||(L.sliceByTwo=rp());let q=L.sliceByTwo;(q.width<1.5*p||q.height<x)&&(q.width=1.5*p,q.height=x);let b=q.getContext("2d");for(b.clearRect(0,0,1.5*p,x),b.putImageData(H,0,0),h=Math.floor(h),X=Math.floor(X);!B||!f;)p=D,x=Z,h<Math.floor(D*0.5)?D=Math.floor(D*0.5):(D=h,B=!0),X<Math.floor(Z*0.5)?Z=Math.floor(Z*0.5):(Z=X,f=!0),b.drawImage(q,$,C,p,x,Y,V,D,Z),$=Y,C=V,V+=Z;return b.getImageData($,C,h,X)}lanczosResize(P,p,x,h,X){let H=P.imageData.data,A=P.ctx.createImageData(h,X),B=A.data,f=this.lanczosCreate(this.lanczosLobes),D=this.rcpScaleX,Z=this.rcpScaleY,L=2/this.rcpScaleX,$=2/this.rcpScaleY,C=Math.ceil(D*this.lanczosLobes/2),Y=Math.ceil(Z*this.lanczosLobes/2),V={},q={x:0,y:0},b={x:0,y:0};return function F(M){let Q,I,j,k,w,S,T,R,v,J,N;for(q.x=(M+0.5)*D,b.x=Math.floor(q.x),Q=0;Q<X;Q++){for(q.y=(Q+0.5)*Z,b.y=Math.floor(q.y),w=0,S=0,T=0,R=0,v=0,I=b.x-C;I<=b.x+C;I++)if(!(I<0||I>=p)){J=Math.floor(1000*Math.abs(I-q.x)),V[J]||(V[J]={});for(let c=b.y-Y;c<=b.y+Y;c++)c<0||c>=x||(N=Math.floor(1000*Math.abs(c-q.y)),V[J][N]||(V[J][N]=f(Math.sqrt(Math.pow(J*L,2)+Math.pow(N*$,2))/1000)),j=V[J][N],j>0&&(k=4*(c*p+I),w+=j,S+=j*H[k],T+=j*H[k+1],R+=j*H[k+2],v+=j*H[k+3]))}k=4*(Q*h+M),B[k]=S/w,B[k+1]=T/w,B[k+2]=R/w,B[k+3]=v/w}return++M<h?F(M):A}(0)}bilinearFiltering(P,p,x,h,X){let H,A,B,f,D,Z,L,$,C,Y,V,q,b,F=0,M=this.rcpScaleX,Q=this.rcpScaleY,I=4*(p-1),j=P.imageData.data,k=P.ctx.createImageData(h,X),w=k.data;for(L=0;L<X;L++)for($=0;$<h;$++)for(D=Math.floor(M*$),Z=Math.floor(Q*L),C=M*$-D,Y=Q*L-Z,b=4*(Z*p+D),V=0;V<4;V++)H=j[b+V],A=j[b+4+V],B=j[b+I+V],f=j[b+I+4+V],q=H*(1-C)*(1-Y)+A*C*(1-Y)+B*Y*(1-C)+f*C*Y,w[F++]=q;return k}hermiteFastResize(P,p,x,h,X){let H=this.rcpScaleX,A=this.rcpScaleY,B=Math.ceil(H/2),f=Math.ceil(A/2),D=P.imageData.data,Z=P.ctx.createImageData(h,X),L=Z.data;for(let $=0;$<X;$++)for(let C=0;C<h;C++){let Y=4*(C+$*h),V=0,q=0,b=0,F=0,M=0,Q=0,I=0,j=($+0.5)*A;for(let k=Math.floor($*A);k<($+1)*A;k++){let w=Math.abs(j-(k+0.5))/f,S=(C+0.5)*H,T=w*w;for(let R=Math.floor(C*H);R<(C+1)*H;R++){let v=Math.abs(S-(R+0.5))/B,J=Math.sqrt(T+v*v);J>1&&J<-1||(V=2*J*J*J-3*J*J+1,V>0&&(v=4*(R+k*p),I+=V*D[v+3],b+=V,D[v+3]<255&&(V=V*D[v+3]/250),F+=V*D[v],M+=V*D[v+1],Q+=V*D[v+2],q+=V))}}L[Y]=F/q,L[Y+1]=M/q,L[Y+2]=Q/q,L[Y+3]=I/b}return Z}}K(YH,"type","Resize"),K(YH,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),K(YH,"uniformLocations",["uDelta","uTaps"]),$0.setClass(YH);class QH extends bP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(P){let{imageData:{data:p}}=P,x=-this.saturation;for(let h=0;h<p.length;h+=4){let X=p[h],H=p[h+1],A=p[h+2],B=Math.max(X,H,A);p[h]+=B!==X?(B-X)*x:0,p[h+1]+=B!==H?(B-H)*x:0,p[h+2]+=B!==A?(B-A)*x:0}}sendUniformData(P,p){P.uniform1f(p.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}K(QH,"type","Saturation"),K(QH,"defaults",{saturation:0}),K(QH,"uniformLocations",["uSaturation"]),$0.setClass(QH);class VH extends bP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(P){let{imageData:{data:p}}=P,x=-this.vibrance;for(let h=0;h<p.length;h+=4){let X=p[h],H=p[h+1],A=p[h+2],B=Math.max(X,H,A),f=(X+H+A)/3,D=2*Math.abs(B-f)/255*x;p[h]+=B!==X?(B-X)*D:0,p[h+1]+=B!==H?(B-H)*D:0,p[h+2]+=B!==A?(B-A)*D:0}}sendUniformData(P,p){P.uniform1f(p.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}K(VH,"type","Vibrance"),K(VH,"defaults",{vibrance:0}),K(VH,"uniformLocations",["uVibrance"]),$0.setClass(VH);var ON=Object.freeze({__proto__:null,BaseFilter:bP,BlackWhite:bG,BlendColor:HH,BlendImage:AH,Blur:BH,Brightness:DH,Brownie:fG,ColorMatrix:zx,Composed:N5,Contrast:fH,Convolute:ZH,Gamma:$H,Grayscale:LH,HueRotation:UA,Invert:CH,Kodachrome:$G,Noise:FH,Pixelate:bH,Polaroid:CG,RemoveColor:MH,Resize:YH,Saturation:QH,Sepia:FG,Technicolor:LG,Vibrance:VH,Vintage:ZG});var F1=S0(y0(),1);var WI="./perkbg-re54prrp.png";var TI="./gradient-tr2q6j2h.png";var jI={clear(){console.log("todo")},drawImage(){console.log("todo")}},JI={clear(P){P.clearRect(0,0,P.canvas.width,P.canvas.height)},drawImage(P,p,x,h){P.drawImage(p,x,h)}},m9={clear(P){if(P instanceof CanvasRenderingContext2D)JI.clear(P);else if(P instanceof WebGLRenderingContext)jI.clear(P)},drawImage(P,p,x,h){if(P instanceof CanvasRenderingContext2D)JI.drawImage(P,p,x,h);else if(P instanceof WebGLRenderingContext)jI.drawImage(P,p,x,h)}};class g1{constructor(P){this.canvas=null,this.use(P)}use(P){this.method=P}make(P,p){if(!this.canvas)this.canvas=document.createElement("canvas");let{canvas:x}=this,h=this.getContext(),X=p.thickness*2,[H,A]=[P.width,P.height].map((B)=>B+X);if(H!==x.width||A!==x.height)x.width=H,x.height=A;return m9.clear(h),this.method.exec(h,P,p),m9.drawImage(h,P,p.thickness,p.thickness),x}getContext(){switch(this.method.context){case"gl":return this.canvas.getContext("gl");case"2d":return this.canvas.getContext("2d")}}}var Kx={context:"2d",exec(P,p,x){P.save();for(let h=0;h<360;h++)P.drawImage(p,x.thickness*(1+Math.cos(h)),x.thickness*(1+Math.sin(h)));P.globalCompositeOperation="source-in",P.fillStyle=x.color,P.fillRect(0,0,P.canvas.width,P.canvas.height),P.restore()}};function dI({files:P,setCanvasURLs:p}){let x=F1.useRef(null),h=F1.useRef(null),[X,H]=F1.useState(null),[A,B]=F1.useState("");F1.useEffect(()=>{if(x.current){let Z=new C1(x.current);H(Z)}},[]),F1.useEffect(()=>{if(X)u9(X)},[X]),F1.useEffect(()=>{if(P&&X)console.log("PerkCanvas received files:",P.length),X.clear(),u9(X),P.forEach((Z)=>{console.log("PerkCanvas processing file:",Z.name),IG(Z.data,Z.name,X,B,D)})},[P,X]),F1.useEffect(()=>{if(X)u9(X)},[X]);function f(){if(h.current&&A)h.current.href=A,h.current.download=P?.[0]?.name+".png"}let D=(Z,L)=>{p(($)=>{if($.some((Y)=>Y.name===Z))return console.log("File already exists in canvasURLs:",Z),$.map((Y)=>Y.name===Z?{...Y,data:L}:Y);return[...$,{name:Z,data:L,id:$.length}]})};return LP("div",{className:"absolute invisible pointer-events-none",children:[p0("canvas",{ref:x,width:250,height:250}),p0("a",{ref:h,onClick:f,children:"Download"})]})}function IG(P,p,x,h,X){let H=new Image,A=new Image,B=!1,f=!1,D=!1;function Z(){if(D||!B||!f)return;D=!0,console.log("Processing images for:",p);let L=new v0(A,{clipPath:new v0(H,{left:0,top:0,width:256,height:256,originX:"center",originY:"center"}),left:0,top:0,width:256,height:256,selectable:!1});console.log("fabricImage with clipPath created for:",p);let $=L.toDataURL();console.log("Data URL created for:",p),x.remove(L);let C=new Image;function Y(){console.log("htmlImage loaded for:",p);let V=new g1;V.use(Kx);let q=V.make(C,{thickness:2,color:"black"}),b=new v0(q,{left:0,top:0,width:256,height:256,selectable:!1});x.add(b),x.renderAll();let F=x.toDataURL();h(F),console.log("Canvas URL created for",p),X(p,F),x.remove(b)}if(C.onload=Y,C.src=$,C.complete)Y()}if(H.onload=()=>{console.log("iconImage loaded for:",p),B=!0,Z()},A.onload=()=>{console.log("gradImage loaded for:",p),f=!0,Z()},H.src=P,A.src=TI,H.complete)console.log("iconImage already loaded for:",p),B=!0;if(A.complete)console.log("gradImage already loaded for:",p),f=!0;Z()}function u9(P){let p=new Image;p.src=WI,p.onload=()=>{console.log("background loaded successfully");let x=new v0(p,{left:0,top:0,selectable:!1});P.backgroundImage=x,P.renderAll()}}var kp=S0(y0(),1);var o9="./itemBrown-53hy1n4b.png";var a9="./itemBlue-tfvz89yb.png";var r9="./itemGreen-4k0e3aqy.png";var n9="./itemPurple-1f49wh9p.png";var KI="./itemPink-4xh395sg.png";var RI="./itemEvent-6n8hwq2m.png";var cI="./ItemBrownGrad-azatdwes.png";var vI="./itemBlueGrad-qy7g6g7w.png";var UI="./itemGreenGrad-v8d4mdam.png";var GI="./itemPurpleGrad-7j0scnhp.png";var SI="./itemPinkGrad-rpc1d674.png";var lI="./itemEventGrad-jg5zvn7r.png";function OI({files:P,setCanvasURLs:p}){let x=kp.useRef(null),h=kp.useRef(null),[X,H]=kp.useState(null),[A,B]=kp.useState(""),[f,D]=kp.useState([]);kp.useEffect(()=>{if(x.current){let $=new C1(x.current);H($)}},[]),kp.useEffect(()=>{if(X)NI(X)},[X]),kp.useEffect(()=>{if(P&&X)console.log("ItemCanvas received files:",P.length),X.clear(),P.forEach(($)=>{console.log("ItemCanvas processing file:",$.name);let C=$.name.endsWith(".png")?$.name:`${$.name}.png`,Y=f.filter((V)=>V.name===C);if(Y.length>0){console.log("Found matching addons:",Y);let V=Y[0].details.rarity;vG($.data,$.name,X,B,L,V)}else console.log($.name,"could not be matched. No Icon generated")})},[P,X]),kp.useEffect(()=>{if(X)NI(X)},[X]),kp.useEffect(()=>{fetch("https://michaelexile.github.io/DBD-IconsJSON/dbdItems.json").then(($)=>$.json()).then(($)=>D($)).catch(($)=>console.error("Error loading addon data:",$))},[]);function Z(){if(h.current&&A)h.current.href=A,h.current.download=P?.[0]?.name+".png"}let L=($,C)=>{p((Y)=>{if(Y.some((q)=>q.name===$))return console.log("File already exists in canvasURLs:",$),Y.map((q)=>q.name===$?{...q,data:C}:q);return[...Y,{name:$,data:C,id:Y.length}]})};return LP("div",{className:"absolute invisible pointer-events-none",children:[p0("canvas",{ref:x,width:250,height:250}),p0("a",{ref:h,onClick:Z,children:"Download"})]})}function vG(P,p,x,h,X,H){let A=new Image,B=new Image,f=new Image,D=!1,Z=!1,L=!1,$=!1;function C(){if($||!D||!Z||!L)return;$=!0,console.log("Processing images for:",p);let q=new v0(f,{left:0,top:0,selectable:!1}),b=new v0(B,{clipPath:new v0(A,{left:0,top:0,width:256,height:256,originX:"center",originY:"center"}),left:0,top:0,width:256,height:256,selectable:!1});console.log("fabricImage with clipPath created for:",p);let F=b.toDataURL();console.log("Data URL created for:",p),x.remove(b);let M=new Image;M.src=F,M.onload=Q;function Q(){console.log("htmlImage loaded for:",p);let I=new g1;I.use(Kx);let j=I.make(M,{thickness:2,color:"black"}),k=new v0(j,{left:0,top:0,width:256,height:256,selectable:!1});x.add(k),x.backgroundImage=q,x.renderAll();let w=x.toDataURL();h(w),console.log("Canvas URL created for",p),X(p,w),x.remove(k)}if(M.complete)Q()}A.onload=()=>{console.log("iconImage loaded for:",p),D=!0,C()},B.onload=()=>{console.log("gradImage loaded for:",p),Z=!0,C()};let Y,V;if(H)Y=H==="common"?o9:H==="uncommon"?r9:H==="rare"?a9:H==="very_rare"?n9:H==="ultra_rare"?KI:RI,V=H==="common"?cI:H==="uncommon"?UI:H==="rare"?vI:H==="very_rare"?GI:H==="ultra_rare"?SI:lI;if(f.onload=()=>{console.log("background loaded successfully"),L=!0,C()},A.src=P,B.src=V,f.src=Y,A.complete)console.log("iconImage already loaded for:",p),D=!0;if(B.complete)console.log("gradImage already loaded for:",p),Z=!0;if(f.complete)console.log("gradImage already loaded for:",p),L=!0;C()}function NI(P,p){let x=new Image,h=p==="common"?o9:p==="uncommon"?a9:p==="rare"?r9:n9;x.src=h}var Wp=S0(y0(),1);var s9="./addonBrown-ghry9js0.png";var t9="./addonBlue-8gj2cgxc.png";var e9="./addonGreen-c6r8pjam.png";var P$="./addonPurple-pgwpstx9.png";var gI="./addonPink-v6vfn79j.png";var yI="./addonEvent-wxa8jczh.png";var _I="./addonBrownGrad-q98265yw.png";var iI="./addonBlueGrad-qy7g6g7w.png";var mI="./addonGreenGrad-cggcndxd.png";var uI="./addonPurpleGrad-pnsx0mz4.png";var oI="./addonPinkGrad-ntqka2g3.png";var aI="./addonEventGrad-bk496cty.png";function nI({files:P,setCanvasURLs:p}){let x=Wp.useRef(null),h=Wp.useRef(null),[X,H]=Wp.useState(null),[A,B]=Wp.useState(""),[f,D]=Wp.useState([]);Wp.useEffect(()=>{if(x.current){let $=new C1(x.current);H($)}},[]),Wp.useEffect(()=>{if(X)rI(X)},[X]),Wp.useEffect(()=>{if(P&&X)console.log("ItemCanvas received files:",P.length),X.clear(),P.forEach(($)=>{console.log("ItemCanvas processing file:",$.name);let C=f.filter((Y)=>Y.name.includes($.name));if(C.length>0){console.log("Found matching addons:",C);let Y=C[0].details.rarity;oG($.data,$.name,X,B,L,Y)}else console.log($.name,"could not be matched. No Icon generated")})},[P,X]),Wp.useEffect(()=>{if(X)rI(X)},[X]),Wp.useEffect(()=>{fetch("https://michaelexile.github.io/DBD-IconsJSON/dbdItemAddons.json").then(($)=>$.json()).then(($)=>D($)).catch(($)=>console.error("Error loading addon data:",$))},[]);function Z(){if(h.current&&A)h.current.href=A,h.current.download=P?.[0]?.name+".png"}let L=($,C)=>{p((Y)=>{if(Y.some((q)=>q.name===$))return console.log("File already exists in canvasURLs:",$),Y.map((q)=>q.name===$?{...q,data:C}:q);return[...Y,{name:$,data:C,id:Y.length}]})};return LP("div",{className:"absolute invisible pointer-events-none",children:[p0("canvas",{ref:x,width:250,height:250}),p0("a",{ref:h,onClick:Z,children:"Download"})]})}function oG(P,p,x,h,X,H){let A=new Image,B=new Image,f=new Image,D=!1,Z=!1,L=!1,$=!1;function C(){if($||!D||!Z||!L)return;$=!0,console.log("Processing images for:",p);let q=new v0(f,{left:0,top:0,selectable:!1}),b=new v0(B,{clipPath:new v0(A,{left:0,top:0,width:256,height:256,originX:"center",originY:"center"}),left:0,top:0,width:256,height:256,selectable:!1});console.log("fabricImage with clipPath created for:",p);let F=b.toDataURL();console.log("Data URL created for:",p),x.remove(b);let M=new Image;M.src=F,M.onload=Q;function Q(){console.log("htmlImage loaded for:",p);let I=new g1;I.use(Kx);let j=I.make(M,{thickness:2,color:"black"}),k=new v0(j,{left:0,top:0,width:256,height:256,selectable:!1});x.add(k),x.backgroundImage=q,x.renderAll();let w=x.toDataURL();h(w),console.log("Canvas URL created for",p),X(p,w),x.remove(k)}if(M.complete)Q()}A.onload=()=>{console.log("iconImage loaded for:",p),D=!0,C()},B.onload=()=>{console.log("gradImage loaded for:",p),Z=!0,C()};let Y,V;if(H)Y=H==="common"?s9:H==="uncommon"?e9:H==="rare"?t9:H==="very_rare"?P$:H==="ultra_rare"?gI:yI,V=H==="common"?_I:H==="uncommon"?mI:H==="rare"?iI:H==="very_rare"?uI:H==="ultra_rare"?oI:aI;if(f.onload=()=>{console.log("background loaded successfully"),L=!0,C()},A.src=P,B.src=V,f.src=Y,A.complete)console.log("iconImage already loaded for:",p),D=!0;if(B.complete)console.log("gradImage already loaded for:",p),Z=!0;if(f.complete)console.log("gradImage already loaded for:",p),L=!0;C()}function rI(P,p){let x=new Image,h=p==="common"?s9:p==="uncommon"?t9:p==="rare"?e9:P$;x.src=h}var Tp=S0(y0(),1);var b1="./offeringbg-89h8cfah.png";var sI="./offeringBrownGrad-g111s7ve.png";var tI="./offeringBlueGrad-qe9heh6v.png";var eI="./offeringGreenGrad-cf0prh0c.png";var PE="./offeringPurpleGrad-wxp7y5h1.png";var pE="./offeringPinkGrad-b81gnjnz.png";var xE="./offeringEventGrad-s7rg4v6a.png";function XE({files:P,setCanvasURLs:p}){let x=Tp.useRef(null),h=Tp.useRef(null),[X,H]=Tp.useState(null),[A,B]=Tp.useState(""),[f,D]=Tp.useState([]);Tp.useEffect(()=>{if(x.current){let $=new C1(x.current);H($)}},[]),Tp.useEffect(()=>{if(X)hE(X)},[X]),Tp.useEffect(()=>{if(P&&X)console.log("ItemCanvas received files:",P.length),X.clear(),P.forEach(($)=>{console.log("ItemCanvas processing file:",$.name);let C=f.filter((Y)=>Y.name.includes($.name));if(C.length>0){console.log("Found matching addons:",C);let Y=C[0].details.rarity;pS($.data,$.name,X,B,L,Y)}else console.log($.name,"could not be matched. No Icon generated")})},[P,X]),Tp.useEffect(()=>{if(X)hE(X)},[X]),Tp.useEffect(()=>{fetch("https://michaelexile.github.io/DBD-IconsJSON/dbdOfferings.json").then(($)=>$.json()).then(($)=>D($)).catch(($)=>console.error("Error loading addon data:",$))},[]);function Z(){if(h.current&&A)h.current.href=A,h.current.download=P?.[0]?.name+".png"}let L=($,C)=>{p((Y)=>{if(Y.some((q)=>q.name===$))return console.log("File already exists in canvasURLs:",$),Y.map((q)=>q.name===$?{...q,data:C}:q);return[...Y,{name:$,data:C,id:Y.length}]})};return LP("div",{className:"absolute invisible pointer-events-none",children:[p0("canvas",{ref:x,width:250,height:250}),p0("a",{ref:h,onClick:Z,children:"Download"})]})}function pS(P,p,x,h,X,H){let A=new Image,B=new Image,f=new Image,D=!1,Z=!1,L=!1,$=!1;function C(){if($||!D||!Z||!L)return;$=!0,console.log("Processing images for:",p);let q=new v0(f,{left:0,top:0,selectable:!1}),b=new v0(B,{clipPath:new v0(A,{left:0,top:0,width:256,height:256,originX:"center",originY:"center"}),left:0,top:0,width:256,height:256,selectable:!1});console.log("fabricImage with clipPath created for:",p);let F=b.toDataURL();console.log("Data URL created for:",p),x.remove(b);let M=new Image;M.src=F,M.onload=Q;function Q(){console.log("htmlImage loaded for:",p);let I=new g1;I.use(Kx);let j=I.make(M,{thickness:2,color:"black"}),k=new v0(j,{left:0,top:0,width:256,height:256,selectable:!1});x.add(k),x.backgroundImage=q,x.renderAll();let w=x.toDataURL();h(w),console.log("Canvas URL created for",p),X(p,w),x.remove(k)}if(M.complete)Q()}A.onload=()=>{console.log("iconImage loaded for:",p),D=!0,C()},B.onload=()=>{console.log("gradImage loaded for:",p),Z=!0,C()};let Y,V;if(H)Y=H==="common"?b1:H==="uncommon"?b1:H==="rare"?b1:H==="very_rare"?b1:H==="ultra_rare"?b1:b1,V=H==="common"?sI:H==="uncommon"?eI:H==="rare"?tI:H==="very_rare"?PE:H==="ultra_rare"?pE:xE;if(f.onload=()=>{console.log("background loaded successfully"),L=!0,C()},A.src=P,B.src=V,f.src=Y,A.complete)console.log("iconImage already loaded for:",p),D=!0;if(B.complete)console.log("gradImage already loaded for:",p),Z=!0;if(f.complete)console.log("gradImage already loaded for:",p),L=!0;C()}function hE(P,p){let x=new Image,h=p==="common"?b1:p==="uncommon"?b1:p==="rare"?b1:b1;x.src=h}var c8=S0(y0(),1);function M1(P,p,{checkForDefaultPrevented:x=!0}={}){return function h(X){if(P?.(X),x===!1||!X.defaultPrevented)return p?.(X)}}var K8=S0(y0(),1);function KH(P,p=[]){let x=[];function h(H,A){let B=K8.createContext(A),f=x.length;x=[...x,A];let D=(L)=>{let{scope:$,children:C,...Y}=L,V=$?.[P]?.[f]||B,q=K8.useMemo(()=>Y,Object.values(Y));return p0(V.Provider,{value:q,children:C})};D.displayName=H+"Provider";function Z(L,$){let C=$?.[P]?.[f]||B,Y=K8.useContext(C);if(Y)return Y;if(A!==void 0)return A;throw new Error(`\`${L}\` must be used within \`${H}\``)}return[D,Z]}let X=()=>{let H=x.map((A)=>{return K8.createContext(A)});return function A(B){let f=B?.[P]||H;return K8.useMemo(()=>({[`__scope${P}`]:{...B,[P]:f}}),[B,f])}};return X.scopeName=P,[h,xS(X,...p)]}function xS(...P){let p=P[0];if(P.length===1)return p;let x=()=>{let h=P.map((X)=>({useScope:X(),scopeName:X.scopeName}));return function X(H){let A=h.reduce((B,{useScope:f,scopeName:D})=>{let L=f(H)[`__scope${D}`];return{...B,...L}},{});return K8.useMemo(()=>({[`__scope${p.scopeName}`]:A}),[A])}};return x.scopeName=p.scopeName,x}var RP=S0(y0(),1);var Rx=S0(y0(),1);var AE=S0(y0(),1);function HE(P,p){if(typeof P==="function")return P(p);else if(P!==null&&P!==void 0)P.current=p}function hS(...P){return(p)=>{let x=!1,h=P.map((X)=>{let H=HE(X,p);if(!x&&typeof H=="function")x=!0;return H});if(x)return()=>{for(let X=0;X<h.length;X++){let H=h[X];if(typeof H=="function")H();else HE(P[X],null)}}}}function R8(...P){return AE.useCallback(hS(...P),P)}var qP=S0(y0(),1);function mA(P){let p=XS(P),x=qP.forwardRef((h,X)=>{let{children:H,...A}=h,B=qP.Children.toArray(H),f=B.find(AS);if(f){let D=f.props.children,Z=B.map((L)=>{if(L===f){if(qP.Children.count(D)>1)return qP.Children.only(null);return qP.isValidElement(D)?D.props.children:null}else return L});return p0(p,{...A,ref:X,children:qP.isValidElement(D)?qP.cloneElement(D,void 0,Z):null})}return p0(p,{...A,ref:X,children:H})});return x.displayName=`${P}.Slot`,x}function XS(P){let p=qP.forwardRef((x,h)=>{let{children:X,...H}=x,A=qP.isValidElement(X)?DS(X):void 0,B=R8(A,h);if(qP.isValidElement(X)){let f=BS(H,X.props);if(X.type!==qP.Fragment)f.ref=B;return qP.cloneElement(X,f)}return qP.Children.count(X)>1?qP.Children.only(null):null});return p.displayName=`${P}.SlotClone`,p}var HS=Symbol("radix.slottable");function AS(P){return qP.isValidElement(P)&&typeof P.type==="function"&&"__radixId"in P.type&&P.type.__radixId===HS}function BS(P,p){let x={...p};for(let h in p){let X=P[h],H=p[h];if(/^on[A-Z]/.test(h)){if(X&&H)x[h]=(...B)=>{let f=H(...B);return X(...B),f};else if(X)x[h]=X}else if(h==="style")x[h]={...X,...H};else if(h==="className")x[h]=[X,H].filter(Boolean).join(" ")}return{...P,...x}}function DS(P){let p=Object.getOwnPropertyDescriptor(P.props,"ref")?.get,x=p&&"isReactWarning"in p&&p.isReactWarning;if(x)return P.ref;if(p=Object.getOwnPropertyDescriptor(P,"ref")?.get,x=p&&"isReactWarning"in p&&p.isReactWarning,x)return P.props.ref;return P.props.ref||P.ref}var fS=S0(y0(),1);function DE(P){let p=P+"CollectionProvider",[x,h]=KH(p),[X,H]=x(p,{collectionRef:{current:null},itemMap:new Map}),A=(V)=>{let{scope:q,children:b}=V,F=Rx.default.useRef(null),M=Rx.default.useRef(new Map).current;return p0(X,{scope:q,itemMap:M,collectionRef:F,children:b})};A.displayName=p;let B=P+"CollectionSlot",f=mA(B),D=Rx.default.forwardRef((V,q)=>{let{scope:b,children:F}=V,M=H(B,b),Q=R8(q,M.collectionRef);return p0(f,{ref:Q,children:F})});D.displayName=B;let Z=P+"CollectionItemSlot",L="data-radix-collection-item",$=mA(Z),C=Rx.default.forwardRef((V,q)=>{let{scope:b,children:F,...M}=V,Q=Rx.default.useRef(null),I=R8(q,Q),j=H(Z,b);return Rx.default.useEffect(()=>{return j.itemMap.set(Q,{ref:Q,...M}),()=>void j.itemMap.delete(Q)}),p0($,{...{[L]:""},ref:I,children:F})});C.displayName=Z;function Y(V){let q=H(P+"CollectionConsumer",V);return Rx.default.useCallback(()=>{let F=q.collectionRef.current;if(!F)return[];let M=Array.from(F.querySelectorAll(`[${L}]`));return Array.from(q.itemMap.values()).sort((j,k)=>M.indexOf(j.ref.current)-M.indexOf(k.ref.current))},[q.collectionRef,q.itemMap])}return[{Provider:A,Slot:D,ItemSlot:C},Y,h]}var BE=new WeakMap,gg=class P extends Map{#P;constructor(p){super(p);this.#P=[...super.keys()],BE.set(this,!0)}set(p,x){if(BE.get(this))if(this.has(p))this.#P[this.#P.indexOf(p)]=p;else this.#P.push(p);return super.set(p,x),this}insert(p,x,h){let X=this.has(x),H=this.#P.length,A=fE(p),B=A>=0?A:H+A,f=B<0||B>=H?-1:B;if(f===this.size||X&&f===this.size-1||f===-1)return this.set(x,h),this;let D=this.size+(X?0:1);if(A<0)B++;let Z=[...this.#P],L,$=!1;for(let C=B;C<D;C++)if(B===C){let Y=Z[C];if(Z[C]===x)Y=Z[C+1];if(X)this.delete(x);L=this.get(Y),this.set(x,h)}else{if(!$&&Z[C-1]===x)$=!0;let Y=Z[$?C:C-1],V=L;L=this.get(Y),this.delete(Y),this.set(Y,V)}return this}with(p,x,h){let X=new P(this);return X.insert(p,x,h),X}before(p){let x=this.#P.indexOf(p)-1;if(x<0)return;return this.entryAt(x)}setBefore(p,x,h){let X=this.#P.indexOf(p);if(X===-1)return this;return this.insert(X,x,h)}after(p){let x=this.#P.indexOf(p);if(x=x===-1||x===this.size-1?-1:x+1,x===-1)return;return this.entryAt(x)}setAfter(p,x,h){let X=this.#P.indexOf(p);if(X===-1)return this;return this.insert(X+1,x,h)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#P=[],super.clear()}delete(p){let x=super.delete(p);if(x)this.#P.splice(this.#P.indexOf(p),1);return x}deleteAt(p){let x=this.keyAt(p);if(x!==void 0)return this.delete(x);return!1}at(p){let x=p$(this.#P,p);if(x!==void 0)return this.get(x)}entryAt(p){let x=p$(this.#P,p);if(x!==void 0)return[x,this.get(x)]}indexOf(p){return this.#P.indexOf(p)}keyAt(p){return p$(this.#P,p)}from(p,x){let h=this.indexOf(p);if(h===-1)return;let X=h+x;if(X<0)X=0;if(X>=this.size)X=this.size-1;return this.at(X)}keyFrom(p,x){let h=this.indexOf(p);if(h===-1)return;let X=h+x;if(X<0)X=0;if(X>=this.size)X=this.size-1;return this.keyAt(X)}find(p,x){let h=0;for(let X of this){if(Reflect.apply(p,x,[X,h,this]))return X;h++}return}findIndex(p,x){let h=0;for(let X of this){if(Reflect.apply(p,x,[X,h,this]))return h;h++}return-1}filter(p,x){let h=[],X=0;for(let H of this){if(Reflect.apply(p,x,[H,X,this]))h.push(H);X++}return new P(h)}map(p,x){let h=[],X=0;for(let H of this)h.push([H[0],Reflect.apply(p,x,[H,X,this])]),X++;return new P(h)}reduce(...p){let[x,h]=p,X=0,H=h??this.at(0);for(let A of this){if(X===0&&p.length===1)H=A;else H=Reflect.apply(x,this,[H,A,X,this]);X++}return H}reduceRight(...p){let[x,h]=p,X=h??this.at(-1);for(let H=this.size-1;H>=0;H--){let A=this.at(H);if(H===this.size-1&&p.length===1)X=A;else X=Reflect.apply(x,this,[X,A,H,this])}return X}toSorted(p){let x=[...this.entries()].sort(p);return new P(x)}toReversed(){let p=new P;for(let x=this.size-1;x>=0;x--){let h=this.keyAt(x),X=this.get(h);p.set(h,X)}return p}toSpliced(...p){let x=[...this.entries()];return x.splice(...p),new P(x)}slice(p,x){let h=new P,X=this.size-1;if(p===void 0)return h;if(p<0)p=p+this.size;if(x!==void 0&&x>0)X=x-1;for(let H=p;H<=X;H++){let A=this.keyAt(H),B=this.get(A);h.set(A,B)}return h}every(p,x){let h=0;for(let X of this){if(!Reflect.apply(p,x,[X,h,this]))return!1;h++}return!0}some(p,x){let h=0;for(let X of this){if(Reflect.apply(p,x,[X,h,this]))return!0;h++}return!1}};function p$(P,p){if("at"in Array.prototype)return Array.prototype.at.call(P,p);let x=ZS(P,p);return x===-1?void 0:P[x]}function ZS(P,p){let x=P.length,h=fE(p),X=h>=0?h:x+h;return X<0||X>=x?-1:X}function fE(P){return P!==P||P===0?0:Math.trunc(P)}var x$=S0(y0(),1);var ZE=S0(y0(),1),Nh=globalThis?.document?ZE.useLayoutEffect:()=>{};var $S=x$[" useId ".trim().toString()]||(()=>{return}),LS=0;function pf(P){let[p,x]=x$.useState($S());return Nh(()=>{if(!P)x((h)=>h??String(LS++))},[P]),P||(p?`radix-${p}`:"")}var $E=S0(y0(),1),CS=S0(lf(),1);var FS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cx=FS.reduce((P,p)=>{let x=mA(`Primitive.${p}`),h=$E.forwardRef((X,H)=>{let{asChild:A,...B}=X,f=A?x:p;if(typeof window!=="undefined")window[Symbol.for("radix-ui")]=!0;return p0(f,{...B,ref:H})});return h.displayName=`Primitive.${p}`,{...P,[p]:h}},{});var RH=S0(y0(),1);function LE(P){let p=RH.useRef(P);return RH.useEffect(()=>{p.current=P}),RH.useMemo(()=>(...x)=>p.current?.(...x),[])}var np=S0(y0(),1);var hf=S0(y0(),1);var bS=np[" useInsertionEffect ".trim().toString()]||Nh;function xf({prop:P,defaultProp:p,onChange:x=()=>{},caller:h}){let[X,H,A]=MS({defaultProp:p,onChange:x}),B=P!==void 0,f=B?P:X;{let Z=np.useRef(P!==void 0);np.useEffect(()=>{let L=Z.current;if(L!==B)console.warn(`${h} is changing from ${L?"controlled":"uncontrolled"} to ${B?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`);Z.current=B},[B,h])}let D=np.useCallback((Z)=>{if(B){let L=YS(Z)?Z(P):Z;if(L!==P)A.current?.(L)}else H(Z)},[B,P,H,A]);return[f,D]}function MS({defaultProp:P,onChange:p}){let[x,h]=np.useState(P),X=np.useRef(x),H=np.useRef(p);return bS(()=>{H.current=p},[p]),np.useEffect(()=>{if(X.current!==x)H.current?.(x),X.current=x},[x,X]),[x,h,H]}function YS(P){return typeof P==="function"}var tg=Symbol("RADIX:SYNC_STATE");var Xf=S0(y0(),1);var QS=Xf.createContext(void 0);function Hf(P){let p=Xf.useContext(QS);return P||p||"ltr"}var h$="rovingFocusGroup.onEntryFocus",VS={bubbles:!1,cancelable:!0},uA="RovingFocusGroup",[X$,CE,qS]=DE(uA),[IS,H$]=KH(uA,[qS]),[ES,zS]=IS(uA),FE=RP.forwardRef((P,p)=>{return p0(X$.Provider,{scope:P.__scopeRovingFocusGroup,children:p0(X$.Slot,{scope:P.__scopeRovingFocusGroup,children:p0(wS,{...P,ref:p})})})});FE.displayName=uA;var wS=RP.forwardRef((P,p)=>{let{__scopeRovingFocusGroup:x,orientation:h,loop:X=!1,dir:H,currentTabStopId:A,defaultCurrentTabStopId:B,onCurrentTabStopIdChange:f,onEntryFocus:D,preventScrollOnEntryFocus:Z=!1,...L}=P,$=RP.useRef(null),C=R8(p,$),Y=Hf(H),[V,q]=xf({prop:A,defaultProp:B??null,onChange:f,caller:uA}),[b,F]=RP.useState(!1),M=LE(D),Q=CE(x),I=RP.useRef(!1),[j,k]=RP.useState(0);return RP.useEffect(()=>{let w=$.current;if(w)return w.addEventListener(h$,M),()=>w.removeEventListener(h$,M)},[M]),p0(ES,{scope:x,orientation:h,dir:Y,loop:X,currentTabStopId:V,onItemFocus:RP.useCallback((w)=>q(w),[q]),onItemShiftTab:RP.useCallback(()=>F(!0),[]),onFocusableItemAdd:RP.useCallback(()=>k((w)=>w+1),[]),onFocusableItemRemove:RP.useCallback(()=>k((w)=>w-1),[]),children:p0(cx.div,{tabIndex:b||j===0?-1:0,"data-orientation":h,...L,ref:C,style:{outline:"none",...P.style},onMouseDown:M1(P.onMouseDown,()=>{I.current=!0}),onFocus:M1(P.onFocus,(w)=>{let S=!I.current;if(w.target===w.currentTarget&&S&&!b){let T=new CustomEvent(h$,VS);if(w.currentTarget.dispatchEvent(T),!T.defaultPrevented){let R=Q().filter((r)=>r.focusable),v=R.find((r)=>r.active),J=R.find((r)=>r.id===V),c=[v,J,...R].filter(Boolean).map((r)=>r.ref.current);YE(c,Z)}}I.current=!1}),onBlur:M1(P.onBlur,()=>F(!1))})})}),bE="RovingFocusGroupItem",ME=RP.forwardRef((P,p)=>{let{__scopeRovingFocusGroup:x,focusable:h=!0,active:X=!1,tabStopId:H,children:A,...B}=P,f=pf(),D=H||f,Z=zS(bE,x),L=Z.currentTabStopId===D,$=CE(x),{onFocusableItemAdd:C,onFocusableItemRemove:Y,currentTabStopId:V}=Z;return RP.useEffect(()=>{if(h)return C(),()=>Y()},[h,C,Y]),p0(X$.ItemSlot,{scope:x,id:D,focusable:h,active:X,children:p0(cx.span,{tabIndex:L?0:-1,"data-orientation":Z.orientation,...B,ref:p,onMouseDown:M1(P.onMouseDown,(q)=>{if(!h)q.preventDefault();else Z.onItemFocus(D)}),onFocus:M1(P.onFocus,()=>Z.onItemFocus(D)),onKeyDown:M1(P.onKeyDown,(q)=>{if(q.key==="Tab"&&q.shiftKey){Z.onItemShiftTab();return}if(q.target!==q.currentTarget)return;let b=TS(q,Z.orientation,Z.dir);if(b!==void 0){if(q.metaKey||q.ctrlKey||q.altKey||q.shiftKey)return;q.preventDefault();let M=$().filter((Q)=>Q.focusable).map((Q)=>Q.ref.current);if(b==="last")M.reverse();else if(b==="prev"||b==="next"){if(b==="prev")M.reverse();let Q=M.indexOf(q.currentTarget);M=Z.loop?jS(M,Q+1):M.slice(Q+1)}setTimeout(()=>YE(M))}}),children:typeof A==="function"?A({isCurrentTabStop:L,hasTabStop:V!=null}):A})})});ME.displayName=bE;var kS={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function WS(P,p){if(p!=="rtl")return P;return P==="ArrowLeft"?"ArrowRight":P==="ArrowRight"?"ArrowLeft":P}function TS(P,p,x){let h=WS(P.key,x);if(p==="vertical"&&["ArrowLeft","ArrowRight"].includes(h))return;if(p==="horizontal"&&["ArrowUp","ArrowDown"].includes(h))return;return kS[h]}function YE(P,p=!1){let x=document.activeElement;for(let h of P){if(h===x)return;if(h.focus({preventScroll:p}),document.activeElement!==x)return}}function jS(P,p){return P.map((x,h)=>P[(p+h)%P.length])}var QE=FE,VE=ME;var $p=S0(y0(),1);var qE=S0(y0(),1);function dS(P,p){return qE.useReducer((x,h)=>{return p[x][h]??x},P)}var A$=(P)=>{let{present:p,children:x}=P,h=KS(p),X=typeof x==="function"?x({present:h.isPresent}):$p.Children.only(x),H=R8(h.ref,RS(X));return typeof x==="function"||h.isPresent?$p.cloneElement(X,{ref:H}):null};A$.displayName="Presence";function KS(P){let[p,x]=$p.useState(),h=$p.useRef(null),X=$p.useRef(P),H=$p.useRef("none"),A=P?"mounted":"unmounted",[B,f]=dS(A,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return $p.useEffect(()=>{let D=Af(h.current);H.current=B==="mounted"?D:"none"},[B]),Nh(()=>{let D=h.current,Z=X.current;if(Z!==P){let $=H.current,C=Af(D);if(P)f("MOUNT");else if(C==="none"||D?.display==="none")f("UNMOUNT");else if(Z&&$!==C)f("ANIMATION_OUT");else f("UNMOUNT");X.current=P}},[P,f]),Nh(()=>{if(p){let D,Z=p.ownerDocument.defaultView??window,L=(C)=>{let V=Af(h.current).includes(C.animationName);if(C.target===p&&V){if(f("ANIMATION_END"),!X.current){let q=p.style.animationFillMode;p.style.animationFillMode="forwards",D=Z.setTimeout(()=>{if(p.style.animationFillMode==="forwards")p.style.animationFillMode=q})}}},$=(C)=>{if(C.target===p)H.current=Af(h.current)};return p.addEventListener("animationstart",$),p.addEventListener("animationcancel",L),p.addEventListener("animationend",L),()=>{Z.clearTimeout(D),p.removeEventListener("animationstart",$),p.removeEventListener("animationcancel",L),p.removeEventListener("animationend",L)}}else f("ANIMATION_END")},[p,f]),{isPresent:["mounted","unmountSuspended"].includes(B),ref:$p.useCallback((D)=>{h.current=D?getComputedStyle(D):null,x(D)},[])}}function Af(P){return P?.animationName||"none"}function RS(P){let p=Object.getOwnPropertyDescriptor(P.props,"ref")?.get,x=p&&"isReactWarning"in p&&p.isReactWarning;if(x)return P.ref;if(p=Object.getOwnPropertyDescriptor(P,"ref")?.get,x=p&&"isReactWarning"in p&&p.isReactWarning,x)return P.props.ref;return P.props.ref||P.ref}var Bf="Tabs",[cS,wy]=KH(Bf,[H$]),IE=H$(),[vS,B$]=cS(Bf),EE=c8.forwardRef((P,p)=>{let{__scopeTabs:x,value:h,onValueChange:X,defaultValue:H,orientation:A="horizontal",dir:B,activationMode:f="automatic",...D}=P,Z=Hf(B),[L,$]=xf({prop:h,onChange:X,defaultProp:H??"",caller:Bf});return p0(vS,{scope:x,baseId:pf(),value:L,onValueChange:$,orientation:A,dir:Z,activationMode:f,children:p0(cx.div,{dir:Z,"data-orientation":A,...D,ref:p})})});EE.displayName=Bf;var zE="TabsList",wE=c8.forwardRef((P,p)=>{let{__scopeTabs:x,loop:h=!0,...X}=P,H=B$(zE,x),A=IE(x);return p0(QE,{asChild:!0,...A,orientation:H.orientation,dir:H.dir,loop:h,children:p0(cx.div,{role:"tablist","aria-orientation":H.orientation,...X,ref:p})})});wE.displayName=zE;var kE="TabsTrigger",WE=c8.forwardRef((P,p)=>{let{__scopeTabs:x,value:h,disabled:X=!1,...H}=P,A=B$(kE,x),B=IE(x),f=JE(A.baseId,h),D=dE(A.baseId,h),Z=h===A.value;return p0(VE,{asChild:!0,...B,focusable:!X,active:Z,children:p0(cx.button,{type:"button",role:"tab","aria-selected":Z,"aria-controls":D,"data-state":Z?"active":"inactive","data-disabled":X?"":void 0,disabled:X,id:f,...H,ref:p,onMouseDown:M1(P.onMouseDown,(L)=>{if(!X&&L.button===0&&L.ctrlKey===!1)A.onValueChange(h);else L.preventDefault()}),onKeyDown:M1(P.onKeyDown,(L)=>{if([" ","Enter"].includes(L.key))A.onValueChange(h)}),onFocus:M1(P.onFocus,()=>{let L=A.activationMode!=="manual";if(!Z&&!X&&L)A.onValueChange(h)})})})});WE.displayName=kE;var TE="TabsContent",jE=c8.forwardRef((P,p)=>{let{__scopeTabs:x,value:h,forceMount:X,children:H,...A}=P,B=B$(TE,x),f=JE(B.baseId,h),D=dE(B.baseId,h),Z=h===B.value,L=c8.useRef(Z);return c8.useEffect(()=>{let $=requestAnimationFrame(()=>L.current=!1);return()=>cancelAnimationFrame($)},[]),p0(A$,{present:X||Z,children:({present:$})=>p0(cx.div,{"data-state":Z?"active":"inactive","data-orientation":B.orientation,role:"tabpanel","aria-labelledby":f,hidden:!$,id:D,tabIndex:0,...A,ref:p,style:{...P.style,animationDuration:L.current?"0s":void 0},children:$&&H})})});jE.displayName=TE;function JE(P,p){return`${P}-trigger-${p}`}function dE(P,p){return`${P}-content-${p}`}var KE=EE,RE=wE,cE=WE,vE=jE;function UE(P){var p,x,h="";if(typeof P=="string"||typeof P=="number")h+=P;else if(typeof P=="object")if(Array.isArray(P)){var X=P.length;for(p=0;p<X;p++)P[p]&&(x=UE(P[p]))&&(h&&(h+=" "),h+=x)}else for(x in P)P[x]&&(h&&(h+=" "),h+=x);return h}function GE(){for(var P,p,x=0,h="",X=arguments.length;x<X;x++)(P=arguments[x])&&(p=UE(P))&&(h&&(h+=" "),h+=p);return h}var GS=(P)=>{let p=lS(P),{conflictingClassGroups:x,conflictingClassGroupModifiers:h}=P;return{getClassGroupId:(A)=>{let B=A.split("-");if(B[0]===""&&B.length!==1)B.shift();return gE(B,p)||SS(A)},getConflictingClassGroupIds:(A,B)=>{let f=x[A]||[];if(B&&h[A])return[...f,...h[A]];return f}}},gE=(P,p)=>{if(P.length===0)return p.classGroupId;let x=P[0],h=p.nextPart.get(x),X=h?gE(P.slice(1),h):void 0;if(X)return X;if(p.validators.length===0)return;let H=P.join("-");return p.validators.find(({validator:A})=>A(H))?.classGroupId},SE=/^\[(.+)\]$/,SS=(P)=>{if(SE.test(P)){let p=SE.exec(P)[1],x=p?.substring(0,p.indexOf(":"));if(x)return"arbitrary.."+x}},lS=(P)=>{let{theme:p,classGroups:x}=P,h={nextPart:new Map,validators:[]};for(let X in x)Z$(x[X],h,X,p);return h},Z$=(P,p,x,h)=>{P.forEach((X)=>{if(typeof X==="string"){let H=X===""?p:lE(p,X);H.classGroupId=x;return}if(typeof X==="function"){if(NS(X)){Z$(X(h),p,x,h);return}p.validators.push({validator:X,classGroupId:x});return}Object.entries(X).forEach(([H,A])=>{Z$(A,lE(p,H),x,h)})})},lE=(P,p)=>{let x=P;return p.split("-").forEach((h)=>{if(!x.nextPart.has(h))x.nextPart.set(h,{nextPart:new Map,validators:[]});x=x.nextPart.get(h)}),x},NS=(P)=>P.isThemeGetter,OS=(P)=>{if(P<1)return{get:()=>{return},set:()=>{}};let p=0,x=new Map,h=new Map,X=(H,A)=>{if(x.set(H,A),p++,p>P)p=0,h=x,x=new Map};return{get(H){let A=x.get(H);if(A!==void 0)return A;if((A=h.get(H))!==void 0)return X(H,A),A},set(H,A){if(x.has(H))x.set(H,A);else X(H,A)}}};var gS=(P)=>{let{prefix:p,experimentalParseClassName:x}=P,h=(X)=>{let H=[],A=0,B=0,f=0,D;for(let Y=0;Y<X.length;Y++){let V=X[Y];if(A===0&&B===0){if(V===":"){H.push(X.slice(f,Y)),f=Y+1;continue}if(V==="/"){D=Y;continue}}if(V==="[")A++;else if(V==="]")A--;else if(V==="(")B++;else if(V===")")B--}let Z=H.length===0?X:X.substring(f),L=yS(Z),$=L!==Z,C=D&&D>f?D-f:void 0;return{modifiers:H,hasImportantModifier:$,baseClassName:L,maybePostfixModifierPosition:C}};if(p){let X=p+":",H=h;h=(A)=>A.startsWith(X)?H(A.substring(X.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:A,maybePostfixModifierPosition:void 0}}if(x){let X=h;h=(H)=>x({className:H,parseClassName:X})}return h},yS=(P)=>{if(P.endsWith("!"))return P.substring(0,P.length-1);if(P.startsWith("!"))return P.substring(1);return P},_S=(P)=>{let p=Object.fromEntries(P.orderSensitiveModifiers.map((h)=>[h,!0]));return(h)=>{if(h.length<=1)return h;let X=[],H=[];return h.forEach((A)=>{if(A[0]==="["||p[A])X.push(...H.sort(),A),H=[];else H.push(A)}),X.push(...H.sort()),X}},iS=(P)=>({cache:OS(P.cacheSize),parseClassName:gS(P),sortModifiers:_S(P),...GS(P)}),mS=/\s+/,uS=(P,p)=>{let{parseClassName:x,getClassGroupId:h,getConflictingClassGroupIds:X,sortModifiers:H}=p,A=[],B=P.trim().split(mS),f="";for(let D=B.length-1;D>=0;D-=1){let Z=B[D],{isExternal:L,modifiers:$,hasImportantModifier:C,baseClassName:Y,maybePostfixModifierPosition:V}=x(Z);if(L){f=Z+(f.length>0?" "+f:f);continue}let q=!!V,b=h(q?Y.substring(0,V):Y);if(!b){if(!q){f=Z+(f.length>0?" "+f:f);continue}if(b=h(Y),!b){f=Z+(f.length>0?" "+f:f);continue}q=!1}let F=H($).join(":"),M=C?F+"!":F,Q=M+b;if(A.includes(Q))continue;A.push(Q);let I=X(b,q);for(let j=0;j<I.length;++j){let k=I[j];A.push(M+k)}f=Z+(f.length>0?" "+f:f)}return f};function oS(){let P=0,p,x,h="";while(P<arguments.length)if(p=arguments[P++]){if(x=yE(p))h&&(h+=" "),h+=x}return h}var yE=(P)=>{if(typeof P==="string")return P;let p,x="";for(let h=0;h<P.length;h++)if(P[h]){if(p=yE(P[h]))x&&(x+=" "),x+=p}return x};function aS(P,...p){let x,h,X,H=A;function A(f){let D=p.reduce((Z,L)=>L(Z),P());return x=iS(D),h=x.cache.get,X=x.cache.set,H=B,B(f)}function B(f){let D=h(f);if(D)return D;let Z=uS(f,x);return X(f,Z),Z}return function f(){return H(oS.apply(null,arguments))}}var WP=(P)=>{let p=(x)=>x[P]||[];return p.isThemeGetter=!0,p},_E=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,iE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rS=/^\d+\/\d+$/,nS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cH=(P)=>rS.test(P),W0=(P)=>!!P&&!Number.isNaN(Number(P)),vx=(P)=>!!P&&Number.isInteger(Number(P)),D$=(P)=>P.endsWith("%")&&W0(P.slice(0,-1)),v8=(P)=>nS.test(P),pl=()=>!0,xl=(P)=>sS.test(P)&&!tS.test(P),mE=()=>!1,hl=(P)=>eS.test(P),Xl=(P)=>Pl.test(P),Hl=(P)=>!C0(P)&&!F0(P),Al=(P)=>vH(P,aE,mE),C0=(P)=>_E.test(P),Oh=(P)=>vH(P,rE,xl),f$=(P)=>vH(P,$l,W0),NE=(P)=>vH(P,uE,mE),Bl=(P)=>vH(P,oE,Xl),Df=(P)=>vH(P,nE,hl),F0=(P)=>iE.test(P),oA=(P)=>UH(P,rE),Dl=(P)=>UH(P,Ll),OE=(P)=>UH(P,uE),fl=(P)=>UH(P,aE),Zl=(P)=>UH(P,oE),ff=(P)=>UH(P,nE,!0),vH=(P,p,x)=>{let h=_E.exec(P);if(h){if(h[1])return p(h[1]);return x(h[2])}return!1},UH=(P,p,x=!1)=>{let h=iE.exec(P);if(h){if(h[1])return p(h[1]);return x}return!1},uE=(P)=>P==="position"||P==="percentage",oE=(P)=>P==="image"||P==="url",aE=(P)=>P==="length"||P==="size"||P==="bg-size",rE=(P)=>P==="length",$l=(P)=>P==="number",Ll=(P)=>P==="family-name",nE=(P)=>P==="shadow";var Cl=()=>{let P=WP("color"),p=WP("font"),x=WP("text"),h=WP("font-weight"),X=WP("tracking"),H=WP("leading"),A=WP("breakpoint"),B=WP("container"),f=WP("spacing"),D=WP("radius"),Z=WP("shadow"),L=WP("inset-shadow"),$=WP("text-shadow"),C=WP("drop-shadow"),Y=WP("blur"),V=WP("perspective"),q=WP("aspect"),b=WP("ease"),F=WP("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...Q(),F0,C0],j=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],w=()=>[F0,C0,f],S=()=>[cH,"full","auto",...w()],T=()=>[vx,"none","subgrid",F0,C0],R=()=>["auto",{span:["full",vx,F0,C0]},vx,F0,C0],v=()=>[vx,"auto",F0,C0],J=()=>["auto","min","max","fr",F0,C0],N=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],c=()=>["start","end","center","stretch","center-safe","end-safe"],r=()=>["auto",...w()],e=()=>[cH,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],g=()=>[P,F0,C0],Q0=()=>[...Q(),OE,NE,{position:[F0,C0]}],u=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L0=()=>["auto","cover","contain",fl,Al,{size:[F0,C0]}],W=()=>[D$,oA,Oh],_=()=>["","none","full",D,F0,C0],P0=()=>["",W0,oA,Oh],i=()=>["solid","dashed","dotted","double"],Z0=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D0=()=>[W0,D$,OE,NE],w0=()=>["","none",Y,F0,C0],V0=()=>["none",W0,F0,C0],m=()=>["none",W0,F0,C0],a=()=>[W0,F0,C0],H0=()=>[cH,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[v8],breakpoint:[v8],color:[pl],container:[v8],"drop-shadow":[v8],ease:["in","out","in-out"],font:[Hl],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[v8],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[v8],shadow:[v8],spacing:["px",W0],text:[v8],"text-shadow":[v8],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",cH,C0,F0,q]}],container:["container"],columns:[{columns:[W0,C0,F0,B]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:S()}],"inset-x":[{"inset-x":S()}],"inset-y":[{"inset-y":S()}],start:[{start:S()}],end:[{end:S()}],top:[{top:S()}],right:[{right:S()}],bottom:[{bottom:S()}],left:[{left:S()}],visibility:["visible","invisible","collapse"],z:[{z:[vx,"auto",F0,C0]}],basis:[{basis:[cH,"full","auto",B,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[W0,cH,"auto","initial","none",C0]}],grow:[{grow:["",W0,F0,C0]}],shrink:[{shrink:["",W0,F0,C0]}],order:[{order:[vx,"first","last","none",F0,C0]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":v()}],"col-end":[{"col-end":v()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":v()}],"row-end":[{"row-end":v()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...N(),"normal"]}],"justify-items":[{"justify-items":[...c(),"normal"]}],"justify-self":[{"justify-self":["auto",...c()]}],"align-content":[{content:["normal",...N()]}],"align-items":[{items:[...c(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...c(),{baseline:["","last"]}]}],"place-content":[{"place-content":N()}],"place-items":[{"place-items":[...c(),"baseline"]}],"place-self":[{"place-self":["auto",...c()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:r()}],mx:[{mx:r()}],my:[{my:r()}],ms:[{ms:r()}],me:[{me:r()}],mt:[{mt:r()}],mr:[{mr:r()}],mb:[{mb:r()}],ml:[{ml:r()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:e()}],w:[{w:[B,"screen",...e()]}],"min-w":[{"min-w":[B,"screen","none",...e()]}],"max-w":[{"max-w":[B,"screen","none","prose",{screen:[A]},...e()]}],h:[{h:["screen","lh",...e()]}],"min-h":[{"min-h":["screen","lh","none",...e()]}],"max-h":[{"max-h":["screen","lh",...e()]}],"font-size":[{text:["base",x,oA,Oh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[h,F0,f$]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",D$,C0]}],"font-family":[{font:[Dl,C0,p]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[X,F0,C0]}],"line-clamp":[{"line-clamp":[W0,"none",F0,f$]}],leading:[{leading:[H,...w()]}],"list-image":[{"list-image":["none",F0,C0]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",F0,C0]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:g()}],"text-color":[{text:g()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...i(),"wavy"]}],"text-decoration-thickness":[{decoration:[W0,"from-font","auto",F0,Oh]}],"text-decoration-color":[{decoration:g()}],"underline-offset":[{"underline-offset":[W0,"auto",F0,C0]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",F0,C0]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",F0,C0]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q0()}],"bg-repeat":[{bg:u()}],"bg-size":[{bg:L0()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vx,F0,C0],radial:["",F0,C0],conic:[vx,F0,C0]},Zl,Bl]}],"bg-color":[{bg:g()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:g()}],"gradient-via":[{via:g()}],"gradient-to":[{to:g()}],rounded:[{rounded:_()}],"rounded-s":[{"rounded-s":_()}],"rounded-e":[{"rounded-e":_()}],"rounded-t":[{"rounded-t":_()}],"rounded-r":[{"rounded-r":_()}],"rounded-b":[{"rounded-b":_()}],"rounded-l":[{"rounded-l":_()}],"rounded-ss":[{"rounded-ss":_()}],"rounded-se":[{"rounded-se":_()}],"rounded-ee":[{"rounded-ee":_()}],"rounded-es":[{"rounded-es":_()}],"rounded-tl":[{"rounded-tl":_()}],"rounded-tr":[{"rounded-tr":_()}],"rounded-br":[{"rounded-br":_()}],"rounded-bl":[{"rounded-bl":_()}],"border-w":[{border:P0()}],"border-w-x":[{"border-x":P0()}],"border-w-y":[{"border-y":P0()}],"border-w-s":[{"border-s":P0()}],"border-w-e":[{"border-e":P0()}],"border-w-t":[{"border-t":P0()}],"border-w-r":[{"border-r":P0()}],"border-w-b":[{"border-b":P0()}],"border-w-l":[{"border-l":P0()}],"divide-x":[{"divide-x":P0()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":P0()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...i(),"hidden","none"]}],"divide-style":[{divide:[...i(),"hidden","none"]}],"border-color":[{border:g()}],"border-color-x":[{"border-x":g()}],"border-color-y":[{"border-y":g()}],"border-color-s":[{"border-s":g()}],"border-color-e":[{"border-e":g()}],"border-color-t":[{"border-t":g()}],"border-color-r":[{"border-r":g()}],"border-color-b":[{"border-b":g()}],"border-color-l":[{"border-l":g()}],"divide-color":[{divide:g()}],"outline-style":[{outline:[...i(),"none","hidden"]}],"outline-offset":[{"outline-offset":[W0,F0,C0]}],"outline-w":[{outline:["",W0,oA,Oh]}],"outline-color":[{outline:g()}],shadow:[{shadow:["","none",Z,ff,Df]}],"shadow-color":[{shadow:g()}],"inset-shadow":[{"inset-shadow":["none",L,ff,Df]}],"inset-shadow-color":[{"inset-shadow":g()}],"ring-w":[{ring:P0()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:g()}],"ring-offset-w":[{"ring-offset":[W0,Oh]}],"ring-offset-color":[{"ring-offset":g()}],"inset-ring-w":[{"inset-ring":P0()}],"inset-ring-color":[{"inset-ring":g()}],"text-shadow":[{"text-shadow":["none",$,ff,Df]}],"text-shadow-color":[{"text-shadow":g()}],opacity:[{opacity:[W0,F0,C0]}],"mix-blend":[{"mix-blend":[...Z0(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z0()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[W0]}],"mask-image-linear-from-pos":[{"mask-linear-from":D0()}],"mask-image-linear-to-pos":[{"mask-linear-to":D0()}],"mask-image-linear-from-color":[{"mask-linear-from":g()}],"mask-image-linear-to-color":[{"mask-linear-to":g()}],"mask-image-t-from-pos":[{"mask-t-from":D0()}],"mask-image-t-to-pos":[{"mask-t-to":D0()}],"mask-image-t-from-color":[{"mask-t-from":g()}],"mask-image-t-to-color":[{"mask-t-to":g()}],"mask-image-r-from-pos":[{"mask-r-from":D0()}],"mask-image-r-to-pos":[{"mask-r-to":D0()}],"mask-image-r-from-color":[{"mask-r-from":g()}],"mask-image-r-to-color":[{"mask-r-to":g()}],"mask-image-b-from-pos":[{"mask-b-from":D0()}],"mask-image-b-to-pos":[{"mask-b-to":D0()}],"mask-image-b-from-color":[{"mask-b-from":g()}],"mask-image-b-to-color":[{"mask-b-to":g()}],"mask-image-l-from-pos":[{"mask-l-from":D0()}],"mask-image-l-to-pos":[{"mask-l-to":D0()}],"mask-image-l-from-color":[{"mask-l-from":g()}],"mask-image-l-to-color":[{"mask-l-to":g()}],"mask-image-x-from-pos":[{"mask-x-from":D0()}],"mask-image-x-to-pos":[{"mask-x-to":D0()}],"mask-image-x-from-color":[{"mask-x-from":g()}],"mask-image-x-to-color":[{"mask-x-to":g()}],"mask-image-y-from-pos":[{"mask-y-from":D0()}],"mask-image-y-to-pos":[{"mask-y-to":D0()}],"mask-image-y-from-color":[{"mask-y-from":g()}],"mask-image-y-to-color":[{"mask-y-to":g()}],"mask-image-radial":[{"mask-radial":[F0,C0]}],"mask-image-radial-from-pos":[{"mask-radial-from":D0()}],"mask-image-radial-to-pos":[{"mask-radial-to":D0()}],"mask-image-radial-from-color":[{"mask-radial-from":g()}],"mask-image-radial-to-color":[{"mask-radial-to":g()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Q()}],"mask-image-conic-pos":[{"mask-conic":[W0]}],"mask-image-conic-from-pos":[{"mask-conic-from":D0()}],"mask-image-conic-to-pos":[{"mask-conic-to":D0()}],"mask-image-conic-from-color":[{"mask-conic-from":g()}],"mask-image-conic-to-color":[{"mask-conic-to":g()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q0()}],"mask-repeat":[{mask:u()}],"mask-size":[{mask:L0()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",F0,C0]}],filter:[{filter:["","none",F0,C0]}],blur:[{blur:w0()}],brightness:[{brightness:[W0,F0,C0]}],contrast:[{contrast:[W0,F0,C0]}],"drop-shadow":[{"drop-shadow":["","none",C,ff,Df]}],"drop-shadow-color":[{"drop-shadow":g()}],grayscale:[{grayscale:["",W0,F0,C0]}],"hue-rotate":[{"hue-rotate":[W0,F0,C0]}],invert:[{invert:["",W0,F0,C0]}],saturate:[{saturate:[W0,F0,C0]}],sepia:[{sepia:["",W0,F0,C0]}],"backdrop-filter":[{"backdrop-filter":["","none",F0,C0]}],"backdrop-blur":[{"backdrop-blur":w0()}],"backdrop-brightness":[{"backdrop-brightness":[W0,F0,C0]}],"backdrop-contrast":[{"backdrop-contrast":[W0,F0,C0]}],"backdrop-grayscale":[{"backdrop-grayscale":["",W0,F0,C0]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[W0,F0,C0]}],"backdrop-invert":[{"backdrop-invert":["",W0,F0,C0]}],"backdrop-opacity":[{"backdrop-opacity":[W0,F0,C0]}],"backdrop-saturate":[{"backdrop-saturate":[W0,F0,C0]}],"backdrop-sepia":[{"backdrop-sepia":["",W0,F0,C0]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",F0,C0]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[W0,"initial",F0,C0]}],ease:[{ease:["linear","initial",b,F0,C0]}],delay:[{delay:[W0,F0,C0]}],animate:[{animate:["none",F,F0,C0]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[V,F0,C0]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:V0()}],"rotate-x":[{"rotate-x":V0()}],"rotate-y":[{"rotate-y":V0()}],"rotate-z":[{"rotate-z":V0()}],scale:[{scale:m()}],"scale-x":[{"scale-x":m()}],"scale-y":[{"scale-y":m()}],"scale-z":[{"scale-z":m()}],"scale-3d":["scale-3d"],skew:[{skew:a()}],"skew-x":[{"skew-x":a()}],"skew-y":[{"skew-y":a()}],transform:[{transform:[F0,C0,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:H0()}],"translate-x":[{"translate-x":H0()}],"translate-y":[{"translate-y":H0()}],"translate-z":[{"translate-z":H0()}],"translate-none":["translate-none"],accent:[{accent:g()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:g()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",F0,C0]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",F0,C0]}],fill:[{fill:["none",...g()]}],"stroke-w":[{stroke:[W0,oA,Oh,f$]}],stroke:[{stroke:["none",...g()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}};var sE=aS(Cl);function aA(...P){return sE(GE(P))}function tE({className:P,...p}){return p0(KE,{"data-slot":"tabs",className:aA("flex flex-col gap-2",P),...p})}function eE({className:P,...p}){return p0(RE,{"data-slot":"tabs-list",className:aA("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",P),...p})}function rA({className:P,...p}){return p0(cE,{"data-slot":"tabs-trigger",className:aA("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",P),...p})}function nA({className:P,...p}){return p0(vE,{"data-slot":"tabs-content",className:aA("flex-1 outline-none",P),...p})}var Pz="./3D-BG-kx709v1y.gif";function pz(){let[P,p]=Zf.useState([]),[x,h]=Zf.useState([]),[X,H]=Zf.useState(!1),A=()=>{p([]),h([]),H(!1)};return LP("div",{className:"max-w-7xl mx-auto p-8 text-center relative z-10",children:[p0("h1",{className:"text-5xl font-bold my-4 leading-tight",children:"PERK CREATOR"}),LP("h2",{className:"italic text-gray-600",children:[" ","Work in Progress, Pardon the jank"," "]}),p0("div",{className:"flex justify-center items-center gap-8 mb-8",children:p0("img",{src:Pz,alt:"3D image",className:"p-6 transition-all duration-300 hover:drop-shadow-[0_0_2em_#646cffaa] scale-120"})}),p0("div",{className:"flex justify-center",children:LP(tE,{defaultValue:"perk",className:"w-[400px] items-center",onValueChange:A,children:[LP(eE,{children:[p0(rA,{value:"perk",children:"Perks"}),p0(rA,{value:"item",children:"Items"}),p0(rA,{value:"addon",children:"Addons"}),p0(rA,{value:"offering",children:"Offerings"})]}),p0(nA,{value:"perk",children:p0(dI,{files:X?[]:P,setCanvasURLs:h})}),p0(nA,{value:"item",children:p0(OI,{files:X?[]:P,setCanvasURLs:h})}),p0(nA,{value:"addon",children:p0(nI,{files:X?[]:P,setCanvasURLs:h})}),p0(nA,{value:"offering",children:p0(XE,{files:X?[]:P,setCanvasURLs:h})})]})}),p0("div",{className:"flex justify-center items-center",children:p0(_F,{setFileData:(f)=>{p(f)},setIsProcessing:H,resetStates:A})}),p0("div",{className:"w-full",children:p0(BV,{files:x})})]})}function xz(){hz.createRoot(document.getElementById("root")).render(p0(pz,{}))}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",xz);else xz();

//# debugId=C01F6FFF40783C9E64756E2164756E21
//# sourceMappingURL=chunk-gdm74h4z.js.map
