var iI=Object.create;var{getPrototypeOf:mI,defineProperty:Nx,getOwnPropertyNames:Qf,getOwnPropertyDescriptor:aI}=Object,Vf=Object.prototype.hasOwnProperty;var c0=(P,p,X)=>{X=P!=null?iI(mI(P)):{};let H=p||!P||!P.__esModule?Nx(X,"default",{value:P,enumerable:!0}):X;for(let h of Qf(P))if(!Vf.call(H,h))Nx(H,h,{get:()=>P[h],enumerable:!0});return H},Cf=new WeakMap,lP=(P)=>{var p=Cf.get(P),X;if(p)return p;if(p=Nx({},"__esModule",{value:!0}),P&&typeof P==="object"||typeof P==="function")Qf(P).map((H)=>!Vf.call(p,H)&&Nx(p,H,{get:()=>P[H],enumerable:!(X=aI(P,H))||X.enumerable}));return Cf.set(P,p),p},V0=(P,p)=>()=>(p||P((p={exports:{}}).exports,p),p.exports);var aB=(P,p)=>{for(var X in p)Nx(P,X,{get:p[X],enumerable:!0,configurable:!0,set:(H)=>p[X]=()=>H})};var vx=(P,p)=>()=>(P&&(p=P(P=0)),p);function V6(P,p){var X=P.length;P.push(p);P:for(;0<X;){var H=X-1>>>1,h=P[H];if(0<oB(h,p))P[H]=p,P[X]=h,X=H;else break P}}function Q8(P){return P.length===0?null:P[0]}function eB(P){if(P.length===0)return null;var p=P[0],X=P.pop();if(X!==p){P[0]=X;P:for(var H=0,h=P.length,x=h>>>1;H<x;){var B=2*(H+1)-1,A=P[B],$=B+1,D=P[$];if(0>oB(A,X))$<h&&0>oB(D,A)?(P[H]=D,P[$]=X,H=$):(P[H]=A,P[B]=X,H=B);else if($<h&&0>oB(D,X))P[H]=D,P[$]=X,H=$;else break P}}return p}function oB(P,p){var X=P.sortIndex-p.sortIndex;return X!==0?X:P.id-p.id}function sB(P){for(var p=Q8(UX);p!==null;){if(p.callback===null)eB(UX);else if(p.startTime<=P)eB(UX),p.sortIndex=p.expirationTime,V6(d8,p);else break;p=Q8(UX)}}function k6(P){if(dx=!1,sB(P),!Ox)if(Q8(d8)!==null)Ox=!0,If();else{var p=Q8(UX);p!==null&&I6(k6,p.startTime-P)}}function kf(){return V8()-jf<rI?!1:!0}function Q6(){if(PA){var P=V8();jf=P;var p=!0;try{P:{Ox=!1,dx&&(dx=!1,bf(lx),lx=-1),b6=!0;var X=nB;try{p:{sB(P);for(wp=Q8(d8);wp!==null&&!(wp.expirationTime>P&&kf());){var H=wp.callback;if(typeof H==="function"){wp.callback=null,nB=wp.priorityLevel;var h=H(wp.expirationTime<=P);if(P=V8(),typeof h==="function"){wp.callback=h,sB(P),p=!0;break p}wp===Q8(d8)&&eB(d8),sB(P)}else eB(d8);wp=Q8(d8)}if(wp!==null)p=!0;else{var x=Q8(UX);x!==null&&I6(k6,x.startTime-P),p=!1}}break P}finally{wp=null,nB=X,b6=!1}p=void 0}}finally{p?cx():PA=!1}}}function If(){PA||(PA=!0,cx())}function I6(P,p){lx=Yf(function(){P(V8())},p)}var V8=void 0,q6,rB,Y6,d8,UX,oI=1,wp=null,nB=3,b6=!1,Ox=!1,dx=!1,Yf,bf,qf,PA=!1,lx=-1,rI=5,jf=-1,cx,tB,j6,T6=5,M6=1,W6=4,l1=3,E6=2,w6=function(P){P.callback=null},z6=function(){return nB},J6=function(){},y1=function(P,p,X){var H=V8();switch(typeof X==="object"&&X!==null?(X=X.delay,X=typeof X==="number"&&0<X?H+X:H):X=H,P){case 1:var h=-1;break;case 2:h=250;break;case 5:h=1073741823;break;case 4:h=1e4;break;default:h=5000}return h=X+h,P={id:oI++,callback:p,priorityLevel:P,startTime:X,expirationTime:h,sortIndex:-1},X>H?(P.sortIndex=X,V6(UX,P),Q8(d8)===null&&P===Q8(UX)&&(dx?(bf(lx),lx=-1):dx=!0,I6(k6,X-H))):(P.sortIndex=h,V6(d8,P),Ox||b6||(Ox=!0,If())),P},K6;var Tf=vx(()=>{if(typeof performance==="object"&&typeof performance.now==="function")q6=performance,V8=function(){return q6.now()};else rB=Date,Y6=rB.now(),V8=function(){return rB.now()-Y6};d8=[],UX=[],Yf=typeof setTimeout==="function"?setTimeout:null,bf=typeof clearTimeout==="function"?clearTimeout:null,qf=typeof setImmediate!=="undefined"?setImmediate:null;if(typeof qf==="function")cx=function(){qf(Q6)};else if(typeof MessageChannel!=="undefined")tB=new MessageChannel,j6=tB.port2,tB.port1.onmessage=Q6,cx=function(){j6.postMessage(null)};else cx=function(){Yf(Q6,0)};K6=kf});var i0=V0((fT)=>{var U6=Symbol.for("react.transitional.element"),sI=Symbol.for("react.portal"),tI=Symbol.for("react.fragment"),eI=Symbol.for("react.strict_mode"),PT=Symbol.for("react.profiler"),pT=Symbol.for("react.consumer"),XT=Symbol.for("react.context"),HT=Symbol.for("react.forward_ref"),hT=Symbol.for("react.suspense"),xT=Symbol.for("react.memo"),Jf=Symbol.for("react.lazy"),Mf=Symbol.iterator;function BT(P){if(P===null||typeof P!=="object")return null;return P=Mf&&P[Mf]||P["@@iterator"],typeof P==="function"?P:null}var Kf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rf=Object.assign,Uf={};function _1(P,p,X){this.props=P,this.context=p,this.refs=Uf,this.updater=X||Kf}_1.prototype.isReactComponent={};_1.prototype.setState=function(P,p){if(typeof P!=="object"&&typeof P!=="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,p,"setState")};_1.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Sf(){}Sf.prototype=_1.prototype;function S6(P,p,X){this.props=P,this.context=p,this.refs=Uf,this.updater=X||Kf}var G6=S6.prototype=new Sf;G6.constructor=S6;Rf(G6,_1.prototype);G6.isPureReactComponent=!0;var Wf=Array.isArray,e0={H:null,A:null,T:null,S:null},Gf=Object.prototype.hasOwnProperty;function N6(P,p,X,H,h,x){return X=x.ref,{$$typeof:U6,type:P,key:p,ref:X!==void 0?X:null,props:x}}function AT(P,p){return N6(P.type,p,void 0,void 0,void 0,P.props)}function v6(P){return typeof P==="object"&&P!==null&&P.$$typeof===U6}function DT(P){var p={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(X){return p[X]})}var Ef=/\/+/g;function R6(P,p){return typeof P==="object"&&P!==null&&P.key!=null?DT(""+P.key):p.toString(36)}function wf(){}function $T(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status==="string"?P.then(wf,wf):(P.status="pending",P.then(function(p){P.status==="pending"&&(P.status="fulfilled",P.value=p)},function(p){P.status==="pending"&&(P.status="rejected",P.reason=p)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function g1(P,p,X,H,h){var x=typeof P;if(x==="undefined"||x==="boolean")P=null;var B=!1;if(P===null)B=!0;else switch(x){case"bigint":case"string":case"number":B=!0;break;case"object":switch(P.$$typeof){case U6:case sI:B=!0;break;case Jf:return B=P._init,g1(B(P._payload),p,X,H,h)}}if(B)return h=h(P),B=H===""?"."+R6(P,0):H,Wf(h)?(X="",B!=null&&(X=B.replace(Ef,"$&/")+"/"),g1(h,p,X,"",function(D){return D})):h!=null&&(v6(h)&&(h=AT(h,X+(h.key==null||P&&P.key===h.key?"":(""+h.key).replace(Ef,"$&/")+"/")+B)),p.push(h)),1;B=0;var A=H===""?".":H+":";if(Wf(P))for(var $=0;$<P.length;$++)H=P[$],x=A+R6(H,$),B+=g1(H,p,X,x,h);else if($=BT(P),typeof $==="function")for(P=$.call(P),$=0;!(H=P.next()).done;)H=H.value,x=A+R6(H,$++),B+=g1(H,p,X,x,h);else if(x==="object"){if(typeof P.then==="function")return g1($T(P),p,X,H,h);throw p=String(P),Error("Objects are not valid as a React child (found: "+(p==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":p)+"). If you meant to render a collection of children, use an array instead.")}return B}function pA(P,p,X){if(P==null)return P;var H=[],h=0;return g1(P,H,"","",function(x){return p.call(X,x,h++)}),H}function ZT(P){if(P._status===-1){var p=P._result;p=p(),p.then(function(X){if(P._status===0||P._status===-1)P._status=1,P._result=X},function(X){if(P._status===0||P._status===-1)P._status=2,P._result=X}),P._status===-1&&(P._status=0,P._result=p)}if(P._status===1)return P._result.default;throw P._result}var zf=typeof reportError==="function"?reportError:function(P){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P==="object"&&P!==null&&typeof P.message==="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(p))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",P);return}console.error(P)};function LT(){}fT.Children={map:pA,forEach:function(P,p,X){pA(P,function(){p.apply(this,arguments)},X)},count:function(P){var p=0;return pA(P,function(){p++}),p},toArray:function(P){return pA(P,function(p){return p})||[]},only:function(P){if(!v6(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};fT.Component=_1;fT.Fragment=tI;fT.Profiler=PT;fT.PureComponent=S6;fT.StrictMode=eI;fT.Suspense=hT;fT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=e0;fT.act=function(){throw Error("act(...) is not supported in production builds of React.")};fT.cache=function(P){return function(){return P.apply(null,arguments)}};fT.cloneElement=function(P,p,X){if(P===null||P===void 0)throw Error("The argument must be a React element, but you passed "+P+".");var H=Rf({},P.props),h=P.key,x=void 0;if(p!=null)for(B in p.ref!==void 0&&(x=void 0),p.key!==void 0&&(h=""+p.key),p)!Gf.call(p,B)||B==="key"||B==="__self"||B==="__source"||B==="ref"&&p.ref===void 0||(H[B]=p[B]);var B=arguments.length-2;if(B===1)H.children=X;else if(1<B){for(var A=Array(B),$=0;$<B;$++)A[$]=arguments[$+2];H.children=A}return N6(P.type,h,void 0,void 0,x,H)};fT.createContext=function(P){return P={$$typeof:XT,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:pT,_context:P},P};fT.createElement=function(P,p,X){var H,h={},x=null;if(p!=null)for(H in p.key!==void 0&&(x=""+p.key),p)Gf.call(p,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(h[H]=p[H]);var B=arguments.length-2;if(B===1)h.children=X;else if(1<B){for(var A=Array(B),$=0;$<B;$++)A[$]=arguments[$+2];h.children=A}if(P&&P.defaultProps)for(H in B=P.defaultProps,B)h[H]===void 0&&(h[H]=B[H]);return N6(P,x,void 0,void 0,null,h)};fT.createRef=function(){return{current:null}};fT.forwardRef=function(P){return{$$typeof:HT,render:P}};fT.isValidElement=v6;fT.lazy=function(P){return{$$typeof:Jf,_payload:{_status:-1,_result:P},_init:ZT}};fT.memo=function(P,p){return{$$typeof:xT,type:P,compare:p===void 0?null:p}};fT.startTransition=function(P){var p=e0.T,X={};e0.T=X;try{var H=P(),h=e0.S;h!==null&&h(X,H),typeof H==="object"&&H!==null&&typeof H.then==="function"&&H.then(LT,zf)}catch(x){zf(x)}finally{e0.T=p}};fT.unstable_useCacheRefresh=function(){return e0.H.useCacheRefresh()};fT.use=function(P){return e0.H.use(P)};fT.useActionState=function(P,p,X){return e0.H.useActionState(P,p,X)};fT.useCallback=function(P,p){return e0.H.useCallback(P,p)};fT.useContext=function(P){return e0.H.useContext(P)};fT.useDebugValue=function(){};fT.useDeferredValue=function(P,p){return e0.H.useDeferredValue(P,p)};fT.useEffect=function(P,p){return e0.H.useEffect(P,p)};fT.useId=function(){return e0.H.useId()};fT.useImperativeHandle=function(P,p,X){return e0.H.useImperativeHandle(P,p,X)};fT.useInsertionEffect=function(P,p){return e0.H.useInsertionEffect(P,p)};fT.useLayoutEffect=function(P,p){return e0.H.useLayoutEffect(P,p)};fT.useMemo=function(P,p){return e0.H.useMemo(P,p)};fT.useOptimistic=function(P,p){return e0.H.useOptimistic(P,p)};fT.useReducer=function(P,p,X){return e0.H.useReducer(P,p,X)};fT.useRef=function(P){return e0.H.useRef(P)};fT.useState=function(P){return e0.H.useState(P)};fT.useSyncExternalStore=function(P,p,X){return e0.H.useSyncExternalStore(P,p,X)};fT.useTransition=function(){return e0.H.useTransition()};fT.version="19.0.0"});var cf=V0((PM)=>{var Nf=c0(i0(),1);function vf(P){var p="https://react.dev/errors/"+P;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var X=2;X<arguments.length;X++)p+="&args[]="+encodeURIComponent(arguments[X])}return"Minified React error #"+P+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function SX(){}var iP={d:{f:SX,r:function(){throw Error(vf(522))},D:SX,C:SX,L:SX,m:SX,X:SX,S:SX,M:SX},p:0,findDOMNode:null},tT=Symbol.for("react.portal");function eT(P,p,X){var H=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tT,key:H==null?null:""+H,children:P,containerInfo:p,implementation:X}}var yx=Nf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function XA(P,p){if(P==="font")return"";if(typeof p==="string")return p==="use-credentials"?p:""}PM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=iP;PM.createPortal=function(P,p){var X=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(vf(299));return eT(P,p,null,X)};PM.flushSync=function(P){var p=yx.T,X=iP.p;try{if(yx.T=null,iP.p=2,P)return P()}finally{yx.T=p,iP.p=X,iP.d.f()}};PM.preconnect=function(P,p){typeof P==="string"&&(p?(p=p.crossOrigin,p=typeof p==="string"?p==="use-credentials"?p:"":void 0):p=null,iP.d.C(P,p))};PM.prefetchDNS=function(P){typeof P==="string"&&iP.d.D(P)};PM.preinit=function(P,p){if(typeof P==="string"&&p&&typeof p.as==="string"){var X=p.as,H=XA(X,p.crossOrigin),h=typeof p.integrity==="string"?p.integrity:void 0,x=typeof p.fetchPriority==="string"?p.fetchPriority:void 0;X==="style"?iP.d.S(P,typeof p.precedence==="string"?p.precedence:void 0,{crossOrigin:H,integrity:h,fetchPriority:x}):X==="script"&&iP.d.X(P,{crossOrigin:H,integrity:h,fetchPriority:x,nonce:typeof p.nonce==="string"?p.nonce:void 0})}};PM.preinitModule=function(P,p){if(typeof P==="string")if(typeof p==="object"&&p!==null){if(p.as==null||p.as==="script"){var X=XA(p.as,p.crossOrigin);iP.d.M(P,{crossOrigin:X,integrity:typeof p.integrity==="string"?p.integrity:void 0,nonce:typeof p.nonce==="string"?p.nonce:void 0})}}else p==null&&iP.d.M(P)};PM.preload=function(P,p){if(typeof P==="string"&&typeof p==="object"&&p!==null&&typeof p.as==="string"){var X=p.as,H=XA(X,p.crossOrigin);iP.d.L(P,X,{crossOrigin:H,integrity:typeof p.integrity==="string"?p.integrity:void 0,nonce:typeof p.nonce==="string"?p.nonce:void 0,type:typeof p.type==="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority==="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy==="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet==="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes==="string"?p.imageSizes:void 0,media:typeof p.media==="string"?p.media:void 0})}};PM.preloadModule=function(P,p){if(typeof P==="string")if(p){var X=XA(p.as,p.crossOrigin);iP.d.m(P,{as:typeof p.as==="string"&&p.as!=="script"?p.as:void 0,crossOrigin:X,integrity:typeof p.integrity==="string"?p.integrity:void 0})}else iP.d.m(P)};PM.requestFormReset=function(P){iP.d.r(P)};PM.unstable_batchedUpdates=function(P,p){return P(p)};PM.useFormState=function(P,p,X){return yx.H.useFormState(P,p,X)};PM.useFormStatus=function(){return yx.H.useHostTransitionStatus()};PM.version="19.0.0"});var c6=V0((Uc,df)=>{function Of(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Of)}catch(P){console.error(P)}}Of(),df.exports=cf()});var SQ=V0((lE)=>{Tf();var hD=c0(i0(),1),HF=c0(c6(),1);function n(P){var p="https://react.dev/errors/"+P;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var X=2;X<arguments.length;X++)p+="&args[]="+encodeURIComponent(arguments[X])}return"Minified React error #"+P+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function hF(P){return!(!P||P.nodeType!==1&&P.nodeType!==9&&P.nodeType!==11)}var QM=Symbol.for("react.element"),HA=Symbol.for("react.transitional.element"),rx=Symbol.for("react.portal"),n1=Symbol.for("react.fragment"),xF=Symbol.for("react.strict_mode"),C$=Symbol.for("react.profiler"),VM=Symbol.for("react.provider"),BF=Symbol.for("react.consumer"),a8=Symbol.for("react.context"),$Z=Symbol.for("react.forward_ref"),Q$=Symbol.for("react.suspense"),V$=Symbol.for("react.suspense_list"),ZZ=Symbol.for("react.memo"),vX=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var AF=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var qM=Symbol.for("react.memo_cache_sentinel"),lf=Symbol.iterator;function gx(P){if(P===null||typeof P!=="object")return null;return P=lf&&P[lf]||P["@@iterator"],typeof P==="function"?P:null}var YM=Symbol.for("react.client.reference");function q$(P){if(P==null)return null;if(typeof P==="function")return P.$$typeof===YM?null:P.displayName||P.name||null;if(typeof P==="string")return P;switch(P){case n1:return"Fragment";case rx:return"Portal";case C$:return"Profiler";case xF:return"StrictMode";case Q$:return"Suspense";case V$:return"SuspenseList"}if(typeof P==="object")switch(P.$$typeof){case a8:return(P.displayName||"Context")+".Provider";case BF:return(P._context.displayName||"Context")+".Consumer";case $Z:var p=P.render;return P=P.displayName,P||(P=p.displayName||p.name||"",P=P!==""?"ForwardRef("+P+")":"ForwardRef"),P;case ZZ:return p=P.displayName||null,p!==null?p:q$(P.type)||"Memo";case vX:p=P._payload,P=P._init;try{return q$(P(p))}catch(X){}}return null}var I0=hD.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,a0=Object.assign,O6,yf;function nx(P){if(O6===void 0)try{throw Error()}catch(X){var p=X.stack.trim().match(/\n( *(at )?)/);O6=p&&p[1]||"",yf=-1<X.stack.indexOf(`
    at`)?" (<anonymous>)":-1<X.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O6+P+yf}var d6=!1;function l6(P,p){if(!P||d6)return"";d6=!0;var X=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var H={DetermineComponentFrameRoot:function(){try{if(p){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(F){var f=F}Reflect.construct(P,[],L)}else{try{L.call()}catch(F){f=F}P.call(L.prototype)}}else{try{throw Error()}catch(F){f=F}(L=P())&&typeof L.catch==="function"&&L.catch(function(){})}}catch(F){if(F&&f&&typeof F.stack==="string")return[F.stack,f.stack]}return[null,null]}};H.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(H.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(H.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=H.DetermineComponentFrameRoot(),B=x[0],A=x[1];if(B&&A){var $=B.split(`
`),D=A.split(`
`);for(h=H=0;H<$.length&&!$[H].includes("DetermineComponentFrameRoot");)H++;for(;h<D.length&&!D[h].includes("DetermineComponentFrameRoot");)h++;if(H===$.length||h===D.length)for(H=$.length-1,h=D.length-1;1<=H&&0<=h&&$[H]!==D[h];)h--;for(;1<=H&&0<=h;H--,h--)if($[H]!==D[h]){if(H!==1||h!==1)do if(H--,h--,0>h||$[H]!==D[h]){var Z=`
`+$[H].replace(" at new "," at ");return P.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",P.displayName)),Z}while(1<=H&&0<=h);break}}}finally{d6=!1,Error.prepareStackTrace=X}return(X=P?P.displayName||P.name:"")?nx(X):""}function bM(P){switch(P.tag){case 26:case 27:case 5:return nx(P.type);case 16:return nx("Lazy");case 13:return nx("Suspense");case 19:return nx("SuspenseList");case 0:case 15:return P=l6(P.type,!1),P;case 11:return P=l6(P.type.render,!1),P;case 1:return P=l6(P.type,!0),P;default:return""}}function gf(P){try{var p="";do p+=bM(P),P=P.return;while(P);return p}catch(X){return`
Error generating stack: `+X.message+`
`+X.stack}}function Mh(P){var p=P,X=P;if(P.alternate)for(;p.return;)p=p.return;else{P=p;do p=P,(p.flags&4098)!==0&&(X=p.return),P=p.return;while(P)}return p.tag===3?X:null}function DF(P){if(P.tag===13){var p=P.memoizedState;if(p===null&&(P=P.alternate,P!==null&&(p=P.memoizedState)),p!==null)return p.dehydrated}return null}function _f(P){if(Mh(P)!==P)throw Error(n(188))}function jM(P){var p=P.alternate;if(!p){if(p=Mh(P),p===null)throw Error(n(188));return p!==P?null:P}for(var X=P,H=p;;){var h=X.return;if(h===null)break;var x=h.alternate;if(x===null){if(H=h.return,H!==null){X=H;continue}break}if(h.child===x.child){for(x=h.child;x;){if(x===X)return _f(h),P;if(x===H)return _f(h),p;x=x.sibling}throw Error(n(188))}if(X.return!==H.return)X=h,H=x;else{for(var B=!1,A=h.child;A;){if(A===X){B=!0,X=h,H=x;break}if(A===H){B=!0,H=h,X=x;break}A=A.sibling}if(!B){for(A=x.child;A;){if(A===X){B=!0,X=x,H=h;break}if(A===H){B=!0,H=x,X=h;break}A=A.sibling}if(!B)throw Error(n(189))}}if(X.alternate!==H)throw Error(n(190))}if(X.tag!==3)throw Error(n(188));return X.stateNode.current===X?P:p}function $F(P){var p=P.tag;if(p===5||p===26||p===27||p===6)return P;for(P=P.child;P!==null;){if(p=$F(P),p!==null)return p;P=P.sibling}return null}var sx=Array.isArray,m0=HF.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gH={pending:!1,data:null,method:null,action:null},Y$=[],s1=-1;function T8(P){return{current:P}}function KP(P){0>s1||(P.current=Y$[s1],Y$[s1]=null,s1--)}function r0(P,p){s1++,Y$[s1]=P.current,P.current=p}var b8=T8(null),b2=T8(null),uX=T8(null),KA=T8(null);function RA(P,p){switch(r0(uX,p),r0(b2,P),r0(b8,null),P=p.nodeType,P){case 9:case 11:p=(p=p.documentElement)?(p=p.namespaceURI)?u9(p):0:0;break;default:if(P=P===8?p.parentNode:p,p=P.tagName,P=P.namespaceURI)P=u9(P),p=kQ(P,p);else switch(p){case"svg":p=1;break;case"math":p=2;break;default:p=0}}KP(b8),r0(b8,p)}function Qh(){KP(b8),KP(b2),KP(uX)}function b$(P){P.memoizedState!==null&&r0(KA,P);var p=b8.current,X=kQ(p,P.type);p!==X&&(r0(b2,P),r0(b8,X))}function UA(P){b2.current===P&&(KP(b8),KP(b2)),KA.current===P&&(KP(KA),K2._currentValue=gH)}var j$=Object.prototype.hasOwnProperty,LZ=y1,y6=w6,kM=K6,IM=J6,j8=V8,TM=z6,ZF=M6,LF=E6,SA=l1,MM=W6,fF=T6,WM=void 0,EM=void 0,G2=null,Vp=null;function wM(P){if(Vp&&typeof Vp.onCommitFiberRoot==="function")try{Vp.onCommitFiberRoot(G2,P,void 0,(P.current.flags&128)===128)}catch(p){}}function gX(P){if(typeof WM==="function"&&EM(P),Vp&&typeof Vp.setStrictMode==="function")try{Vp.setStrictMode(G2,P)}catch(p){}}var qp=Math.clz32?Math.clz32:KM,zM=Math.log,JM=Math.LN2;function KM(P){return P>>>=0,P===0?32:31-(zM(P)/JM|0)|0}var hA=128,xA=4194304;function vH(P){var p=P&42;if(p!==0)return p;switch(P&-P){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return P&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return P&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return P}}function xD(P,p){var X=P.pendingLanes;if(X===0)return 0;var H=0,h=P.suspendedLanes,x=P.pingedLanes,B=P.warmLanes;P=P.finishedLanes!==0;var A=X&134217727;return A!==0?(X=A&~h,X!==0?H=vH(X):(x&=A,x!==0?H=vH(x):P||(B=A&~B,B!==0&&(H=vH(B))))):(A=X&~h,A!==0?H=vH(A):x!==0?H=vH(x):P||(B=X&~B,B!==0&&(H=vH(B)))),H===0?0:p!==0&&p!==H&&(p&h)===0&&(h=H&-H,B=p&-p,h>=B||h===32&&(B&4194176)!==0)?p:H}function N2(P,p){return(P.pendingLanes&~(P.suspendedLanes&~P.pingedLanes)&p)===0}function RM(P,p){switch(P){case 1:case 2:case 4:case 8:return p+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FF(){var P=hA;return hA<<=1,(hA&4194176)===0&&(hA=128),P}function CF(){var P=xA;return xA<<=1,(xA&62914560)===0&&(xA=4194304),P}function g6(P){for(var p=[],X=0;31>X;X++)p.push(P);return p}function v2(P,p){P.pendingLanes|=p,p!==268435456&&(P.suspendedLanes=0,P.pingedLanes=0,P.warmLanes=0)}function UM(P,p,X,H,h,x){var B=P.pendingLanes;P.pendingLanes=X,P.suspendedLanes=0,P.pingedLanes=0,P.warmLanes=0,P.expiredLanes&=X,P.entangledLanes&=X,P.errorRecoveryDisabledLanes&=X,P.shellSuspendCounter=0;var{entanglements:A,expirationTimes:$,hiddenUpdates:D}=P;for(X=B&~X;0<X;){var Z=31-qp(X),L=1<<Z;A[Z]=0,$[Z]=-1;var f=D[Z];if(f!==null)for(D[Z]=null,Z=0;Z<f.length;Z++){var F=f[Z];F!==null&&(F.lane&=-536870913)}X&=~L}H!==0&&QF(P,H,0),x!==0&&h===0&&P.tag!==0&&(P.suspendedLanes|=x&~(B&~p))}function QF(P,p,X){P.pendingLanes|=p,P.suspendedLanes&=~p;var H=31-qp(p);P.entangledLanes|=p,P.entanglements[H]=P.entanglements[H]|1073741824|X&4194218}function VF(P,p){var X=P.entangledLanes|=p;for(P=P.entanglements;X;){var H=31-qp(X),h=1<<H;h&p|P[H]&p&&(P[H]|=p),X&=~h}}function qF(P){return P&=-P,2<P?8<P?(P&134217727)!==0?32:268435456:8:2}function YF(){var P=m0.p;if(P!==0)return P;return P=window.event,P===void 0?32:RQ(P.type)}function SM(P,p){var X=m0.p;try{return m0.p=P,p()}finally{m0.p=X}}var XH=Math.random().toString(36).slice(2),yP="__reactFiber$"+XH,Xp="__reactProps$"+XH,Wh="__reactContainer$"+XH,k$="__reactEvents$"+XH,GM="__reactListeners$"+XH,NM="__reactHandles$"+XH,uf="__reactResources$"+XH,j2="__reactMarker$"+XH;function fZ(P){delete P[yP],delete P[Xp],delete P[k$],delete P[GM],delete P[NM]}function lH(P){var p=P[yP];if(p)return p;for(var X=P.parentNode;X;){if(p=X[Wh]||X[yP]){if(X=p.alternate,p.child!==null||X!==null&&X.child!==null)for(P=m9(P);P!==null;){if(X=P[yP])return X;P=m9(P)}return p}P=X,X=P.parentNode}return null}function Eh(P){if(P=P[yP]||P[Wh]){var p=P.tag;if(p===5||p===6||p===13||p===26||p===27||p===3)return P}return null}function tx(P){var p=P.tag;if(p===5||p===26||p===27||p===6)return P.stateNode;throw Error(n(33))}function Ah(P){var p=P[uf];return p||(p=P[uf]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function zP(P){P[j2]=!0}var bF=new Set,jF={};function eH(P,p){Vh(P,p),Vh(P+"Capture",p)}function Vh(P,p){jF[P]=p;for(P=0;P<p.length;P++)bF.add(p[P])}var e8=!(typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"),vM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mf={},af={};function cM(P){if(j$.call(af,P))return!0;if(j$.call(mf,P))return!1;if(vM.test(P))return af[P]=!0;return mf[P]=!0,!1}function qA(P,p,X){if(cM(p))if(X===null)P.removeAttribute(p);else{switch(typeof X){case"undefined":case"function":case"symbol":P.removeAttribute(p);return;case"boolean":var H=p.toLowerCase().slice(0,5);if(H!=="data-"&&H!=="aria-"){P.removeAttribute(p);return}}P.setAttribute(p,""+X)}}function BA(P,p,X){if(X===null)P.removeAttribute(p);else{switch(typeof X){case"undefined":case"function":case"symbol":case"boolean":P.removeAttribute(p);return}P.setAttribute(p,""+X)}}function l8(P,p,X,H){if(H===null)P.removeAttribute(X);else{switch(typeof H){case"undefined":case"function":case"symbol":case"boolean":P.removeAttribute(X);return}P.setAttributeNS(p,X,""+H)}}function Rp(P){switch(typeof P){case"bigint":case"boolean":case"number":case"string":case"undefined":return P;case"object":return P;default:return""}}function kF(P){var p=P.type;return(P=P.nodeName)&&P.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function OM(P){var p=kF(P)?"checked":"value",X=Object.getOwnPropertyDescriptor(P.constructor.prototype,p),H=""+P[p];if(!P.hasOwnProperty(p)&&typeof X!=="undefined"&&typeof X.get==="function"&&typeof X.set==="function"){var{get:h,set:x}=X;return Object.defineProperty(P,p,{configurable:!0,get:function(){return h.call(this)},set:function(B){H=""+B,x.call(this,B)}}),Object.defineProperty(P,p,{enumerable:X.enumerable}),{getValue:function(){return H},setValue:function(B){H=""+B},stopTracking:function(){P._valueTracker=null,delete P[p]}}}}function GA(P){P._valueTracker||(P._valueTracker=OM(P))}function IF(P){if(!P)return!1;var p=P._valueTracker;if(!p)return!0;var X=p.getValue(),H="";return P&&(H=kF(P)?P.checked?"true":"false":P.value),P=H,P!==X?(p.setValue(P),!0):!1}function NA(P){if(P=P||(typeof document!=="undefined"?document:void 0),typeof P==="undefined")return null;try{return P.activeElement||P.body}catch(p){return P.body}}var dM=/[\n"\\]/g;function Gp(P){return P.replace(dM,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function I$(P,p,X,H,h,x,B,A){if(P.name="",B!=null&&typeof B!=="function"&&typeof B!=="symbol"&&typeof B!=="boolean"?P.type=B:P.removeAttribute("type"),p!=null)if(B==="number"){if(p===0&&P.value===""||P.value!=p)P.value=""+Rp(p)}else P.value!==""+Rp(p)&&(P.value=""+Rp(p));else B!=="submit"&&B!=="reset"||P.removeAttribute("value");p!=null?T$(P,B,Rp(p)):X!=null?T$(P,B,Rp(X)):H!=null&&P.removeAttribute("value"),h==null&&x!=null&&(P.defaultChecked=!!x),h!=null&&(P.checked=h&&typeof h!=="function"&&typeof h!=="symbol"),A!=null&&typeof A!=="function"&&typeof A!=="symbol"&&typeof A!=="boolean"?P.name=""+Rp(A):P.removeAttribute("name")}function TF(P,p,X,H,h,x,B,A){if(x!=null&&typeof x!=="function"&&typeof x!=="symbol"&&typeof x!=="boolean"&&(P.type=x),p!=null||X!=null){if(!(x!=="submit"&&x!=="reset"||p!==void 0&&p!==null))return;X=X!=null?""+Rp(X):"",p=p!=null?""+Rp(p):X,A||p===P.value||(P.value=p),P.defaultValue=p}H=H!=null?H:h,H=typeof H!=="function"&&typeof H!=="symbol"&&!!H,P.checked=A?P.checked:!!H,P.defaultChecked=!!H,B!=null&&typeof B!=="function"&&typeof B!=="symbol"&&typeof B!=="boolean"&&(P.name=B)}function T$(P,p,X){p==="number"&&NA(P.ownerDocument)===P||P.defaultValue===""+X||(P.defaultValue=""+X)}function Dh(P,p,X,H){if(P=P.options,p){p={};for(var h=0;h<X.length;h++)p["$"+X[h]]=!0;for(X=0;X<P.length;X++)h=p.hasOwnProperty("$"+P[X].value),P[X].selected!==h&&(P[X].selected=h),h&&H&&(P[X].defaultSelected=!0)}else{X=""+Rp(X),p=null;for(h=0;h<P.length;h++){if(P[h].value===X){P[h].selected=!0,H&&(P[h].defaultSelected=!0);return}p!==null||P[h].disabled||(p=P[h])}p!==null&&(p.selected=!0)}}function MF(P,p,X){if(p!=null&&(p=""+Rp(p),p!==P.value&&(P.value=p),X==null)){P.defaultValue!==p&&(P.defaultValue=p);return}P.defaultValue=X!=null?""+Rp(X):""}function WF(P,p,X,H){if(p==null){if(H!=null){if(X!=null)throw Error(n(92));if(sx(H)){if(1<H.length)throw Error(n(93));H=H[0]}X=H}X==null&&(X=""),p=X}X=Rp(p),P.defaultValue=X,H=P.textContent,H===X&&H!==""&&H!==null&&(P.value=H)}function qh(P,p){if(p){var X=P.firstChild;if(X&&X===P.lastChild&&X.nodeType===3){X.nodeValue=p;return}}P.textContent=p}var lM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function of(P,p,X){var H=p.indexOf("--")===0;X==null||typeof X==="boolean"||X===""?H?P.setProperty(p,""):p==="float"?P.cssFloat="":P[p]="":H?P.setProperty(p,X):typeof X!=="number"||X===0||lM.has(p)?p==="float"?P.cssFloat=X:P[p]=(""+X).trim():P[p]=X+"px"}function EF(P,p,X){if(p!=null&&typeof p!=="object")throw Error(n(62));if(P=P.style,X!=null){for(var H in X)!X.hasOwnProperty(H)||p!=null&&p.hasOwnProperty(H)||(H.indexOf("--")===0?P.setProperty(H,""):H==="float"?P.cssFloat="":P[H]="");for(var h in p)H=p[h],p.hasOwnProperty(h)&&X[h]!==H&&of(P,h,H)}else for(var x in p)p.hasOwnProperty(x)&&of(P,x,p[x])}function FZ(P){if(P.indexOf("-")===-1)return!1;switch(P){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function YA(P){return gM.test(""+P)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":P}var M$=null;function CZ(P){return P=P.target||P.srcElement||window,P.correspondingUseElement&&(P=P.correspondingUseElement),P.nodeType===3?P.parentNode:P}var t1=null,$h=null;function rf(P){var p=Eh(P);if(p&&(P=p.stateNode)){var X=P[Xp]||null;P:switch(P=p.stateNode,p.type){case"input":if(I$(P,X.value,X.defaultValue,X.defaultValue,X.checked,X.defaultChecked,X.type,X.name),p=X.name,X.type==="radio"&&p!=null){for(X=P;X.parentNode;)X=X.parentNode;X=X.querySelectorAll('input[name="'+Gp(""+p)+'"][type="radio"]');for(p=0;p<X.length;p++){var H=X[p];if(H!==P&&H.form===P.form){var h=H[Xp]||null;if(!h)throw Error(n(90));I$(H,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(p=0;p<X.length;p++)H=X[p],H.form===P.form&&IF(H)}break P;case"textarea":MF(P,X.value,X.defaultValue);break P;case"select":p=X.value,p!=null&&Dh(P,!!X.multiple,p,!1)}}}var _6=!1;function wF(P,p,X){if(_6)return P(p,X);_6=!0;try{var H=P(p);return H}finally{if(_6=!1,t1!==null||$h!==null){if(QD(),t1&&(p=t1,P=$h,$h=t1=null,rf(p),P))for(p=0;p<P.length;p++)rf(P[p])}}}function k2(P,p){var X=P.stateNode;if(X===null)return null;var H=X[Xp]||null;if(H===null)return null;X=H[p];P:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(H=!H.disabled)||(P=P.type,H=!(P==="button"||P==="input"||P==="select"||P==="textarea")),P=!H;break P;default:P=!1}if(P)return null;if(X&&typeof X!=="function")throw Error(n(231,p,typeof X));return X}var W$=!1;if(e8)try{cH={},Object.defineProperty(cH,"passive",{get:function(){W$=!0}}),window.addEventListener("test",cH,cH),window.removeEventListener("test",cH,cH)}catch(P){W$=!1}var cH,_X=null,QZ=null,bA=null;function zF(){if(bA)return bA;var P,p=QZ,X=p.length,H,h="value"in _X?_X.value:_X.textContent,x=h.length;for(P=0;P<X&&p[P]===h[P];P++);var B=X-P;for(H=1;H<=B&&p[X-H]===h[x-H];H++);return bA=h.slice(P,1<H?1-H:void 0)}function jA(P){var p=P.keyCode;return"charCode"in P?(P=P.charCode,P===0&&p===13&&(P=13)):P=p,P===10&&(P=13),32<=P||P===13?P:0}function AA(){return!0}function nf(){return!1}function Hp(P){function p(X,H,h,x,B){this._reactName=X,this._targetInst=h,this.type=H,this.nativeEvent=x,this.target=B,this.currentTarget=null;for(var A in P)P.hasOwnProperty(A)&&(X=P[A],this[A]=X?X(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?AA:nf,this.isPropagationStopped=nf,this}return a0(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var X=this.nativeEvent;X&&(X.preventDefault?X.preventDefault():typeof X.returnValue!=="unknown"&&(X.returnValue=!1),this.isDefaultPrevented=AA)},stopPropagation:function(){var X=this.nativeEvent;X&&(X.stopPropagation?X.stopPropagation():typeof X.cancelBubble!=="unknown"&&(X.cancelBubble=!0),this.isPropagationStopped=AA)},persist:function(){},isPersistent:AA}),p}var P1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(P){return P.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BD=Hp(P1),c2=a0({},P1,{view:0,detail:0}),_M=Hp(c2),u6,i6,_x,AD=a0({},c2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VZ,button:0,buttons:0,relatedTarget:function(P){return P.relatedTarget===void 0?P.fromElement===P.srcElement?P.toElement:P.fromElement:P.relatedTarget},movementX:function(P){if("movementX"in P)return P.movementX;return P!==_x&&(_x&&P.type==="mousemove"?(u6=P.screenX-_x.screenX,i6=P.screenY-_x.screenY):i6=u6=0,_x=P),u6},movementY:function(P){return"movementY"in P?P.movementY:i6}}),sf=Hp(AD),uM=a0({},AD,{dataTransfer:0}),iM=Hp(uM),mM=a0({},c2,{relatedTarget:0}),m6=Hp(mM),aM=a0({},P1,{animationName:0,elapsedTime:0,pseudoElement:0}),oM=Hp(aM),rM=a0({},P1,{clipboardData:function(P){return"clipboardData"in P?P.clipboardData:window.clipboardData}}),nM=Hp(rM),sM=a0({},P1,{data:0}),tf=Hp(sM),tM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pW(P){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(P):(P=PW[P])?!!p[P]:!1}function VZ(){return pW}var XW=a0({},c2,{key:function(P){if(P.key){var p=tM[P.key]||P.key;if(p!=="Unidentified")return p}return P.type==="keypress"?(P=jA(P),P===13?"Enter":String.fromCharCode(P)):P.type==="keydown"||P.type==="keyup"?eM[P.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VZ,charCode:function(P){return P.type==="keypress"?jA(P):0},keyCode:function(P){return P.type==="keydown"||P.type==="keyup"?P.keyCode:0},which:function(P){return P.type==="keypress"?jA(P):P.type==="keydown"||P.type==="keyup"?P.keyCode:0}}),HW=Hp(XW),hW=a0({},AD,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ef=Hp(hW),xW=a0({},c2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VZ}),BW=Hp(xW),AW=a0({},P1,{propertyName:0,elapsedTime:0,pseudoElement:0}),DW=Hp(AW),$W=a0({},AD,{deltaX:function(P){return"deltaX"in P?P.deltaX:("wheelDeltaX"in P)?-P.wheelDeltaX:0},deltaY:function(P){return"deltaY"in P?P.deltaY:("wheelDeltaY"in P)?-P.wheelDeltaY:("wheelDelta"in P)?-P.wheelDelta:0},deltaZ:0,deltaMode:0}),ZW=Hp($W),LW=a0({},P1,{newState:0,oldState:0}),fW=Hp(LW),FW=[9,13,27,32],qZ=e8&&"CompositionEvent"in window,h2=null;e8&&"documentMode"in document&&(h2=document.documentMode);var CW=e8&&"TextEvent"in window&&!h2,JF=e8&&(!qZ||h2&&8<h2&&11>=h2),P9=String.fromCharCode(32),p9=!1;function KF(P,p){switch(P){case"keyup":return FW.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RF(P){return P=P.detail,typeof P==="object"&&"data"in P?P.data:null}var e1=!1;function QW(P,p){switch(P){case"compositionend":return RF(p);case"keypress":if(p.which!==32)return null;return p9=!0,P9;case"textInput":return P=p.data,P===P9&&p9?null:P;default:return null}}function VW(P,p){if(e1)return P==="compositionend"||!qZ&&KF(P,p)?(P=zF(),bA=QZ=_X=null,e1=!1,P):null;switch(P){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return JF&&p.locale!=="ko"?null:p.data;default:return null}}var qW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X9(P){var p=P&&P.nodeName&&P.nodeName.toLowerCase();return p==="input"?!!qW[P.type]:p==="textarea"?!0:!1}function UF(P,p,X,H){t1?$h?$h.push(H):$h=[H]:t1=H,p=sA(p,"onChange"),0<p.length&&(X=new BD("onChange","change",null,X,H),P.push({event:X,listeners:p}))}var x2=null,I2=null;function YW(P){YQ(P,0)}function DD(P){var p=tx(P);if(IF(p))return P}function H9(P,p){if(P==="change")return p}var SF=!1;if(e8){if(e8){if(P2="oninput"in document,!P2)kA=document.createElement("div"),kA.setAttribute("oninput","return;"),P2=typeof kA.oninput==="function";ex=P2}else ex=!1;SF=ex&&(!document.documentMode||9<document.documentMode)}var ex,P2,kA;function h9(){x2&&(x2.detachEvent("onpropertychange",GF),I2=x2=null)}function GF(P){if(P.propertyName==="value"&&DD(I2)){var p=[];UF(p,I2,P,CZ(P)),wF(YW,p)}}function bW(P,p,X){P==="focusin"?(h9(),x2=p,I2=X,x2.attachEvent("onpropertychange",GF)):P==="focusout"&&h9()}function jW(P){if(P==="selectionchange"||P==="keyup"||P==="keydown")return DD(I2)}function kW(P,p){if(P==="click")return DD(p)}function IW(P,p){if(P==="input"||P==="change")return DD(p)}function TW(P,p){return P===p&&(P!==0||1/P===1/p)||P!==P&&p!==p}var bp=typeof Object.is==="function"?Object.is:TW;function T2(P,p){if(bp(P,p))return!0;if(typeof P!=="object"||P===null||typeof p!=="object"||p===null)return!1;var X=Object.keys(P),H=Object.keys(p);if(X.length!==H.length)return!1;for(H=0;H<X.length;H++){var h=X[H];if(!j$.call(p,h)||!bp(P[h],p[h]))return!1}return!0}function x9(P){for(;P&&P.firstChild;)P=P.firstChild;return P}function B9(P,p){var X=x9(P);P=0;for(var H;X;){if(X.nodeType===3){if(H=P+X.textContent.length,P<=p&&H>=p)return{node:X,offset:p-P};P=H}P:{for(;X;){if(X.nextSibling){X=X.nextSibling;break P}X=X.parentNode}X=void 0}X=x9(X)}}function NF(P,p){return P&&p?P===p?!0:P&&P.nodeType===3?!1:p&&p.nodeType===3?NF(P,p.parentNode):("contains"in P)?P.contains(p):P.compareDocumentPosition?!!(P.compareDocumentPosition(p)&16):!1:!1}function vF(P){P=P!=null&&P.ownerDocument!=null&&P.ownerDocument.defaultView!=null?P.ownerDocument.defaultView:window;for(var p=NA(P.document);p instanceof P.HTMLIFrameElement;){try{var X=typeof p.contentWindow.location.href==="string"}catch(H){X=!1}if(X)P=p.contentWindow;else break;p=NA(P.document)}return p}function YZ(P){var p=P&&P.nodeName&&P.nodeName.toLowerCase();return p&&(p==="input"&&(P.type==="text"||P.type==="search"||P.type==="tel"||P.type==="url"||P.type==="password")||p==="textarea"||P.contentEditable==="true")}function MW(P,p){var X=vF(p);p=P.focusedElem;var H=P.selectionRange;if(X!==p&&p&&p.ownerDocument&&NF(p.ownerDocument.documentElement,p)){if(H!==null&&YZ(p)){if(P=H.start,X=H.end,X===void 0&&(X=P),"selectionStart"in p)p.selectionStart=P,p.selectionEnd=Math.min(X,p.value.length);else if(X=(P=p.ownerDocument||document)&&P.defaultView||window,X.getSelection){X=X.getSelection();var h=p.textContent.length,x=Math.min(H.start,h);H=H.end===void 0?x:Math.min(H.end,h),!X.extend&&x>H&&(h=H,H=x,x=h),h=B9(p,x);var B=B9(p,H);h&&B&&(X.rangeCount!==1||X.anchorNode!==h.node||X.anchorOffset!==h.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)&&(P=P.createRange(),P.setStart(h.node,h.offset),X.removeAllRanges(),x>H?(X.addRange(P),X.extend(B.node,B.offset)):(P.setEnd(B.node,B.offset),X.addRange(P)))}}P=[];for(X=p;X=X.parentNode;)X.nodeType===1&&P.push({element:X,left:X.scrollLeft,top:X.scrollTop});typeof p.focus==="function"&&p.focus();for(p=0;p<P.length;p++)X=P[p],X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}var WW=e8&&"documentMode"in document&&11>=document.documentMode,Ph=null,E$=null,B2=null,w$=!1;function A9(P,p,X){var H=X.window===X?X.document:X.nodeType===9?X:X.ownerDocument;w$||Ph==null||Ph!==NA(H)||(H=Ph,("selectionStart"in H)&&YZ(H)?H={start:H.selectionStart,end:H.selectionEnd}:(H=(H.ownerDocument&&H.ownerDocument.defaultView||window).getSelection(),H={anchorNode:H.anchorNode,anchorOffset:H.anchorOffset,focusNode:H.focusNode,focusOffset:H.focusOffset}),B2&&T2(B2,H)||(B2=H,H=sA(E$,"onSelect"),0<H.length&&(p=new BD("onSelect","select",null,p,X),P.push({event:p,listeners:H}),p.target=Ph)))}function NH(P,p){var X={};return X[P.toLowerCase()]=p.toLowerCase(),X["Webkit"+P]="webkit"+p,X["Moz"+P]="moz"+p,X}var ph={animationend:NH("Animation","AnimationEnd"),animationiteration:NH("Animation","AnimationIteration"),animationstart:NH("Animation","AnimationStart"),transitionrun:NH("Transition","TransitionRun"),transitionstart:NH("Transition","TransitionStart"),transitioncancel:NH("Transition","TransitionCancel"),transitionend:NH("Transition","TransitionEnd")},a6={},cF={};e8&&(cF=document.createElement("div").style,("AnimationEvent"in window)||(delete ph.animationend.animation,delete ph.animationiteration.animation,delete ph.animationstart.animation),("TransitionEvent"in window)||delete ph.transitionend.transition);function p1(P){if(a6[P])return a6[P];if(!ph[P])return P;var p=ph[P],X;for(X in p)if(p.hasOwnProperty(X)&&X in cF)return a6[P]=p[X];return P}var OF=p1("animationend"),dF=p1("animationiteration"),lF=p1("animationstart"),EW=p1("transitionrun"),wW=p1("transitionstart"),zW=p1("transitioncancel"),yF=p1("transitionend"),gF=new Map,D9="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function tp(P,p){gF.set(P,p),eH(p,[P])}var Kp=[],Xh=0,bZ=0;function $D(){for(var P=Xh,p=bZ=Xh=0;p<P;){var X=Kp[p];Kp[p++]=null;var H=Kp[p];Kp[p++]=null;var h=Kp[p];Kp[p++]=null;var x=Kp[p];if(Kp[p++]=null,H!==null&&h!==null){var B=H.pending;B===null?h.next=h:(h.next=B.next,B.next=h),H.pending=h}x!==0&&_F(X,h,x)}}function ZD(P,p,X,H){Kp[Xh++]=P,Kp[Xh++]=p,Kp[Xh++]=X,Kp[Xh++]=H,bZ|=H,P.lanes|=H,P=P.alternate,P!==null&&(P.lanes|=H)}function jZ(P,p,X,H){return ZD(P,p,X,H),vA(P)}function tX(P,p){return ZD(P,null,null,p),vA(P)}function _F(P,p,X){P.lanes|=X;var H=P.alternate;H!==null&&(H.lanes|=X);for(var h=!1,x=P.return;x!==null;)x.childLanes|=X,H=x.alternate,H!==null&&(H.childLanes|=X),x.tag===22&&(P=x.stateNode,P===null||P._visibility&1||(h=!0)),P=x,x=x.return;h&&p!==null&&P.tag===3&&(x=P.stateNode,h=31-qp(X),x=x.hiddenUpdates,P=x[h],P===null?x[h]=[p]:P.push(p),p.lane=X|536870912)}function vA(P){if(50<Y2)throw Y2=0,r$=null,Error(n(185));for(var p=P.return;p!==null;)P=p,p=P.return;return P.tag===3?P.stateNode:null}var Hh={},$9=new WeakMap;function Np(P,p){if(typeof P==="object"&&P!==null){var X=$9.get(P);if(X!==void 0)return X;return p={value:P,source:p,stack:gf(p)},$9.set(P,p),p}return{value:P,source:p,stack:gf(p)}}var hh=[],xh=0,cA=null,OA=0,Up=[],Sp=0,_H=null,o8=1,r8="";function OH(P,p){hh[xh++]=OA,hh[xh++]=cA,cA=P,OA=p}function uF(P,p,X){Up[Sp++]=o8,Up[Sp++]=r8,Up[Sp++]=_H,_H=P;var H=o8;P=r8;var h=32-qp(H)-1;H&=~(1<<h),X+=1;var x=32-qp(p)+h;if(30<x){var B=h-h%5;x=(H&(1<<B)-1).toString(32),H>>=B,h-=B,o8=1<<32-qp(p)+h|X<<h|H,r8=x+P}else o8=1<<x|X<<h|H,r8=P}function kZ(P){P.return!==null&&(OH(P,1),uF(P,1,0))}function IZ(P){for(;P===cA;)cA=hh[--xh],hh[xh]=null,OA=hh[--xh],hh[xh]=null;for(;P===_H;)_H=Up[--Sp],Up[Sp]=null,r8=Up[--Sp],Up[Sp]=null,o8=Up[--Sp],Up[Sp]=null}var mP=null,GP=null,U0=!1,np=null,q8=!1,z$=Error(n(519));function oH(P){var p=Error(n(418,""));throw M2(Np(p,P)),z$}function Z9(P){var{stateNode:p,type:X,memoizedProps:H}=P;switch(p[yP]=P,p[Xp]=H,X){case"dialog":z0("cancel",p),z0("close",p);break;case"iframe":case"object":case"embed":z0("load",p);break;case"video":case"audio":for(X=0;X<w2.length;X++)z0(w2[X],p);break;case"source":z0("error",p);break;case"img":case"image":case"link":z0("error",p),z0("load",p);break;case"details":z0("toggle",p);break;case"input":z0("invalid",p),TF(p,H.value,H.defaultValue,H.checked,H.defaultChecked,H.type,H.name,!0),GA(p);break;case"select":z0("invalid",p);break;case"textarea":z0("invalid",p),WF(p,H.value,H.defaultValue,H.children),GA(p)}X=H.children,typeof X!=="string"&&typeof X!=="number"&&typeof X!=="bigint"||p.textContent===""+X||H.suppressHydrationWarning===!0||jQ(p.textContent,X)?(H.popover!=null&&(z0("beforetoggle",p),z0("toggle",p)),H.onScroll!=null&&z0("scroll",p),H.onScrollEnd!=null&&z0("scrollend",p),H.onClick!=null&&(p.onclick=qD),p=!0):p=!1,p||oH(P)}function L9(P){for(mP=P.return;mP;)switch(mP.tag){case 3:case 27:q8=!0;return;case 5:case 13:q8=!1;return;default:mP=mP.return}}function ux(P){if(P!==mP)return!1;if(!U0)return L9(P),U0=!0,!1;var p=!1,X;if(X=P.tag!==3&&P.tag!==27){if(X=P.tag===5)X=P.type,X=!(X!=="form"&&X!=="button")||hZ(P.type,P.memoizedProps);X=!X}if(X&&(p=!0),p&&GP&&oH(P),L9(P),P.tag===13){if(P=P.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P:{P=P.nextSibling;for(p=0;P;){if(P.nodeType===8)if(X=P.data,X==="/$"){if(p===0){GP=sp(P.nextSibling);break P}p--}else X!=="$"&&X!=="$!"&&X!=="$?"||p++;P=P.nextSibling}GP=null}}else GP=mP?sp(P.stateNode.nextSibling):null;return!0}function O2(){GP=mP=null,U0=!1}function M2(P){np===null?np=[P]:np.push(P)}var A2=Error(n(460)),iF=Error(n(474)),J$={then:function(){}};function f9(P){return P=P.status,P==="fulfilled"||P==="rejected"}function DA(){}function mF(P,p,X){switch(X=P[X],X===void 0?P.push(p):X!==p&&(p.then(DA,DA),p=X),p.status){case"fulfilled":return p.value;case"rejected":if(P=p.reason,P===A2)throw Error(n(483));throw P;default:if(typeof p.status==="string")p.then(DA,DA);else{if(P=_0,P!==null&&100<P.shellSuspendCounter)throw Error(n(482));P=p,P.status="pending",P.then(function(H){if(p.status==="pending"){var h=p;h.status="fulfilled",h.value=H}},function(H){if(p.status==="pending"){var h=p;h.status="rejected",h.reason=H}})}switch(p.status){case"fulfilled":return p.value;case"rejected":if(P=p.reason,P===A2)throw Error(n(483));throw P}throw D2=p,A2}}var D2=null;function F9(){if(D2===null)throw Error(n(459));var P=D2;return D2=null,P}var Zh=null,W2=0;function $A(P){var p=W2;return W2+=1,Zh===null&&(Zh=[]),mF(Zh,P,p)}function ix(P,p){p=p.props.ref,P.ref=p!==void 0?p:null}function ZA(P,p){if(p.$$typeof===QM)throw Error(n(525));throw P=Object.prototype.toString.call(p),Error(n(31,P==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":P))}function C9(P){var p=P._init;return p(P._payload)}function aF(P){function p(Q,C){if(P){var V=Q.deletions;V===null?(Q.deletions=[C],Q.flags|=16):V.push(C)}}function X(Q,C){if(!P)return null;for(;C!==null;)p(Q,C),C=C.sibling;return null}function H(Q){for(var C=new Map;Q!==null;)Q.key!==null?C.set(Q.key,Q):C.set(Q.index,Q),Q=Q.sibling;return C}function h(Q,C){return Q=aX(Q,C),Q.index=0,Q.sibling=null,Q}function x(Q,C,V){if(Q.index=V,!P)return Q.flags|=1048576,C;if(V=Q.alternate,V!==null)return V=V.index,V<C?(Q.flags|=33554434,C):V;return Q.flags|=33554434,C}function B(Q){return P&&Q.alternate===null&&(Q.flags|=33554434),Q}function A(Q,C,V,Y){if(C===null||C.tag!==6)return C=x$(V,Q.mode,Y),C.return=Q,C;return C=h(C,V),C.return=Q,C}function $(Q,C,V,Y){var k=V.type;if(k===n1)return Z(Q,C,V.props.children,Y,V.key);if(C!==null&&(C.elementType===k||typeof k==="object"&&k!==null&&k.$$typeof===vX&&C9(k)===C.type))return C=h(C,V.props),ix(C,V),C.return=Q,C;return C=EA(V.type,V.key,V.props,null,Q.mode,Y),ix(C,V),C.return=Q,C}function D(Q,C,V,Y){if(C===null||C.tag!==4||C.stateNode.containerInfo!==V.containerInfo||C.stateNode.implementation!==V.implementation)return C=B$(V,Q.mode,Y),C.return=Q,C;return C=h(C,V.children||[]),C.return=Q,C}function Z(Q,C,V,Y,k){if(C===null||C.tag!==7)return C=iH(V,Q.mode,Y,k),C.return=Q,C;return C=h(C,V),C.return=Q,C}function L(Q,C,V){if(typeof C==="string"&&C!==""||typeof C==="number"||typeof C==="bigint")return C=x$(""+C,Q.mode,V),C.return=Q,C;if(typeof C==="object"&&C!==null){switch(C.$$typeof){case HA:return V=EA(C.type,C.key,C.props,null,Q.mode,V),ix(V,C),V.return=Q,V;case rx:return C=B$(C,Q.mode,V),C.return=Q,C;case vX:var Y=C._init;return C=Y(C._payload),L(Q,C,V)}if(sx(C)||gx(C))return C=iH(C,Q.mode,V,null),C.return=Q,C;if(typeof C.then==="function")return L(Q,$A(C),V);if(C.$$typeof===a8)return L(Q,LA(Q,C),V);ZA(Q,C)}return null}function f(Q,C,V,Y){var k=C!==null?C.key:null;if(typeof V==="string"&&V!==""||typeof V==="number"||typeof V==="bigint")return k!==null?null:A(Q,C,""+V,Y);if(typeof V==="object"&&V!==null){switch(V.$$typeof){case HA:return V.key===k?$(Q,C,V,Y):null;case rx:return V.key===k?D(Q,C,V,Y):null;case vX:return k=V._init,V=k(V._payload),f(Q,C,V,Y)}if(sx(V)||gx(V))return k!==null?null:Z(Q,C,V,Y,null);if(typeof V.then==="function")return f(Q,C,$A(V),Y);if(V.$$typeof===a8)return f(Q,C,LA(Q,V),Y);ZA(Q,V)}return null}function F(Q,C,V,Y,k){if(typeof Y==="string"&&Y!==""||typeof Y==="number"||typeof Y==="bigint")return Q=Q.get(V)||null,A(C,Q,""+Y,k);if(typeof Y==="object"&&Y!==null){switch(Y.$$typeof){case HA:return Q=Q.get(Y.key===null?V:Y.key)||null,$(C,Q,Y,k);case rx:return Q=Q.get(Y.key===null?V:Y.key)||null,D(C,Q,Y,k);case vX:var z=Y._init;return Y=z(Y._payload),F(Q,C,V,Y,k)}if(sx(Y)||gx(Y))return Q=Q.get(V)||null,Z(C,Q,Y,k,null);if(typeof Y.then==="function")return F(Q,C,V,$A(Y),k);if(Y.$$typeof===a8)return F(Q,C,V,LA(C,Y),k);ZA(C,Y)}return null}function q(Q,C,V,Y){for(var k=null,z=null,W=C,M=C=0,c=null;W!==null&&M<V.length;M++){W.index>M?(c=W,W=null):c=W.sibling;var w=f(Q,W,V[M],Y);if(w===null){W===null&&(W=c);break}P&&W&&w.alternate===null&&p(Q,W),C=x(w,C,M),z===null?k=w:z.sibling=w,z=w,W=c}if(M===V.length)return X(Q,W),U0&&OH(Q,M),k;if(W===null){for(;M<V.length;M++)W=L(Q,V[M],Y),W!==null&&(C=x(W,C,M),z===null?k=W:z.sibling=W,z=W);return U0&&OH(Q,M),k}for(W=H(W);M<V.length;M++)c=F(W,Q,M,V[M],Y),c!==null&&(P&&c.alternate!==null&&W.delete(c.key===null?M:c.key),C=x(c,C,M),z===null?k=c:z.sibling=c,z=c);return P&&W.forEach(function(U){return p(Q,U)}),U0&&OH(Q,M),k}function b(Q,C,V,Y){if(V==null)throw Error(n(151));for(var k=null,z=null,W=C,M=C=0,c=null,w=V.next();W!==null&&!w.done;M++,w=V.next()){W.index>M?(c=W,W=null):c=W.sibling;var U=f(Q,W,w.value,Y);if(U===null){W===null&&(W=c);break}P&&W&&U.alternate===null&&p(Q,W),C=x(U,C,M),z===null?k=U:z.sibling=U,z=U,W=c}if(w.done)return X(Q,W),U0&&OH(Q,M),k;if(W===null){for(;!w.done;M++,w=V.next())w=L(Q,w.value,Y),w!==null&&(C=x(w,C,M),z===null?k=w:z.sibling=w,z=w);return U0&&OH(Q,M),k}for(W=H(W);!w.done;M++,w=V.next())w=F(W,Q,M,w.value,Y),w!==null&&(P&&w.alternate!==null&&W.delete(w.key===null?M:w.key),C=x(w,C,M),z===null?k=w:z.sibling=w,z=w);return P&&W.forEach(function(G){return p(Q,G)}),U0&&OH(Q,M),k}function j(Q,C,V,Y){if(typeof V==="object"&&V!==null&&V.type===n1&&V.key===null&&(V=V.props.children),typeof V==="object"&&V!==null){switch(V.$$typeof){case HA:P:{for(var k=V.key;C!==null;){if(C.key===k){if(k=V.type,k===n1){if(C.tag===7){X(Q,C.sibling),Y=h(C,V.props.children),Y.return=Q,Q=Y;break P}}else if(C.elementType===k||typeof k==="object"&&k!==null&&k.$$typeof===vX&&C9(k)===C.type){X(Q,C.sibling),Y=h(C,V.props),ix(Y,V),Y.return=Q,Q=Y;break P}X(Q,C);break}else p(Q,C);C=C.sibling}V.type===n1?(Y=iH(V.props.children,Q.mode,Y,V.key),Y.return=Q,Q=Y):(Y=EA(V.type,V.key,V.props,null,Q.mode,Y),ix(Y,V),Y.return=Q,Q=Y)}return B(Q);case rx:P:{for(k=V.key;C!==null;){if(C.key===k)if(C.tag===4&&C.stateNode.containerInfo===V.containerInfo&&C.stateNode.implementation===V.implementation){X(Q,C.sibling),Y=h(C,V.children||[]),Y.return=Q,Q=Y;break P}else{X(Q,C);break}else p(Q,C);C=C.sibling}Y=B$(V,Q.mode,Y),Y.return=Q,Q=Y}return B(Q);case vX:return k=V._init,V=k(V._payload),j(Q,C,V,Y)}if(sx(V))return q(Q,C,V,Y);if(gx(V)){if(k=gx(V),typeof k!=="function")throw Error(n(150));return V=k.call(V),b(Q,C,V,Y)}if(typeof V.then==="function")return j(Q,C,$A(V),Y);if(V.$$typeof===a8)return j(Q,C,LA(Q,V),Y);ZA(Q,V)}return typeof V==="string"&&V!==""||typeof V==="number"||typeof V==="bigint"?(V=""+V,C!==null&&C.tag===6?(X(Q,C.sibling),Y=h(C,V),Y.return=Q,Q=Y):(X(Q,C),Y=x$(V,Q.mode,Y),Y.return=Q,Q=Y),B(Q)):X(Q,C)}return function(Q,C,V,Y){try{W2=0;var k=j(Q,C,V,Y);return Zh=null,k}catch(W){if(W===A2)throw W;var z=vp(29,W,null,Q.mode);return z.lanes=Y,z.return=Q,z}finally{}}}var rH=aF(!0),oF=aF(!1),Yh=T8(null),dA=T8(0);function Q9(P,p){P=XX,r0(dA,P),r0(Yh,p),XX=P|p.baseLanes}function K$(){r0(dA,XX),r0(Yh,Yh.current)}function TZ(){XX=dA.current,KP(Yh),KP(dA)}var Op=T8(null),k8=null;function OX(P){var p=P.alternate;r0(IP,IP.current&1),r0(Op,P),k8===null&&(p===null||Yh.current!==null?k8=P:p.memoizedState!==null&&(k8=P))}function rF(P){if(P.tag===22){if(r0(IP,IP.current),r0(Op,P),k8===null){var p=P.alternate;p!==null&&p.memoizedState!==null&&(k8=P)}}else dX(P)}function dX(){r0(IP,IP.current),r0(Op,Op.current)}function n8(P){KP(Op),k8===P&&(k8=null),KP(IP)}var IP=T8(0);function lA(P){for(var p=P;p!==null;){if(p.tag===13){var X=p.memoizedState;if(X!==null&&(X=X.dehydrated,X===null||X.data==="$?"||X.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===P)break;for(;p.sibling===null;){if(p.return===null||p.return===P)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var JW=typeof AbortController!=="undefined"?AbortController:function(){var P=[],p=this.signal={aborted:!1,addEventListener:function(X,H){P.push(H)}};this.abort=function(){p.aborted=!0,P.forEach(function(X){return X()})}},KW=y1,RW=l1,kP={$$typeof:a8,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function MZ(){return{controller:new JW,data:new Map,refCount:0}}function d2(P){P.refCount--,P.refCount===0&&KW(RW,function(){P.controller.abort()})}var $2=null,R$=0,bh=0,Lh=null;function UW(P,p){if($2===null){var X=$2=[];R$=0,bh=aZ(),Lh={status:"pending",value:void 0,then:function(H){X.push(H)}}}return R$++,p.then(V9,V9),p}function V9(){if(--R$===0&&$2!==null){Lh!==null&&(Lh.status="fulfilled");var P=$2;$2=null,bh=0,Lh=null;for(var p=0;p<P.length;p++)P[p]()}}function SW(P,p){var X=[],H={status:"pending",value:null,reason:null,then:function(h){X.push(h)}};return P.then(function(){H.status="fulfilled",H.value=p;for(var h=0;h<X.length;h++)X[h](p)},function(h){H.status="rejected",H.reason=h;for(h=0;h<X.length;h++)X[h](void 0)}),H}var q9=I0.S;I0.S=function(P,p){typeof p==="object"&&p!==null&&typeof p.then==="function"&&UW(P,p),q9!==null&&q9(P,p)};var uH=T8(null);function WZ(){var P=uH.current;return P!==null?P:_0.pooledCache}function IA(P,p){p===null?r0(uH,uH.current):r0(uH,p.pool)}function nF(){var P=WZ();return P===null?null:{parent:kP._currentValue,pool:P}}var eX=0,W0=null,d0=null,VP=null,yA=!1,fh=!1,nH=!1,gA=0,E2=0,Fh=null,GW=0;function LP(){throw Error(n(321))}function EZ(P,p){if(p===null)return!1;for(var X=0;X<p.length&&X<P.length;X++)if(!bp(P[X],p[X]))return!1;return!0}function wZ(P,p,X,H,h,x){return eX=x,W0=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,I0.H=P===null||P.memoizedState===null?X1:HH,nH=!1,x=X(H,h),nH=!1,fh&&(x=tF(p,X,H,h)),sF(P),x}function sF(P){I0.H=I8;var p=d0!==null&&d0.next!==null;if(eX=0,VP=d0=W0=null,yA=!1,E2=0,Fh=null,p)throw Error(n(300));P===null||JP||(P=P.dependencies,P!==null&&iA(P)&&(JP=!0))}function tF(P,p,X,H){W0=P;var h=0;do{if(fh&&(Fh=null),E2=0,fh=!1,25<=h)throw Error(n(301));if(h+=1,VP=d0=null,P.updateQueue!=null){var x=P.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}I0.H=H1,x=p(X,H)}while(fh);return x}function NW(){var P=I0.H,p=P.useState()[0];return p=typeof p.then==="function"?l2(p):p,P=P.useState()[0],(d0!==null?d0.memoizedState:null)!==P&&(W0.flags|=1024),p}function zZ(){var P=gA!==0;return gA=0,P}function JZ(P,p,X){p.updateQueue=P.updateQueue,p.flags&=-2053,P.lanes&=~X}function KZ(P){if(yA){for(P=P.memoizedState;P!==null;){var p=P.queue;p!==null&&(p.pending=null),P=P.next}yA=!1}eX=0,VP=d0=W0=null,fh=!1,E2=gA=0,Fh=null}function pp(){var P={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return VP===null?W0.memoizedState=VP=P:VP=VP.next=P,VP}function qP(){if(d0===null){var P=W0.alternate;P=P!==null?P.memoizedState:null}else P=d0.next;var p=VP===null?W0.memoizedState:VP.next;if(p!==null)VP=p,d0=P;else{if(P===null){if(W0.alternate===null)throw Error(n(467));throw Error(n(310))}d0=P,P={memoizedState:d0.memoizedState,baseState:d0.baseState,baseQueue:d0.baseQueue,queue:d0.queue,next:null},VP===null?W0.memoizedState=VP=P:VP=VP.next=P}return VP}var LD;LD=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function l2(P){var p=E2;return E2+=1,Fh===null&&(Fh=[]),P=mF(Fh,P,p),p=W0,(VP===null?p.memoizedState:VP.next)===null&&(p=p.alternate,I0.H=p===null||p.memoizedState===null?X1:HH),P}function fD(P){if(P!==null&&typeof P==="object"){if(typeof P.then==="function")return l2(P);if(P.$$typeof===a8)return gP(P)}throw Error(n(438,String(P)))}function RZ(P){var p=null,X=W0.updateQueue;if(X!==null&&(p=X.memoCache),p==null){var H=W0.alternate;H!==null&&(H=H.updateQueue,H!==null&&(H=H.memoCache,H!=null&&(p={data:H.data.map(function(h){return h.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),X===null&&(X=LD(),W0.updateQueue=X),X.memoCache=p,X=p.data[p.index],X===void 0)for(X=p.data[p.index]=Array(P),H=0;H<P;H++)X[H]=qM;return p.index++,X}function PX(P,p){return typeof p==="function"?p(P):p}function TA(P){var p=qP();return UZ(p,d0,P)}function UZ(P,p,X){var H=P.queue;if(H===null)throw Error(n(311));H.lastRenderedReducer=X;var h=P.baseQueue,x=H.pending;if(x!==null){if(h!==null){var B=h.next;h.next=x.next,x.next=B}p.baseQueue=h=x,H.pending=null}if(x=P.baseState,h===null)P.memoizedState=x;else{p=h.next;var A=B=null,$=null,D=p,Z=!1;do{var L=D.lane&-536870913;if(L!==D.lane?(K0&L)===L:(eX&L)===L){var f=D.revertLane;if(f===0)$!==null&&($=$.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),L===bh&&(Z=!0);else if((eX&f)===f){D=D.next,f===bh&&(Z=!0);continue}else L={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},$===null?(A=$=L,B=x):$=$.next=L,W0.lanes|=f,pH|=f;L=D.action,nH&&X(x,L),x=D.hasEagerState?D.eagerState:X(x,L)}else f={lane:L,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},$===null?(A=$=f,B=x):$=$.next=f,W0.lanes|=L,pH|=L;D=D.next}while(D!==null&&D!==p);if($===null?B=x:$.next=A,!bp(x,P.memoizedState)&&(JP=!0,Z&&(X=Lh,X!==null)))throw X;P.memoizedState=x,P.baseState=B,P.baseQueue=$,H.lastRenderedState=x}return h===null&&(H.lanes=0),[P.memoizedState,H.dispatch]}function o6(P){var p=qP(),X=p.queue;if(X===null)throw Error(n(311));X.lastRenderedReducer=P;var{dispatch:H,pending:h}=X,x=p.memoizedState;if(h!==null){X.pending=null;var B=h=h.next;do x=P(x,B.action),B=B.next;while(B!==h);bp(x,p.memoizedState)||(JP=!0),p.memoizedState=x,p.baseQueue===null&&(p.baseState=x),X.lastRenderedState=x}return[x,H]}function eF(P,p,X){var H=W0,h=qP(),x=U0;if(x){if(X===void 0)throw Error(n(407));X=X()}else X=p();var B=!bp((d0||h).memoizedState,X);if(B&&(h.memoizedState=X,JP=!0),h=h.queue,SZ(XC.bind(null,H,h,P),[P]),h.getSnapshot!==p||B||VP!==null&&VP.memoizedState.tag&1){if(H.flags|=2048,jh(9,pC.bind(null,H,h,X,p),{destroy:void 0},null),_0===null)throw Error(n(349));x||(eX&60)!==0||PC(H,p,X)}return X}function PC(P,p,X){P.flags|=16384,P={getSnapshot:p,value:X},p=W0.updateQueue,p===null?(p=LD(),W0.updateQueue=p,p.stores=[P]):(X=p.stores,X===null?p.stores=[P]:X.push(P))}function pC(P,p,X,H){p.value=X,p.getSnapshot=H,HC(p)&&hC(P)}function XC(P,p,X){return X(function(){HC(p)&&hC(P)})}function HC(P){var p=P.getSnapshot;P=P.value;try{var X=p();return!bp(P,X)}catch(H){return!0}}function hC(P){var p=tX(P,2);p!==null&&aP(p,P,2)}function U$(P){var p=pp();if(typeof P==="function"){var X=P;if(P=X(),nH){gX(!0);try{X()}finally{gX(!1)}}}return p.memoizedState=p.baseState=P,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:PX,lastRenderedState:P},p}function xC(P,p,X,H){return P.baseState=X,UZ(P,d0,typeof H==="function"?H:PX)}function vW(P,p,X,H,h){if(CD(P))throw Error(n(485));if(P=p.action,P!==null){var x={payload:h,action:P,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){x.listeners.push(B)}};I0.T!==null?X(!0):x.isTransition=!1,H(x),X=p.pending,X===null?(x.next=p.pending=x,BC(p,x)):(x.next=X.next,p.pending=X.next=x)}}function BC(P,p){var{action:X,payload:H}=p,h=P.state;if(p.isTransition){var x=I0.T,B={};I0.T=B;try{var A=X(h,H),$=I0.S;$!==null&&$(B,A),Y9(P,p,A)}catch(D){S$(P,p,D)}finally{I0.T=x}}else try{x=X(h,H),Y9(P,p,x)}catch(D){S$(P,p,D)}}function Y9(P,p,X){X!==null&&typeof X==="object"&&typeof X.then==="function"?X.then(function(H){b9(P,p,H)},function(H){return S$(P,p,H)}):b9(P,p,X)}function b9(P,p,X){p.status="fulfilled",p.value=X,AC(p),P.state=X,p=P.pending,p!==null&&(X=p.next,X===p?P.pending=null:(X=X.next,p.next=X,BC(P,X)))}function S$(P,p,X){var H=P.pending;if(P.pending=null,H!==null){H=H.next;do p.status="rejected",p.reason=X,AC(p),p=p.next;while(p!==H)}P.action=null}function AC(P){P=P.listeners;for(var p=0;p<P.length;p++)P[p]()}function DC(P,p){return p}function $C(P,p){if(U0){var X=_0.formState;if(X!==null){P:{var H=W0;if(U0){if(GP){p:{var h=GP;for(var x=q8;h.nodeType!==8;){if(!x){h=null;break p}if(h=sp(h.nextSibling),h===null){h=null;break p}}x=h.data,h=x==="F!"||x==="F"?h:null}if(h){GP=sp(h.nextSibling),H=h.data==="F!";break P}}oH(H)}H=!1}H&&(p=X[0])}}return X=pp(),X.memoizedState=X.baseState=p,H={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DC,lastRenderedState:p},X.queue=H,X=EC.bind(null,W0,H),H.dispatch=X,H=U$(!1),x=cZ.bind(null,W0,!1,H.queue),H=pp(),h={state:p,dispatch:null,action:P,pending:null},H.queue=h,X=vW.bind(null,W0,h,x,X),h.dispatch=X,H.memoizedState=P,[p,X,!1]}function ZC(P){var p=qP();return LC(p,d0,P)}function LC(P,p,X){p=UZ(P,p,DC)[0],P=TA(PX)[0],p=typeof p==="object"&&p!==null&&typeof p.then==="function"?l2(p):p;var H=qP(),h=H.queue,x=h.dispatch;return X!==H.memoizedState&&(W0.flags|=2048,jh(9,cW.bind(null,h,X),{destroy:void 0},null)),[p,x,P]}function cW(P,p){P.action=p}function fC(P){var p=qP(),X=d0;if(X!==null)return LC(p,X,P);qP(),p=p.memoizedState,X=qP();var H=X.queue.dispatch;return X.memoizedState=P,[p,H,!1]}function jh(P,p,X,H){return P={tag:P,create:p,inst:X,deps:H,next:null},p=W0.updateQueue,p===null&&(p=LD(),W0.updateQueue=p),X=p.lastEffect,X===null?p.lastEffect=P.next=P:(H=X.next,X.next=P,P.next=H,p.lastEffect=P),P}function FC(){return qP().memoizedState}function MA(P,p,X,H){var h=pp();W0.flags|=P,h.memoizedState=jh(1|p,X,{destroy:void 0},H===void 0?null:H)}function FD(P,p,X,H){var h=qP();H=H===void 0?null:H;var x=h.memoizedState.inst;d0!==null&&H!==null&&EZ(H,d0.memoizedState.deps)?h.memoizedState=jh(p,X,x,H):(W0.flags|=P,h.memoizedState=jh(1|p,X,x,H))}function j9(P,p){MA(8390656,8,P,p)}function SZ(P,p){FD(2048,8,P,p)}function CC(P,p){return FD(4,2,P,p)}function QC(P,p){return FD(4,4,P,p)}function VC(P,p){if(typeof p==="function"){P=P();var X=p(P);return function(){typeof X==="function"?X():p(null)}}if(p!==null&&p!==void 0)return P=P(),p.current=P,function(){p.current=null}}function qC(P,p,X){X=X!==null&&X!==void 0?X.concat([P]):null,FD(4,4,VC.bind(null,p,P),X)}function GZ(){}function YC(P,p){var X=qP();p=p===void 0?null:p;var H=X.memoizedState;if(p!==null&&EZ(p,H[1]))return H[0];return X.memoizedState=[P,p],P}function bC(P,p){var X=qP();p=p===void 0?null:p;var H=X.memoizedState;if(p!==null&&EZ(p,H[1]))return H[0];if(H=P(),nH){gX(!0);try{P()}finally{gX(!1)}}return X.memoizedState=[H,p],H}function NZ(P,p,X){if(X===void 0||(eX&1073741824)!==0)return P.memoizedState=p;return P.memoizedState=X,P=AQ(),W0.lanes|=P,pH|=P,X}function jC(P,p,X,H){if(bp(X,p))return X;if(Yh.current!==null)return P=NZ(P,X,H),bp(P,p)||(JP=!0),P;if((eX&42)===0)return JP=!0,P.memoizedState=X;return P=AQ(),W0.lanes|=P,pH|=P,p}function kC(P,p,X,H,h){var x=m0.p;m0.p=x!==0&&8>x?x:8;var B=I0.T,A={};I0.T=A,cZ(P,!1,p,X);try{var $=h(),D=I0.S;if(D!==null&&D(A,$),$!==null&&typeof $==="object"&&typeof $.then==="function"){var Z=SW($,H);Z2(P,p,Z,Yp(P))}else Z2(P,p,H,Yp(P))}catch(L){Z2(P,p,{then:function(){},status:"rejected",reason:L},Yp())}finally{m0.p=x,I0.T=B}}function OW(){}function G$(P,p,X,H){if(P.tag!==5)throw Error(n(476));var h=IC(P).queue;kC(P,h,p,gH,X===null?OW:function(){return TC(P),X(H)})}function IC(P){var p=P.memoizedState;if(p!==null)return p;p={memoizedState:gH,baseState:gH,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:PX,lastRenderedState:gH},next:null};var X={};return p.next={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:PX,lastRenderedState:X},next:null},P.memoizedState=p,P=P.alternate,P!==null&&(P.memoizedState=p),p}function TC(P){var p=IC(P).next.queue;Z2(P,p,{},Yp())}function vZ(){return gP(K2)}function MC(){return qP().memoizedState}function WC(){return qP().memoizedState}function dW(P){for(var p=P.return;p!==null;){switch(p.tag){case 24:case 3:var X=Yp();P=iX(X);var H=mX(p,P,X);H!==null&&(aP(H,p,X),f2(H,p,X)),p={cache:MZ()},P.payload=p;return}p=p.return}}function lW(P,p,X){var H=Yp();X={lane:H,revertLane:0,action:X,hasEagerState:!1,eagerState:null,next:null},CD(P)?wC(p,X):(X=jZ(P,p,X,H),X!==null&&(aP(X,P,H),zC(X,p,H)))}function EC(P,p,X){var H=Yp();Z2(P,p,X,H)}function Z2(P,p,X,H){var h={lane:H,revertLane:0,action:X,hasEagerState:!1,eagerState:null,next:null};if(CD(P))wC(p,h);else{var x=P.alternate;if(P.lanes===0&&(x===null||x.lanes===0)&&(x=p.lastRenderedReducer,x!==null))try{var B=p.lastRenderedState,A=x(B,X);if(h.hasEagerState=!0,h.eagerState=A,bp(A,B))return ZD(P,p,h,0),_0===null&&$D(),!1}catch($){}finally{}if(X=jZ(P,p,h,H),X!==null)return aP(X,P,H),zC(X,p,H),!0}return!1}function cZ(P,p,X,H){if(H={lane:2,revertLane:aZ(),action:H,hasEagerState:!1,eagerState:null,next:null},CD(P)){if(p)throw Error(n(479))}else p=jZ(P,X,H,2),p!==null&&aP(p,P,2)}function CD(P){var p=P.alternate;return P===W0||p!==null&&p===W0}function wC(P,p){fh=yA=!0;var X=P.pending;X===null?p.next=p:(p.next=X.next,X.next=p),P.pending=p}function zC(P,p,X){if((X&4194176)!==0){var H=p.lanes;H&=P.pendingLanes,X|=H,p.lanes=X,VF(P,X)}}var I8={readContext:gP,use:fD,useCallback:LP,useContext:LP,useEffect:LP,useImperativeHandle:LP,useLayoutEffect:LP,useInsertionEffect:LP,useMemo:LP,useReducer:LP,useRef:LP,useState:LP,useDebugValue:LP,useDeferredValue:LP,useTransition:LP,useSyncExternalStore:LP,useId:LP};I8.useCacheRefresh=LP;I8.useMemoCache=LP;I8.useHostTransitionStatus=LP;I8.useFormState=LP;I8.useActionState=LP;I8.useOptimistic=LP;var X1={readContext:gP,use:fD,useCallback:function(P,p){return pp().memoizedState=[P,p===void 0?null:p],P},useContext:gP,useEffect:j9,useImperativeHandle:function(P,p,X){X=X!==null&&X!==void 0?X.concat([P]):null,MA(4194308,4,VC.bind(null,p,P),X)},useLayoutEffect:function(P,p){return MA(4194308,4,P,p)},useInsertionEffect:function(P,p){MA(4,2,P,p)},useMemo:function(P,p){var X=pp();p=p===void 0?null:p;var H=P();if(nH){gX(!0);try{P()}finally{gX(!1)}}return X.memoizedState=[H,p],H},useReducer:function(P,p,X){var H=pp();if(X!==void 0){var h=X(p);if(nH){gX(!0);try{X(p)}finally{gX(!1)}}}else h=p;return H.memoizedState=H.baseState=h,P={pending:null,lanes:0,dispatch:null,lastRenderedReducer:P,lastRenderedState:h},H.queue=P,P=P.dispatch=lW.bind(null,W0,P),[H.memoizedState,P]},useRef:function(P){var p=pp();return P={current:P},p.memoizedState=P},useState:function(P){P=U$(P);var p=P.queue,X=EC.bind(null,W0,p);return p.dispatch=X,[P.memoizedState,X]},useDebugValue:GZ,useDeferredValue:function(P,p){var X=pp();return NZ(X,P,p)},useTransition:function(){var P=U$(!1);return P=kC.bind(null,W0,P.queue,!0,!1),pp().memoizedState=P,[!1,P]},useSyncExternalStore:function(P,p,X){var H=W0,h=pp();if(U0){if(X===void 0)throw Error(n(407));X=X()}else{if(X=p(),_0===null)throw Error(n(349));(K0&60)!==0||PC(H,p,X)}h.memoizedState=X;var x={value:X,getSnapshot:p};return h.queue=x,j9(XC.bind(null,H,x,P),[P]),H.flags|=2048,jh(9,pC.bind(null,H,x,X,p),{destroy:void 0},null),X},useId:function(){var P=pp(),p=_0.identifierPrefix;if(U0){var X=r8,H=o8;X=(H&~(1<<32-qp(H)-1)).toString(32)+X,p=":"+p+"R"+X,X=gA++,0<X&&(p+="H"+X.toString(32)),p+=":"}else X=GW++,p=":"+p+"r"+X.toString(32)+":";return P.memoizedState=p},useCacheRefresh:function(){return pp().memoizedState=dW.bind(null,W0)}};X1.useMemoCache=RZ;X1.useHostTransitionStatus=vZ;X1.useFormState=$C;X1.useActionState=$C;X1.useOptimistic=function(P){var p=pp();p.memoizedState=p.baseState=P;var X={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=X,p=cZ.bind(null,W0,!0,X),X.dispatch=p,[P,p]};var HH={readContext:gP,use:fD,useCallback:YC,useContext:gP,useEffect:SZ,useImperativeHandle:qC,useInsertionEffect:CC,useLayoutEffect:QC,useMemo:bC,useReducer:TA,useRef:FC,useState:function(){return TA(PX)},useDebugValue:GZ,useDeferredValue:function(P,p){var X=qP();return jC(X,d0.memoizedState,P,p)},useTransition:function(){var P=TA(PX)[0],p=qP().memoizedState;return[typeof P==="boolean"?P:l2(P),p]},useSyncExternalStore:eF,useId:MC};HH.useCacheRefresh=WC;HH.useMemoCache=RZ;HH.useHostTransitionStatus=vZ;HH.useFormState=ZC;HH.useActionState=ZC;HH.useOptimistic=function(P,p){var X=qP();return xC(X,d0,P,p)};var H1={readContext:gP,use:fD,useCallback:YC,useContext:gP,useEffect:SZ,useImperativeHandle:qC,useInsertionEffect:CC,useLayoutEffect:QC,useMemo:bC,useReducer:o6,useRef:FC,useState:function(){return o6(PX)},useDebugValue:GZ,useDeferredValue:function(P,p){var X=qP();return d0===null?NZ(X,P,p):jC(X,d0.memoizedState,P,p)},useTransition:function(){var P=o6(PX)[0],p=qP().memoizedState;return[typeof P==="boolean"?P:l2(P),p]},useSyncExternalStore:eF,useId:MC};H1.useCacheRefresh=WC;H1.useMemoCache=RZ;H1.useHostTransitionStatus=vZ;H1.useFormState=fC;H1.useActionState=fC;H1.useOptimistic=function(P,p){var X=qP();if(d0!==null)return xC(X,d0,P,p);return X.baseState=P,[P,X.queue.dispatch]};function r6(P,p,X,H){p=P.memoizedState,X=X(H,p),X=X===null||X===void 0?p:a0({},p,X),P.memoizedState=X,P.lanes===0&&(P.updateQueue.baseState=X)}var N$={isMounted:function(P){return(P=P._reactInternals)?Mh(P)===P:!1},enqueueSetState:function(P,p,X){P=P._reactInternals;var H=Yp(),h=iX(H);h.payload=p,X!==void 0&&X!==null&&(h.callback=X),p=mX(P,h,H),p!==null&&(aP(p,P,H),f2(p,P,H))},enqueueReplaceState:function(P,p,X){P=P._reactInternals;var H=Yp(),h=iX(H);h.tag=1,h.payload=p,X!==void 0&&X!==null&&(h.callback=X),p=mX(P,h,H),p!==null&&(aP(p,P,H),f2(p,P,H))},enqueueForceUpdate:function(P,p){P=P._reactInternals;var X=Yp(),H=iX(X);H.tag=2,p!==void 0&&p!==null&&(H.callback=p),p=mX(P,H,X),p!==null&&(aP(p,P,X),f2(p,P,X))}};function k9(P,p,X,H,h,x,B){return P=P.stateNode,typeof P.shouldComponentUpdate==="function"?P.shouldComponentUpdate(H,x,B):p.prototype&&p.prototype.isPureReactComponent?!T2(X,H)||!T2(h,x):!0}function I9(P,p,X,H){P=p.state,typeof p.componentWillReceiveProps==="function"&&p.componentWillReceiveProps(X,H),typeof p.UNSAFE_componentWillReceiveProps==="function"&&p.UNSAFE_componentWillReceiveProps(X,H),p.state!==P&&N$.enqueueReplaceState(p,p.state,null)}function sH(P,p){var X=p;if("ref"in p){X={};for(var H in p)H!=="ref"&&(X[H]=p[H])}if(P=P.defaultProps){X===p&&(X=a0({},X));for(var h in P)X[h]===void 0&&(X[h]=P[h])}return X}var _A=typeof reportError==="function"?reportError:function(P){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P==="object"&&P!==null&&typeof P.message==="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(p))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",P);return}console.error(P)};function JC(P){_A(P)}function KC(P){console.error(P)}function RC(P){_A(P)}function uA(P,p){try{var X=P.onUncaughtError;X(p.value,{componentStack:p.stack})}catch(H){setTimeout(function(){throw H})}}function T9(P,p,X){try{var H=P.onCaughtError;H(X.value,{componentStack:X.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function v$(P,p,X){return X=iX(X),X.tag=3,X.payload={element:null},X.callback=function(){uA(P,p)},X}function UC(P){return P=iX(P),P.tag=3,P}function SC(P,p,X,H){var h=X.type.getDerivedStateFromError;if(typeof h==="function"){var x=H.value;P.payload=function(){return h(x)},P.callback=function(){T9(p,X,H)}}var B=X.stateNode;B!==null&&typeof B.componentDidCatch==="function"&&(P.callback=function(){T9(p,X,H),typeof h!=="function"&&(oX===null?oX=new Set([this]):oX.add(this));var A=H.stack;this.componentDidCatch(H.value,{componentStack:A!==null?A:""})})}function yW(P,p,X,H,h){if(X.flags|=32768,H!==null&&typeof H==="object"&&typeof H.then==="function"){if(p=X.alternate,p!==null&&y2(p,X,h,!0),X=Op.current,X!==null){switch(X.tag){case 13:return k8===null?s$():X.alternate===null&&DP===0&&(DP=3),X.flags&=-257,X.flags|=65536,X.lanes=h,H===J$?X.flags|=16384:(p=X.updateQueue,p===null?X.updateQueue=new Set([H]):p.add(H),D$(P,H,h)),!1;case 22:return X.flags|=65536,H===J$?X.flags|=16384:(p=X.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([H])},X.updateQueue=p):(X=p.retryQueue,X===null?p.retryQueue=new Set([H]):X.add(H)),D$(P,H,h)),!1}throw Error(n(435,X.tag))}return D$(P,H,h),s$(),!1}if(U0)return p=Op.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=h,H!==z$&&(P=Error(n(422),{cause:H}),M2(Np(P,X)))):(H!==z$&&(p=Error(n(423),{cause:H}),M2(Np(p,X))),P=P.current.alternate,P.flags|=65536,h&=-h,P.lanes|=h,H=Np(H,X),h=v$(P.stateNode,H,h),p$(P,h),DP!==4&&(DP=2)),!1;var x=Error(n(520),{cause:H});if(x=Np(x,X),V2===null?V2=[x]:V2.push(x),DP!==4&&(DP=2),p===null)return!0;H=Np(H,X),X=p;do{switch(X.tag){case 3:return X.flags|=65536,P=h&-h,X.lanes|=P,P=v$(X.stateNode,H,P),p$(X,P),!1;case 1:if(p=X.type,x=X.stateNode,(X.flags&128)===0&&(typeof p.getDerivedStateFromError==="function"||x!==null&&typeof x.componentDidCatch==="function"&&(oX===null||!oX.has(x))))return X.flags|=65536,h&=-h,X.lanes|=h,h=UC(h),SC(h,P,X,H),p$(X,h),!1}X=X.return}while(X!==null);return!1}var GC=Error(n(461)),JP=!1;function SP(P,p,X,H){p.child=P===null?oF(p,null,X,H):rH(p,P.child,X,H)}function M9(P,p,X,H,h){X=X.render;var x=p.ref;if("ref"in H){var B={};for(var A in H)A!=="ref"&&(B[A]=H[A])}else B=H;if(tH(p),H=wZ(P,p,X,B,x,h),A=zZ(),P!==null&&!JP)return JZ(P,p,h),pX(P,p,h);return U0&&A&&kZ(p),p.flags|=1,SP(P,p,H,h),p.child}function W9(P,p,X,H,h){if(P===null){var x=X.type;if(typeof x==="function"&&!gZ(x)&&x.defaultProps===void 0&&X.compare===null)return p.tag=15,p.type=x,NC(P,p,x,H,h);return P=EA(X.type,null,H,p,p.mode,h),P.ref=p.ref,P.return=p,p.child=P}if(x=P.child,!OZ(P,h)){var B=x.memoizedProps;if(X=X.compare,X=X!==null?X:T2,X(B,H)&&P.ref===p.ref)return pX(P,p,h)}return p.flags|=1,P=aX(x,H),P.ref=p.ref,P.return=p,p.child=P}function NC(P,p,X,H,h){if(P!==null){var x=P.memoizedProps;if(T2(x,H)&&P.ref===p.ref)if(JP=!1,p.pendingProps=H=x,OZ(P,h))(P.flags&131072)!==0&&(JP=!0);else return p.lanes=P.lanes,pX(P,p,h)}return c$(P,p,X,H,h)}function vC(P,p,X){var H=p.pendingProps,h=H.children,x=(p.stateNode._pendingVisibility&2)!==0,B=P!==null?P.memoizedState:null;if(L2(P,p),H.mode==="hidden"||x){if((p.flags&128)!==0){if(H=B!==null?B.baseLanes|X:X,P!==null){h=p.child=P.child;for(x=0;h!==null;)x=x|h.lanes|h.childLanes,h=h.sibling;p.childLanes=x&~H}else p.childLanes=0,p.child=null;return E9(P,p,H,X)}if((X&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},P!==null&&IA(p,B!==null?B.cachePool:null),B!==null?Q9(p,B):K$(),rF(p);else return p.lanes=p.childLanes=536870912,E9(P,p,B!==null?B.baseLanes|X:X,X)}else B!==null?(IA(p,B.cachePool),Q9(p,B),dX(p),p.memoizedState=null):(P!==null&&IA(p,null),K$(),dX(p));return SP(P,p,h,X),p.child}function E9(P,p,X,H){var h=WZ();return h=h===null?null:{parent:kP._currentValue,pool:h},p.memoizedState={baseLanes:X,cachePool:h},P!==null&&IA(p,null),K$(),rF(p),P!==null&&y2(P,p,H,!0),null}function L2(P,p){var X=p.ref;if(X===null)P!==null&&P.ref!==null&&(p.flags|=2097664);else{if(typeof X!=="function"&&typeof X!=="object")throw Error(n(284));if(P===null||P.ref!==X)p.flags|=2097664}}function c$(P,p,X,H,h){if(tH(p),X=wZ(P,p,X,H,void 0,h),H=zZ(),P!==null&&!JP)return JZ(P,p,h),pX(P,p,h);return U0&&H&&kZ(p),p.flags|=1,SP(P,p,X,h),p.child}function w9(P,p,X,H,h,x){if(tH(p),p.updateQueue=null,X=tF(p,H,X,h),sF(P),H=zZ(),P!==null&&!JP)return JZ(P,p,x),pX(P,p,x);return U0&&H&&kZ(p),p.flags|=1,SP(P,p,X,x),p.child}function z9(P,p,X,H,h){if(tH(p),p.stateNode===null){var x=Hh,B=X.contextType;typeof B==="object"&&B!==null&&(x=gP(B)),x=new X(H,x),p.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=N$,p.stateNode=x,x._reactInternals=p,x=p.stateNode,x.props=H,x.state=p.memoizedState,x.refs={},dZ(p),B=X.contextType,x.context=typeof B==="object"&&B!==null?gP(B):Hh,x.state=p.memoizedState,B=X.getDerivedStateFromProps,typeof B==="function"&&(r6(p,X,B,H),x.state=p.memoizedState),typeof X.getDerivedStateFromProps==="function"||typeof x.getSnapshotBeforeUpdate==="function"||typeof x.UNSAFE_componentWillMount!=="function"&&typeof x.componentWillMount!=="function"||(B=x.state,typeof x.componentWillMount==="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount==="function"&&x.UNSAFE_componentWillMount(),B!==x.state&&N$.enqueueReplaceState(x,x.state,null),C2(p,H,x,h),F2(),x.state=p.memoizedState),typeof x.componentDidMount==="function"&&(p.flags|=4194308),H=!0}else if(P===null){x=p.stateNode;var A=p.memoizedProps,$=sH(X,A);x.props=$;var D=x.context,Z=X.contextType;B=Hh,typeof Z==="object"&&Z!==null&&(B=gP(Z));var L=X.getDerivedStateFromProps;Z=typeof L==="function"||typeof x.getSnapshotBeforeUpdate==="function",A=p.pendingProps!==A,Z||typeof x.UNSAFE_componentWillReceiveProps!=="function"&&typeof x.componentWillReceiveProps!=="function"||(A||D!==B)&&I9(p,x,H,B),cX=!1;var f=p.memoizedState;x.state=f,C2(p,H,x,h),F2(),D=p.memoizedState,A||f!==D||cX?(typeof L==="function"&&(r6(p,X,L,H),D=p.memoizedState),($=cX||k9(p,X,$,H,f,D,B))?(Z||typeof x.UNSAFE_componentWillMount!=="function"&&typeof x.componentWillMount!=="function"||(typeof x.componentWillMount==="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount==="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount==="function"&&(p.flags|=4194308)):(typeof x.componentDidMount==="function"&&(p.flags|=4194308),p.memoizedProps=H,p.memoizedState=D),x.props=H,x.state=D,x.context=B,H=$):(typeof x.componentDidMount==="function"&&(p.flags|=4194308),H=!1)}else{x=p.stateNode,_$(P,p),B=p.memoizedProps,Z=sH(X,B),x.props=Z,L=p.pendingProps,f=x.context,D=X.contextType,$=Hh,typeof D==="object"&&D!==null&&($=gP(D)),A=X.getDerivedStateFromProps,(D=typeof A==="function"||typeof x.getSnapshotBeforeUpdate==="function")||typeof x.UNSAFE_componentWillReceiveProps!=="function"&&typeof x.componentWillReceiveProps!=="function"||(B!==L||f!==$)&&I9(p,x,H,$),cX=!1,f=p.memoizedState,x.state=f,C2(p,H,x,h),F2();var F=p.memoizedState;B!==L||f!==F||cX||P!==null&&P.dependencies!==null&&iA(P.dependencies)?(typeof A==="function"&&(r6(p,X,A,H),F=p.memoizedState),(Z=cX||k9(p,X,Z,H,f,F,$)||P!==null&&P.dependencies!==null&&iA(P.dependencies))?(D||typeof x.UNSAFE_componentWillUpdate!=="function"&&typeof x.componentWillUpdate!=="function"||(typeof x.componentWillUpdate==="function"&&x.componentWillUpdate(H,F,$),typeof x.UNSAFE_componentWillUpdate==="function"&&x.UNSAFE_componentWillUpdate(H,F,$)),typeof x.componentDidUpdate==="function"&&(p.flags|=4),typeof x.getSnapshotBeforeUpdate==="function"&&(p.flags|=1024)):(typeof x.componentDidUpdate!=="function"||B===P.memoizedProps&&f===P.memoizedState||(p.flags|=4),typeof x.getSnapshotBeforeUpdate!=="function"||B===P.memoizedProps&&f===P.memoizedState||(p.flags|=1024),p.memoizedProps=H,p.memoizedState=F),x.props=H,x.state=F,x.context=$,H=Z):(typeof x.componentDidUpdate!=="function"||B===P.memoizedProps&&f===P.memoizedState||(p.flags|=4),typeof x.getSnapshotBeforeUpdate!=="function"||B===P.memoizedProps&&f===P.memoizedState||(p.flags|=1024),H=!1)}return x=H,L2(P,p),H=(p.flags&128)!==0,x||H?(x=p.stateNode,X=H&&typeof X.getDerivedStateFromError!=="function"?null:x.render(),p.flags|=1,P!==null&&H?(p.child=rH(p,P.child,null,h),p.child=rH(p,null,X,h)):SP(P,p,X,h),p.memoizedState=x.state,P=p.child):P=pX(P,p,h),P}function J9(P,p,X,H){return O2(),p.flags|=256,SP(P,p,X,H),p.child}var n6={dehydrated:null,treeContext:null,retryLane:0};function s6(P){return{baseLanes:P,cachePool:nF()}}function t6(P,p,X){return P=P!==null?P.childLanes&~X:0,p&&(P|=cp),P}function cC(P,p,X){var H=p.pendingProps,h=!1,x=(p.flags&128)!==0,B;if((B=x)||(B=P!==null&&P.memoizedState===null?!1:(IP.current&2)!==0),B&&(h=!0,p.flags&=-129),B=(p.flags&32)!==0,p.flags&=-33,P===null){if(U0){if(h?OX(p):dX(p),U0){var A=GP,$;if($=A){P:{$=A;for(A=q8;$.nodeType!==8;){if(!A){A=null;break P}if($=sp($.nextSibling),$===null){A=null;break P}}A=$}A!==null?(p.memoizedState={dehydrated:A,treeContext:_H!==null?{id:o8,overflow:r8}:null,retryLane:536870912},$=vp(18,null,null,0),$.stateNode=A,$.return=p,p.child=$,mP=p,GP=null,$=!0):$=!1}$||oH(p)}if(A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?p.lanes=16:p.lanes=536870912,null;n8(p)}if(A=H.children,H=H.fallback,h)return dX(p),h=p.mode,A=d$({mode:"hidden",children:A},h),H=iH(H,h,X,null),A.return=p,H.return=p,A.sibling=H,p.child=A,h=p.child,h.memoizedState=s6(X),h.childLanes=t6(P,B,X),p.memoizedState=n6,H;return OX(p),O$(p,A)}if($=P.memoizedState,$!==null&&(A=$.dehydrated,A!==null)){if(x)p.flags&256?(OX(p),p.flags&=-257,p=e6(P,p,X)):p.memoizedState!==null?(dX(p),p.child=P.child,p.flags|=128,p=null):(dX(p),h=H.fallback,A=p.mode,H=d$({mode:"visible",children:H.children},A),h=iH(h,A,X,null),h.flags|=2,H.return=p,h.return=p,H.sibling=h,p.child=H,rH(p,P.child,null,X),H=p.child,H.memoizedState=s6(X),H.childLanes=t6(P,B,X),p.memoizedState=n6,p=h);else if(OX(p),A.data==="$!"){if(B=A.nextSibling&&A.nextSibling.dataset,B)var D=B.dgst;B=D,H=Error(n(419)),H.stack="",H.digest=B,M2({value:H,source:null,stack:null}),p=e6(P,p,X)}else if(JP||y2(P,p,X,!1),B=(X&P.childLanes)!==0,JP||B){if(B=_0,B!==null){if(H=X&-X,(H&42)!==0)H=1;else switch(H){case 2:H=1;break;case 8:H=4;break;case 32:H=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:H=64;break;case 268435456:H=134217728;break;default:H=0}if(H=(H&(B.suspendedLanes|X))!==0?0:H,H!==0&&H!==$.retryLane)throw $.retryLane=H,tX(P,H),aP(B,P,H),GC}A.data==="$?"||s$(),p=e6(P,p,X)}else A.data==="$?"?(p.flags|=128,p.child=P.child,p=XE.bind(null,P),A._reactRetry=p,p=null):(P=$.treeContext,GP=sp(A.nextSibling),mP=p,U0=!0,np=null,q8=!1,P!==null&&(Up[Sp++]=o8,Up[Sp++]=r8,Up[Sp++]=_H,o8=P.id,r8=P.overflow,_H=p),p=O$(p,H.children),p.flags|=4096);return p}if(h)return dX(p),h=H.fallback,A=p.mode,$=P.child,D=$.sibling,H=aX($,{mode:"hidden",children:H.children}),H.subtreeFlags=$.subtreeFlags&31457280,D!==null?h=aX(D,h):(h=iH(h,A,X,null),h.flags|=2),h.return=p,H.return=p,H.sibling=h,p.child=H,H=h,h=p.child,A=P.child.memoizedState,A===null?A=s6(X):($=A.cachePool,$!==null?(D=kP._currentValue,$=$.parent!==D?{parent:D,pool:D}:$):$=nF(),A={baseLanes:A.baseLanes|X,cachePool:$}),h.memoizedState=A,h.childLanes=t6(P,B,X),p.memoizedState=n6,H;return OX(p),X=P.child,P=X.sibling,X=aX(X,{mode:"visible",children:H.children}),X.return=p,X.sibling=null,P!==null&&(B=p.deletions,B===null?(p.deletions=[P],p.flags|=16):B.push(P)),p.child=X,p.memoizedState=null,X}function O$(P,p){return p=d$({mode:"visible",children:p},P.mode),p.return=P,P.child=p}function d$(P,p){return xQ(P,p,0,null)}function e6(P,p,X){return rH(p,P.child,null,X),P=O$(p,p.pendingProps.children),P.flags|=2,p.memoizedState=null,P}function K9(P,p,X){P.lanes|=p;var H=P.alternate;H!==null&&(H.lanes|=p),y$(P.return,p,X)}function P$(P,p,X,H,h){var x=P.memoizedState;x===null?P.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:H,tail:X,tailMode:h}:(x.isBackwards=p,x.rendering=null,x.renderingStartTime=0,x.last=H,x.tail=X,x.tailMode=h)}function OC(P,p,X){var H=p.pendingProps,h=H.revealOrder,x=H.tail;if(SP(P,p,H.children,X),H=IP.current,(H&2)!==0)H=H&1|2,p.flags|=128;else{if(P!==null&&(P.flags&128)!==0)P:for(P=p.child;P!==null;){if(P.tag===13)P.memoizedState!==null&&K9(P,X,p);else if(P.tag===19)K9(P,X,p);else if(P.child!==null){P.child.return=P,P=P.child;continue}if(P===p)break P;for(;P.sibling===null;){if(P.return===null||P.return===p)break P;P=P.return}P.sibling.return=P.return,P=P.sibling}H&=1}switch(r0(IP,H),h){case"forwards":X=p.child;for(h=null;X!==null;)P=X.alternate,P!==null&&lA(P)===null&&(h=X),X=X.sibling;X=h,X===null?(h=p.child,p.child=null):(h=X.sibling,X.sibling=null),P$(p,!1,h,X,x);break;case"backwards":X=null,h=p.child;for(p.child=null;h!==null;){if(P=h.alternate,P!==null&&lA(P)===null){p.child=h;break}P=h.sibling,h.sibling=X,X=h,h=P}P$(p,!0,X,null,x);break;case"together":P$(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function pX(P,p,X){if(P!==null&&(p.dependencies=P.dependencies),pH|=p.lanes,(X&p.childLanes)===0)if(P!==null){if(y2(P,p,X,!1),(X&p.childLanes)===0)return null}else return null;if(P!==null&&p.child!==P.child)throw Error(n(153));if(p.child!==null){P=p.child,X=aX(P,P.pendingProps),p.child=X;for(X.return=p;P.sibling!==null;)P=P.sibling,X=X.sibling=aX(P,P.pendingProps),X.return=p;X.sibling=null}return p.child}function OZ(P,p){if((P.lanes&p)!==0)return!0;return P=P.dependencies,P!==null&&iA(P)?!0:!1}function gW(P,p,X){switch(p.tag){case 3:RA(p,p.stateNode.containerInfo),lX(p,kP,P.memoizedState.cache),O2();break;case 27:case 5:b$(p);break;case 4:RA(p,p.stateNode.containerInfo);break;case 10:lX(p,p.type,p.memoizedProps.value);break;case 13:var H=p.memoizedState;if(H!==null){if(H.dehydrated!==null)return OX(p),p.flags|=128,null;if((X&p.child.childLanes)!==0)return cC(P,p,X);return OX(p),P=pX(P,p,X),P!==null?P.sibling:null}OX(p);break;case 19:var h=(P.flags&128)!==0;if(H=(X&p.childLanes)!==0,H||(y2(P,p,X,!1),H=(X&p.childLanes)!==0),h){if(H)return OC(P,p,X);p.flags|=128}if(h=p.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),r0(IP,IP.current),H)break;else return null;case 22:case 23:return p.lanes=0,vC(P,p,X);case 24:lX(p,kP,P.memoizedState.cache)}return pX(P,p,X)}function dC(P,p,X){if(P!==null)if(P.memoizedProps!==p.pendingProps)JP=!0;else{if(!OZ(P,X)&&(p.flags&128)===0)return JP=!1,gW(P,p,X);JP=(P.flags&131072)!==0?!0:!1}else JP=!1,U0&&(p.flags&1048576)!==0&&uF(p,OA,p.index);switch(p.lanes=0,p.tag){case 16:P:{P=p.pendingProps;var H=p.elementType,h=H._init;if(H=h(H._payload),p.type=H,typeof H==="function")gZ(H)?(P=sH(H,P),p.tag=1,p=z9(null,p,H,P,X)):(p.tag=0,p=c$(null,p,H,P,X));else{if(H!==void 0&&H!==null){if(h=H.$$typeof,h===$Z){p.tag=11,p=M9(null,p,H,P,X);break P}else if(h===ZZ){p.tag=14,p=W9(null,p,H,P,X);break P}}throw p=q$(H)||H,Error(n(306,p,""))}}return p;case 0:return c$(P,p,p.type,p.pendingProps,X);case 1:return H=p.type,h=sH(H,p.pendingProps),z9(P,p,H,h,X);case 3:P:{if(RA(p,p.stateNode.containerInfo),P===null)throw Error(n(387));var x=p.pendingProps;h=p.memoizedState,H=h.element,_$(P,p),C2(p,x,null,X);var B=p.memoizedState;if(x=B.cache,lX(p,kP,x),x!==h.cache&&g$(p,[kP],X,!0),F2(),x=B.element,h.isDehydrated)if(h={element:x,isDehydrated:!1,cache:B.cache},p.updateQueue.baseState=h,p.memoizedState=h,p.flags&256){p=J9(P,p,x,X);break P}else if(x!==H){H=Np(Error(n(424)),p),M2(H),p=J9(P,p,x,X);break P}else for(GP=sp(p.stateNode.containerInfo.firstChild),mP=p,U0=!0,np=null,q8=!0,X=oF(p,null,x,X),p.child=X;X;)X.flags=X.flags&-3|4096,X=X.sibling;else{if(O2(),x===H){p=pX(P,p,X);break P}SP(P,p,x,X)}p=p.child}return p;case 26:return L2(P,p),P===null?(X=o9(p.type,null,p.pendingProps,null))?p.memoizedState=X:U0||(X=p.type,P=p.pendingProps,H=tA(uX.current).createElement(X),H[yP]=p,H[Xp]=P,NP(H,X,P),zP(H),p.stateNode=H):p.memoizedState=o9(p.type,P.memoizedProps,p.pendingProps,P.memoizedState),null;case 27:return b$(p),P===null&&U0&&(H=p.stateNode=TQ(p.type,p.pendingProps,uX.current),mP=p,q8=!0,GP=sp(H.firstChild)),H=p.pendingProps.children,P!==null||U0?SP(P,p,H,X):p.child=rH(p,null,H,X),L2(P,p),p.child;case 5:if(P===null&&U0){if(h=H=GP)H=VE(H,p.type,p.pendingProps,q8),H!==null?(p.stateNode=H,mP=p,GP=sp(H.firstChild),q8=!1,h=!0):h=!1;h||oH(p)}return b$(p),h=p.type,x=p.pendingProps,B=P!==null?P.memoizedProps:null,H=x.children,hZ(h,x)?H=null:B!==null&&hZ(h,B)&&(p.flags|=32),p.memoizedState!==null&&(h=wZ(P,p,NW,null,null,X),K2._currentValue=h),L2(P,p),SP(P,p,H,X),p.child;case 6:if(P===null&&U0){if(P=X=GP)X=qE(X,p.pendingProps,q8),X!==null?(p.stateNode=X,mP=p,GP=null,P=!0):P=!1;P||oH(p)}return null;case 13:return cC(P,p,X);case 4:return RA(p,p.stateNode.containerInfo),H=p.pendingProps,P===null?p.child=rH(p,null,H,X):SP(P,p,H,X),p.child;case 11:return M9(P,p,p.type,p.pendingProps,X);case 7:return SP(P,p,p.pendingProps,X),p.child;case 8:return SP(P,p,p.pendingProps.children,X),p.child;case 12:return SP(P,p,p.pendingProps.children,X),p.child;case 10:return H=p.pendingProps,lX(p,p.type,H.value),SP(P,p,H.children,X),p.child;case 9:return h=p.type._context,H=p.pendingProps.children,tH(p),h=gP(h),H=H(h),p.flags|=1,SP(P,p,H,X),p.child;case 14:return W9(P,p,p.type,p.pendingProps,X);case 15:return NC(P,p,p.type,p.pendingProps,X);case 19:return OC(P,p,X);case 22:return vC(P,p,X);case 24:return tH(p),H=gP(kP),P===null?(h=WZ(),h===null&&(h=_0,x=MZ(),h.pooledCache=x,x.refCount++,x!==null&&(h.pooledCacheLanes|=X),h=x),p.memoizedState={parent:H,cache:h},dZ(p),lX(p,kP,h)):((P.lanes&X)!==0&&(_$(P,p),C2(p,null,null,X),F2()),h=P.memoizedState,x=p.memoizedState,h.parent!==H?(h={parent:H,cache:H},p.memoizedState=h,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=h),lX(p,kP,H)):(H=x.cache,lX(p,kP,H),H!==h.cache&&g$(p,[kP],X,!0))),SP(P,p,p.pendingProps.children,X),p.child;case 29:throw p.pendingProps}throw Error(n(156,p.tag))}var l$=T8(null),h1=null,s8=null;function lX(P,p,X){r0(l$,p._currentValue),p._currentValue=X}function t8(P){P._currentValue=l$.current,KP(l$)}function y$(P,p,X){for(;P!==null;){var H=P.alternate;if((P.childLanes&p)!==p?(P.childLanes|=p,H!==null&&(H.childLanes|=p)):H!==null&&(H.childLanes&p)!==p&&(H.childLanes|=p),P===X)break;P=P.return}}function g$(P,p,X,H){var h=P.child;h!==null&&(h.return=P);for(;h!==null;){var x=h.dependencies;if(x!==null){var B=h.child;x=x.firstContext;P:for(;x!==null;){var A=x;x=h;for(var $=0;$<p.length;$++)if(A.context===p[$]){x.lanes|=X,A=x.alternate,A!==null&&(A.lanes|=X),y$(x.return,X,P),H||(B=null);break P}x=A.next}}else if(h.tag===18){if(B=h.return,B===null)throw Error(n(341));B.lanes|=X,x=B.alternate,x!==null&&(x.lanes|=X),y$(B,X,P),B=null}else B=h.child;if(B!==null)B.return=h;else for(B=h;B!==null;){if(B===P){B=null;break}if(h=B.sibling,h!==null){h.return=B.return,B=h;break}B=B.return}h=B}}function y2(P,p,X,H){P=null;for(var h=p,x=!1;h!==null;){if(!x){if((h.flags&524288)!==0)x=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var B=h.alternate;if(B===null)throw Error(n(387));if(B=B.memoizedProps,B!==null){var A=h.type;bp(h.pendingProps.value,B.value)||(P!==null?P.push(A):P=[A])}}else if(h===KA.current){if(B=h.alternate,B===null)throw Error(n(387));B.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(P!==null?P.push(K2):P=[K2])}h=h.return}P!==null&&g$(p,P,X,H),p.flags|=262144}function iA(P){for(P=P.firstContext;P!==null;){if(!bp(P.context._currentValue,P.memoizedValue))return!0;P=P.next}return!1}function tH(P){h1=P,s8=null,P=P.dependencies,P!==null&&(P.firstContext=null)}function gP(P){return lC(h1,P)}function LA(P,p){return h1===null&&tH(P),lC(P,p)}function lC(P,p){var X=p._currentValue;if(p={context:p,memoizedValue:X,next:null},s8===null){if(P===null)throw Error(n(308));s8=p,P.dependencies={lanes:0,firstContext:p},P.flags|=524288}else s8=s8.next=p;return X}var cX=!1;function dZ(P){P.updateQueue={baseState:P.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _$(P,p){P=P.updateQueue,p.updateQueue===P&&(p.updateQueue={baseState:P.baseState,firstBaseUpdate:P.firstBaseUpdate,lastBaseUpdate:P.lastBaseUpdate,shared:P.shared,callbacks:null})}function iX(P){return{lane:P,tag:0,payload:null,callback:null,next:null}}function mX(P,p,X){var H=P.updateQueue;if(H===null)return null;if(H=H.shared,(pP&2)!==0){var h=H.pending;return h===null?p.next=p:(p.next=h.next,h.next=p),H.pending=p,p=vA(P),_F(P,null,X),p}return ZD(P,H,p,X),vA(P)}function f2(P,p,X){if(p=p.updateQueue,p!==null&&(p=p.shared,(X&4194176)!==0)){var H=p.lanes;H&=P.pendingLanes,X|=H,p.lanes=X,VF(P,X)}}function p$(P,p){var{updateQueue:X,alternate:H}=P;if(H!==null&&(H=H.updateQueue,X===H)){var h=null,x=null;if(X=X.firstBaseUpdate,X!==null){do{var B={lane:X.lane,tag:X.tag,payload:X.payload,callback:null,next:null};x===null?h=x=B:x=x.next=B,X=X.next}while(X!==null);x===null?h=x=p:x=x.next=p}else h=x=p;X={baseState:H.baseState,firstBaseUpdate:h,lastBaseUpdate:x,shared:H.shared,callbacks:H.callbacks},P.updateQueue=X;return}P=X.lastBaseUpdate,P===null?X.firstBaseUpdate=p:P.next=p,X.lastBaseUpdate=p}var u$=!1;function F2(){if(u$){var P=Lh;if(P!==null)throw P}}function C2(P,p,X,H){u$=!1;var h=P.updateQueue;cX=!1;var{firstBaseUpdate:x,lastBaseUpdate:B}=h,A=h.shared.pending;if(A!==null){h.shared.pending=null;var $=A,D=$.next;$.next=null,B===null?x=D:B.next=D,B=$;var Z=P.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==B&&(A===null?Z.firstBaseUpdate=D:A.next=D,Z.lastBaseUpdate=$))}if(x!==null){var L=h.baseState;B=0,Z=D=$=null,A=x;do{var f=A.lane&-536870913,F=f!==A.lane;if(F?(K0&f)===f:(H&f)===f){f!==0&&f===bh&&(u$=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});P:{var q=P,b=A;f=p;var j=X;switch(b.tag){case 1:if(q=b.payload,typeof q==="function"){L=q.call(j,L,f);break P}L=q;break P;case 3:q.flags=q.flags&-65537|128;case 0:if(q=b.payload,f=typeof q==="function"?q.call(j,L,f):q,f===null||f===void 0)break P;L=a0({},L,f);break P;case 2:cX=!0}}f=A.callback,f!==null&&(P.flags|=64,F&&(P.flags|=8192),F=h.callbacks,F===null?h.callbacks=[f]:F.push(f))}else F={lane:f,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(D=Z=F,$=L):Z=Z.next=F,B|=f;if(A=A.next,A===null)if(A=h.shared.pending,A===null)break;else F=A,A=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}while(1);Z===null&&($=L),h.baseState=$,h.firstBaseUpdate=D,h.lastBaseUpdate=Z,x===null&&(h.shared.lanes=0),pH|=B,P.lanes=B,P.memoizedState=L}}function yC(P,p){if(typeof P!=="function")throw Error(n(191,P));P.call(p)}function gC(P,p){var X=P.callbacks;if(X!==null)for(P.callbacks=null,P=0;P<X.length;P++)yC(X[P],p)}function g2(P,p){try{var X=p.updateQueue,H=X!==null?X.lastEffect:null;if(H!==null){var h=H.next;X=h;do{if((X.tag&P)===P){H=void 0;var{create:x,inst:B}=X;H=x(),B.destroy=H}X=X.next}while(X!==h)}}catch(A){l0(p,p.return,A)}}function PH(P,p,X){try{var H=p.updateQueue,h=H!==null?H.lastEffect:null;if(h!==null){var x=h.next;H=x;do{if((H.tag&P)===P){var B=H.inst,A=B.destroy;if(A!==void 0){B.destroy=void 0,h=p;var $=X;try{A()}catch(D){l0(h,$,D)}}}H=H.next}while(H!==x)}}catch(D){l0(p,p.return,D)}}function _C(P){var p=P.updateQueue;if(p!==null){var X=P.stateNode;try{gC(p,X)}catch(H){l0(P,P.return,H)}}}function uC(P,p,X){X.props=sH(P.type,P.memoizedProps),X.state=P.memoizedState;try{X.componentWillUnmount()}catch(H){l0(P,p,H)}}function yH(P,p){try{var X=P.ref;if(X!==null){var H=P.stateNode;switch(P.tag){case 26:case 27:case 5:var h=H;break;default:h=H}typeof X==="function"?P.refCleanup=X(h):X.current=h}}catch(x){l0(P,p,x)}}function Qp(P,p){var{ref:X,refCleanup:H}=P;if(X!==null)if(typeof H==="function")try{H()}catch(h){l0(P,p,h)}finally{P.refCleanup=null,P=P.alternate,P!=null&&(P.refCleanup=null)}else if(typeof X==="function")try{X(null)}catch(h){l0(P,p,h)}else X.current=null}function iC(P){var{type:p,memoizedProps:X,stateNode:H}=P;try{P:switch(p){case"button":case"input":case"select":case"textarea":X.autoFocus&&H.focus();break P;case"img":X.src?H.src=X.src:X.srcSet&&(H.srcset=X.srcSet)}}catch(h){l0(P,P.return,h)}}function R9(P,p,X){try{var H=P.stateNode;LE(H,P.type,X,p),H[Xp]=p}catch(h){l0(P,P.return,h)}}function mC(P){return P.tag===5||P.tag===3||P.tag===26||P.tag===27||P.tag===4}function X$(P){P:for(;;){for(;P.sibling===null;){if(P.return===null||mC(P.return))return null;P=P.return}P.sibling.return=P.return;for(P=P.sibling;P.tag!==5&&P.tag!==6&&P.tag!==27&&P.tag!==18;){if(P.flags&2)continue P;if(P.child===null||P.tag===4)continue P;else P.child.return=P,P=P.child}if(!(P.flags&2))return P.stateNode}}function i$(P,p,X){var H=P.tag;if(H===5||H===6)P=P.stateNode,p?X.nodeType===8?X.parentNode.insertBefore(P,p):X.insertBefore(P,p):(X.nodeType===8?(p=X.parentNode,p.insertBefore(P,X)):(p=X,p.appendChild(P)),X=X._reactRootContainer,X!==null&&X!==void 0||p.onclick!==null||(p.onclick=qD));else if(H!==4&&H!==27&&(P=P.child,P!==null))for(i$(P,p,X),P=P.sibling;P!==null;)i$(P,p,X),P=P.sibling}function mA(P,p,X){var H=P.tag;if(H===5||H===6)P=P.stateNode,p?X.insertBefore(P,p):X.appendChild(P);else if(H!==4&&H!==27&&(P=P.child,P!==null))for(mA(P,p,X),P=P.sibling;P!==null;)mA(P,p,X),P=P.sibling}var u8=!1,AP=!1,H$=!1,U9=typeof WeakSet==="function"?WeakSet:Set,wP=null,S9=!1;function _W(P,p){if(P=P.containerInfo,XZ=XD,P=vF(P),YZ(P)){if("selectionStart"in P)var X={start:P.selectionStart,end:P.selectionEnd};else P:{X=(X=P.ownerDocument)&&X.defaultView||window;var H=X.getSelection&&X.getSelection();if(H&&H.rangeCount!==0){X=H.anchorNode;var{anchorOffset:h,focusNode:x}=H;H=H.focusOffset;try{X.nodeType,x.nodeType}catch(b){X=null;break P}var B=0,A=-1,$=-1,D=0,Z=0,L=P,f=null;p:for(;;){for(var F;;){if(L!==X||h!==0&&L.nodeType!==3||(A=B+h),L!==x||H!==0&&L.nodeType!==3||($=B+H),L.nodeType===3&&(B+=L.nodeValue.length),(F=L.firstChild)===null)break;f=L,L=F}for(;;){if(L===P)break p;if(f===X&&++D===h&&(A=B),f===x&&++Z===H&&($=B),(F=L.nextSibling)!==null)break;L=f,f=L.parentNode}L=F}X=A===-1||$===-1?null:{start:A,end:$}}else X=null}X=X||{start:0,end:0}}else X=null;HZ={focusedElem:P,selectionRange:X},XD=!1;for(wP=p;wP!==null;)if(p=wP,P=p.child,(p.subtreeFlags&1028)!==0&&P!==null)P.return=p,wP=P;else for(;wP!==null;){switch(p=wP,x=p.alternate,P=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((P&1024)!==0&&x!==null){P=void 0,X=p,h=x.memoizedProps,x=x.memoizedState,H=X.stateNode;try{var q=sH(X.type,h,X.elementType===X.type);P=H.getSnapshotBeforeUpdate(q,x),H.__reactInternalSnapshotBeforeUpdate=P}catch(b){l0(X,X.return,b)}}break;case 3:if((P&1024)!==0){if(P=p.stateNode.containerInfo,X=P.nodeType,X===9)xZ(P);else if(X===1)switch(P.nodeName){case"HEAD":case"HTML":case"BODY":xZ(P);break;default:P.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((P&1024)!==0)throw Error(n(163))}if(P=p.sibling,P!==null){P.return=p.return,wP=P;break}wP=p.return}return q=S9,S9=!1,q}function aC(P,p,X){var H=X.flags;switch(X.tag){case 0:case 11:case 15:g8(P,X),H&4&&g2(5,X);break;case 1:if(g8(P,X),H&4)if(P=X.stateNode,p===null)try{P.componentDidMount()}catch(A){l0(X,X.return,A)}else{var h=sH(X.type,p.memoizedProps);p=p.memoizedState;try{P.componentDidUpdate(h,p,P.__reactInternalSnapshotBeforeUpdate)}catch(A){l0(X,X.return,A)}}H&64&&_C(X),H&512&&yH(X,X.return);break;case 3:if(g8(P,X),H&64&&(H=X.updateQueue,H!==null)){if(P=null,X.child!==null)switch(X.child.tag){case 27:case 5:P=X.child.stateNode;break;case 1:P=X.child.stateNode}try{gC(H,P)}catch(A){l0(X,X.return,A)}}break;case 26:g8(P,X),H&512&&yH(X,X.return);break;case 27:case 5:g8(P,X),p===null&&H&4&&iC(X),H&512&&yH(X,X.return);break;case 12:g8(P,X);break;case 13:g8(P,X),H&4&&nC(P,X);break;case 22:if(h=X.memoizedState!==null||u8,!h){p=p!==null&&p.memoizedState!==null||AP;var x=u8,B=AP;u8=h,(AP=p)&&!B?NX(P,X,(X.subtreeFlags&8772)!==0):g8(P,X),u8=x,AP=B}H&512&&(X.memoizedProps.mode==="manual"?yH(X,X.return):Qp(X,X.return));break;default:g8(P,X)}}function oC(P){var p=P.alternate;p!==null&&(P.alternate=null,oC(p)),P.child=null,P.deletions=null,P.sibling=null,P.tag===5&&(p=P.stateNode,p!==null&&fZ(p)),P.stateNode=null,P.return=null,P.dependencies=null,P.memoizedProps=null,P.memoizedState=null,P.pendingProps=null,P.stateNode=null,P.updateQueue=null}var QP=null,Fp=!1;function y8(P,p,X){for(X=X.child;X!==null;)rC(P,p,X),X=X.sibling}function rC(P,p,X){if(Vp&&typeof Vp.onCommitFiberUnmount==="function")try{Vp.onCommitFiberUnmount(G2,X)}catch(B){}switch(X.tag){case 26:AP||Qp(X,p),y8(P,p,X),X.memoizedState?X.memoizedState.count--:X.stateNode&&(X=X.stateNode,X.parentNode.removeChild(X));break;case 27:AP||Qp(X,p);var H=QP,h=Fp;QP=X.stateNode,y8(P,p,X),X=X.stateNode;for(p=X.attributes;p.length;)X.removeAttributeNode(p[0]);fZ(X),QP=H,Fp=h;break;case 5:AP||Qp(X,p);case 6:h=QP;var x=Fp;if(QP=null,y8(P,p,X),QP=h,Fp=x,QP!==null)if(Fp)try{P=QP,H=X.stateNode,P.nodeType===8?P.parentNode.removeChild(H):P.removeChild(H)}catch(B){l0(X,p,B)}else try{QP.removeChild(X.stateNode)}catch(B){l0(X,p,B)}break;case 18:QP!==null&&(Fp?(p=QP,X=X.stateNode,p.nodeType===8?F$(p.parentNode,X):p.nodeType===1&&F$(p,X),S2(p)):F$(QP,X.stateNode));break;case 4:H=QP,h=Fp,QP=X.stateNode.containerInfo,Fp=!0,y8(P,p,X),QP=H,Fp=h;break;case 0:case 11:case 14:case 15:AP||PH(2,X,p),AP||PH(4,X,p),y8(P,p,X);break;case 1:AP||(Qp(X,p),H=X.stateNode,typeof H.componentWillUnmount==="function"&&uC(X,p,H)),y8(P,p,X);break;case 21:y8(P,p,X);break;case 22:AP||Qp(X,p),AP=(H=AP)||X.memoizedState!==null,y8(P,p,X),AP=H;break;default:y8(P,p,X)}}function nC(P,p){if(p.memoizedState===null&&(P=p.alternate,P!==null&&(P=P.memoizedState,P!==null&&(P=P.dehydrated,P!==null))))try{S2(P)}catch(X){l0(p,p.return,X)}}function uW(P){switch(P.tag){case 13:case 19:var p=P.stateNode;return p===null&&(p=P.stateNode=new U9),p;case 22:return P=P.stateNode,p=P._retryCache,p===null&&(p=P._retryCache=new U9),p;default:throw Error(n(435,P.tag))}}function h$(P,p){var X=uW(P);p.forEach(function(H){var h=HE.bind(null,P,H);X.has(H)||(X.add(H),H.then(h,h))})}function zp(P,p){var X=p.deletions;if(X!==null)for(var H=0;H<X.length;H++){var h=X[H],x=P,B=p,A=B;P:for(;A!==null;){switch(A.tag){case 27:case 5:QP=A.stateNode,Fp=!1;break P;case 3:QP=A.stateNode.containerInfo,Fp=!0;break P;case 4:QP=A.stateNode.containerInfo,Fp=!0;break P}A=A.return}if(QP===null)throw Error(n(160));rC(x,B,h),QP=null,Fp=!1,x=h.alternate,x!==null&&(x.return=null),h.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)sC(p,P),p=p.sibling}var rp=null;function sC(P,p){var{alternate:X,flags:H}=P;switch(P.tag){case 0:case 11:case 14:case 15:zp(p,P),Jp(P),H&4&&(PH(3,P,P.return),g2(3,P),PH(5,P,P.return));break;case 1:zp(p,P),Jp(P),H&512&&(AP||X===null||Qp(X,X.return)),H&64&&u8&&(P=P.updateQueue,P!==null&&(H=P.callbacks,H!==null&&(X=P.shared.hiddenCallbacks,P.shared.hiddenCallbacks=X===null?H:X.concat(H))));break;case 26:var h=rp;if(zp(p,P),Jp(P),H&512&&(AP||X===null||Qp(X,X.return)),H&4){var x=X!==null?X.memoizedState:null;if(H=P.memoizedState,X===null)if(H===null)if(P.stateNode===null){P:{H=P.type,X=P.memoizedProps,h=h.ownerDocument||h;p:switch(H){case"title":if(x=h.getElementsByTagName("title")[0],!x||x[j2]||x[yP]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))x=h.createElement(H),h.head.insertBefore(x,h.querySelector("head > title"));NP(x,H,X),x[yP]=P,zP(x),H=x;break P;case"link":var B=n9("link","href",h).get(H+(X.href||""));if(B){for(var A=0;A<B.length;A++)if(x=B[A],x.getAttribute("href")===(X.href==null?null:X.href)&&x.getAttribute("rel")===(X.rel==null?null:X.rel)&&x.getAttribute("title")===(X.title==null?null:X.title)&&x.getAttribute("crossorigin")===(X.crossOrigin==null?null:X.crossOrigin)){B.splice(A,1);break p}}x=h.createElement(H),NP(x,H,X),h.head.appendChild(x);break;case"meta":if(B=n9("meta","content",h).get(H+(X.content||""))){for(A=0;A<B.length;A++)if(x=B[A],x.getAttribute("content")===(X.content==null?null:""+X.content)&&x.getAttribute("name")===(X.name==null?null:X.name)&&x.getAttribute("property")===(X.property==null?null:X.property)&&x.getAttribute("http-equiv")===(X.httpEquiv==null?null:X.httpEquiv)&&x.getAttribute("charset")===(X.charSet==null?null:X.charSet)){B.splice(A,1);break p}}x=h.createElement(H),NP(x,H,X),h.head.appendChild(x);break;default:throw Error(n(468,H))}x[yP]=P,zP(x),H=x}P.stateNode=H}else s9(h,P.type,P.stateNode);else P.stateNode=r9(h,H,P.memoizedProps);else x!==H?(x===null?X.stateNode!==null&&(X=X.stateNode,X.parentNode.removeChild(X)):x.count--,H===null?s9(h,P.type,P.stateNode):r9(h,H,P.memoizedProps)):H===null&&P.stateNode!==null&&R9(P,P.memoizedProps,X.memoizedProps)}break;case 27:if(H&4&&P.alternate===null){h=P.stateNode,x=P.memoizedProps;try{for(var $=h.firstChild;$;){var{nextSibling:D,nodeName:Z}=$;$[j2]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&$.rel.toLowerCase()==="stylesheet"||h.removeChild($),$=D}for(var L=P.type,f=h.attributes;f.length;)h.removeAttributeNode(f[0]);NP(h,L,x),h[yP]=P,h[Xp]=x}catch(q){l0(P,P.return,q)}}case 5:if(zp(p,P),Jp(P),H&512&&(AP||X===null||Qp(X,X.return)),P.flags&32){h=P.stateNode;try{qh(h,"")}catch(q){l0(P,P.return,q)}}H&4&&P.stateNode!=null&&(h=P.memoizedProps,R9(P,h,X!==null?X.memoizedProps:h)),H&1024&&(H$=!0);break;case 6:if(zp(p,P),Jp(P),H&4){if(P.stateNode===null)throw Error(n(162));H=P.memoizedProps,X=P.stateNode;try{X.nodeValue=H}catch(q){l0(P,P.return,q)}}break;case 3:if(zA=null,h=rp,rp=eA(p.containerInfo),zp(p,P),rp=h,Jp(P),H&4&&X!==null&&X.memoizedState.isDehydrated)try{S2(p.containerInfo)}catch(q){l0(P,P.return,q)}H$&&(H$=!1,tC(P));break;case 4:H=rp,rp=eA(P.stateNode.containerInfo),zp(p,P),Jp(P),rp=H;break;case 12:zp(p,P),Jp(P);break;case 13:zp(p,P),Jp(P),P.child.flags&8192&&P.memoizedState!==null!==(X!==null&&X.memoizedState!==null)&&(iZ=j8()),H&4&&(H=P.updateQueue,H!==null&&(P.updateQueue=null,h$(P,H)));break;case 22:if(H&512&&(AP||X===null||Qp(X,X.return)),$=P.memoizedState!==null,D=X!==null&&X.memoizedState!==null,Z=u8,L=AP,u8=Z||$,AP=L||D,zp(p,P),AP=L,u8=Z,Jp(P),p=P.stateNode,p._current=P,p._visibility&=-3,p._visibility|=p._pendingVisibility&2,H&8192&&(p._visibility=$?p._visibility&-2:p._visibility|1,$&&(p=u8||AP,X===null||D||p||m1(P)),P.memoizedProps===null||P.memoizedProps.mode!=="manual"))P:for(X=null,p=P;;){if(p.tag===5||p.tag===26||p.tag===27){if(X===null){D=X=p;try{if(h=D.stateNode,$)x=h.style,typeof x.setProperty==="function"?x.setProperty("display","none","important"):x.display="none";else{B=D.stateNode,A=D.memoizedProps.style;var F=A!==void 0&&A!==null&&A.hasOwnProperty("display")?A.display:null;B.style.display=F==null||typeof F==="boolean"?"":(""+F).trim()}}catch(q){l0(D,D.return,q)}}}else if(p.tag===6){if(X===null){D=p;try{D.stateNode.nodeValue=$?"":D.memoizedProps}catch(q){l0(D,D.return,q)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===P)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===P)break P;for(;p.sibling===null;){if(p.return===null||p.return===P)break P;X===p&&(X=null),p=p.return}X===p&&(X=null),p.sibling.return=p.return,p=p.sibling}H&4&&(H=P.updateQueue,H!==null&&(X=H.retryQueue,X!==null&&(H.retryQueue=null,h$(P,X))));break;case 19:zp(p,P),Jp(P),H&4&&(H=P.updateQueue,H!==null&&(P.updateQueue=null,h$(P,H)));break;case 21:break;default:zp(p,P),Jp(P)}}function Jp(P){var p=P.flags;if(p&2){try{if(P.tag!==27){P:{for(var X=P.return;X!==null;){if(mC(X)){var H=X;break P}X=X.return}throw Error(n(160))}switch(H.tag){case 27:var h=H.stateNode,x=X$(P);mA(P,x,h);break;case 5:var B=H.stateNode;H.flags&32&&(qh(B,""),H.flags&=-33);var A=X$(P);mA(P,A,B);break;case 3:case 4:var $=H.stateNode.containerInfo,D=X$(P);i$(P,D,$);break;default:throw Error(n(161))}}}catch(Z){l0(P,P.return,Z)}P.flags&=-3}p&4096&&(P.flags&=-4097)}function tC(P){if(P.subtreeFlags&1024)for(P=P.child;P!==null;){var p=P;tC(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),P=P.sibling}}function g8(P,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)aC(P,p.alternate,p),p=p.sibling}function m1(P){for(P=P.child;P!==null;){var p=P;switch(p.tag){case 0:case 11:case 14:case 15:PH(4,p,p.return),m1(p);break;case 1:Qp(p,p.return);var X=p.stateNode;typeof X.componentWillUnmount==="function"&&uC(p,p.return,X),m1(p);break;case 26:case 27:case 5:Qp(p,p.return),m1(p);break;case 22:Qp(p,p.return),p.memoizedState===null&&m1(p);break;default:m1(p)}P=P.sibling}}function NX(P,p,X){X=X&&(p.subtreeFlags&8772)!==0;for(p=p.child;p!==null;){var H=p.alternate,h=P,x=p,B=x.flags;switch(x.tag){case 0:case 11:case 15:NX(h,x,X),g2(4,x);break;case 1:if(NX(h,x,X),H=x,h=H.stateNode,typeof h.componentDidMount==="function")try{h.componentDidMount()}catch(D){l0(H,H.return,D)}if(H=x,h=H.updateQueue,h!==null){var A=H.stateNode;try{var $=h.shared.hiddenCallbacks;if($!==null)for(h.shared.hiddenCallbacks=null,h=0;h<$.length;h++)yC($[h],A)}catch(D){l0(H,H.return,D)}}X&&B&64&&_C(x),yH(x,x.return);break;case 26:case 27:case 5:NX(h,x,X),X&&H===null&&B&4&&iC(x),yH(x,x.return);break;case 12:NX(h,x,X);break;case 13:NX(h,x,X),X&&B&4&&nC(h,x);break;case 22:x.memoizedState===null&&NX(h,x,X),yH(x,x.return);break;default:NX(h,x,X)}p=p.sibling}}function lZ(P,p){var X=null;P!==null&&P.memoizedState!==null&&P.memoizedState.cachePool!==null&&(X=P.memoizedState.cachePool.pool),P=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(P=p.memoizedState.cachePool.pool),P!==X&&(P!=null&&P.refCount++,X!=null&&d2(X))}function yZ(P,p){P=null,p.alternate!==null&&(P=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==P&&(p.refCount++,P!=null&&d2(P))}function GX(P,p,X,H){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)eC(P,p,X,H),p=p.sibling}function eC(P,p,X,H){var h=p.flags;switch(p.tag){case 0:case 11:case 15:GX(P,p,X,H),h&2048&&g2(9,p);break;case 3:GX(P,p,X,H),h&2048&&(P=null,p.alternate!==null&&(P=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==P&&(p.refCount++,P!=null&&d2(P)));break;case 12:if(h&2048){GX(P,p,X,H),P=p.stateNode;try{var x=p.memoizedProps,B=x.id,A=x.onPostCommit;typeof A==="function"&&A(B,p.alternate===null?"mount":"update",P.passiveEffectDuration,-0)}catch($){l0(p,p.return,$)}}else GX(P,p,X,H);break;case 23:break;case 22:x=p.stateNode,p.memoizedState!==null?x._visibility&4?GX(P,p,X,H):Q2(P,p):x._visibility&4?GX(P,p,X,H):(x._visibility|=4,a1(P,p,X,H,(p.subtreeFlags&10256)!==0)),h&2048&&lZ(p.alternate,p);break;case 24:GX(P,p,X,H),h&2048&&yZ(p.alternate,p);break;default:GX(P,p,X,H)}}function a1(P,p,X,H,h){h=h&&(p.subtreeFlags&10256)!==0;for(p=p.child;p!==null;){var x=P,B=p,A=X,$=H,D=B.flags;switch(B.tag){case 0:case 11:case 15:a1(x,B,A,$,h),g2(8,B);break;case 23:break;case 22:var Z=B.stateNode;B.memoizedState!==null?Z._visibility&4?a1(x,B,A,$,h):Q2(x,B):(Z._visibility|=4,a1(x,B,A,$,h)),h&&D&2048&&lZ(B.alternate,B);break;case 24:a1(x,B,A,$,h),h&&D&2048&&yZ(B.alternate,B);break;default:a1(x,B,A,$,h)}p=p.sibling}}function Q2(P,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var X=P,H=p,h=H.flags;switch(H.tag){case 22:Q2(X,H),h&2048&&lZ(H.alternate,H);break;case 24:Q2(X,H),h&2048&&yZ(H.alternate,H);break;default:Q2(X,H)}p=p.sibling}}var p2=8192;function u1(P){if(P.subtreeFlags&p2)for(P=P.child;P!==null;)PQ(P),P=P.sibling}function PQ(P){switch(P.tag){case 26:u1(P),P.flags&p2&&P.memoizedState!==null&&KE(rp,P.memoizedState,P.memoizedProps);break;case 5:u1(P);break;case 3:case 4:var p=rp;rp=eA(P.stateNode.containerInfo),u1(P),rp=p;break;case 22:P.memoizedState===null&&(p=P.alternate,p!==null&&p.memoizedState!==null?(p=p2,p2=16777216,u1(P),p2=p):u1(P));break;default:u1(P)}}function pQ(P){var p=P.alternate;if(p!==null&&(P=p.child,P!==null)){p.child=null;do p=P.sibling,P.sibling=null,P=p;while(P!==null)}}function mx(P){var p=P.deletions;if((P.flags&16)!==0){if(p!==null)for(var X=0;X<p.length;X++){var H=p[X];wP=H,HQ(H,P)}pQ(P)}if(P.subtreeFlags&10256)for(P=P.child;P!==null;)XQ(P),P=P.sibling}function XQ(P){switch(P.tag){case 0:case 11:case 15:mx(P),P.flags&2048&&PH(9,P,P.return);break;case 3:mx(P);break;case 12:mx(P);break;case 22:var p=P.stateNode;P.memoizedState!==null&&p._visibility&4&&(P.return===null||P.return.tag!==13)?(p._visibility&=-5,WA(P)):mx(P);break;default:mx(P)}}function WA(P){var p=P.deletions;if((P.flags&16)!==0){if(p!==null)for(var X=0;X<p.length;X++){var H=p[X];wP=H,HQ(H,P)}pQ(P)}for(P=P.child;P!==null;){switch(p=P,p.tag){case 0:case 11:case 15:PH(8,p,p.return),WA(p);break;case 22:X=p.stateNode,X._visibility&4&&(X._visibility&=-5,WA(p));break;default:WA(p)}P=P.sibling}}function HQ(P,p){for(;wP!==null;){var X=wP;switch(X.tag){case 0:case 11:case 15:PH(8,X,p);break;case 23:case 22:if(X.memoizedState!==null&&X.memoizedState.cachePool!==null){var H=X.memoizedState.cachePool.pool;H!=null&&H.refCount++}break;case 24:d2(X.memoizedState.cache)}if(H=X.child,H!==null)H.return=X,wP=H;else P:for(X=P;wP!==null;){H=wP;var{sibling:h,return:x}=H;if(oC(H),H===X){wP=null;break P}if(h!==null){h.return=x,wP=h;break P}wP=x}}}function iW(P,p,X,H){this.tag=P,this.key=X,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=H,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vp(P,p,X,H){return new iW(P,p,X,H)}function gZ(P){return P=P.prototype,!(!P||!P.isReactComponent)}function aX(P,p){var X=P.alternate;return X===null?(X=vp(P.tag,p,P.key,P.mode),X.elementType=P.elementType,X.type=P.type,X.stateNode=P.stateNode,X.alternate=P,P.alternate=X):(X.pendingProps=p,X.type=P.type,X.flags=0,X.subtreeFlags=0,X.deletions=null),X.flags=P.flags&31457280,X.childLanes=P.childLanes,X.lanes=P.lanes,X.child=P.child,X.memoizedProps=P.memoizedProps,X.memoizedState=P.memoizedState,X.updateQueue=P.updateQueue,p=P.dependencies,X.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},X.sibling=P.sibling,X.index=P.index,X.ref=P.ref,X.refCleanup=P.refCleanup,X}function hQ(P,p){P.flags&=31457282;var X=P.alternate;return X===null?(P.childLanes=0,P.lanes=p,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=X.childLanes,P.lanes=X.lanes,P.child=X.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=X.memoizedProps,P.memoizedState=X.memoizedState,P.updateQueue=X.updateQueue,P.type=X.type,p=X.dependencies,P.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),P}function EA(P,p,X,H,h,x){var B=0;if(H=P,typeof P==="function")gZ(P)&&(B=1);else if(typeof P==="string")B=zE(P,X,b8.current)?26:P==="html"||P==="head"||P==="body"?27:5;else P:switch(P){case n1:return iH(X.children,h,x,p);case xF:B=8,h|=24;break;case C$:return P=vp(12,X,p,h|2),P.elementType=C$,P.lanes=x,P;case Q$:return P=vp(13,X,p,h),P.elementType=Q$,P.lanes=x,P;case V$:return P=vp(19,X,p,h),P.elementType=V$,P.lanes=x,P;case AF:return xQ(X,h,x,p);default:if(typeof P==="object"&&P!==null)switch(P.$$typeof){case VM:case a8:B=10;break P;case BF:B=9;break P;case $Z:B=11;break P;case ZZ:B=14;break P;case vX:B=16,H=null;break P}B=29,X=Error(n(130,P===null?"null":typeof P,"")),H=null}return p=vp(B,X,p,h),p.elementType=P,p.type=H,p.lanes=x,p}function iH(P,p,X,H){return P=vp(7,P,H,p),P.lanes=X,P}function xQ(P,p,X,H){P=vp(22,P,H,p),P.elementType=AF,P.lanes=X;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var x=h._current;if(x===null)throw Error(n(456));if((h._pendingVisibility&2)===0){var B=tX(x,2);B!==null&&(h._pendingVisibility|=2,aP(B,x,2))}},attach:function(){var x=h._current;if(x===null)throw Error(n(456));if((h._pendingVisibility&2)!==0){var B=tX(x,2);B!==null&&(h._pendingVisibility&=-3,aP(B,x,2))}}};return P.stateNode=h,P}function x$(P,p,X){return P=vp(6,P,null,p),P.lanes=X,P}function B$(P,p,X){return p=vp(4,P.children!==null?P.children:[],P.key,p),p.lanes=X,p.stateNode={containerInfo:P.containerInfo,pendingChildren:null,implementation:P.implementation},p}function _8(P){P.flags|=4}function G9(P,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)P.flags&=-16777217;else if(P.flags|=16777216,!EQ(p)){if(p=Op.current,p!==null&&((K0&4194176)===K0?k8!==null:(K0&62914560)!==K0&&(K0&536870912)===0||p!==k8))throw D2=J$,iF;P.flags|=8192}}function fA(P,p){p!==null&&(P.flags|=4),P.flags&16384&&(p=P.tag!==22?CF():536870912,P.lanes|=p,kh|=p)}function ax(P,p){if(!U0)switch(P.tailMode){case"hidden":p=P.tail;for(var X=null;p!==null;)p.alternate!==null&&(X=p),p=p.sibling;X===null?P.tail=null:X.sibling=null;break;case"collapsed":X=P.tail;for(var H=null;X!==null;)X.alternate!==null&&(H=X),X=X.sibling;H===null?p||P.tail===null?P.tail=null:P.tail.sibling=null:H.sibling=null}}function PP(P){var p=P.alternate!==null&&P.alternate.child===P.child,X=0,H=0;if(p)for(var h=P.child;h!==null;)X|=h.lanes|h.childLanes,H|=h.subtreeFlags&31457280,H|=h.flags&31457280,h.return=P,h=h.sibling;else for(h=P.child;h!==null;)X|=h.lanes|h.childLanes,H|=h.subtreeFlags,H|=h.flags,h.return=P,h=h.sibling;return P.subtreeFlags|=H,P.childLanes=X,p}function mW(P,p,X){var H=p.pendingProps;switch(IZ(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return PP(p),null;case 1:return PP(p),null;case 3:if(X=p.stateNode,H=null,P!==null&&(H=P.memoizedState.cache),p.memoizedState.cache!==H&&(p.flags|=2048),t8(kP),Qh(),X.pendingContext&&(X.context=X.pendingContext,X.pendingContext=null),P===null||P.child===null)ux(p)?_8(p):P===null||P.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,np!==null&&(n$(np),np=null));return PP(p),null;case 26:return X=p.memoizedState,P===null?(_8(p),X!==null?(PP(p),G9(p,X)):(PP(p),p.flags&=-16777217)):X?X!==P.memoizedState?(_8(p),PP(p),G9(p,X)):(PP(p),p.flags&=-16777217):(P.memoizedProps!==H&&_8(p),PP(p),p.flags&=-16777217),null;case 27:UA(p),X=uX.current;var h=p.type;if(P!==null&&p.stateNode!=null)P.memoizedProps!==H&&_8(p);else{if(!H){if(p.stateNode===null)throw Error(n(166));return PP(p),null}P=b8.current,ux(p)?Z9(p,P):(P=TQ(h,H,X),p.stateNode=P,_8(p))}return PP(p),null;case 5:if(UA(p),X=p.type,P!==null&&p.stateNode!=null)P.memoizedProps!==H&&_8(p);else{if(!H){if(p.stateNode===null)throw Error(n(166));return PP(p),null}if(P=b8.current,ux(p))Z9(p,P);else{switch(h=tA(uX.current),P){case 1:P=h.createElementNS("http://www.w3.org/2000/svg",X);break;case 2:P=h.createElementNS("http://www.w3.org/1998/Math/MathML",X);break;default:switch(X){case"svg":P=h.createElementNS("http://www.w3.org/2000/svg",X);break;case"math":P=h.createElementNS("http://www.w3.org/1998/Math/MathML",X);break;case"script":P=h.createElement("div"),P.innerHTML="<script></script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof H.is==="string"?h.createElement("select",{is:H.is}):h.createElement("select"),H.multiple?P.multiple=!0:H.size&&(P.size=H.size);break;default:P=typeof H.is==="string"?h.createElement(X,{is:H.is}):h.createElement(X)}}P[yP]=p,P[Xp]=H;P:for(h=p.child;h!==null;){if(h.tag===5||h.tag===6)P.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break P;for(;h.sibling===null;){if(h.return===null||h.return===p)break P;h=h.return}h.sibling.return=h.return,h=h.sibling}p.stateNode=P;P:switch(NP(P,X,H),X){case"button":case"input":case"select":case"textarea":P=!!H.autoFocus;break P;case"img":P=!0;break P;default:P=!1}P&&_8(p)}}return PP(p),p.flags&=-16777217,null;case 6:if(P&&p.stateNode!=null)P.memoizedProps!==H&&_8(p);else{if(typeof H!=="string"&&p.stateNode===null)throw Error(n(166));if(P=uX.current,ux(p)){if(P=p.stateNode,X=p.memoizedProps,H=null,h=mP,h!==null)switch(h.tag){case 27:case 5:H=h.memoizedProps}P[yP]=p,P=P.nodeValue===X||H!==null&&H.suppressHydrationWarning===!0||jQ(P.nodeValue,X)?!0:!1,P||oH(p)}else P=tA(P).createTextNode(H),P[yP]=p,p.stateNode=P}return PP(p),null;case 13:if(H=p.memoizedState,P===null||P.memoizedState!==null&&P.memoizedState.dehydrated!==null){if(h=ux(p),H!==null&&H.dehydrated!==null){if(P===null){if(!h)throw Error(n(318));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[yP]=p}else O2(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;PP(p),h=!1}else np!==null&&(n$(np),np=null),h=!0;if(!h){if(p.flags&256)return n8(p),p;return n8(p),null}}if(n8(p),(p.flags&128)!==0)return p.lanes=X,p;if(X=H!==null,P=P!==null&&P.memoizedState!==null,X){H=p.child,h=null,H.alternate!==null&&H.alternate.memoizedState!==null&&H.alternate.memoizedState.cachePool!==null&&(h=H.alternate.memoizedState.cachePool.pool);var x=null;H.memoizedState!==null&&H.memoizedState.cachePool!==null&&(x=H.memoizedState.cachePool.pool),x!==h&&(H.flags|=2048)}return X!==P&&X&&(p.child.flags|=8192),fA(p,p.updateQueue),PP(p),null;case 4:return Qh(),P===null&&oZ(p.stateNode.containerInfo),PP(p),null;case 10:return t8(p.type),PP(p),null;case 19:if(KP(IP),h=p.memoizedState,h===null)return PP(p),null;if(H=(p.flags&128)!==0,x=h.rendering,x===null)if(H)ax(h,!1);else{if(DP!==0||P!==null&&(P.flags&128)!==0)for(P=p.child;P!==null;){if(x=lA(P),x!==null){p.flags|=128,ax(h,!1),P=x.updateQueue,p.updateQueue=P,fA(p,P),p.subtreeFlags=0,P=X;for(X=p.child;X!==null;)hQ(X,P),X=X.sibling;return r0(IP,IP.current&1|2),p.child}P=P.sibling}h.tail!==null&&j8()>aA&&(p.flags|=128,H=!0,ax(h,!1),p.lanes=4194304)}else{if(!H)if(P=lA(x),P!==null){if(p.flags|=128,H=!0,P=P.updateQueue,p.updateQueue=P,fA(p,P),ax(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!U0)return PP(p),null}else 2*j8()-h.renderingStartTime>aA&&X!==536870912&&(p.flags|=128,H=!0,ax(h,!1),p.lanes=4194304);h.isBackwards?(x.sibling=p.child,p.child=x):(P=h.last,P!==null?P.sibling=x:p.child=x,h.last=x)}if(h.tail!==null)return p=h.tail,h.rendering=p,h.tail=p.sibling,h.renderingStartTime=j8(),p.sibling=null,P=IP.current,r0(IP,H?P&1|2:P&1),p;return PP(p),null;case 22:case 23:return n8(p),TZ(),H=p.memoizedState!==null,P!==null?P.memoizedState!==null!==H&&(p.flags|=8192):H&&(p.flags|=8192),H?(X&536870912)!==0&&(p.flags&128)===0&&(PP(p),p.subtreeFlags&6&&(p.flags|=8192)):PP(p),X=p.updateQueue,X!==null&&fA(p,X.retryQueue),X=null,P!==null&&P.memoizedState!==null&&P.memoizedState.cachePool!==null&&(X=P.memoizedState.cachePool.pool),H=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(H=p.memoizedState.cachePool.pool),H!==X&&(p.flags|=2048),P!==null&&KP(uH),null;case 24:return X=null,P!==null&&(X=P.memoizedState.cache),p.memoizedState.cache!==X&&(p.flags|=2048),t8(kP),PP(p),null;case 25:return null}throw Error(n(156,p.tag))}function aW(P,p){switch(IZ(p),p.tag){case 1:return P=p.flags,P&65536?(p.flags=P&-65537|128,p):null;case 3:return t8(kP),Qh(),P=p.flags,(P&65536)!==0&&(P&128)===0?(p.flags=P&-65537|128,p):null;case 26:case 27:case 5:return UA(p),null;case 13:if(n8(p),P=p.memoizedState,P!==null&&P.dehydrated!==null){if(p.alternate===null)throw Error(n(340));O2()}return P=p.flags,P&65536?(p.flags=P&-65537|128,p):null;case 19:return KP(IP),null;case 4:return Qh(),null;case 10:return t8(p.type),null;case 22:case 23:return n8(p),TZ(),P!==null&&KP(uH),P=p.flags,P&65536?(p.flags=P&-65537|128,p):null;case 24:return t8(kP),null;case 25:return null;default:return null}}function BQ(P,p){switch(IZ(p),p.tag){case 3:t8(kP),Qh();break;case 26:case 27:case 5:UA(p);break;case 4:Qh();break;case 13:n8(p);break;case 19:KP(IP);break;case 10:t8(p.type);break;case 22:case 23:n8(p),TZ(),P!==null&&KP(uH);break;case 24:t8(kP)}}var oW={getCacheForType:function(P){var p=gP(kP),X=p.data.get(P);return X===void 0&&(X=P(),p.data.set(P,X)),X}},rW=typeof WeakMap==="function"?WeakMap:Map,pP=0,_0=null,w0=null,K0=0,g0=0,Cp=null,i8=!1,wh=!1,_Z=!1,XX=0,DP=0,pH=0,mH=0,uZ=0,cp=0,kh=0,V2=null,Y8=null,m$=!1,iZ=0,aA=1/0,oA=null,oX=null,FA=!1,dH=null,q2=0,a$=0,o$=null,Y2=0,r$=null;function Yp(){if((pP&2)!==0&&K0!==0)return K0&-K0;if(I0.T!==null){var P=bh;return P!==0?P:aZ()}return YF()}function AQ(){cp===0&&(cp=(K0&536870912)===0||U0?FF():536870912);var P=Op.current;return P!==null&&(P.flags|=32),cp}function aP(P,p,X){if(P===_0&&g0===2||P.cancelPendingCommit!==null)Ih(P,0),m8(P,K0,cp,!1);if(v2(P,X),(pP&2)===0||P!==_0)P===_0&&((pP&2)===0&&(mH|=X),DP===4&&m8(P,K0,cp,!1)),M8(P)}function DQ(P,p,X){if((pP&6)!==0)throw Error(n(327));var H=!X&&(p&60)===0&&(p&P.expiredLanes)===0||N2(P,p),h=H?tW(P,p):A$(P,p,!0),x=H;do{if(h===0){wh&&!H&&m8(P,p,0,!1);break}else if(h===6)m8(P,p,0,!i8);else{if(X=P.current.alternate,x&&!nW(X)){h=A$(P,p,!1),x=!1;continue}if(h===2){if(x=p,P.errorRecoveryDisabledLanes&x)var B=0;else B=P.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){p=B;P:{var A=P;h=V2;var $=A.current.memoizedState.isDehydrated;if($&&(Ih(A,B).flags|=256),B=A$(A,B,!1),B!==2){if(_Z&&!$){A.errorRecoveryDisabledLanes|=x,mH|=x,h=4;break P}x=Y8,Y8=h,x!==null&&n$(x)}h=B}if(x=!1,h!==2)continue}}if(h===1){Ih(P,0),m8(P,p,0,!0);break}P:{switch(H=P,h){case 0:case 1:throw Error(n(345));case 4:if((p&4194176)===p){m8(H,p,cp,!i8);break P}break;case 2:Y8=null;break;case 3:case 5:break;default:throw Error(n(329))}if(H.finishedWork=X,H.finishedLanes=p,(p&62914560)===p&&(x=iZ+300-j8(),10<x)){if(m8(H,p,cp,!i8),xD(H,0)!==0)break P;H.timeoutHandle=IQ(N9.bind(null,H,X,Y8,oA,m$,p,cp,mH,kh,i8,2,-0,0),x);break P}N9(H,X,Y8,oA,m$,p,cp,mH,kh,i8,0,-0,0)}}break}while(1);M8(P)}function n$(P){Y8===null?Y8=P:Y8.push.apply(Y8,P)}function N9(P,p,X,H,h,x,B,A,$,D,Z,L,f){var F=p.subtreeFlags;if(F&8192||(F&16785408)===16785408){if(J2={stylesheets:null,count:0,unsuspend:JE},PQ(p),p=RE(),p!==null){P.cancelPendingCommit=p(c9.bind(null,P,X,H,h,B,A,$,1,L,f)),m8(P,x,B,!D);return}}c9(P,X,H,h,B,A,$,Z,L,f)}function nW(P){for(var p=P;;){var X=p.tag;if((X===0||X===11||X===15)&&p.flags&16384&&(X=p.updateQueue,X!==null&&(X=X.stores,X!==null)))for(var H=0;H<X.length;H++){var h=X[H],x=h.getSnapshot;h=h.value;try{if(!bp(x(),h))return!1}catch(B){return!1}}if(X=p.child,p.subtreeFlags&16384&&X!==null)X.return=p,p=X;else{if(p===P)break;for(;p.sibling===null;){if(p.return===null||p.return===P)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function m8(P,p,X,H){p&=~uZ,p&=~mH,P.suspendedLanes|=p,P.pingedLanes&=~p,H&&(P.warmLanes|=p),H=P.expirationTimes;for(var h=p;0<h;){var x=31-qp(h),B=1<<x;H[x]=-1,h&=~B}X!==0&&QF(P,X,p)}function QD(){return(pP&6)===0?(_2(0,!1),!1):!0}function mZ(){if(w0!==null){if(g0===0)var P=w0.return;else P=w0,s8=h1=null,KZ(P),Zh=null,W2=0,P=w0;for(;P!==null;)BQ(P.alternate,P),P=P.return;w0=null}}function Ih(P,p){P.finishedWork=null,P.finishedLanes=0;var X=P.timeoutHandle;X!==-1&&(P.timeoutHandle=-1,FE(X)),X=P.cancelPendingCommit,X!==null&&(P.cancelPendingCommit=null,X()),mZ(),_0=P,w0=X=aX(P.current,null),K0=p,g0=0,Cp=null,i8=!1,wh=N2(P,p),_Z=!1,kh=cp=uZ=mH=pH=DP=0,Y8=V2=null,m$=!1,(p&8)!==0&&(p|=p&32);var H=P.entangledLanes;if(H!==0)for(P=P.entanglements,H&=p;0<H;){var h=31-qp(H),x=1<<h;p|=P[h],H&=~x}return XX=p,$D(),X}function $Q(P,p){W0=null,I0.H=I8,p===A2?(p=F9(),g0=3):p===iF?(p=F9(),g0=4):g0=p===GC?8:p!==null&&typeof p==="object"&&typeof p.then==="function"?6:1,Cp=p,w0===null&&(DP=1,uA(P,Np(p,P.current)))}function ZQ(){var P=I0.H;return I0.H=I8,P===null?I8:P}function LQ(){var P=I0.A;return I0.A=oW,P}function s$(){DP=4,i8||(K0&4194176)!==K0&&Op.current!==null||(wh=!0),(pH&134217727)===0&&(mH&134217727)===0||_0===null||m8(_0,K0,cp,!1)}function A$(P,p,X){var H=pP;pP|=2;var h=ZQ(),x=LQ();if(_0!==P||K0!==p)oA=null,Ih(P,p);p=!1;var B=DP;P:do try{if(g0!==0&&w0!==null){var A=w0,$=Cp;switch(g0){case 8:mZ(),B=6;break P;case 3:case 2:case 6:Op.current===null&&(p=!0);var D=g0;if(g0=0,Cp=null,Bh(P,A,$,D),X&&wh){B=0;break P}break;default:D=g0,g0=0,Cp=null,Bh(P,A,$,D)}}sW(),B=DP;break}catch(Z){$Q(P,Z)}while(1);return p&&P.shellSuspendCounter++,s8=h1=null,pP=H,I0.H=h,I0.A=x,w0===null&&(_0=null,K0=0,$D()),B}function sW(){for(;w0!==null;)fQ(w0)}function tW(P,p){var X=pP;pP|=2;var H=ZQ(),h=LQ();_0!==P||K0!==p?(oA=null,aA=j8()+500,Ih(P,p)):wh=N2(P,p);P:do try{if(g0!==0&&w0!==null){p=w0;var x=Cp;p:switch(g0){case 1:g0=0,Cp=null,Bh(P,p,x,1);break;case 2:if(f9(x)){g0=0,Cp=null,v9(p);break}p=function(){g0===2&&_0===P&&(g0=7),M8(P)},x.then(p,p);break P;case 3:g0=7;break P;case 4:g0=5;break P;case 7:f9(x)?(g0=0,Cp=null,v9(p)):(g0=0,Cp=null,Bh(P,p,x,7));break;case 5:var B=null;switch(w0.tag){case 26:B=w0.memoizedState;case 5:case 27:var A=w0;if(B?EQ(B):1){g0=0,Cp=null;var $=A.sibling;if($!==null)w0=$;else{var D=A.return;D!==null?(w0=D,VD(D)):w0=null}break p}}g0=0,Cp=null,Bh(P,p,x,5);break;case 6:g0=0,Cp=null,Bh(P,p,x,6);break;case 8:mZ(),DP=6;break P;default:throw Error(n(462))}}eW();break}catch(Z){$Q(P,Z)}while(1);if(s8=h1=null,I0.H=H,I0.A=h,pP=X,w0!==null)return 0;return _0=null,K0=0,$D(),DP}function eW(){for(;w0!==null&&!kM();)fQ(w0)}function fQ(P){var p=dC(P.alternate,P,XX);P.memoizedProps=P.pendingProps,p===null?VD(P):w0=p}function v9(P){var p=P,X=p.alternate;switch(p.tag){case 15:case 0:p=w9(X,p,p.pendingProps,p.type,void 0,K0);break;case 11:p=w9(X,p,p.pendingProps,p.type.render,p.ref,K0);break;case 5:KZ(p);default:BQ(X,p),p=w0=hQ(p,XX),p=dC(X,p,XX)}P.memoizedProps=P.pendingProps,p===null?VD(P):w0=p}function Bh(P,p,X,H){s8=h1=null,KZ(p),Zh=null,W2=0;var h=p.return;try{if(yW(P,h,p,X,K0)){DP=1,uA(P,Np(X,P.current)),w0=null;return}}catch(x){if(h!==null)throw w0=h,x;DP=1,uA(P,Np(X,P.current)),w0=null;return}if(p.flags&32768){if(U0||H===1)P=!0;else if(wh||(K0&536870912)!==0)P=!1;else if(i8=P=!0,H===2||H===3||H===6)H=Op.current,H!==null&&H.tag===13&&(H.flags|=16384);FQ(p,P)}else VD(p)}function VD(P){var p=P;do{if((p.flags&32768)!==0){FQ(p,i8);return}P=p.return;var X=mW(p.alternate,p,XX);if(X!==null){w0=X;return}if(p=p.sibling,p!==null){w0=p;return}w0=p=P}while(p!==null);DP===0&&(DP=5)}function FQ(P,p){do{var X=aW(P.alternate,P);if(X!==null){X.flags&=32767,w0=X;return}if(X=P.return,X!==null&&(X.flags|=32768,X.subtreeFlags=0,X.deletions=null),!p&&(P=P.sibling,P!==null)){w0=P;return}w0=P=X}while(P!==null);DP=6,w0=null}function c9(P,p,X,H,h,x,B,A,$,D){var Z=I0.T,L=m0.p;try{m0.p=2,I0.T=null,PE(P,p,X,H,L,h,x,B,A,$,D)}finally{I0.T=Z,m0.p=L}}function PE(P,p,X,H,h,x,B,A){do Ch();while(dH!==null);if((pP&6)!==0)throw Error(n(327));var $=P.finishedWork;if(H=P.finishedLanes,$===null)return null;if(P.finishedWork=null,P.finishedLanes=0,$===P.current)throw Error(n(177));P.callbackNode=null,P.callbackPriority=0,P.cancelPendingCommit=null;var D=$.lanes|$.childLanes;if(D|=bZ,UM(P,H,D,x,B,A),P===_0&&(w0=_0=null,K0=0),($.subtreeFlags&10256)===0&&($.flags&10256)===0||FA||(FA=!0,a$=D,o$=X,hE(SA,function(){return Ch(!0),null})),X=($.flags&15990)!==0,($.subtreeFlags&15990)!==0||X?(X=I0.T,I0.T=null,x=m0.p,m0.p=2,B=pP,pP|=4,_W(P,$),sC($,P),MW(HZ,P.containerInfo),XD=!!XZ,HZ=XZ=null,P.current=$,aC(P,$.alternate,$),IM(),pP=B,m0.p=x,I0.T=X):P.current=$,FA?(FA=!1,dH=P,q2=H):CQ(P,D),D=P.pendingLanes,D===0&&(oX=null),wM($.stateNode,h),M8(P),p!==null)for(h=P.onRecoverableError,$=0;$<p.length;$++)D=p[$],h(D.value,{componentStack:D.stack});return(q2&3)!==0&&Ch(),D=P.pendingLanes,(H&4194218)!==0&&(D&42)!==0?P===r$?Y2++:(Y2=0,r$=P):Y2=0,_2(0,!1),null}function CQ(P,p){(P.pooledCacheLanes&=p)===0&&(p=P.pooledCache,p!=null&&(P.pooledCache=null,d2(p)))}function Ch(){if(dH!==null){var P=dH,p=a$;a$=0;var X=qF(q2),H=I0.T,h=m0.p;try{if(m0.p=32>X?32:X,I0.T=null,dH===null)var x=!1;else{X=o$,o$=null;var B=dH,A=q2;if(dH=null,q2=0,(pP&6)!==0)throw Error(n(331));var $=pP;if(pP|=4,XQ(B.current),eC(B,B.current,A,X),pP=$,_2(0,!1),Vp&&typeof Vp.onPostCommitFiberRoot==="function")try{Vp.onPostCommitFiberRoot(G2,B)}catch(D){}x=!0}return x}finally{m0.p=h,I0.T=H,CQ(P,p)}}return!1}function O9(P,p,X){p=Np(X,p),p=v$(P.stateNode,p,2),P=mX(P,p,2),P!==null&&(v2(P,2),M8(P))}function l0(P,p,X){if(P.tag===3)O9(P,P,X);else for(;p!==null;){if(p.tag===3){O9(p,P,X);break}else if(p.tag===1){var H=p.stateNode;if(typeof p.type.getDerivedStateFromError==="function"||typeof H.componentDidCatch==="function"&&(oX===null||!oX.has(H))){P=Np(X,P),X=UC(2),H=mX(p,X,2),H!==null&&(SC(X,H,p,P),v2(H,2),M8(H));break}}p=p.return}}function D$(P,p,X){var H=P.pingCache;if(H===null){H=P.pingCache=new rW;var h=new Set;H.set(p,h)}else h=H.get(p),h===void 0&&(h=new Set,H.set(p,h));h.has(X)||(_Z=!0,h.add(X),P=pE.bind(null,P,p,X),p.then(P,P))}function pE(P,p,X){var H=P.pingCache;H!==null&&H.delete(p),P.pingedLanes|=P.suspendedLanes&X,P.warmLanes&=~X,_0===P&&(K0&X)===X&&(DP===4||DP===3&&(K0&62914560)===K0&&300>j8()-iZ?(pP&2)===0&&Ih(P,0):uZ|=X,kh===K0&&(kh=0)),M8(P)}function QQ(P,p){p===0&&(p=CF()),P=tX(P,p),P!==null&&(v2(P,p),M8(P))}function XE(P){var p=P.memoizedState,X=0;p!==null&&(X=p.retryLane),QQ(P,X)}function HE(P,p){var X=0;switch(P.tag){case 13:var{stateNode:H,memoizedState:h}=P;h!==null&&(X=h.retryLane);break;case 19:H=P.stateNode;break;case 22:H=P.stateNode._retryCache;break;default:throw Error(n(314))}H!==null&&H.delete(p),QQ(P,X)}function hE(P,p){return LZ(P,p)}var rA=null,o1=null,t$=!1,nA=!1,$$=!1,aH=0;function M8(P){P!==o1&&P.next===null&&(o1===null?rA=o1=P:o1=o1.next=P),nA=!0,t$||(t$=!0,BE(xE))}function _2(P,p){if(!$$&&nA){$$=!0;do{var X=!1;for(var H=rA;H!==null;){if(!p)if(P!==0){var h=H.pendingLanes;if(h===0)var x=0;else{var{suspendedLanes:B,pingedLanes:A}=H;x=(1<<31-qp(42|P)+1)-1,x&=h&~(B&~A),x=x&201326677?x&201326677|1:x?x|2:0}x!==0&&(X=!0,d9(H,x))}else x=K0,x=xD(H,H===_0?x:0),(x&3)===0||N2(H,x)||(X=!0,d9(H,x));H=H.next}}while(X);$$=!1}}function xE(){nA=t$=!1;var P=0;aH!==0&&(fE()&&(P=aH),aH=0);for(var p=j8(),X=null,H=rA;H!==null;){var h=H.next,x=VQ(H,p);if(x===0)H.next=null,X===null?rA=h:X.next=h,h===null&&(o1=X);else if(X=H,P!==0||(x&3)!==0)nA=!0;H=h}_2(P,!1)}function VQ(P,p){for(var{suspendedLanes:X,pingedLanes:H,expirationTimes:h}=P,x=P.pendingLanes&-62914561;0<x;){var B=31-qp(x),A=1<<B,$=h[B];if($===-1){if((A&X)===0||(A&H)!==0)h[B]=RM(A,p)}else $<=p&&(P.expiredLanes|=A);x&=~A}if(p=_0,X=K0,X=xD(P,P===p?X:0),H=P.callbackNode,X===0||P===p&&g0===2||P.cancelPendingCommit!==null)return H!==null&&H!==null&&y6(H),P.callbackNode=null,P.callbackPriority=0;if((X&3)===0||N2(P,X)){if(p=X&-X,p===P.callbackPriority)return p;switch(H!==null&&y6(H),qF(X)){case 2:case 8:X=LF;break;case 32:X=SA;break;case 268435456:X=fF;break;default:X=SA}return H=qQ.bind(null,P),X=LZ(X,H),P.callbackPriority=p,P.callbackNode=X,p}return H!==null&&H!==null&&y6(H),P.callbackPriority=2,P.callbackNode=null,2}function qQ(P,p){var X=P.callbackNode;if(Ch()&&P.callbackNode!==X)return null;var H=K0;if(H=xD(P,P===_0?H:0),H===0)return null;return DQ(P,H,p),VQ(P,j8()),P.callbackNode!=null&&P.callbackNode===X?qQ.bind(null,P):null}function d9(P,p){if(Ch())return null;DQ(P,p,!0)}function BE(P){CE(function(){(pP&6)!==0?LZ(ZF,P):P()})}function aZ(){return aH===0&&(aH=FF()),aH}function l9(P){return P==null||typeof P==="symbol"||typeof P==="boolean"?null:typeof P==="function"?P:YA(""+P)}function y9(P,p){var X=p.ownerDocument.createElement("input");return X.name=p.name,X.value=p.value,P.id&&X.setAttribute("form",P.id),p.parentNode.insertBefore(X,p),P=new FormData(P),X.parentNode.removeChild(X),P}function AE(P,p,X,H,h){if(p==="submit"&&X&&X.stateNode===h){var x=l9((h[Xp]||null).action),B=H.submitter;B&&(p=(p=B[Xp]||null)?l9(p.formAction):B.getAttribute("formAction"),p!==null&&(x=p,B=null));var A=new BD("action","action",null,H,h);P.push({event:A,listeners:[{instance:null,listener:function(){if(H.defaultPrevented){if(aH!==0){var $=B?y9(h,B):new FormData(h);G$(X,{pending:!0,data:$,method:h.method,action:x},null,$)}}else typeof x==="function"&&(A.preventDefault(),$=B?y9(h,B):new FormData(h),G$(X,{pending:!0,data:$,method:h.method,action:x},x,$))},currentTarget:h}]})}}for(X2=0;X2<D9.length;X2++)H2=D9[X2],e$=H2.toLowerCase(),PZ=H2[0].toUpperCase()+H2.slice(1),tp(e$,"on"+PZ);var H2,e$,PZ,X2;tp(OF,"onAnimationEnd");tp(dF,"onAnimationIteration");tp(lF,"onAnimationStart");tp("dblclick","onDoubleClick");tp("focusin","onFocus");tp("focusout","onBlur");tp(EW,"onTransitionRun");tp(wW,"onTransitionStart");tp(zW,"onTransitionCancel");tp(yF,"onTransitionEnd");Vh("onMouseEnter",["mouseout","mouseover"]);Vh("onMouseLeave",["mouseout","mouseover"]);Vh("onPointerEnter",["pointerout","pointerover"]);Vh("onPointerLeave",["pointerout","pointerover"]);eH("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eH("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eH("onBeforeInput",["compositionend","keypress","textInput","paste"]);eH("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eH("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eH("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var w2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(w2));function YQ(P,p){p=(p&4)!==0;for(var X=0;X<P.length;X++){var H=P[X],h=H.event;H=H.listeners;P:{var x=void 0;if(p)for(var B=H.length-1;0<=B;B--){var A=H[B],$=A.instance,D=A.currentTarget;if(A=A.listener,$!==x&&h.isPropagationStopped())break P;x=A,h.currentTarget=D;try{x(h)}catch(Z){_A(Z)}h.currentTarget=null,x=$}else for(B=0;B<H.length;B++){if(A=H[B],$=A.instance,D=A.currentTarget,A=A.listener,$!==x&&h.isPropagationStopped())break P;x=A,h.currentTarget=D;try{x(h)}catch(Z){_A(Z)}h.currentTarget=null,x=$}}}}function z0(P,p){var X=p[k$];X===void 0&&(X=p[k$]=new Set);var H=P+"__bubble";X.has(H)||(bQ(p,P,2,!1),X.add(H))}function Z$(P,p,X){var H=0;p&&(H|=4),bQ(X,P,H,p)}var CA="_reactListening"+Math.random().toString(36).slice(2);function oZ(P){if(!P[CA]){P[CA]=!0,bF.forEach(function(X){X!=="selectionchange"&&(DE.has(X)||Z$(X,!1,P),Z$(X,!0,P))});var p=P.nodeType===9?P:P.ownerDocument;p===null||p[CA]||(p[CA]=!0,Z$("selectionchange",!1,p))}}function bQ(P,p,X,H){switch(RQ(p)){case 2:var h=GE;break;case 8:h=NE;break;default:h=tZ}X=h.bind(null,p,X,P),h=void 0,!W$||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(h=!0),H?h!==void 0?P.addEventListener(p,X,{capture:!0,passive:h}):P.addEventListener(p,X,!0):h!==void 0?P.addEventListener(p,X,{passive:h}):P.addEventListener(p,X,!1)}function L$(P,p,X,H,h){var x=H;if((p&1)===0&&(p&2)===0&&H!==null)P:for(;;){if(H===null)return;var B=H.tag;if(B===3||B===4){var A=H.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(B===4)for(B=H.return;B!==null;){var $=B.tag;if($===3||$===4){if($=B.stateNode.containerInfo,$===h||$.nodeType===8&&$.parentNode===h)return}B=B.return}for(;A!==null;){if(B=lH(A),B===null)return;if($=B.tag,$===5||$===6||$===26||$===27){H=x=B;continue P}A=A.parentNode}}H=H.return}wF(function(){var D=x,Z=CZ(X),L=[];P:{var f=gF.get(P);if(f!==void 0){var F=BD,q=P;switch(P){case"keypress":if(jA(X)===0)break P;case"keydown":case"keyup":F=HW;break;case"focusin":q="focus",F=m6;break;case"focusout":q="blur",F=m6;break;case"beforeblur":case"afterblur":F=m6;break;case"click":if(X.button===2)break P;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=iM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=BW;break;case OF:case dF:case lF:F=oM;break;case yF:F=DW;break;case"scroll":case"scrollend":F=_M;break;case"wheel":F=ZW;break;case"copy":case"cut":case"paste":F=nM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ef;break;case"toggle":case"beforetoggle":F=fW}var b=(p&4)!==0,j=!b&&(P==="scroll"||P==="scrollend"),Q=b?f!==null?f+"Capture":null:f;b=[];for(var C=D,V;C!==null;){var Y=C;if(V=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||V===null||Q===null||(Y=k2(C,Q),Y!=null&&b.push(z2(C,Y,V))),j)break;C=C.return}0<b.length&&(f=new F(f,q,null,X,Z),L.push({event:f,listeners:b}))}}if((p&7)===0){P:{if(f=P==="mouseover"||P==="pointerover",F=P==="mouseout"||P==="pointerout",f&&X!==M$&&(q=X.relatedTarget||X.fromElement)&&(lH(q)||q[Wh]))break P;if(F||f){if(f=Z.window===Z?Z:(f=Z.ownerDocument)?f.defaultView||f.parentWindow:window,F){if(q=X.relatedTarget||X.toElement,F=D,q=q?lH(q):null,q!==null&&(j=Mh(q),b=q.tag,q!==j||b!==5&&b!==27&&b!==6))q=null}else F=null,q=D;if(F!==q){if(b=sf,Y="onMouseLeave",Q="onMouseEnter",C="mouse",P==="pointerout"||P==="pointerover")b=ef,Y="onPointerLeave",Q="onPointerEnter",C="pointer";if(j=F==null?f:tx(F),V=q==null?f:tx(q),f=new b(Y,C+"leave",F,X,Z),f.target=j,f.relatedTarget=V,Y=null,lH(Z)===D&&(b=new b(Q,C+"enter",q,X,Z),b.target=V,b.relatedTarget=j,Y=b),j=Y,F&&q)p:{b=F,Q=q,C=0;for(V=b;V;V=i1(V))C++;V=0;for(Y=Q;Y;Y=i1(Y))V++;for(;0<C-V;)b=i1(b),C--;for(;0<V-C;)Q=i1(Q),V--;for(;C--;){if(b===Q||Q!==null&&b===Q.alternate)break p;b=i1(b),Q=i1(Q)}b=null}else b=null;F!==null&&g9(L,f,F,b,!1),q!==null&&j!==null&&g9(L,j,q,b,!0)}}}P:{if(f=D?tx(D):window,F=f.nodeName&&f.nodeName.toLowerCase(),F==="select"||F==="input"&&f.type==="file")var k=H9;else if(X9(f))if(SF)k=IW;else{k=jW;var z=bW}else F=f.nodeName,!F||F.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?D&&FZ(D.elementType)&&(k=H9):k=kW;if(k&&(k=k(P,D))){UF(L,k,X,Z);break P}z&&z(P,f,D),P==="focusout"&&D&&f.type==="number"&&D.memoizedProps.value!=null&&T$(f,"number",f.value)}switch(z=D?tx(D):window,P){case"focusin":if(X9(z)||z.contentEditable==="true")Ph=z,E$=D,B2=null;break;case"focusout":B2=E$=Ph=null;break;case"mousedown":w$=!0;break;case"contextmenu":case"mouseup":case"dragend":w$=!1,A9(L,X,Z);break;case"selectionchange":if(WW)break;case"keydown":case"keyup":A9(L,X,Z)}var W;if(qZ)P:{switch(P){case"compositionstart":var M="onCompositionStart";break P;case"compositionend":M="onCompositionEnd";break P;case"compositionupdate":M="onCompositionUpdate";break P}M=void 0}else e1?KF(P,X)&&(M="onCompositionEnd"):P==="keydown"&&X.keyCode===229&&(M="onCompositionStart");if(M&&(JF&&X.locale!=="ko"&&(e1||M!=="onCompositionStart"?M==="onCompositionEnd"&&e1&&(W=zF()):(_X=Z,QZ=("value"in _X)?_X.value:_X.textContent,e1=!0)),z=sA(D,M),0<z.length&&(M=new tf(M,P,null,X,Z),L.push({event:M,listeners:z}),W?M.data=W:(W=RF(X),W!==null&&(M.data=W)))),W=CW?QW(P,X):VW(P,X))M=sA(D,"onBeforeInput"),0<M.length&&(z=new tf("onBeforeInput","beforeinput",null,X,Z),L.push({event:z,listeners:M}),z.data=W);AE(L,P,D,X,Z)}YQ(L,p)})}function z2(P,p,X){return{instance:P,listener:p,currentTarget:X}}function sA(P,p){for(var X=p+"Capture",H=[];P!==null;){var h=P,x=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||x===null||(h=k2(P,X),h!=null&&H.unshift(z2(P,h,x)),h=k2(P,p),h!=null&&H.push(z2(P,h,x))),P=P.return}return H}function i1(P){if(P===null)return null;do P=P.return;while(P&&P.tag!==5&&P.tag!==27);return P?P:null}function g9(P,p,X,H,h){for(var x=p._reactName,B=[];X!==null&&X!==H;){var A=X,$=A.alternate,D=A.stateNode;if(A=A.tag,$!==null&&$===H)break;A!==5&&A!==26&&A!==27||D===null||($=D,h?(D=k2(X,x),D!=null&&B.unshift(z2(X,D,$))):h||(D=k2(X,x),D!=null&&B.push(z2(X,D,$)))),X=X.return}B.length!==0&&P.push({event:p,listeners:B})}var $E=/\r\n?/g,ZE=/\u0000|\uFFFD/g;function _9(P){return(typeof P==="string"?P:""+P).replace($E,`
`).replace(ZE,"")}function jQ(P,p){return p=_9(p),_9(P)===p?!0:!1}function qD(){}function O0(P,p,X,H,h,x){switch(X){case"children":typeof H==="string"?p==="body"||p==="textarea"&&H===""||qh(P,H):(typeof H==="number"||typeof H==="bigint")&&p!=="body"&&qh(P,""+H);break;case"className":BA(P,"class",H);break;case"tabIndex":BA(P,"tabindex",H);break;case"dir":case"role":case"viewBox":case"width":case"height":BA(P,X,H);break;case"style":EF(P,H,x);break;case"data":if(p!=="object"){BA(P,"data",H);break}case"src":case"href":if(H===""&&(p!=="a"||X!=="href")){P.removeAttribute(X);break}if(H==null||typeof H==="function"||typeof H==="symbol"||typeof H==="boolean"){P.removeAttribute(X);break}H=YA(""+H),P.setAttribute(X,H);break;case"action":case"formAction":if(typeof H==="function"){P.setAttribute(X,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x==="function"&&(X==="formAction"?(p!=="input"&&O0(P,p,"name",h.name,h,null),O0(P,p,"formEncType",h.formEncType,h,null),O0(P,p,"formMethod",h.formMethod,h,null),O0(P,p,"formTarget",h.formTarget,h,null)):(O0(P,p,"encType",h.encType,h,null),O0(P,p,"method",h.method,h,null),O0(P,p,"target",h.target,h,null)));if(H==null||typeof H==="symbol"||typeof H==="boolean"){P.removeAttribute(X);break}H=YA(""+H),P.setAttribute(X,H);break;case"onClick":H!=null&&(P.onclick=qD);break;case"onScroll":H!=null&&z0("scroll",P);break;case"onScrollEnd":H!=null&&z0("scrollend",P);break;case"dangerouslySetInnerHTML":if(H!=null){if(typeof H!=="object"||!("__html"in H))throw Error(n(61));if(X=H.__html,X!=null){if(h.children!=null)throw Error(n(60));P.innerHTML=X}}break;case"multiple":P.multiple=H&&typeof H!=="function"&&typeof H!=="symbol";break;case"muted":P.muted=H&&typeof H!=="function"&&typeof H!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(H==null||typeof H==="function"||typeof H==="boolean"||typeof H==="symbol"){P.removeAttribute("xlink:href");break}X=YA(""+H),P.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",X);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":H!=null&&typeof H!=="function"&&typeof H!=="symbol"?P.setAttribute(X,""+H):P.removeAttribute(X);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":H&&typeof H!=="function"&&typeof H!=="symbol"?P.setAttribute(X,""):P.removeAttribute(X);break;case"capture":case"download":H===!0?P.setAttribute(X,""):H!==!1&&H!=null&&typeof H!=="function"&&typeof H!=="symbol"?P.setAttribute(X,H):P.removeAttribute(X);break;case"cols":case"rows":case"size":case"span":H!=null&&typeof H!=="function"&&typeof H!=="symbol"&&!isNaN(H)&&1<=H?P.setAttribute(X,H):P.removeAttribute(X);break;case"rowSpan":case"start":H==null||typeof H==="function"||typeof H==="symbol"||isNaN(H)?P.removeAttribute(X):P.setAttribute(X,H);break;case"popover":z0("beforetoggle",P),z0("toggle",P),qA(P,"popover",H);break;case"xlinkActuate":l8(P,"http://www.w3.org/1999/xlink","xlink:actuate",H);break;case"xlinkArcrole":l8(P,"http://www.w3.org/1999/xlink","xlink:arcrole",H);break;case"xlinkRole":l8(P,"http://www.w3.org/1999/xlink","xlink:role",H);break;case"xlinkShow":l8(P,"http://www.w3.org/1999/xlink","xlink:show",H);break;case"xlinkTitle":l8(P,"http://www.w3.org/1999/xlink","xlink:title",H);break;case"xlinkType":l8(P,"http://www.w3.org/1999/xlink","xlink:type",H);break;case"xmlBase":l8(P,"http://www.w3.org/XML/1998/namespace","xml:base",H);break;case"xmlLang":l8(P,"http://www.w3.org/XML/1998/namespace","xml:lang",H);break;case"xmlSpace":l8(P,"http://www.w3.org/XML/1998/namespace","xml:space",H);break;case"is":qA(P,"is",H);break;case"innerText":case"textContent":break;default:if(!(2<X.length)||X[0]!=="o"&&X[0]!=="O"||X[1]!=="n"&&X[1]!=="N")X=yM.get(X)||X,qA(P,X,H)}}function pZ(P,p,X,H,h,x){switch(X){case"style":EF(P,H,x);break;case"dangerouslySetInnerHTML":if(H!=null){if(typeof H!=="object"||!("__html"in H))throw Error(n(61));if(X=H.__html,X!=null){if(h.children!=null)throw Error(n(60));P.innerHTML=X}}break;case"children":typeof H==="string"?qh(P,H):(typeof H==="number"||typeof H==="bigint")&&qh(P,""+H);break;case"onScroll":H!=null&&z0("scroll",P);break;case"onScrollEnd":H!=null&&z0("scrollend",P);break;case"onClick":H!=null&&(P.onclick=qD);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jF.hasOwnProperty(X))P:{if(X[0]==="o"&&X[1]==="n"&&(h=X.endsWith("Capture"),p=X.slice(2,h?X.length-7:void 0),x=P[Xp]||null,x=x!=null?x[X]:null,typeof x==="function"&&P.removeEventListener(p,x,h),typeof H==="function")){typeof x!=="function"&&x!==null&&(X in P?P[X]=null:P.hasAttribute(X)&&P.removeAttribute(X)),P.addEventListener(p,H,h);break P}X in P?P[X]=H:H===!0?P.setAttribute(X,""):qA(P,X,H)}}}function NP(P,p,X){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":z0("error",P),z0("load",P);var H=!1,h=!1,x;for(x in X)if(X.hasOwnProperty(x)){var B=X[x];if(B!=null)switch(x){case"src":H=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:O0(P,p,x,B,X,null)}}h&&O0(P,p,"srcSet",X.srcSet,X,null),H&&O0(P,p,"src",X.src,X,null);return;case"input":z0("invalid",P);var A=x=B=h=null,$=null,D=null;for(H in X)if(X.hasOwnProperty(H)){var Z=X[H];if(Z!=null)switch(H){case"name":h=Z;break;case"type":B=Z;break;case"checked":$=Z;break;case"defaultChecked":D=Z;break;case"value":x=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,p));break;default:O0(P,p,H,Z,X,null)}}TF(P,x,A,$,D,B,h,!1),GA(P);return;case"select":z0("invalid",P),H=B=x=null;for(h in X)if(X.hasOwnProperty(h)&&(A=X[h],A!=null))switch(h){case"value":x=A;break;case"defaultValue":B=A;break;case"multiple":H=A;default:O0(P,p,h,A,X,null)}p=x,X=B,P.multiple=!!H,p!=null?Dh(P,!!H,p,!1):X!=null&&Dh(P,!!H,X,!0);return;case"textarea":z0("invalid",P),x=h=H=null;for(B in X)if(X.hasOwnProperty(B)&&(A=X[B],A!=null))switch(B){case"value":H=A;break;case"defaultValue":h=A;break;case"children":x=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:O0(P,p,B,A,X,null)}WF(P,H,h,x),GA(P);return;case"option":for($ in X)if(X.hasOwnProperty($)&&(H=X[$],H!=null))switch($){case"selected":P.selected=H&&typeof H!=="function"&&typeof H!=="symbol";break;default:O0(P,p,$,H,X,null)}return;case"dialog":z0("cancel",P),z0("close",P);break;case"iframe":case"object":z0("load",P);break;case"video":case"audio":for(H=0;H<w2.length;H++)z0(w2[H],P);break;case"image":z0("error",P),z0("load",P);break;case"details":z0("toggle",P);break;case"embed":case"source":case"link":z0("error",P),z0("load",P);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in X)if(X.hasOwnProperty(D)&&(H=X[D],H!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:O0(P,p,D,H,X,null)}return;default:if(FZ(p)){for(Z in X)X.hasOwnProperty(Z)&&(H=X[Z],H!==void 0&&pZ(P,p,Z,H,X,void 0));return}}for(A in X)X.hasOwnProperty(A)&&(H=X[A],H!=null&&O0(P,p,A,H,X,null))}function LE(P,p,X,H){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,x=null,B=null,A=null,$=null,D=null,Z=null;for(F in X){var L=X[F];if(X.hasOwnProperty(F)&&L!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":$=L;default:H.hasOwnProperty(F)||O0(P,p,F,null,H,L)}}for(var f in H){var F=H[f];if(L=X[f],H.hasOwnProperty(f)&&(F!=null||L!=null))switch(f){case"type":x=F;break;case"name":h=F;break;case"checked":D=F;break;case"defaultChecked":Z=F;break;case"value":B=F;break;case"defaultValue":A=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(n(137,p));break;default:F!==L&&O0(P,p,f,F,H,L)}}I$(P,B,A,$,D,Z,x,h);return;case"select":F=B=A=f=null;for(x in X)if($=X[x],X.hasOwnProperty(x)&&$!=null)switch(x){case"value":break;case"multiple":F=$;default:H.hasOwnProperty(x)||O0(P,p,x,null,H,$)}for(h in H)if(x=H[h],$=X[h],H.hasOwnProperty(h)&&(x!=null||$!=null))switch(h){case"value":f=x;break;case"defaultValue":A=x;break;case"multiple":B=x;default:x!==$&&O0(P,p,h,x,H,$)}p=A,X=B,H=F,f!=null?Dh(P,!!X,f,!1):!!H!==!!X&&(p!=null?Dh(P,!!X,p,!0):Dh(P,!!X,X?[]:"",!1));return;case"textarea":F=f=null;for(A in X)if(h=X[A],X.hasOwnProperty(A)&&h!=null&&!H.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:O0(P,p,A,null,H,h)}for(B in H)if(h=H[B],x=X[B],H.hasOwnProperty(B)&&(h!=null||x!=null))switch(B){case"value":f=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(n(91));break;default:h!==x&&O0(P,p,B,h,H,x)}MF(P,f,F);return;case"option":for(var q in X)if(f=X[q],X.hasOwnProperty(q)&&f!=null&&!H.hasOwnProperty(q))switch(q){case"selected":P.selected=!1;break;default:O0(P,p,q,null,H,f)}for($ in H)if(f=H[$],F=X[$],H.hasOwnProperty($)&&f!==F&&(f!=null||F!=null))switch($){case"selected":P.selected=f&&typeof f!=="function"&&typeof f!=="symbol";break;default:O0(P,p,$,f,H,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in X)f=X[b],X.hasOwnProperty(b)&&f!=null&&!H.hasOwnProperty(b)&&O0(P,p,b,null,H,f);for(D in H)if(f=H[D],F=X[D],H.hasOwnProperty(D)&&f!==F&&(f!=null||F!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(n(137,p));break;default:O0(P,p,D,f,H,F)}return;default:if(FZ(p)){for(var j in X)f=X[j],X.hasOwnProperty(j)&&f!==void 0&&!H.hasOwnProperty(j)&&pZ(P,p,j,void 0,H,f);for(Z in H)f=H[Z],F=X[Z],!H.hasOwnProperty(Z)||f===F||f===void 0&&F===void 0||pZ(P,p,Z,f,H,F);return}}for(var Q in X)f=X[Q],X.hasOwnProperty(Q)&&f!=null&&!H.hasOwnProperty(Q)&&O0(P,p,Q,null,H,f);for(L in H)f=H[L],F=X[L],!H.hasOwnProperty(L)||f===F||f==null&&F==null||O0(P,p,L,f,H,F)}var XZ=null,HZ=null;function tA(P){return P.nodeType===9?P:P.ownerDocument}function u9(P){switch(P){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kQ(P,p){if(P===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return P===1&&p==="foreignObject"?0:P}function hZ(P,p){return P==="textarea"||P==="noscript"||typeof p.children==="string"||typeof p.children==="number"||typeof p.children==="bigint"||typeof p.dangerouslySetInnerHTML==="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var f$=null;function fE(){var P=window.event;if(P&&P.type==="popstate"){if(P===f$)return!1;return f$=P,!0}return f$=null,!1}var IQ=typeof setTimeout==="function"?setTimeout:void 0,FE=typeof clearTimeout==="function"?clearTimeout:void 0,i9=typeof Promise==="function"?Promise:void 0,CE=typeof queueMicrotask==="function"?queueMicrotask:typeof i9!=="undefined"?function(P){return i9.resolve(null).then(P).catch(QE)}:IQ;function QE(P){setTimeout(function(){throw P})}function F$(P,p){var X=p,H=0;do{var h=X.nextSibling;if(P.removeChild(X),h&&h.nodeType===8)if(X=h.data,X==="/$"){if(H===0){P.removeChild(h),S2(p);return}H--}else X!=="$"&&X!=="$?"&&X!=="$!"||H++;X=h}while(X);S2(p)}function xZ(P){var p=P.firstChild;p&&p.nodeType===10&&(p=p.nextSibling);for(;p;){var X=p;switch(p=p.nextSibling,X.nodeName){case"HTML":case"HEAD":case"BODY":xZ(X),fZ(X);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(X.rel.toLowerCase()==="stylesheet")continue}P.removeChild(X)}}function VE(P,p,X,H){for(;P.nodeType===1;){var h=X;if(P.nodeName.toLowerCase()!==p.toLowerCase()){if(!H&&(P.nodeName!=="INPUT"||P.type!=="hidden"))break}else if(!H)if(p==="input"&&P.type==="hidden"){var x=h.name==null?null:""+h.name;if(h.type==="hidden"&&P.getAttribute("name")===x)return P}else return P;else if(!P[j2])switch(p){case"meta":if(!P.hasAttribute("itemprop"))break;return P;case"link":if(x=P.getAttribute("rel"),x==="stylesheet"&&P.hasAttribute("data-precedence"))break;else if(x!==h.rel||P.getAttribute("href")!==(h.href==null?null:h.href)||P.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||P.getAttribute("title")!==(h.title==null?null:h.title))break;return P;case"style":if(P.hasAttribute("data-precedence"))break;return P;case"script":if(x=P.getAttribute("src"),(x!==(h.src==null?null:h.src)||P.getAttribute("type")!==(h.type==null?null:h.type)||P.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&x&&P.hasAttribute("async")&&!P.hasAttribute("itemprop"))break;return P;default:return P}if(P=sp(P.nextSibling),P===null)break}return null}function qE(P,p,X){if(p==="")return null;for(;P.nodeType!==3;){if((P.nodeType!==1||P.nodeName!=="INPUT"||P.type!=="hidden")&&!X)return null;if(P=sp(P.nextSibling),P===null)return null}return P}function sp(P){for(;P!=null;P=P.nextSibling){var p=P.nodeType;if(p===1||p===3)break;if(p===8){if(p=P.data,p==="$"||p==="$!"||p==="$?"||p==="F!"||p==="F")break;if(p==="/$")return null}}return P}function m9(P){P=P.previousSibling;for(var p=0;P;){if(P.nodeType===8){var X=P.data;if(X==="$"||X==="$!"||X==="$?"){if(p===0)return P;p--}else X==="/$"&&p++}P=P.previousSibling}return null}function TQ(P,p,X){switch(p=tA(X),P){case"html":if(P=p.documentElement,!P)throw Error(n(452));return P;case"head":if(P=p.head,!P)throw Error(n(453));return P;case"body":if(P=p.body,!P)throw Error(n(454));return P;default:throw Error(n(451))}}var dp=new Map,a9=new Set;function eA(P){return typeof P.getRootNode==="function"?P.getRootNode():P.ownerDocument}var HX=m0.d;m0.d={f:YE,r:bE,D:jE,C:kE,L:IE,m:TE,X:WE,S:ME,M:EE};function YE(){var P=HX.f(),p=QD();return P||p}function bE(P){var p=Eh(P);p!==null&&p.tag===5&&p.type==="form"?TC(p):HX.r(P)}var zh=typeof document==="undefined"?null:document;function MQ(P,p,X){var H=zh;if(H&&typeof p==="string"&&p){var h=Gp(p);h='link[rel="'+P+'"][href="'+h+'"]',typeof X==="string"&&(h+='[crossorigin="'+X+'"]'),a9.has(h)||(a9.add(h),P={rel:P,crossOrigin:X,href:p},H.querySelector(h)===null&&(p=H.createElement("link"),NP(p,"link",P),zP(p),H.head.appendChild(p)))}}function jE(P){HX.D(P),MQ("dns-prefetch",P,null)}function kE(P,p){HX.C(P,p),MQ("preconnect",P,p)}function IE(P,p,X){HX.L(P,p,X);var H=zh;if(H&&P&&p){var h='link[rel="preload"][as="'+Gp(p)+'"]';p==="image"?X&&X.imageSrcSet?(h+='[imagesrcset="'+Gp(X.imageSrcSet)+'"]',typeof X.imageSizes==="string"&&(h+='[imagesizes="'+Gp(X.imageSizes)+'"]')):h+='[href="'+Gp(P)+'"]':h+='[href="'+Gp(P)+'"]';var x=h;switch(p){case"style":x=Th(P);break;case"script":x=Jh(P)}dp.has(x)||(P=a0({rel:"preload",href:p==="image"&&X&&X.imageSrcSet?void 0:P,as:p},X),dp.set(x,P),H.querySelector(h)!==null||p==="style"&&H.querySelector(u2(x))||p==="script"&&H.querySelector(i2(x))||(p=H.createElement("link"),NP(p,"link",P),zP(p),H.head.appendChild(p)))}}function TE(P,p){HX.m(P,p);var X=zh;if(X&&P){var H=p&&typeof p.as==="string"?p.as:"script",h='link[rel="modulepreload"][as="'+Gp(H)+'"][href="'+Gp(P)+'"]',x=h;switch(H){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Jh(P)}if(!dp.has(x)&&(P=a0({rel:"modulepreload",href:P},p),dp.set(x,P),X.querySelector(h)===null)){switch(H){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(X.querySelector(i2(x)))return}H=X.createElement("link"),NP(H,"link",P),zP(H),X.head.appendChild(H)}}}function ME(P,p,X){HX.S(P,p,X);var H=zh;if(H&&P){var h=Ah(H).hoistableStyles,x=Th(P);p=p||"default";var B=h.get(x);if(!B){var A={loading:0,preload:null};if(B=H.querySelector(u2(x)))A.loading=5;else{P=a0({rel:"stylesheet",href:P,"data-precedence":p},X),(X=dp.get(x))&&rZ(P,X);var $=B=H.createElement("link");zP($),NP($,"link",P),$._p=new Promise(function(D,Z){$.onload=D,$.onerror=Z}),$.addEventListener("load",function(){A.loading|=1}),$.addEventListener("error",function(){A.loading|=2}),A.loading|=4,wA(B,p,H)}B={type:"stylesheet",instance:B,count:1,state:A},h.set(x,B)}}}function WE(P,p){HX.X(P,p);var X=zh;if(X&&P){var H=Ah(X).hoistableScripts,h=Jh(P),x=H.get(h);x||(x=X.querySelector(i2(h)),x||(P=a0({src:P,async:!0},p),(p=dp.get(h))&&nZ(P,p),x=X.createElement("script"),zP(x),NP(x,"link",P),X.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},H.set(h,x))}}function EE(P,p){HX.M(P,p);var X=zh;if(X&&P){var H=Ah(X).hoistableScripts,h=Jh(P),x=H.get(h);x||(x=X.querySelector(i2(h)),x||(P=a0({src:P,async:!0,type:"module"},p),(p=dp.get(h))&&nZ(P,p),x=X.createElement("script"),zP(x),NP(x,"link",P),X.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},H.set(h,x))}}function o9(P,p,X,H){var h=(h=uX.current)?eA(h):null;if(!h)throw Error(n(446));switch(P){case"meta":case"title":return null;case"style":return typeof X.precedence==="string"&&typeof X.href==="string"?(p=Th(X.href),X=Ah(h).hoistableStyles,H=X.get(p),H||(H={type:"style",instance:null,count:0,state:null},X.set(p,H)),H):{type:"void",instance:null,count:0,state:null};case"link":if(X.rel==="stylesheet"&&typeof X.href==="string"&&typeof X.precedence==="string"){P=Th(X.href);var x=Ah(h).hoistableStyles,B=x.get(P);if(B||(h=h.ownerDocument||h,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(P,B),(x=h.querySelector(u2(P)))&&!x._p&&(B.instance=x,B.state.loading=5),dp.has(P)||(X={rel:"preload",as:"style",href:X.href,crossOrigin:X.crossOrigin,integrity:X.integrity,media:X.media,hrefLang:X.hrefLang,referrerPolicy:X.referrerPolicy},dp.set(P,X),x||wE(h,P,X,B.state))),p&&H===null)throw Error(n(528,""));return B}if(p&&H!==null)throw Error(n(529,""));return null;case"script":return p=X.async,X=X.src,typeof X==="string"&&p&&typeof p!=="function"&&typeof p!=="symbol"?(p=Jh(X),X=Ah(h).hoistableScripts,H=X.get(p),H||(H={type:"script",instance:null,count:0,state:null},X.set(p,H)),H):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,P))}}function Th(P){return'href="'+Gp(P)+'"'}function u2(P){return'link[rel="stylesheet"]['+P+"]"}function WQ(P){return a0({},P,{"data-precedence":P.precedence,precedence:null})}function wE(P,p,X,H){P.querySelector('link[rel="preload"][as="style"]['+p+"]")?H.loading=1:(p=P.createElement("link"),H.preload=p,p.addEventListener("load",function(){return H.loading|=1}),p.addEventListener("error",function(){return H.loading|=2}),NP(p,"link",X),zP(p),P.head.appendChild(p))}function Jh(P){return'[src="'+Gp(P)+'"]'}function i2(P){return"script[async]"+P}function r9(P,p,X){if(p.count++,p.instance===null)switch(p.type){case"style":var H=P.querySelector('style[data-href~="'+Gp(X.href)+'"]');if(H)return p.instance=H,zP(H),H;var h=a0({},X,{"data-href":X.href,"data-precedence":X.precedence,href:null,precedence:null});return H=(P.ownerDocument||P).createElement("style"),zP(H),NP(H,"style",h),wA(H,X.precedence,P),p.instance=H;case"stylesheet":h=Th(X.href);var x=P.querySelector(u2(h));if(x)return p.state.loading|=4,p.instance=x,zP(x),x;H=WQ(X),(h=dp.get(h))&&rZ(H,h),x=(P.ownerDocument||P).createElement("link"),zP(x);var B=x;return B._p=new Promise(function(A,$){B.onload=A,B.onerror=$}),NP(x,"link",H),p.state.loading|=4,wA(x,X.precedence,P),p.instance=x;case"script":if(x=Jh(X.src),h=P.querySelector(i2(x)))return p.instance=h,zP(h),h;if(H=X,h=dp.get(x))H=a0({},X),nZ(H,h);return P=P.ownerDocument||P,h=P.createElement("script"),zP(h),NP(h,"link",H),P.head.appendChild(h),p.instance=h;case"void":return null;default:throw Error(n(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(H=p.instance,p.state.loading|=4,wA(H,X.precedence,P));return p.instance}function wA(P,p,X){for(var H=X.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=H.length?H[H.length-1]:null,x=h,B=0;B<H.length;B++){var A=H[B];if(A.dataset.precedence===p)x=A;else if(x!==h)break}x?x.parentNode.insertBefore(P,x.nextSibling):(p=X.nodeType===9?X.head:X,p.insertBefore(P,p.firstChild))}function rZ(P,p){P.crossOrigin==null&&(P.crossOrigin=p.crossOrigin),P.referrerPolicy==null&&(P.referrerPolicy=p.referrerPolicy),P.title==null&&(P.title=p.title)}function nZ(P,p){P.crossOrigin==null&&(P.crossOrigin=p.crossOrigin),P.referrerPolicy==null&&(P.referrerPolicy=p.referrerPolicy),P.integrity==null&&(P.integrity=p.integrity)}var zA=null;function n9(P,p,X){if(zA===null){var H=new Map,h=zA=new Map;h.set(X,H)}else h=zA,H=h.get(X),H||(H=new Map,h.set(X,H));if(H.has(P))return H;H.set(P,null),X=X.getElementsByTagName(P);for(h=0;h<X.length;h++){var x=X[h];if(!(x[j2]||x[yP]||P==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var B=x.getAttribute(p)||"";B=P+B;var A=H.get(B);A?A.push(x):H.set(B,[x])}}return H}function s9(P,p,X){P=P.ownerDocument||P,P.head.insertBefore(X,p==="title"?P.querySelector("head > title"):null)}function zE(P,p,X){if(X===1||p.itemProp!=null)return!1;switch(P){case"meta":case"title":return!0;case"style":if(typeof p.precedence!=="string"||typeof p.href!=="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!=="string"||typeof p.href!=="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return P=p.disabled,typeof p.precedence==="string"&&P==null;default:return!0}case"script":if(p.async&&typeof p.async!=="function"&&typeof p.async!=="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src==="string")return!0}return!1}function EQ(P){return P.type==="stylesheet"&&(P.state.loading&3)===0?!1:!0}var J2=null;function JE(){}function KE(P,p,X){if(J2===null)throw Error(n(475));var H=J2;if(p.type==="stylesheet"&&(typeof X.media!=="string"||matchMedia(X.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var h=Th(X.href),x=P.querySelector(u2(h));if(x){P=x._p,P!==null&&typeof P==="object"&&typeof P.then==="function"&&(H.count++,H=PD.bind(H),P.then(H,H)),p.state.loading|=4,p.instance=x,zP(x);return}x=P.ownerDocument||P,X=WQ(X),(h=dp.get(h))&&rZ(X,h),x=x.createElement("link"),zP(x);var B=x;B._p=new Promise(function(A,$){B.onload=A,B.onerror=$}),NP(x,"link",X),p.instance=x}H.stylesheets===null&&(H.stylesheets=new Map),H.stylesheets.set(p,P),(P=p.state.preload)&&(p.state.loading&3)===0&&(H.count++,p=PD.bind(H),P.addEventListener("load",p),P.addEventListener("error",p))}}function RE(){if(J2===null)throw Error(n(475));var P=J2;return P.stylesheets&&P.count===0&&BZ(P,P.stylesheets),0<P.count?function(p){var X=setTimeout(function(){if(P.stylesheets&&BZ(P,P.stylesheets),P.unsuspend){var H=P.unsuspend;P.unsuspend=null,H()}},60000);return P.unsuspend=p,function(){P.unsuspend=null,clearTimeout(X)}}:null}function PD(){if(this.count--,this.count===0){if(this.stylesheets)BZ(this,this.stylesheets);else if(this.unsuspend){var P=this.unsuspend;this.unsuspend=null,P()}}}var pD=null;function BZ(P,p){P.stylesheets=null,P.unsuspend!==null&&(P.count++,pD=new Map,p.forEach(UE,P),pD=null,PD.call(P))}function UE(P,p){if(!(p.state.loading&4)){var X=pD.get(P);if(X)var H=X.get(null);else{X=new Map,pD.set(P,X);for(var h=P.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<h.length;x++){var B=h[x];if(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")X.set(B.dataset.precedence,B),H=B}H&&X.set(null,H)}h=p.instance,B=h.getAttribute("data-precedence"),x=X.get(B)||H,x===H&&X.set(null,h),X.set(B,h),this.count++,H=PD.bind(this),h.addEventListener("load",H),h.addEventListener("error",H),x?x.parentNode.insertBefore(h,x.nextSibling):(P=P.nodeType===9?P.head:P,P.insertBefore(h,P.firstChild)),p.state.loading|=4}}var K2={$$typeof:a8,Provider:null,Consumer:null,_currentValue:gH,_currentValue2:gH,_threadCount:0};function SE(P,p,X,H,h,x,B,A){this.tag=1,this.containerInfo=P,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=g6(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g6(0),this.hiddenUpdates=g6(null),this.identifierPrefix=H,this.onUncaughtError=h,this.onCaughtError=x,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function wQ(P,p,X,H,h,x,B,A,$,D,Z,L){return P=new SE(P,p,X,B,A,$,D,L),p=1,x===!0&&(p|=24),x=vp(3,null,null,p),P.current=x,x.stateNode=P,p=MZ(),p.refCount++,P.pooledCache=p,p.refCount++,x.memoizedState={element:H,isDehydrated:X,cache:p},dZ(x),P}function zQ(P){if(!P)return Hh;return P=Hh,P}function JQ(P,p,X,H,h,x){h=zQ(h),H.context===null?H.context=h:H.pendingContext=h,H=iX(p),H.payload={element:X},x=x===void 0?null:x,x!==null&&(H.callback=x),X=mX(P,H,p),X!==null&&(aP(X,P,p),f2(X,P,p))}function t9(P,p){if(P=P.memoizedState,P!==null&&P.dehydrated!==null){var X=P.retryLane;P.retryLane=X!==0&&X<p?X:p}}function sZ(P,p){t9(P,p),(P=P.alternate)&&t9(P,p)}function KQ(P){if(P.tag===13){var p=tX(P,67108864);p!==null&&aP(p,P,67108864),sZ(P,67108864)}}var XD=!0;function GE(P,p,X,H){var h=I0.T;I0.T=null;var x=m0.p;try{m0.p=2,tZ(P,p,X,H)}finally{m0.p=x,I0.T=h}}function NE(P,p,X,H){var h=I0.T;I0.T=null;var x=m0.p;try{m0.p=8,tZ(P,p,X,H)}finally{m0.p=x,I0.T=h}}function tZ(P,p,X,H){if(XD){var h=AZ(H);if(h===null)L$(P,p,H,HD,X),e9(P,H);else if(cE(h,P,p,X,H))H.stopPropagation();else if(e9(P,H),p&4&&-1<vE.indexOf(P)){for(;h!==null;){var x=Eh(h);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var B=vH(x.pendingLanes);if(B!==0){var A=x;A.pendingLanes|=2;for(A.entangledLanes|=2;B;){var $=1<<31-qp(B);A.entanglements[1]|=$,B&=~$}M8(x),(pP&6)===0&&(aA=j8()+500,_2(0,!1))}}break;case 13:A=tX(x,2),A!==null&&aP(A,x,2),QD(),sZ(x,2)}if(x=AZ(H),x===null&&L$(P,p,H,HD,X),x===h)break;h=x}h!==null&&H.stopPropagation()}else L$(P,p,H,null,X)}}function AZ(P){return P=CZ(P),eZ(P)}var HD=null;function eZ(P){if(HD=null,P=lH(P),P!==null){var p=Mh(P);if(p===null)P=null;else{var X=p.tag;if(X===13){if(P=DF(p),P!==null)return P;P=null}else if(X===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;P=null}else p!==P&&(P=null)}}return HD=P,null}function RQ(P){switch(P){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(TM()){case ZF:return 2;case LF:return 8;case SA:case MM:return 32;case fF:return 268435456;default:return 32}default:return 32}}var DZ=!1,rX=null,nX=null,sX=null,R2=new Map,U2=new Map,yX=[],vE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e9(P,p){switch(P){case"focusin":case"focusout":rX=null;break;case"dragenter":case"dragleave":nX=null;break;case"mouseover":case"mouseout":sX=null;break;case"pointerover":case"pointerout":R2.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":U2.delete(p.pointerId)}}function ox(P,p,X,H,h,x){if(P===null||P.nativeEvent!==x)return P={blockedOn:p,domEventName:X,eventSystemFlags:H,nativeEvent:x,targetContainers:[h]},p!==null&&(p=Eh(p),p!==null&&KQ(p)),P;return P.eventSystemFlags|=H,p=P.targetContainers,h!==null&&p.indexOf(h)===-1&&p.push(h),P}function cE(P,p,X,H,h){switch(p){case"focusin":return rX=ox(rX,P,p,X,H,h),!0;case"dragenter":return nX=ox(nX,P,p,X,H,h),!0;case"mouseover":return sX=ox(sX,P,p,X,H,h),!0;case"pointerover":var x=h.pointerId;return R2.set(x,ox(R2.get(x)||null,P,p,X,H,h)),!0;case"gotpointercapture":return x=h.pointerId,U2.set(x,ox(U2.get(x)||null,P,p,X,H,h)),!0}return!1}function UQ(P){var p=lH(P.target);if(p!==null){var X=Mh(p);if(X!==null){if(p=X.tag,p===13){if(p=DF(X),p!==null){P.blockedOn=p,SM(P.priority,function(){if(X.tag===13){var H=Yp(),h=tX(X,H);h!==null&&aP(h,X,H),sZ(X,H)}});return}}else if(p===3&&X.stateNode.current.memoizedState.isDehydrated){P.blockedOn=X.tag===3?X.stateNode.containerInfo:null;return}}}P.blockedOn=null}function JA(P){if(P.blockedOn!==null)return!1;for(var p=P.targetContainers;0<p.length;){var X=AZ(P.nativeEvent);if(X===null){X=P.nativeEvent;var H=new X.constructor(X.type,X);M$=H,X.target.dispatchEvent(H),M$=null}else return p=Eh(X),p!==null&&KQ(p),P.blockedOn=X,!1;p.shift()}return!0}function PF(P,p,X){JA(P)&&X.delete(p)}function OE(){DZ=!1,rX!==null&&JA(rX)&&(rX=null),nX!==null&&JA(nX)&&(nX=null),sX!==null&&JA(sX)&&(sX=null),R2.forEach(PF),U2.forEach(PF)}function QA(P,p){P.blockedOn===p&&(P.blockedOn=null,DZ||(DZ=!0,y1(l1,OE)))}var VA=null;function pF(P){VA!==P&&(VA=P,y1(l1,function(){VA===P&&(VA=null);for(var p=0;p<P.length;p+=3){var X=P[p],H=P[p+1],h=P[p+2];if(typeof H!=="function")if(eZ(H||X)===null)continue;else break;var x=Eh(X);x!==null&&(P.splice(p,3),p-=3,G$(x,{pending:!0,data:h,method:X.method,action:H},H,h))}}))}function S2(P){function p($){return QA($,P)}rX!==null&&QA(rX,P),nX!==null&&QA(nX,P),sX!==null&&QA(sX,P),R2.forEach(p),U2.forEach(p);for(var X=0;X<yX.length;X++){var H=yX[X];H.blockedOn===P&&(H.blockedOn=null)}for(;0<yX.length&&(X=yX[0],X.blockedOn===null);)UQ(X),X.blockedOn===null&&yX.shift();if(X=(P.ownerDocument||P).$$reactFormReplay,X!=null)for(H=0;H<X.length;H+=3){var h=X[H],x=X[H+1],B=h[Xp]||null;if(typeof x==="function")B||pF(X);else if(B){var A=null;if(x&&x.hasAttribute("formAction")){if(h=x,B=x[Xp]||null)A=B.formAction;else if(eZ(h)!==null)continue}else A=B.action;typeof A==="function"?X[H+1]=A:(X.splice(H,3),H-=3),pF(X)}}}function P7(P){this._internalRoot=P}YD.prototype.render=P7.prototype.render=function(P){var p=this._internalRoot;if(p===null)throw Error(n(409));var X=p.current,H=Yp();JQ(X,H,P,p,null,null)};YD.prototype.unmount=P7.prototype.unmount=function(){var P=this._internalRoot;if(P!==null){this._internalRoot=null;var p=P.containerInfo;P.tag===0&&Ch(),JQ(P.current,2,null,P,null,null),QD(),p[Wh]=null}};function YD(P){this._internalRoot=P}YD.prototype.unstable_scheduleHydration=function(P){if(P){var p=YF();P={blockedOn:null,target:P,priority:p};for(var X=0;X<yX.length&&p!==0&&p<yX[X].priority;X++);yX.splice(X,0,P),X===0&&UQ(P)}};var XF=hD.version;if(XF!=="19.0.0")throw Error(n(527,XF,"19.0.0"));m0.findDOMNode=function(P){var p=P._reactInternals;if(p===void 0){if(typeof P.render==="function")throw Error(n(188));throw P=Object.keys(P).join(","),Error(n(268,P))}return P=jM(p),P=P!==null?$F(P):null,P=P===null?null:P.stateNode,P};var dE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I0,findFiberByHostInstance:lH,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"){if(r1=__REACT_DEVTOOLS_GLOBAL_HOOK__,!r1.isDisabled&&r1.supportsFiber)try{G2=r1.inject(dE),Vp=r1}catch(P){}}var r1;lE.createRoot=function(P,p){if(!hF(P))throw Error(n(299));var X=!1,H="",h=JC,x=KC,B=RC,A=null;return p!==null&&p!==void 0&&(p.unstable_strictMode===!0&&(X=!0),p.identifierPrefix!==void 0&&(H=p.identifierPrefix),p.onUncaughtError!==void 0&&(h=p.onUncaughtError),p.onCaughtError!==void 0&&(x=p.onCaughtError),p.onRecoverableError!==void 0&&(B=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(A=p.unstable_transitionCallbacks)),p=wQ(P,1,!1,null,null,X,H,h,x,B,A,null),P[Wh]=p.current,oZ(P.nodeType===8?P.parentNode:P),new P7(p)};lE.hydrateRoot=function(P,p,X){if(!hF(P))throw Error(n(299));var H=!1,h="",x=JC,B=KC,A=RC,$=null,D=null;return X!==null&&X!==void 0&&(X.unstable_strictMode===!0&&(H=!0),X.identifierPrefix!==void 0&&(h=X.identifierPrefix),X.onUncaughtError!==void 0&&(x=X.onUncaughtError),X.onCaughtError!==void 0&&(B=X.onCaughtError),X.onRecoverableError!==void 0&&(A=X.onRecoverableError),X.unstable_transitionCallbacks!==void 0&&($=X.unstable_transitionCallbacks),X.formState!==void 0&&(D=X.formState)),p=wQ(P,1,!0,p,X!=null?X:null,H,h,x,B,A,$,D),p.context=zQ(null),X=p.current,H=Yp(),h=iX(H),h.callback=null,mX(X,h,H),p.current.lanes=H,v2(p,H),M8(p),P[Wh]=p.current,oZ(P),new YD(p)};lE.version="19.0.0"});var vQ=V0((Gc,NQ)=>{function GQ(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GQ)}catch(P){console.error(P)}}GQ(),NQ.exports=SQ()});var xX={};aB(xX,{transcode:()=>Sw,resolveObjectURL:()=>Kw,kStringMaxLength:()=>aQ,kMaxLength:()=>m2,isUtf8:()=>Rw,isAscii:()=>Uw,default:()=>Gw,constants:()=>hw,btoa:()=>Pw,atob:()=>pw,INSPECT_MAX_BYTES:()=>eE,File:()=>Xw,Buffer:()=>a,Blob:()=>Hw});function oE(P){var p=P.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var X=P.indexOf("=");if(X===-1)X=p;var H=X===p?0:4-X%4;return[X,H]}function rE(P,p){return(P+p)*3/4-p}function nE(P){var p,X=oE(P),H=X[0],h=X[1],x=new Uint8Array(rE(H,h)),B=0,A=h>0?H-4:H,$;for($=0;$<A;$+=4)p=lp[P.charCodeAt($)]<<18|lp[P.charCodeAt($+1)]<<12|lp[P.charCodeAt($+2)]<<6|lp[P.charCodeAt($+3)],x[B++]=p>>16&255,x[B++]=p>>8&255,x[B++]=p&255;if(h===2)p=lp[P.charCodeAt($)]<<2|lp[P.charCodeAt($+1)]>>4,x[B++]=p&255;if(h===1)p=lp[P.charCodeAt($)]<<10|lp[P.charCodeAt($+1)]<<4|lp[P.charCodeAt($+2)]>>2,x[B++]=p>>8&255,x[B++]=p&255;return x}function sE(P){return W8[P>>18&63]+W8[P>>12&63]+W8[P>>6&63]+W8[P&63]}function tE(P,p,X){var H,h=[];for(var x=p;x<X;x+=3)H=(P[x]<<16&16711680)+(P[x+1]<<8&65280)+(P[x+2]&255),h.push(sE(H));return h.join("")}function yQ(P){var p,X=P.length,H=X%3,h=[],x=16383;for(var B=0,A=X-H;B<A;B+=x)h.push(tE(P,B,B+x>A?A:B+x));if(H===1)p=P[X-1],h.push(W8[p>>2]+W8[p<<4&63]+"==");else if(H===2)p=(P[X-2]<<8)+P[X-1],h.push(W8[p>>10]+W8[p>>4&63]+W8[p<<2&63]+"=");return h.join("")}function bD(P,p,X,H,h){var x,B,A=h*8-H-1,$=(1<<A)-1,D=$>>1,Z=-7,L=X?h-1:0,f=X?-1:1,F=P[p+L];L+=f,x=F&(1<<-Z)-1,F>>=-Z,Z+=A;for(;Z>0;x=x*256+P[p+L],L+=f,Z-=8);B=x&(1<<-Z)-1,x>>=-Z,Z+=H;for(;Z>0;B=B*256+P[p+L],L+=f,Z-=8);if(x===0)x=1-D;else if(x===$)return B?NaN:(F?-1:1)*(1/0);else B=B+Math.pow(2,H),x=x-D;return(F?-1:1)*B*Math.pow(2,x-H)}function mQ(P,p,X,H,h,x){var B,A,$,D=x*8-h-1,Z=(1<<D)-1,L=Z>>1,f=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=H?0:x-1,q=H?1:-1,b=p<0||p===0&&1/p<0?1:0;if(p=Math.abs(p),isNaN(p)||p===1/0)A=isNaN(p)?1:0,B=Z;else{if(B=Math.floor(Math.log(p)/Math.LN2),p*($=Math.pow(2,-B))<1)B--,$*=2;if(B+L>=1)p+=f/$;else p+=f*Math.pow(2,1-L);if(p*$>=2)B++,$/=2;if(B+L>=Z)A=0,B=Z;else if(B+L>=1)A=(p*$-1)*Math.pow(2,h),B=B+L;else A=p*Math.pow(2,L-1)*Math.pow(2,h),B=0}for(;h>=8;P[X+F]=A&255,F+=q,A/=256,h-=8);B=B<<h|A,D+=h;for(;D>0;P[X+F]=B&255,F+=q,B/=256,D-=8);P[X+F-q]|=b*128}function hX(P){if(P>m2)throw new RangeError('The value "'+P+'" is invalid for option "size"');let p=new Uint8Array(P);return Object.setPrototypeOf(p,a.prototype),p}function B7(P,p,X){return class H extends X{constructor(){super();Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,this.stack,delete this.name}get code(){return P}set code(h){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:h,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}}}function a(P,p,X){if(typeof P==="number"){if(typeof p==="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A7(P)}return oQ(P,p,X)}function oQ(P,p,X){if(typeof P==="string")return Dw(P,p);if(ArrayBuffer.isView(P))return $w(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(E8(P,ArrayBuffer)||P&&E8(P.buffer,ArrayBuffer))return h7(P,p,X);if(typeof SharedArrayBuffer!=="undefined"&&(E8(P,SharedArrayBuffer)||P&&E8(P.buffer,SharedArrayBuffer)))return h7(P,p,X);if(typeof P==="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let H=P.valueOf&&P.valueOf();if(H!=null&&H!==P)return a.from(H,p,X);let h=Zw(P);if(h)return h;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]==="function")return a.from(P[Symbol.toPrimitive]("string"),p,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function rQ(P){if(typeof P!=="number")throw new TypeError('"size" argument must be of type number');else if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function Aw(P,p,X){if(rQ(P),P<=0)return hX(P);if(p!==void 0)return typeof X==="string"?hX(P).fill(p,X):hX(P).fill(p);return hX(P)}function A7(P){return rQ(P),hX(P<0?0:D7(P)|0)}function Dw(P,p){if(typeof p!=="string"||p==="")p="utf8";if(!a.isEncoding(p))throw new TypeError("Unknown encoding: "+p);let X=nQ(P,p)|0,H=hX(X),h=H.write(P,p);if(h!==X)H=H.slice(0,h);return H}function H7(P){let p=P.length<0?0:D7(P.length)|0,X=hX(p);for(let H=0;H<p;H+=1)X[H]=P[H]&255;return X}function $w(P){if(E8(P,Uint8Array)){let p=new Uint8Array(P);return h7(p.buffer,p.byteOffset,p.byteLength)}return H7(P)}function h7(P,p,X){if(p<0||P.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<p+(X||0))throw new RangeError('"length" is outside of buffer bounds');let H;if(p===void 0&&X===void 0)H=new Uint8Array(P);else if(X===void 0)H=new Uint8Array(P,p);else H=new Uint8Array(P,p,X);return Object.setPrototypeOf(H,a.prototype),H}function Zw(P){if(a.isBuffer(P)){let p=D7(P.length)|0,X=hX(p);if(X.length===0)return X;return P.copy(X,0,0,p),X}if(P.length!==void 0){if(typeof P.length!=="number"||numberIsNaN(P.length))return hX(0);return H7(P)}if(P.type==="Buffer"&&Array.isArray(P.data))return H7(P.data)}function D7(P){if(P>=m2)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m2.toString(16)+" bytes");return P|0}function nQ(P,p){if(a.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||E8(P,ArrayBuffer))return P.byteLength;if(typeof P!=="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);let X=P.length,H=arguments.length>2&&arguments[2]===!0;if(!H&&X===0)return 0;let h=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return x7(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X*2;case"hex":return X>>>1;case"base64":return xV(P).length;default:if(h)return H?-1:x7(P).length;p=(""+p).toLowerCase(),h=!0}}function Lw(P,p,X){let H=!1;if(p===void 0||p<0)p=0;if(p>this.length)return"";if(X===void 0||X>this.length)X=this.length;if(X<=0)return"";if(X>>>=0,p>>>=0,X<=p)return"";if(!P)P="utf8";while(!0)switch(P){case"hex":return kw(this,p,X);case"utf8":case"utf-8":return tQ(this,p,X);case"ascii":return bw(this,p,X);case"latin1":case"binary":return jw(this,p,X);case"base64":return qw(this,p,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Iw(this,p,X);default:if(H)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),H=!0}}function B1(P,p,X){let H=P[p];P[p]=P[X],P[X]=H}function sQ(P,p,X,H,h){if(P.length===0)return-1;if(typeof X==="string")H=X,X=0;else if(X>2147483647)X=2147483647;else if(X<-2147483648)X=-2147483648;if(X=+X,Number.isNaN(X))X=h?0:P.length-1;if(X<0)X=P.length+X;if(X>=P.length)if(h)return-1;else X=P.length-1;else if(X<0)if(h)X=0;else return-1;if(typeof p==="string")p=a.from(p,H);if(a.isBuffer(p)){if(p.length===0)return-1;return _Q(P,p,X,H,h)}else if(typeof p==="number"){if(p=p&255,typeof Uint8Array.prototype.indexOf==="function")if(h)return Uint8Array.prototype.indexOf.call(P,p,X);else return Uint8Array.prototype.lastIndexOf.call(P,p,X);return _Q(P,[p],X,H,h)}throw new TypeError("val must be string, number or Buffer")}function _Q(P,p,X,H,h){let x=1,B=P.length,A=p.length;if(H!==void 0){if(H=String(H).toLowerCase(),H==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le"){if(P.length<2||p.length<2)return-1;x=2,B/=2,A/=2,X/=2}}function $(Z,L){if(x===1)return Z[L];else return Z.readUInt16BE(L*x)}let D;if(h){let Z=-1;for(D=X;D<B;D++)if($(P,D)===$(p,Z===-1?0:D-Z)){if(Z===-1)Z=D;if(D-Z+1===A)return Z*x}else{if(Z!==-1)D-=D-Z;Z=-1}}else{if(X+A>B)X=B-A;for(D=X;D>=0;D--){let Z=!0;for(let L=0;L<A;L++)if($(P,D+L)!==$(p,L)){Z=!1;break}if(Z)return D}}return-1}function fw(P,p,X,H){X=Number(X)||0;let h=P.length-X;if(!H)H=h;else if(H=Number(H),H>h)H=h;let x=p.length;if(H>x/2)H=x/2;let B;for(B=0;B<H;++B){let A=parseInt(p.substr(B*2,2),16);if(numberIsNaN(A))return B;P[X+B]=A}return B}function Fw(P,p,X,H){return jD(x7(p,P.length-X),P,X,H)}function Cw(P,p,X,H){return jD(Ew(p),P,X,H)}function Qw(P,p,X,H){return jD(xV(p),P,X,H)}function Vw(P,p,X,H){return jD(ww(p,P.length-X),P,X,H)}function qw(P,p,X){if(p===0&&X===P.length)return yQ(P);else return yQ(P.slice(p,X))}function tQ(P,p,X){X=Math.min(P.length,X);let H=[],h=p;while(h<X){let x=P[h],B=null,A=x>239?4:x>223?3:x>191?2:1;if(h+A<=X){let $,D,Z,L;switch(A){case 1:if(x<128)B=x;break;case 2:if($=P[h+1],($&192)===128){if(L=(x&31)<<6|$&63,L>127)B=L}break;case 3:if($=P[h+1],D=P[h+2],($&192)===128&&(D&192)===128){if(L=(x&15)<<12|($&63)<<6|D&63,L>2047&&(L<55296||L>57343))B=L}break;case 4:if($=P[h+1],D=P[h+2],Z=P[h+3],($&192)===128&&(D&192)===128&&(Z&192)===128){if(L=(x&15)<<18|($&63)<<12|(D&63)<<6|Z&63,L>65535&&L<1114112)B=L}}}if(B===null)B=65533,A=1;else if(B>65535)B-=65536,H.push(B>>>10&1023|55296),B=56320|B&1023;H.push(B),h+=A}return Yw(H)}function Yw(P){let p=P.length;if(p<=uQ)return String.fromCharCode.apply(String,P);let X="",H=0;while(H<p)X+=String.fromCharCode.apply(String,P.slice(H,H+=uQ));return X}function bw(P,p,X){let H="";X=Math.min(P.length,X);for(let h=p;h<X;++h)H+=String.fromCharCode(P[h]&127);return H}function jw(P,p,X){let H="";X=Math.min(P.length,X);for(let h=p;h<X;++h)H+=String.fromCharCode(P[h]);return H}function kw(P,p,X){let H=P.length;if(!p||p<0)p=0;if(!X||X<0||X>H)X=H;let h="";for(let x=p;x<X;++x)h+=zw[P[x]];return h}function Iw(P,p,X){let H=P.slice(p,X),h="";for(let x=0;x<H.length-1;x+=2)h+=String.fromCharCode(H[x]+H[x+1]*256);return h}function RP(P,p,X){if(P%1!==0||P<0)throw new RangeError("offset is not uint");if(P+p>X)throw new RangeError("Trying to access beyond buffer length")}function hp(P,p,X,H,h,x){if(!a.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>h||p<x)throw new RangeError('"value" argument is out of bounds');if(X+H>P.length)throw new RangeError("Index out of range")}function eQ(P,p,X,H,h){hV(p,H,h,P,X,7);let x=Number(p&BigInt(4294967295));P[X++]=x,x=x>>8,P[X++]=x,x=x>>8,P[X++]=x,x=x>>8,P[X++]=x;let B=Number(p>>BigInt(32)&BigInt(4294967295));return P[X++]=B,B=B>>8,P[X++]=B,B=B>>8,P[X++]=B,B=B>>8,P[X++]=B,X}function PV(P,p,X,H,h){hV(p,H,h,P,X,7);let x=Number(p&BigInt(4294967295));P[X+7]=x,x=x>>8,P[X+6]=x,x=x>>8,P[X+5]=x,x=x>>8,P[X+4]=x;let B=Number(p>>BigInt(32)&BigInt(4294967295));return P[X+3]=B,B=B>>8,P[X+2]=B,B=B>>8,P[X+1]=B,B=B>>8,P[X]=B,X+8}function pV(P,p,X,H,h,x){if(X+H>P.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function XV(P,p,X,H,h){if(p=+p,X=X>>>0,!h)pV(P,p,X,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000);return mQ(P,p,X,H,23,4),X+4}function HV(P,p,X,H,h){if(p=+p,X=X>>>0,!h)pV(P,p,X,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);return mQ(P,p,X,H,52,8),X+8}function iQ(P){let p="",X=P.length,H=P[0]==="-"?1:0;for(;X>=H+4;X-=3)p=`_${P.slice(X-3,X)}${p}`;return`${P.slice(0,X)}${p}`}function Tw(P,p,X){if(Kh(p,"offset"),P[p]===void 0||P[p+X]===void 0)a2(p,P.length-(X+1))}function hV(P,p,X,H,h,x){if(P>X||P<p){let B=typeof p==="bigint"?"n":"",A;if(x>3)if(p===0||p===BigInt(0))A=`>= 0${B} and < 2${B} ** ${(x+1)*8}${B}`;else A=`>= -(2${B} ** ${(x+1)*8-1}${B}) and < 2 ** ${(x+1)*8-1}${B}`;else A=`>= ${p}${B} and <= ${X}${B}`;throw new X7("value",A,P)}Tw(H,h,x)}function Kh(P,p){if(typeof P!=="number")throw new Bw(p,"number",P)}function a2(P,p,X){if(Math.floor(P)!==P)throw Kh(P,X),new X7(X||"offset","an integer",P);if(p<0)throw new xw;throw new X7(X||"offset",`>= ${X?1:0} and <= ${p}`,P)}function Ww(P){if(P=P.split("=")[0],P=P.trim().replace(Mw,""),P.length<2)return"";while(P.length%4!==0)P=P+"=";return P}function x7(P,p){p=p||1/0;let X,H=P.length,h=null,x=[];for(let B=0;B<H;++B){if(X=P.charCodeAt(B),X>55295&&X<57344){if(!h){if(X>56319){if((p-=3)>-1)x.push(239,191,189);continue}else if(B+1===H){if((p-=3)>-1)x.push(239,191,189);continue}h=X;continue}if(X<56320){if((p-=3)>-1)x.push(239,191,189);h=X;continue}X=(h-55296<<10|X-56320)+65536}else if(h){if((p-=3)>-1)x.push(239,191,189)}if(h=null,X<128){if((p-=1)<0)break;x.push(X)}else if(X<2048){if((p-=2)<0)break;x.push(X>>6|192,X&63|128)}else if(X<65536){if((p-=3)<0)break;x.push(X>>12|224,X>>6&63|128,X&63|128)}else if(X<1114112){if((p-=4)<0)break;x.push(X>>18|240,X>>12&63|128,X>>6&63|128,X&63|128)}else throw new Error("Invalid code point")}return x}function Ew(P){let p=[];for(let X=0;X<P.length;++X)p.push(P.charCodeAt(X)&255);return p}function ww(P,p){let X,H,h,x=[];for(let B=0;B<P.length;++B){if((p-=2)<0)break;X=P.charCodeAt(B),H=X>>8,h=X%256,x.push(h),x.push(H)}return x}function xV(P){return nE(Ww(P))}function jD(P,p,X,H){let h;for(h=0;h<H;++h){if(h+X>=p.length||h>=P.length)break;p[h+X]=P[h]}return h}function E8(P,p){return P instanceof p||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===p.name}function xH(P){return typeof BigInt==="undefined"?Jw:P}function Jw(){throw new Error("BigInt not supported")}function $7(P){return()=>{throw new Error(P+" is not implemented for node:buffer browser polyfill")}}var W8,lp,p7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x1,lQ,gQ,eE=50,m2=2147483647,aQ=536870888,Pw,pw,Xw,Hw,hw,xw,Bw,X7,uQ=4096,Mw,zw,Kw,Rw,Uw=(P)=>{for(let p of P)if(p.charCodeAt(0)>127)return!1;return!0},Sw,Gw;var BX=vx(()=>{W8=[],lp=[];for(x1=0,lQ=p7.length;x1<lQ;++x1)W8[x1]=p7[x1],lp[p7.charCodeAt(x1)]=x1;lp[45]=62;lp[95]=63;gQ=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):null,Pw=globalThis.btoa,pw=globalThis.atob,Xw=globalThis.File,Hw=globalThis.Blob,hw={MAX_LENGTH:m2,MAX_STRING_LENGTH:aQ};xw=B7("ERR_BUFFER_OUT_OF_BOUNDS",function(P){if(P)return`${P} is outside of buffer bounds`;return"Attempt to access memory outside buffer bounds"},RangeError),Bw=B7("ERR_INVALID_ARG_TYPE",function(P,p){return`The "${P}" argument must be of type number. Received type ${typeof p}`},TypeError),X7=B7("ERR_OUT_OF_RANGE",function(P,p,X){let H=`The value of "${P}" is out of range.`,h=X;if(Number.isInteger(X)&&Math.abs(X)>4294967296)h=iQ(String(X));else if(typeof X==="bigint"){if(h=String(X),X>BigInt(2)**BigInt(32)||X<-(BigInt(2)**BigInt(32)))h=iQ(h);h+="n"}return H+=` It must be ${p}. Received ${h}`,H},RangeError);Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(!a.isBuffer(this))return;return this.buffer}});Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(!a.isBuffer(this))return;return this.byteOffset}});a.poolSize=8192;a.from=function(P,p,X){return oQ(P,p,X)};Object.setPrototypeOf(a.prototype,Uint8Array.prototype);Object.setPrototypeOf(a,Uint8Array);a.alloc=function(P,p,X){return Aw(P,p,X)};a.allocUnsafe=function(P){return A7(P)};a.allocUnsafeSlow=function(P){return A7(P)};a.isBuffer=function P(p){return p!=null&&p._isBuffer===!0&&p!==a.prototype};a.compare=function P(p,X){if(E8(p,Uint8Array))p=a.from(p,p.offset,p.byteLength);if(E8(X,Uint8Array))X=a.from(X,X.offset,X.byteLength);if(!a.isBuffer(p)||!a.isBuffer(X))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===X)return 0;let H=p.length,h=X.length;for(let x=0,B=Math.min(H,h);x<B;++x)if(p[x]!==X[x]){H=p[x],h=X[x];break}if(H<h)return-1;if(h<H)return 1;return 0};a.isEncoding=function P(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};a.concat=function P(p,X){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return a.alloc(0);let H;if(X===void 0){X=0;for(H=0;H<p.length;++H)X+=p[H].length}let h=a.allocUnsafe(X),x=0;for(H=0;H<p.length;++H){let B=p[H];if(E8(B,Uint8Array))if(x+B.length>h.length){if(!a.isBuffer(B))B=a.from(B);B.copy(h,x)}else Uint8Array.prototype.set.call(h,B,x);else if(!a.isBuffer(B))throw new TypeError('"list" argument must be an Array of Buffers');else B.copy(h,x);x+=B.length}return h};a.byteLength=nQ;a.prototype._isBuffer=!0;a.prototype.swap16=function P(){let p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let X=0;X<p;X+=2)B1(this,X,X+1);return this};a.prototype.swap32=function P(){let p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let X=0;X<p;X+=4)B1(this,X,X+3),B1(this,X+1,X+2);return this};a.prototype.swap64=function P(){let p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let X=0;X<p;X+=8)B1(this,X,X+7),B1(this,X+1,X+6),B1(this,X+2,X+5),B1(this,X+3,X+4);return this};a.prototype.toString=function P(){let p=this.length;if(p===0)return"";if(arguments.length===0)return tQ(this,0,p);return Lw.apply(this,arguments)};a.prototype.toLocaleString=a.prototype.toString;a.prototype.equals=function P(p){if(!a.isBuffer(p))throw new TypeError("Argument must be a Buffer");if(this===p)return!0;return a.compare(this,p)===0};a.prototype.inspect=function P(){let p="",X=exports_buffer.INSPECT_MAX_BYTES;if(p=this.toString("hex",0,X).replace(/(.{2})/g,"$1 ").trim(),this.length>X)p+=" ... ";return"<Buffer "+p+">"};if(gQ)a.prototype[gQ]=a.prototype.inspect;a.prototype.compare=function P(p,X,H,h,x){if(E8(p,Uint8Array))p=a.from(p,p.offset,p.byteLength);if(!a.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(X===void 0)X=0;if(H===void 0)H=p?p.length:0;if(h===void 0)h=0;if(x===void 0)x=this.length;if(X<0||H>p.length||h<0||x>this.length)throw new RangeError("out of range index");if(h>=x&&X>=H)return 0;if(h>=x)return-1;if(X>=H)return 1;if(X>>>=0,H>>>=0,h>>>=0,x>>>=0,this===p)return 0;let B=x-h,A=H-X,$=Math.min(B,A),D=this.slice(h,x),Z=p.slice(X,H);for(let L=0;L<$;++L)if(D[L]!==Z[L]){B=D[L],A=Z[L];break}if(B<A)return-1;if(A<B)return 1;return 0};a.prototype.includes=function P(p,X,H){return this.indexOf(p,X,H)!==-1};a.prototype.indexOf=function P(p,X,H){return sQ(this,p,X,H,!0)};a.prototype.lastIndexOf=function P(p,X,H){return sQ(this,p,X,H,!1)};a.prototype.write=function P(p,X,H,h){if(X===void 0)h="utf8",H=this.length,X=0;else if(H===void 0&&typeof X==="string")h=X,H=this.length,X=0;else if(isFinite(X))if(X=X>>>0,isFinite(H)){if(H=H>>>0,h===void 0)h="utf8"}else h=H,H=void 0;else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let x=this.length-X;if(H===void 0||H>x)H=x;if(p.length>0&&(H<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");if(!h)h="utf8";let B=!1;for(;;)switch(h){case"hex":return fw(this,p,X,H);case"utf8":case"utf-8":return Fw(this,p,X,H);case"ascii":case"latin1":case"binary":return Cw(this,p,X,H);case"base64":return Qw(this,p,X,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Vw(this,p,X,H);default:if(B)throw new TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),B=!0}};a.prototype.toJSON=function P(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};a.prototype.slice=function P(p,X){let H=this.length;if(p=~~p,X=X===void 0?H:~~X,p<0){if(p+=H,p<0)p=0}else if(p>H)p=H;if(X<0){if(X+=H,X<0)X=0}else if(X>H)X=H;if(X<p)X=p;let h=this.subarray(p,X);return Object.setPrototypeOf(h,a.prototype),h};a.prototype.readUintLE=a.prototype.readUIntLE=function P(p,X,H){if(p=p>>>0,X=X>>>0,!H)RP(p,X,this.length);let h=this[p],x=1,B=0;while(++B<X&&(x*=256))h+=this[p+B]*x;return h};a.prototype.readUintBE=a.prototype.readUIntBE=function P(p,X,H){if(p=p>>>0,X=X>>>0,!H)RP(p,X,this.length);let h=this[p+--X],x=1;while(X>0&&(x*=256))h+=this[p+--X]*x;return h};a.prototype.readUint8=a.prototype.readUInt8=function P(p,X){if(p=p>>>0,!X)RP(p,1,this.length);return this[p]};a.prototype.readUint16LE=a.prototype.readUInt16LE=function P(p,X){if(p=p>>>0,!X)RP(p,2,this.length);return this[p]|this[p+1]<<8};a.prototype.readUint16BE=a.prototype.readUInt16BE=function P(p,X){if(p=p>>>0,!X)RP(p,2,this.length);return this[p]<<8|this[p+1]};a.prototype.readUint32LE=a.prototype.readUInt32LE=function P(p,X){if(p=p>>>0,!X)RP(p,4,this.length);return(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216};a.prototype.readUint32BE=a.prototype.readUInt32BE=function P(p,X){if(p=p>>>0,!X)RP(p,4,this.length);return this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])};a.prototype.readBigUInt64LE=xH(function P(p){p=p>>>0,Kh(p,"offset");let X=this[p],H=this[p+7];if(X===void 0||H===void 0)a2(p,this.length-8);let h=X+this[++p]*256+this[++p]*65536+this[++p]*16777216,x=this[++p]+this[++p]*256+this[++p]*65536+H*16777216;return BigInt(h)+(BigInt(x)<<BigInt(32))});a.prototype.readBigUInt64BE=xH(function P(p){p=p>>>0,Kh(p,"offset");let X=this[p],H=this[p+7];if(X===void 0||H===void 0)a2(p,this.length-8);let h=X*16777216+this[++p]*65536+this[++p]*256+this[++p],x=this[++p]*16777216+this[++p]*65536+this[++p]*256+H;return(BigInt(h)<<BigInt(32))+BigInt(x)});a.prototype.readIntLE=function P(p,X,H){if(p=p>>>0,X=X>>>0,!H)RP(p,X,this.length);let h=this[p],x=1,B=0;while(++B<X&&(x*=256))h+=this[p+B]*x;if(x*=128,h>=x)h-=Math.pow(2,8*X);return h};a.prototype.readIntBE=function P(p,X,H){if(p=p>>>0,X=X>>>0,!H)RP(p,X,this.length);let h=X,x=1,B=this[p+--h];while(h>0&&(x*=256))B+=this[p+--h]*x;if(x*=128,B>=x)B-=Math.pow(2,8*X);return B};a.prototype.readInt8=function P(p,X){if(p=p>>>0,!X)RP(p,1,this.length);if(!(this[p]&128))return this[p];return(255-this[p]+1)*-1};a.prototype.readInt16LE=function P(p,X){if(p=p>>>0,!X)RP(p,2,this.length);let H=this[p]|this[p+1]<<8;return H&32768?H|4294901760:H};a.prototype.readInt16BE=function P(p,X){if(p=p>>>0,!X)RP(p,2,this.length);let H=this[p+1]|this[p]<<8;return H&32768?H|4294901760:H};a.prototype.readInt32LE=function P(p,X){if(p=p>>>0,!X)RP(p,4,this.length);return this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24};a.prototype.readInt32BE=function P(p,X){if(p=p>>>0,!X)RP(p,4,this.length);return this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]};a.prototype.readBigInt64LE=xH(function P(p){p=p>>>0,Kh(p,"offset");let X=this[p],H=this[p+7];if(X===void 0||H===void 0)a2(p,this.length-8);let h=this[p+4]+this[p+5]*256+this[p+6]*65536+(H<<24);return(BigInt(h)<<BigInt(32))+BigInt(X+this[++p]*256+this[++p]*65536+this[++p]*16777216)});a.prototype.readBigInt64BE=xH(function P(p){p=p>>>0,Kh(p,"offset");let X=this[p],H=this[p+7];if(X===void 0||H===void 0)a2(p,this.length-8);let h=(X<<24)+this[++p]*65536+this[++p]*256+this[++p];return(BigInt(h)<<BigInt(32))+BigInt(this[++p]*16777216+this[++p]*65536+this[++p]*256+H)});a.prototype.readFloatLE=function P(p,X){if(p=p>>>0,!X)RP(p,4,this.length);return bD(this,p,!0,23,4)};a.prototype.readFloatBE=function P(p,X){if(p=p>>>0,!X)RP(p,4,this.length);return bD(this,p,!1,23,4)};a.prototype.readDoubleLE=function P(p,X){if(p=p>>>0,!X)RP(p,8,this.length);return bD(this,p,!0,52,8)};a.prototype.readDoubleBE=function P(p,X){if(p=p>>>0,!X)RP(p,8,this.length);return bD(this,p,!1,52,8)};a.prototype.writeUintLE=a.prototype.writeUIntLE=function P(p,X,H,h){if(p=+p,X=X>>>0,H=H>>>0,!h){let A=Math.pow(2,8*H)-1;hp(this,p,X,H,A,0)}let x=1,B=0;this[X]=p&255;while(++B<H&&(x*=256))this[X+B]=p/x&255;return X+H};a.prototype.writeUintBE=a.prototype.writeUIntBE=function P(p,X,H,h){if(p=+p,X=X>>>0,H=H>>>0,!h){let A=Math.pow(2,8*H)-1;hp(this,p,X,H,A,0)}let x=H-1,B=1;this[X+x]=p&255;while(--x>=0&&(B*=256))this[X+x]=p/B&255;return X+H};a.prototype.writeUint8=a.prototype.writeUInt8=function P(p,X,H){if(p=+p,X=X>>>0,!H)hp(this,p,X,1,255,0);return this[X]=p&255,X+1};a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function P(p,X,H){if(p=+p,X=X>>>0,!H)hp(this,p,X,2,65535,0);return this[X]=p&255,this[X+1]=p>>>8,X+2};a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function P(p,X,H){if(p=+p,X=X>>>0,!H)hp(this,p,X,2,65535,0);return this[X]=p>>>8,this[X+1]=p&255,X+2};a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function P(p,X,H){if(p=+p,X=X>>>0,!H)hp(this,p,X,4,4294967295,0);return this[X+3]=p>>>24,this[X+2]=p>>>16,this[X+1]=p>>>8,this[X]=p&255,X+4};a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function P(p,X,H){if(p=+p,X=X>>>0,!H)hp(this,p,X,4,4294967295,0);return this[X]=p>>>24,this[X+1]=p>>>16,this[X+2]=p>>>8,this[X+3]=p&255,X+4};a.prototype.writeBigUInt64LE=xH(function P(p,X=0){return eQ(this,p,X,BigInt(0),BigInt("0xffffffffffffffff"))});a.prototype.writeBigUInt64BE=xH(function P(p,X=0){return PV(this,p,X,BigInt(0),BigInt("0xffffffffffffffff"))});a.prototype.writeIntLE=function P(p,X,H,h){if(p=+p,X=X>>>0,!h){let $=Math.pow(2,8*H-1);hp(this,p,X,H,$-1,-$)}let x=0,B=1,A=0;this[X]=p&255;while(++x<H&&(B*=256)){if(p<0&&A===0&&this[X+x-1]!==0)A=1;this[X+x]=(p/B>>0)-A&255}return X+H};a.prototype.writeIntBE=function P(p,X,H,h){if(p=+p,X=X>>>0,!h){let $=Math.pow(2,8*H-1);hp(this,p,X,H,$-1,-$)}let x=H-1,B=1,A=0;this[X+x]=p&255;while(--x>=0&&(B*=256)){if(p<0&&A===0&&this[X+x+1]!==0)A=1;this[X+x]=(p/B>>0)-A&255}return X+H};a.prototype.writeInt8=function P(p,X,H){if(p=+p,X=X>>>0,!H)hp(this,p,X,1,127,-128);if(p<0)p=255+p+1;return this[X]=p&255,X+1};a.prototype.writeInt16LE=function P(p,X,H){if(p=+p,X=X>>>0,!H)hp(this,p,X,2,32767,-32768);return this[X]=p&255,this[X+1]=p>>>8,X+2};a.prototype.writeInt16BE=function P(p,X,H){if(p=+p,X=X>>>0,!H)hp(this,p,X,2,32767,-32768);return this[X]=p>>>8,this[X+1]=p&255,X+2};a.prototype.writeInt32LE=function P(p,X,H){if(p=+p,X=X>>>0,!H)hp(this,p,X,4,2147483647,-2147483648);return this[X]=p&255,this[X+1]=p>>>8,this[X+2]=p>>>16,this[X+3]=p>>>24,X+4};a.prototype.writeInt32BE=function P(p,X,H){if(p=+p,X=X>>>0,!H)hp(this,p,X,4,2147483647,-2147483648);if(p<0)p=4294967295+p+1;return this[X]=p>>>24,this[X+1]=p>>>16,this[X+2]=p>>>8,this[X+3]=p&255,X+4};a.prototype.writeBigInt64LE=xH(function P(p,X=0){return eQ(this,p,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});a.prototype.writeBigInt64BE=xH(function P(p,X=0){return PV(this,p,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});a.prototype.writeFloatLE=function P(p,X,H){return XV(this,p,X,!0,H)};a.prototype.writeFloatBE=function P(p,X,H){return XV(this,p,X,!1,H)};a.prototype.writeDoubleLE=function P(p,X,H){return HV(this,p,X,!0,H)};a.prototype.writeDoubleBE=function P(p,X,H){return HV(this,p,X,!1,H)};a.prototype.copy=function P(p,X,H,h){if(!a.isBuffer(p))throw new TypeError("argument should be a Buffer");if(!H)H=0;if(!h&&h!==0)h=this.length;if(X>=p.length)X=p.length;if(!X)X=0;if(h>0&&h<H)h=H;if(h===H)return 0;if(p.length===0||this.length===0)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("sourceEnd out of bounds");if(h>this.length)h=this.length;if(p.length-X<h-H)h=p.length-X+H;let x=h-H;if(this===p&&typeof Uint8Array.prototype.copyWithin==="function")this.copyWithin(X,H,h);else Uint8Array.prototype.set.call(p,this.subarray(H,h),X);return x};a.prototype.fill=function P(p,X,H,h){if(typeof p==="string"){if(typeof X==="string")h=X,X=0,H=this.length;else if(typeof H==="string")h=H,H=this.length;if(h!==void 0&&typeof h!=="string")throw new TypeError("encoding must be a string");if(typeof h==="string"&&!a.isEncoding(h))throw new TypeError("Unknown encoding: "+h);if(p.length===1){let B=p.charCodeAt(0);if(h==="utf8"&&B<128||h==="latin1")p=B}}else if(typeof p==="number")p=p&255;else if(typeof p==="boolean")p=Number(p);if(X<0||this.length<X||this.length<H)throw new RangeError("Out of range index");if(H<=X)return this;if(X=X>>>0,H=H===void 0?this.length:H>>>0,!p)p=0;let x;if(typeof p==="number")for(x=X;x<H;++x)this[x]=p;else{let B=a.isBuffer(p)?p:a.from(p,h),A=B.length;if(A===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(x=0;x<H-X;++x)this[x+X]=B[x%A]}return this};Mw=/[^+/0-9A-Za-z-_]/g;zw=function(){let P=new Array(256);for(let p=0;p<16;++p){let X=p*16;for(let H=0;H<16;++H)P[X+H]="0123456789abcdef"[p]+"0123456789abcdef"[H]}return P}();Kw=$7("resolveObjectURL"),Rw=$7("isUtf8"),Sw=$7("transcode"),Gw=a});var r2={};aB(r2,{setMaxListeners:()=>VV,once:()=>CV,listenerCount:()=>qV,init:()=>BH,getMaxListeners:()=>bV,getEventListeners:()=>QV,default:()=>_w,captureRejectionSymbol:()=>ZV,addAbortListener:()=>jV,EventEmitter:()=>BH});function LV(P,p){var{_events:X}=P;if(p[0]??=new Error("Unhandled error."),!X)throw p[0];var H=X[$V];if(H)for(var h of AV.$call(H))h.$apply(P,p);var x=X.error;if(!x)throw p[0];for(var h of AV.$call(x))h.$apply(P,p);return!0}function cw(P,p,X,H){p.then(void 0,function(h){process.nextTick(Ow,P,h,X,H)})}function Ow(P,p,X,H){if(typeof P[BV]==="function")P[BV](p,X,...H);else try{P[A1]=!1,P.emit("error",p)}finally{P[A1]=!0}}function fV(P,p,X){X.warned=!0;let H=new Error(`Possible EventEmitter memory leak detected. ${X.length} ${String(p)} listeners added to [${P.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);H.name="MaxListenersExceededWarning",H.emitter=P,H.type=p,H.count=X.length,process.emitWarning(H)}function FV(P,p,...X){this.removeListener(P,p),p.$apply(this,X)}function CV(P,p,X){var H=X?.signal;if(YV(H,"options.signal"),H?.aborted)throw new Z7(void 0,{cause:H?.reason});let{resolve:h,reject:x,promise:B}=$newPromiseCapability(Promise),A=(Z)=>{if(P.removeListener(p,$),H!=null)kD(H,"abort",D);x(Z)},$=(...Z)=>{if(typeof P.removeListener==="function")P.removeListener("error",A);if(H!=null)kD(H,"abort",D);h(Z)};if(DV(P,p,$,{once:!0}),p!=="error"&&typeof P.once==="function")P.once("error",A);function D(){kD(P,p,$),kD(P,"error",A),x(new Z7(void 0,{cause:H?.reason}))}if(H!=null)DV(H,"abort",D,{once:!0});return B}function QV(P,p){return P.listeners(p)}function VV(P,...p){f7(P,"setMaxListeners",0);var X;if(p&&(X=p.length))for(let H=0;H<X;H++)p[H].setMaxListeners(P);else D1=P}function qV(P,p){return P.listenerCount(p)}function kD(P,p,X,H){if(typeof P.removeListener==="function")P.removeListener(p,X);else P.removeEventListener(p,X,H)}function DV(P,p,X,H){if(typeof P.on==="function")if(H.once)P.once(p,X);else P.on(p,X);else P.addEventListener(p,X,H)}function Rh(P,p,X){let H=new TypeError(`The "${P}" argument must be of type ${p}. Received ${X}`);return H.code="ERR_INVALID_ARG_TYPE",H}function yw(P,p,X){let H=new RangeError(`The "${P}" argument is out of range. It must be ${p}. Received ${X}`);return H.code="ERR_OUT_OF_RANGE",H}function YV(P,p){if(P!==void 0&&(P===null||typeof P!=="object"||!("aborted"in P)))throw Rh(p,"AbortSignal",P)}function f7(P,p,X,H){if(typeof P!=="number")throw Rh(p,"number",P);if(X!=null&&P<X||H!=null&&P>H||(X!=null||H!=null)&&Number.isNaN(P))throw yw(p,`${X!=null?`>= ${X}`:""}${X!=null&&H!=null?" && ":""}${H!=null?`<= ${H}`:""}`,P)}function o2(P){if(typeof P!=="function")throw new TypeError("The listener must be a function")}function gw(P,p){if(typeof P!=="boolean")throw Rh(p,"boolean",P)}function bV(P){return P?._maxListeners??D1}function jV(P,p){if(P===void 0)throw Rh("signal","AbortSignal",P);if(YV(P,"signal"),typeof p!=="function")throw Rh("listener","function",p);let X;if(P.aborted)queueMicrotask(()=>p());else P.addEventListener("abort",p,{__proto__:null,once:!0}),X=()=>{P.removeEventListener("abort",p)};return{__proto__:null,[Symbol.dispose](){X?.()}}}var L7,A1,$V,Nw,vw,BV,ZV,AV,D1=10,BH=function P(p){if(this._events===void 0||this._events===this.__proto__._events)this._events={__proto__:null},this._eventsCount=0;if(this._maxListeners??=void 0,this[A1]=p?.captureRejections?Boolean(p?.captureRejections):o0[A1])this.emit=lw},o0,dw=function P(p,...X){if(p==="error")return LV(this,X);var{_events:H}=this;if(H===void 0)return!1;var h=H[p];if(h===void 0)return!1;let x=h.length>1?h.slice():h;for(let B=0,{length:A}=x;B<A;B++){let $=x[B];switch(X.length){case 0:$.$call(this);break;case 1:$.$call(this,X[0]);break;case 2:$.$call(this,X[0],X[1]);break;case 3:$.$call(this,X[0],X[1],X[2]);break;default:$.$apply(this,X);break}}return!0},lw=function P(p,...X){if(p==="error")return LV(this,X);var{_events:H}=this;if(H===void 0)return!1;var h=H[p];if(h===void 0)return!1;let x=h.length>1?h.slice():h;for(let B=0,{length:A}=x;B<A;B++){let $=x[B],D;switch(X.length){case 0:D=$.$call(this);break;case 1:D=$.$call(this,X[0]);break;case 2:D=$.$call(this,X[0],X[1]);break;case 3:D=$.$call(this,X[0],X[1],X[2]);break;default:D=$.$apply(this,X);break}if(D!==void 0&&$isPromise(D))cw(this,D,p,X)}return!0},Z7,_w;var n2=vx(()=>{L7=Symbol.for,A1=Symbol("kCapture"),$V=L7("events.errorMonitor"),Nw=Symbol("events.maxEventTargetListeners"),vw=Symbol("events.maxEventTargetListenersWarned"),BV=L7("nodejs.rejection"),ZV=L7("nodejs.rejection"),AV=Array.prototype.slice,o0=BH.prototype={};o0._events=void 0;o0._eventsCount=0;o0._maxListeners=void 0;o0.setMaxListeners=function P(p){return f7(p,"setMaxListeners",0),this._maxListeners=p,this};o0.constructor=BH;o0.getMaxListeners=function P(){return this?._maxListeners??D1};o0.emit=dw;o0.addListener=function P(p,X){o2(X);var H=this._events;if(!H)H=this._events={__proto__:null},this._eventsCount=0;else if(H.newListener)this.emit("newListener",p,X.listener??X);var h=H[p];if(!h)H[p]=[X],this._eventsCount++;else{h.push(X);var x=this._maxListeners??D1;if(x>0&&h.length>x&&!h.warned)fV(this,p,h)}return this};o0.on=o0.addListener;o0.prependListener=function P(p,X){o2(X);var H=this._events;if(!H)H=this._events={__proto__:null},this._eventsCount=0;else if(H.newListener)this.emit("newListener",p,X.listener??X);var h=H[p];if(!h)H[p]=[X],this._eventsCount++;else{h.unshift(X);var x=this._maxListeners??D1;if(x>0&&h.length>x&&!h.warned)fV(this,p,h)}return this};o0.once=function P(p,X){o2(X);let H=FV.bind(this,p,X);return H.listener=X,this.addListener(p,H),this};o0.prependOnceListener=function P(p,X){o2(X);let H=FV.bind(this,p,X);return H.listener=X,this.prependListener(p,H),this};o0.removeListener=function P(p,X){o2(X);var{_events:H}=this;if(!H)return this;var h=H[p];if(!h)return this;var x=h.length;let B=-1;for(let A=x-1;A>=0;A--)if(h[A]===X||h[A].listener===X){B=A;break}if(B<0)return this;if(B===0)h.shift();else h.splice(B,1);if(h.length===0)delete H[p],this._eventsCount--;return this};o0.off=o0.removeListener;o0.removeAllListeners=function P(p){var{_events:X}=this;if(p&&X){if(X[p])delete X[p],this._eventsCount--}else this._events={__proto__:null};return this};o0.listeners=function P(p){var{_events:X}=this;if(!X)return[];var H=X[p];if(!H)return[];return H.map((h)=>h.listener??h)};o0.rawListeners=function P(p){var{_events:X}=this;if(!X)return[];var H=X[p];if(!H)return[];return H.slice()};o0.listenerCount=function P(p){var{_events:X}=this;if(!X)return 0;return X[p]?.length??0};o0.eventNames=function P(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};o0[A1]=!1;Z7=class Z7 extends Error{constructor(P="The operation was aborted",p=void 0){if(p!==void 0&&typeof p!=="object")throw Rh("options","Object",p);super(P,p);this.code="ABORT_ERR",this.name="AbortError"}};Object.defineProperties(BH,{captureRejections:{get(){return o0[A1]},set(P){gw(P,"EventEmitter.captureRejections"),o0[A1]=P},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:()=>{return D1},set:(P)=>{f7(P,"defaultMaxListeners",0),D1=P}},kMaxEventTargetListeners:{value:Nw,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:vw,enumerable:!1,configurable:!1,writable:!1}});Object.assign(BH,{once:CV,getEventListeners:QV,getMaxListeners:bV,setMaxListeners:VV,EventEmitter:BH,usingDomains:!1,captureRejectionSymbol:ZV,errorMonitor:$V,addAbortListener:jV,init:BH,listenerCount:qV});_w=BH});var IV={};aB(IV,{versions:()=>sw,version:()=>nw,umask:()=>Lz,title:()=>mw,removeListener:()=>Xz,removeAllListeners:()=>Hz,prependOnceListener:()=>Bz,prependListener:()=>xz,once:()=>Pz,on:()=>tw,off:()=>pz,nextTick:()=>iw,listeners:()=>Az,env:()=>ow,emit:()=>hz,cwd:()=>$z,chdir:()=>Zz,browser:()=>aw,binding:()=>Dz,argv:()=>rw,addListener:()=>ew});function uw(){if(!Uh||!$1)return;if(Uh=!1,$1.length)AX=$1.concat(AX);else ID=-1;if(AX.length)kV()}function kV(){if(Uh)return;var P=setTimeout(uw,0);Uh=!0;var p=AX.length;while(p){$1=AX,AX=[];while(++ID<p)if($1){var X=$1[ID];X.fun.apply(null,X.array)}ID=-1,p=AX.length}$1=null,Uh=!1,clearTimeout(P,0)}function iw(P){var p=new Array(arguments.length-1);if(arguments.length>1)for(var X=1;X<arguments.length;X++)p[X-1]=arguments[X];if(AX.push({fun:P,args:p}),AX.length===1&&!Uh)setTimeout(kV,0)}function DX(){}var AX,Uh=!1,$1,ID=-1,mw="browser",aw=!0,ow,rw,nw="",sw,tw,ew,Pz,pz,Xz,Hz,hz,xz,Bz,Az=function(P){return[]},Dz=function(P){throw new Error("process.binding is not supported in browser polyfill")},$z=function(){return"/"},Zz=function(P){throw new Error("process.chdir is not supported in browser polyfill")},Lz=function(){return 0};var TV=vx(()=>{AX=[];ow={},rw=[],sw={};tw=DX,ew=DX,Pz=DX,pz=DX,Xz=DX,Hz=DX,hz=DX,xz=DX,Bz=DX});var ED={};aB(ED,{wrap:()=>Jz,toWeb:()=>zz,pipeline:()=>_z,isReadable:()=>Gz,isErrored:()=>Sz,isDisturbed:()=>Uz,fromWeb:()=>wz,from:()=>Ez,finished:()=>yz,destroy:()=>gz,default:()=>mz,compose:()=>uz,addAbortSignal:()=>lz,_uint8ArrayToBuffer:()=>Kz,_isUint8Array:()=>Rz,_fromList:()=>Wz,Writable:()=>vz,Transform:()=>Oz,Stream:()=>iz,ReadableState:()=>Mz,Readable:()=>Nz,PassThrough:()=>dz,Duplex:()=>cz});var fz,Fz,MV,Cz,Qz,Vz=(P,p,X)=>{X=P!=null?fz(Fz(P)):{};let H=p||!P||!P.__esModule?MV(X,"default",{value:P,enumerable:!0}):X;for(let h of Cz(P))if(!Qz.call(H,h))MV(H,h,{get:()=>P[h],enumerable:!0});return H},G0=(P,p)=>()=>(p||P((p={exports:{}}).exports,p),p.exports),XP,WV,oP,qz,s2,xp,t2,Z1,ZX,AH,Sh,F7,TD,Yz,MD,bz,jz,EV,WD,C7,kz,$X,wV,zV,Q7,JV,Iz,KV,RV,Tz,HP,Mz,Wz,Ez,wz,zz,Jz,Kz,Rz,Uz,Sz,Gz,Nz,vz,cz,Oz,dz,lz,yz,gz,_z,uz,iz,mz;var wD=vx(()=>{fz=Object.create,{getPrototypeOf:Fz,defineProperty:MV,getOwnPropertyNames:Cz}=Object,Qz=Object.prototype.hasOwnProperty,XP=G0((P,p)=>{class X extends Error{constructor(H){if(!Array.isArray(H))throw new TypeError(`Expected input to be an Array, got ${typeof H}`);let h="";for(let x=0;x<H.length;x++)h+=`    ${H[x].stack}
`;super(h);this.name="AggregateError",this.errors=H}}p.exports={AggregateError:X,ArrayIsArray(H){return Array.isArray(H)},ArrayPrototypeIncludes(H,h){return H.includes(h)},ArrayPrototypeIndexOf(H,h){return H.indexOf(h)},ArrayPrototypeJoin(H,h){return H.join(h)},ArrayPrototypeMap(H,h){return H.map(h)},ArrayPrototypePop(H,h){return H.pop(h)},ArrayPrototypePush(H,h){return H.push(h)},ArrayPrototypeSlice(H,h,x){return H.slice(h,x)},Error,FunctionPrototypeCall(H,h,...x){return H.call(h,...x)},FunctionPrototypeSymbolHasInstance(H,h){return Function.prototype[Symbol.hasInstance].call(H,h)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(H,h){return Object.defineProperties(H,h)},ObjectDefineProperty(H,h,x){return Object.defineProperty(H,h,x)},ObjectGetOwnPropertyDescriptor(H,h){return Object.getOwnPropertyDescriptor(H,h)},ObjectKeys(H){return Object.keys(H)},ObjectSetPrototypeOf(H,h){return Object.setPrototypeOf(H,h)},Promise,PromisePrototypeCatch(H,h){return H.catch(h)},PromisePrototypeThen(H,h,x){return H.then(h,x)},PromiseReject(H){return Promise.reject(H)},PromiseResolve(H){return Promise.resolve(H)},ReflectApply:Reflect.apply,RegExpPrototypeTest(H,h){return H.test(h)},SafeSet:Set,String,StringPrototypeSlice(H,h,x){return H.slice(h,x)},StringPrototypeToLowerCase(H){return H.toLowerCase()},StringPrototypeToUpperCase(H){return H.toUpperCase()},StringPrototypeTrim(H){return H.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(H,h,x){return H.set(h,x)},Boolean,Uint8Array}}),WV=G0((P,p)=>{p.exports={format(X,...H){return X.replace(/%([sdifj])/g,function(...[h,x]){let B=H.shift();if(x==="f")return B.toFixed(6);else if(x==="j")return JSON.stringify(B);else if(x==="s"&&typeof B==="object")return`${B.constructor!==Object?B.constructor.name:""} {}`.trim();else return B.toString()})},inspect(X){switch(typeof X){case"string":if(X.includes("'")){if(!X.includes('"'))return`"${X}"`;else if(!X.includes("`")&&!X.includes("${"))return`\`${X}\``}return`'${X}'`;case"number":if(isNaN(X))return"NaN";else if(Object.is(X,-0))return String(X);return X;case"bigint":return`${String(X)}n`;case"boolean":case"undefined":return String(X);case"object":return"{}"}}}}),oP=G0((P,p)=>{var{format:X,inspect:H}=WV(),{AggregateError:h}=XP(),x=globalThis.AggregateError||h,B=Symbol("kIsNodeError"),A=["string","function","number","object","Function","Object","boolean","bigint","symbol"],$=/^([A-Z][a-z0-9]*)+$/,D={};function Z(Q,C){if(!Q)throw new D.ERR_INTERNAL_ASSERTION(C)}function L(Q){let C="",V=Q.length,Y=Q[0]==="-"?1:0;for(;V>=Y+4;V-=3)C=`_${Q.slice(V-3,V)}${C}`;return`${Q.slice(0,V)}${C}`}function f(Q,C,V){if(typeof C==="function")return Z(C.length<=V.length,`Code: ${Q}; The provided arguments length (${V.length}) does not match the required ones (${C.length}).`),C(...V);let Y=(C.match(/%[dfijoOs]/g)||[]).length;if(Z(Y===V.length,`Code: ${Q}; The provided arguments length (${V.length}) does not match the required ones (${Y}).`),V.length===0)return C;return X(C,...V)}function F(Q,C,V){if(!V)V=Error;class Y extends V{constructor(...k){super(f(Q,C,k))}toString(){return`${this.name} [${Q}]: ${this.message}`}}Object.defineProperties(Y.prototype,{name:{value:V.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Q}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),Y.prototype.code=Q,Y.prototype[B]=!0,D[Q]=Y}function q(Q){let C="__node_internal_"+Q.name;return Object.defineProperty(Q,"name",{value:C}),Q}function b(Q,C){if(Q&&C&&Q!==C){if(Array.isArray(C.errors))return C.errors.push(Q),C;let V=new x([C,Q],C.message);return V.code=C.code,V}return Q||C}class j extends Error{constructor(Q="The operation was aborted",C=void 0){if(C!==void 0&&typeof C!=="object")throw new D.ERR_INVALID_ARG_TYPE("options","Object",C);super(Q,C);this.code="ABORT_ERR",this.name="AbortError"}}F("ERR_ASSERTION","%s",Error),F("ERR_INVALID_ARG_TYPE",(Q,C,V)=>{if(Z(typeof Q==="string","'name' must be a string"),!Array.isArray(C))C=[C];let Y="The ";if(Q.endsWith(" argument"))Y+=`${Q} `;else Y+=`"${Q}" ${Q.includes(".")?"property":"argument"} `;Y+="must be ";let k=[],z=[],W=[];for(let c of C)if(Z(typeof c==="string","All expected entries have to be of type string"),A.includes(c))k.push(c.toLowerCase());else if($.test(c))z.push(c);else Z(c!=="object",'The value "object" should be written as "Object"'),W.push(c);if(z.length>0){let c=k.indexOf("object");if(c!==-1)k.splice(k,c,1),z.push("Object")}if(k.length>0){switch(k.length){case 1:Y+=`of type ${k[0]}`;break;case 2:Y+=`one of type ${k[0]} or ${k[1]}`;break;default:{let c=k.pop();Y+=`one of type ${k.join(", ")}, or ${c}`}}if(z.length>0||W.length>0)Y+=" or "}if(z.length>0){switch(z.length){case 1:Y+=`an instance of ${z[0]}`;break;case 2:Y+=`an instance of ${z[0]} or ${z[1]}`;break;default:{let c=z.pop();Y+=`an instance of ${z.join(", ")}, or ${c}`}}if(W.length>0)Y+=" or "}switch(W.length){case 0:break;case 1:if(W[0].toLowerCase()!==W[0])Y+="an ";Y+=`${W[0]}`;break;case 2:Y+=`one of ${W[0]} or ${W[1]}`;break;default:{let c=W.pop();Y+=`one of ${W.join(", ")}, or ${c}`}}if(V==null)Y+=`. Received ${V}`;else if(typeof V==="function"&&V.name)Y+=`. Received function ${V.name}`;else if(typeof V==="object"){var M;if((M=V.constructor)!==null&&M!==void 0&&M.name)Y+=`. Received an instance of ${V.constructor.name}`;else{let c=H(V,{depth:-1});Y+=`. Received ${c}`}}else{let c=H(V,{colors:!1});if(c.length>25)c=`${c.slice(0,25)}...`;Y+=`. Received type ${typeof V} (${c})`}return Y},TypeError),F("ERR_INVALID_ARG_VALUE",(Q,C,V="is invalid")=>{let Y=H(C);if(Y.length>128)Y=Y.slice(0,128)+"...";return`The ${Q.includes(".")?"property":"argument"} '${Q}' ${V}. Received ${Y}`},TypeError),F("ERR_INVALID_RETURN_VALUE",(Q,C,V)=>{var Y;let k=V!==null&&V!==void 0&&(Y=V.constructor)!==null&&Y!==void 0&&Y.name?`instance of ${V.constructor.name}`:`type ${typeof V}`;return`Expected ${Q} to be returned from the "${C}" function but got ${k}.`},TypeError),F("ERR_MISSING_ARGS",(...Q)=>{Z(Q.length>0,"At least one arg needs to be specified");let C,V=Q.length;switch(Q=(Array.isArray(Q)?Q:[Q]).map((Y)=>`"${Y}"`).join(" or "),V){case 1:C+=`The ${Q[0]} argument`;break;case 2:C+=`The ${Q[0]} and ${Q[1]} arguments`;break;default:{let Y=Q.pop();C+=`The ${Q.join(", ")}, and ${Y} arguments`}break}return`${C} must be specified`},TypeError),F("ERR_OUT_OF_RANGE",(Q,C,V)=>{Z(C,'Missing "range" argument');let Y;if(Number.isInteger(V)&&Math.abs(V)>4294967296)Y=L(String(V));else if(typeof V==="bigint"){Y=String(V);let k=BigInt(2)**BigInt(32);if(V>k||V<-k)Y=L(Y);Y+="n"}else Y=H(V);return`The value of "${Q}" is out of range. It must be ${C}. Received ${Y}`},RangeError),F("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),F("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),F("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),F("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),F("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),F("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),F("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),F("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),F("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),F("ERR_STREAM_WRITE_AFTER_END","write after end",Error),F("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),p.exports={AbortError:j,aggregateTwoErrors:q(b),hideStackFrames:q,codes:D}}),qz=G0((P,p)=>{Object.defineProperty(P,"__esModule",{value:!0});var X=new WeakMap,H=new WeakMap;function h(w){let U=X.get(w);return console.assert(U!=null,"'this' is expected an Event object, but got",w),U}function x(w){if(w.passiveListener!=null){if(typeof console!=="undefined"&&typeof console.error==="function")console.error("Unable to preventDefault inside passive event listener invocation.",w.passiveListener);return}if(!w.event.cancelable)return;if(w.canceled=!0,typeof w.event.preventDefault==="function")w.event.preventDefault()}function B(w,U){X.set(this,{eventTarget:w,event:U,eventPhase:2,currentTarget:w,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:U.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let G=Object.keys(U);for(let J=0;J<G.length;++J){let d=G[J];if(!(d in this))Object.defineProperty(this,d,A(d))}}if(B.prototype={get type(){return h(this).event.type},get target(){return h(this).eventTarget},get currentTarget(){return h(this).currentTarget},composedPath(){let w=h(this).currentTarget;if(w==null)return[];return[w]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return h(this).eventPhase},stopPropagation(){let w=h(this);if(w.stopped=!0,typeof w.event.stopPropagation==="function")w.event.stopPropagation()},stopImmediatePropagation(){let w=h(this);if(w.stopped=!0,w.immediateStopped=!0,typeof w.event.stopImmediatePropagation==="function")w.event.stopImmediatePropagation()},get bubbles(){return Boolean(h(this).event.bubbles)},get cancelable(){return Boolean(h(this).event.cancelable)},preventDefault(){x(h(this))},get defaultPrevented(){return h(this).canceled},get composed(){return Boolean(h(this).event.composed)},get timeStamp(){return h(this).timeStamp},get srcElement(){return h(this).eventTarget},get cancelBubble(){return h(this).stopped},set cancelBubble(w){if(!w)return;let U=h(this);if(U.stopped=!0,typeof U.event.cancelBubble==="boolean")U.event.cancelBubble=!0},get returnValue(){return!h(this).canceled},set returnValue(w){if(!w)x(h(this))},initEvent(){}},Object.defineProperty(B.prototype,"constructor",{value:B,configurable:!0,writable:!0}),typeof window!=="undefined"&&typeof window.Event!=="undefined")Object.setPrototypeOf(B.prototype,window.Event.prototype),H.set(window.Event.prototype,B);function A(w){return{get(){return h(this).event[w]},set(U){h(this).event[w]=U},configurable:!0,enumerable:!0}}function $(w){return{value(){let U=h(this).event;return U[w].apply(U,arguments)},configurable:!0,enumerable:!0}}function D(w,U){let G=Object.keys(U);if(G.length===0)return w;function J(d,S){w.call(this,d,S)}J.prototype=Object.create(w.prototype,{constructor:{value:J,configurable:!0,writable:!0}});for(let d=0;d<G.length;++d){let S=G[d];if(!(S in w.prototype)){let r=typeof Object.getOwnPropertyDescriptor(U,S).value==="function";Object.defineProperty(J.prototype,S,r?$(S):A(S))}}return J}function Z(w){if(w==null||w===Object.prototype)return B;let U=H.get(w);if(U==null)U=D(Z(Object.getPrototypeOf(w)),w),H.set(w,U);return U}function L(w,U){return new(Z(Object.getPrototypeOf(U)))(w,U)}function f(w){return h(w).immediateStopped}function F(w,U){h(w).eventPhase=U}function q(w,U){h(w).currentTarget=U}function b(w,U){h(w).passiveListener=U}var j=new WeakMap,Q=1,C=2,V=3;function Y(w){return w!==null&&typeof w==="object"}function k(w){let U=j.get(w);if(U==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return U}function z(w){return{get(){let U=k(this).get(w);while(U!=null){if(U.listenerType===V)return U.listener;U=U.next}return null},set(U){if(typeof U!=="function"&&!Y(U))U=null;let G=k(this),J=null,d=G.get(w);while(d!=null){if(d.listenerType===V)if(J!==null)J.next=d.next;else if(d.next!==null)G.set(w,d.next);else G.delete(w);else J=d;d=d.next}if(U!==null){let S={listener:U,listenerType:V,passive:!1,once:!1,next:null};if(J===null)G.set(w,S);else J.next=S}},configurable:!0,enumerable:!0}}function W(w,U){Object.defineProperty(w,`on${U}`,z(U))}function M(w){function U(){c.call(this)}U.prototype=Object.create(c.prototype,{constructor:{value:U,configurable:!0,writable:!0}});for(let G=0;G<w.length;++G)W(U.prototype,w[G]);return U}function c(){if(this instanceof c){j.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return M(arguments[0]);if(arguments.length>0){let w=new Array(arguments.length);for(let U=0;U<arguments.length;++U)w[U]=arguments[U];return M(w)}throw new TypeError("Cannot call a class as a function")}if(c.prototype={addEventListener(w,U,G){if(U==null)return;if(typeof U!=="function"&&!Y(U))throw new TypeError("'listener' should be a function or an object.");let J=k(this),d=Y(G),S=(d?Boolean(G.capture):Boolean(G))?Q:C,r={listener:U,listenerType:S,passive:d&&Boolean(G.passive),once:d&&Boolean(G.once),next:null},e=J.get(w);if(e===void 0){J.set(w,r);return}let y=null;while(e!=null){if(e.listener===U&&e.listenerType===S)return;y=e,e=e.next}y.next=r},removeEventListener(w,U,G){if(U==null)return;let J=k(this),d=(Y(G)?Boolean(G.capture):Boolean(G))?Q:C,S=null,r=J.get(w);while(r!=null){if(r.listener===U&&r.listenerType===d){if(S!==null)S.next=r.next;else if(r.next!==null)J.set(w,r.next);else J.delete(w);return}S=r,r=r.next}},dispatchEvent(w){if(w==null||typeof w.type!=="string")throw new TypeError('"event.type" should be a string.');let U=k(this),G=w.type,J=U.get(G);if(J==null)return!0;let d=L(this,w),S=null;while(J!=null){if(J.once)if(S!==null)S.next=J.next;else if(J.next!==null)U.set(G,J.next);else U.delete(G);else S=J;if(b(d,J.passive?J.listener:null),typeof J.listener==="function")try{J.listener.call(this,d)}catch(r){if(typeof console!=="undefined"&&typeof console.error==="function")console.error(r)}else if(J.listenerType!==V&&typeof J.listener.handleEvent==="function")J.listener.handleEvent(d);if(f(d))break;J=J.next}return b(d,null),F(d,0),q(d,null),!d.defaultPrevented}},Object.defineProperty(c.prototype,"constructor",{value:c,configurable:!0,writable:!0}),typeof window!=="undefined"&&typeof window.EventTarget!=="undefined")Object.setPrototypeOf(c.prototype,window.EventTarget.prototype);P.defineEventAttribute=W,P.EventTarget=c,P.default=c,p.exports=c,p.exports.EventTarget=p.exports.default=c,p.exports.defineEventAttribute=W}),s2=G0((P,p)=>{Object.defineProperty(P,"__esModule",{value:!0});var X=qz();class H extends X.EventTarget{constructor(){super();throw new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let Z=B.get(this);if(typeof Z!=="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return Z}}X.defineEventAttribute(H.prototype,"abort");function h(){let Z=Object.create(H.prototype);return X.EventTarget.call(Z),B.set(Z,!1),Z}function x(Z){if(B.get(Z)!==!1)return;B.set(Z,!0),Z.dispatchEvent({type:"abort"})}var B=new WeakMap;if(Object.defineProperties(H.prototype,{aborted:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(H.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class A{constructor(){$.set(this,h())}get signal(){return D(this)}abort(){x(D(this))}}var $=new WeakMap;function D(Z){let L=$.get(Z);if(L==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${Z===null?"null":typeof Z}`);return L}if(Object.defineProperties(A.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(A.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});P.AbortController=A,P.AbortSignal=H,P.default=A,p.exports=A,p.exports.AbortController=p.exports.default=A,p.exports.AbortSignal=H}),xp=G0((P,p)=>{var X=(BX(),lP(xX)),{format:H,inspect:h}=WV(),{codes:{ERR_INVALID_ARG_TYPE:x}}=oP(),{kResistStopPropagation:B,AggregateError:A,SymbolDispose:$}=XP(),D=globalThis.AbortSignal||s2().AbortSignal,Z=globalThis.AbortController||s2().AbortController,L=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||X.Blob,F=typeof f!=="undefined"?function j(Q){return Q instanceof f}:function j(Q){return!1},q=(j,Q)=>{if(j!==void 0&&(j===null||typeof j!=="object"||!("aborted"in j)))throw new x(Q,"AbortSignal",j)},b=(j,Q)=>{if(typeof j!=="function")throw new x(Q,"Function",j)};p.exports={AggregateError:A,kEmptyObject:Object.freeze({}),once(j){let Q=!1;return function(...C){if(Q)return;Q=!0,j.apply(this,C)}},createDeferredPromise:function(){let j,Q;return{promise:new Promise((C,V)=>{j=C,Q=V}),resolve:j,reject:Q}},promisify(j){return new Promise((Q,C)=>{j((V,...Y)=>{if(V)return C(V);return Q(...Y)})})},debuglog(){return function(){}},format:H,inspect:h,types:{isAsyncFunction(j){return j instanceof L},isArrayBufferView(j){return ArrayBuffer.isView(j)}},isBlob:F,deprecate(j,Q){return j},addAbortListener:(n2(),lP(r2)).addAbortListener||function j(Q,C){if(Q===void 0)throw new x("signal","AbortSignal",Q);q(Q,"signal"),b(C,"listener");let V;if(Q.aborted)queueMicrotask(()=>C());else Q.addEventListener("abort",C,{__proto__:null,once:!0,[B]:!0}),V=()=>{Q.removeEventListener("abort",C)};return{__proto__:null,[$](){var Y;(Y=V)===null||Y===void 0||Y()}}},AbortSignalAny:D.any||function j(Q){if(Q.length===1)return Q[0];let C=new Z,V=()=>C.abort();return Q.forEach((Y)=>{q(Y,"signals"),Y.addEventListener("abort",V,{once:!0})}),C.signal.addEventListener("abort",()=>{Q.forEach((Y)=>Y.removeEventListener("abort",V))},{once:!0}),C.signal}},p.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),t2=G0((P,p)=>{var{ArrayIsArray:X,ArrayPrototypeIncludes:H,ArrayPrototypeJoin:h,ArrayPrototypeMap:x,NumberIsInteger:B,NumberIsNaN:A,NumberMAX_SAFE_INTEGER:$,NumberMIN_SAFE_INTEGER:D,NumberParseInt:Z,ObjectPrototypeHasOwnProperty:L,RegExpPrototypeExec:f,String:F,StringPrototypeToUpperCase:q,StringPrototypeTrim:b}=XP(),{hideStackFrames:j,codes:{ERR_SOCKET_BAD_PORT:Q,ERR_INVALID_ARG_TYPE:C,ERR_INVALID_ARG_VALUE:V,ERR_OUT_OF_RANGE:Y,ERR_UNKNOWN_SIGNAL:k}}=oP(),{normalizeEncoding:z}=xp(),{isAsyncFunction:W,isArrayBufferView:M}=xp().types,c={};function w(v){return v===(v|0)}function U(v){return v===v>>>0}var G=/^[0-7]+$/,J="must be a 32-bit unsigned integer or an octal string";function d(v,s,$0){if(typeof v==="undefined")v=$0;if(typeof v==="string"){if(f(G,v)===null)throw new V(s,v,J);v=Z(v,8)}return e(v,s),v}var S=j((v,s,$0=D,t=$)=>{if(typeof v!=="number")throw new C(s,"number",v);if(!B(v))throw new Y(s,"an integer",v);if(v<$0||v>t)throw new Y(s,`>= ${$0} && <= ${t}`,v)}),r=j((v,s,$0=-2147483648,t=2147483647)=>{if(typeof v!=="number")throw new C(s,"number",v);if(!B(v))throw new Y(s,"an integer",v);if(v<$0||v>t)throw new Y(s,`>= ${$0} && <= ${t}`,v)}),e=j((v,s,$0=!1)=>{if(typeof v!=="number")throw new C(s,"number",v);if(!B(v))throw new Y(s,"an integer",v);let t=$0?1:0,q0=4294967295;if(v<t||v>q0)throw new Y(s,`>= ${t} && <= ${q0}`,v)});function y(v,s){if(typeof v!=="string")throw new C(s,"string",v)}function Y0(v,s,$0=void 0,t){if(typeof v!=="number")throw new C(s,"number",v);if($0!=null&&v<$0||t!=null&&v>t||($0!=null||t!=null)&&A(v))throw new Y(s,`${$0!=null?`>= ${$0}`:""}${$0!=null&&t!=null?" && ":""}${t!=null?`<= ${t}`:""}`,v)}var m=j((v,s,$0)=>{if(!H($0,v)){let t="must be one of: "+h(x($0,(q0)=>typeof q0==="string"?`'${q0}'`:F(q0)),", ");throw new V(s,v,t)}});function f0(v,s){if(typeof v!=="boolean")throw new C(s,"boolean",v)}function E(v,s,$0){return v==null||!L(v,s)?$0:v[s]}var _=j((v,s,$0=null)=>{let t=E($0,"allowArray",!1),q0=E($0,"allowFunction",!1);if(!E($0,"nullable",!1)&&v===null||!t&&X(v)||typeof v!=="object"&&(!q0||typeof v!=="function"))throw new C(s,"Object",v)}),P0=j((v,s)=>{if(v!=null&&typeof v!=="object"&&typeof v!=="function")throw new C(s,"a dictionary",v)}),u=j((v,s,$0=0)=>{if(!X(v))throw new C(s,"Array",v);if(v.length<$0){let t=`must be longer than ${$0}`;throw new V(s,v,t)}});function Z0(v,s){u(v,s);for(let $0=0;$0<v.length;$0++)y(v[$0],`${s}[${$0}]`)}function D0(v,s){u(v,s);for(let $0=0;$0<v.length;$0++)f0(v[$0],`${s}[${$0}]`)}function M0(v,s){u(v,s);for(let $0=0;$0<v.length;$0++){let t=v[$0],q0=`${s}[${$0}]`;if(t==null)throw new C(q0,"AbortSignal",t);k0(t,q0)}}function b0(v,s="signal"){if(y(v,s),c[v]===void 0){if(c[q(v)]!==void 0)throw new k(v+" (signals must use all capital letters)");throw new k(v)}}var i=j((v,s="buffer")=>{if(!M(v))throw new C(s,["Buffer","TypedArray","DataView"],v)});function o(v,s){let $0=z(s),t=v.length;if($0==="hex"&&t%2!==0)throw new V("encoding",s,`is invalid for data of length ${t}`)}function h0(v,s="Port",$0=!0){if(typeof v!=="number"&&typeof v!=="string"||typeof v==="string"&&b(v).length===0||+v!==+v>>>0||v>65535||v===0&&!$0)throw new Q(s,v,$0);return v|0}var k0=j((v,s)=>{if(v!==void 0&&(v===null||typeof v!=="object"||!("aborted"in v)))throw new C(s,"AbortSignal",v)}),j0=j((v,s)=>{if(typeof v!=="function")throw new C(s,"Function",v)}),N=j((v,s)=>{if(typeof v!=="function"||W(v))throw new C(s,"Function",v)}),O=j((v,s)=>{if(v!==void 0)throw new C(s,"undefined",v)});function g(v,s,$0){if(!H($0,v))throw new C(s,`('${h($0,"|")}')`,v)}var X0=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function x0(v,s){if(typeof v==="undefined"||!f(X0,v))throw new V(s,v,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function p0(v){if(typeof v==="string")return x0(v,"hints"),v;else if(X(v)){let s=v.length,$0="";if(s===0)return $0;for(let t=0;t<s;t++){let q0=v[t];if(x0(q0,"hints"),$0+=q0,t!==s-1)$0+=", "}return $0}throw new V("hints",v,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}p.exports={isInt32:w,isUint32:U,parseFileMode:d,validateArray:u,validateStringArray:Z0,validateBooleanArray:D0,validateAbortSignalArray:M0,validateBoolean:f0,validateBuffer:i,validateDictionary:P0,validateEncoding:o,validateFunction:j0,validateInt32:r,validateInteger:S,validateNumber:Y0,validateObject:_,validateOneOf:m,validatePlainFunction:N,validatePort:h0,validateSignalName:b0,validateString:y,validateUint32:e,validateUndefined:O,validateUnion:g,validateAbortSignal:k0,validateLinkHeaderValue:p0}}),Z1=G0((P,p)=>{p.exports=(TV(),lP(IV))}),ZX=G0((P,p)=>{var{SymbolAsyncIterator:X,SymbolIterator:H,SymbolFor:h}=XP(),x=h("nodejs.stream.destroyed"),B=h("nodejs.stream.errored"),A=h("nodejs.stream.readable"),$=h("nodejs.stream.writable"),D=h("nodejs.stream.disturbed"),Z=h("nodejs.webstream.isClosedPromise"),L=h("nodejs.webstream.controllerErrorFunction");function f(E,_=!1){var P0;return!!(E&&typeof E.pipe==="function"&&typeof E.on==="function"&&(!_||typeof E.pause==="function"&&typeof E.resume==="function")&&(!E._writableState||((P0=E._readableState)===null||P0===void 0?void 0:P0.readable)!==!1)&&(!E._writableState||E._readableState))}function F(E){var _;return!!(E&&typeof E.write==="function"&&typeof E.on==="function"&&(!E._readableState||((_=E._writableState)===null||_===void 0?void 0:_.writable)!==!1))}function q(E){return!!(E&&typeof E.pipe==="function"&&E._readableState&&typeof E.on==="function"&&typeof E.write==="function")}function b(E){return E&&(E._readableState||E._writableState||typeof E.write==="function"&&typeof E.on==="function"||typeof E.pipe==="function"&&typeof E.on==="function")}function j(E){return!!(E&&!b(E)&&typeof E.pipeThrough==="function"&&typeof E.getReader==="function"&&typeof E.cancel==="function")}function Q(E){return!!(E&&!b(E)&&typeof E.getWriter==="function"&&typeof E.abort==="function")}function C(E){return!!(E&&!b(E)&&typeof E.readable==="object"&&typeof E.writable==="object")}function V(E){return j(E)||Q(E)||C(E)}function Y(E,_){if(E==null)return!1;if(_===!0)return typeof E[X]==="function";if(_===!1)return typeof E[H]==="function";return typeof E[X]==="function"||typeof E[H]==="function"}function k(E){if(!b(E))return null;let{_writableState:_,_readableState:P0}=E,u=_||P0;return!!(E.destroyed||E[x]||u!==null&&u!==void 0&&u.destroyed)}function z(E){if(!F(E))return null;if(E.writableEnded===!0)return!0;let _=E._writableState;if(_!==null&&_!==void 0&&_.errored)return!1;if(typeof(_===null||_===void 0?void 0:_.ended)!=="boolean")return null;return _.ended}function W(E,_){if(!F(E))return null;if(E.writableFinished===!0)return!0;let P0=E._writableState;if(P0!==null&&P0!==void 0&&P0.errored)return!1;if(typeof(P0===null||P0===void 0?void 0:P0.finished)!=="boolean")return null;return!!(P0.finished||_===!1&&P0.ended===!0&&P0.length===0)}function M(E){if(!f(E))return null;if(E.readableEnded===!0)return!0;let _=E._readableState;if(!_||_.errored)return!1;if(typeof(_===null||_===void 0?void 0:_.ended)!=="boolean")return null;return _.ended}function c(E,_){if(!f(E))return null;let P0=E._readableState;if(P0!==null&&P0!==void 0&&P0.errored)return!1;if(typeof(P0===null||P0===void 0?void 0:P0.endEmitted)!=="boolean")return null;return!!(P0.endEmitted||_===!1&&P0.ended===!0&&P0.length===0)}function w(E){if(E&&E[A]!=null)return E[A];if(typeof(E===null||E===void 0?void 0:E.readable)!=="boolean")return null;if(k(E))return!1;return f(E)&&E.readable&&!c(E)}function U(E){if(E&&E[$]!=null)return E[$];if(typeof(E===null||E===void 0?void 0:E.writable)!=="boolean")return null;if(k(E))return!1;return F(E)&&E.writable&&!z(E)}function G(E,_){if(!b(E))return null;if(k(E))return!0;if((_===null||_===void 0?void 0:_.readable)!==!1&&w(E))return!1;if((_===null||_===void 0?void 0:_.writable)!==!1&&U(E))return!1;return!0}function J(E){var _,P0;if(!b(E))return null;if(E.writableErrored)return E.writableErrored;return(_=(P0=E._writableState)===null||P0===void 0?void 0:P0.errored)!==null&&_!==void 0?_:null}function d(E){var _,P0;if(!b(E))return null;if(E.readableErrored)return E.readableErrored;return(_=(P0=E._readableState)===null||P0===void 0?void 0:P0.errored)!==null&&_!==void 0?_:null}function S(E){if(!b(E))return null;if(typeof E.closed==="boolean")return E.closed;let{_writableState:_,_readableState:P0}=E;if(typeof(_===null||_===void 0?void 0:_.closed)==="boolean"||typeof(P0===null||P0===void 0?void 0:P0.closed)==="boolean")return(_===null||_===void 0?void 0:_.closed)||(P0===null||P0===void 0?void 0:P0.closed);if(typeof E._closed==="boolean"&&r(E))return E._closed;return null}function r(E){return typeof E._closed==="boolean"&&typeof E._defaultKeepAlive==="boolean"&&typeof E._removedConnection==="boolean"&&typeof E._removedContLen==="boolean"}function e(E){return typeof E._sent100==="boolean"&&r(E)}function y(E){var _;return typeof E._consuming==="boolean"&&typeof E._dumped==="boolean"&&((_=E.req)===null||_===void 0?void 0:_.upgradeOrConnect)===void 0}function Y0(E){if(!b(E))return null;let{_writableState:_,_readableState:P0}=E,u=_||P0;return!u&&e(E)||!!(u&&u.autoDestroy&&u.emitClose&&u.closed===!1)}function m(E){var _;return!!(E&&((_=E[D])!==null&&_!==void 0?_:E.readableDidRead||E.readableAborted))}function f0(E){var _,P0,u,Z0,D0,M0,b0,i,o,h0;return!!(E&&((_=(P0=(u=(Z0=(D0=(M0=E[B])!==null&&M0!==void 0?M0:E.readableErrored)!==null&&D0!==void 0?D0:E.writableErrored)!==null&&Z0!==void 0?Z0:(b0=E._readableState)===null||b0===void 0?void 0:b0.errorEmitted)!==null&&u!==void 0?u:(i=E._writableState)===null||i===void 0?void 0:i.errorEmitted)!==null&&P0!==void 0?P0:(o=E._readableState)===null||o===void 0?void 0:o.errored)!==null&&_!==void 0?_:(h0=E._writableState)===null||h0===void 0?void 0:h0.errored))}p.exports={isDestroyed:k,kIsDestroyed:x,isDisturbed:m,kIsDisturbed:D,isErrored:f0,kIsErrored:B,isReadable:w,kIsReadable:A,kIsClosedPromise:Z,kControllerErrorFunction:L,kIsWritable:$,isClosed:S,isDuplexNodeStream:q,isFinished:G,isIterable:Y,isReadableNodeStream:f,isReadableStream:j,isReadableEnded:M,isReadableFinished:c,isReadableErrored:d,isNodeStream:b,isWebStream:V,isWritable:U,isWritableNodeStream:F,isWritableStream:Q,isWritableEnded:z,isWritableFinished:W,isWritableErrored:J,isServerRequest:y,isServerResponse:e,willEmitClose:Y0,isTransformStream:C}}),AH=G0((P,p)=>{var X=Z1(),{AbortError:H,codes:h}=oP(),{ERR_INVALID_ARG_TYPE:x,ERR_STREAM_PREMATURE_CLOSE:B}=h,{kEmptyObject:A,once:$}=xp(),{validateAbortSignal:D,validateFunction:Z,validateObject:L,validateBoolean:f}=t2(),{Promise:F,PromisePrototypeThen:q,SymbolDispose:b}=XP(),{isClosed:j,isReadable:Q,isReadableNodeStream:C,isReadableStream:V,isReadableFinished:Y,isReadableErrored:k,isWritable:z,isWritableNodeStream:W,isWritableStream:M,isWritableFinished:c,isWritableErrored:w,isNodeStream:U,willEmitClose:G,kIsClosedPromise:J}=ZX(),d;function S(m){return m.setHeader&&typeof m.abort==="function"}var r=()=>{};function e(m,f0,E){var _,P0;if(arguments.length===2)E=f0,f0=A;else if(f0==null)f0=A;else L(f0,"options");if(Z(E,"callback"),D(f0.signal,"options.signal"),E=$(E),V(m)||M(m))return y(m,f0,E);if(!U(m))throw new x("stream",["ReadableStream","WritableStream","Stream"],m);let u=(_=f0.readable)!==null&&_!==void 0?_:C(m),Z0=(P0=f0.writable)!==null&&P0!==void 0?P0:W(m),D0=m._writableState,M0=m._readableState,b0=()=>{if(!m.writable)h0()},i=G(m)&&C(m)===u&&W(m)===Z0,o=c(m,!1),h0=()=>{if(o=!0,m.destroyed)i=!1;if(i&&(!m.readable||u))return;if(!u||k0)E.call(m)},k0=Y(m,!1),j0=()=>{if(k0=!0,m.destroyed)i=!1;if(i&&(!m.writable||Z0))return;if(!Z0||o)E.call(m)},N=(v)=>{E.call(m,v)},O=j(m),g=()=>{O=!0;let v=w(m)||k(m);if(v&&typeof v!=="boolean")return E.call(m,v);if(u&&!k0&&C(m,!0)){if(!Y(m,!1))return E.call(m,new B)}if(Z0&&!o){if(!c(m,!1))return E.call(m,new B)}E.call(m)},X0=()=>{O=!0;let v=w(m)||k(m);if(v&&typeof v!=="boolean")return E.call(m,v);E.call(m)},x0=()=>{m.req.on("finish",h0)};if(S(m)){if(m.on("complete",h0),!i)m.on("abort",g);if(m.req)x0();else m.on("request",x0)}else if(Z0&&!D0)m.on("end",b0),m.on("close",b0);if(!i&&typeof m.aborted==="boolean")m.on("aborted",g);if(m.on("end",j0),m.on("finish",h0),f0.error!==!1)m.on("error",N);if(m.on("close",g),O)X.nextTick(g);else if(D0!==null&&D0!==void 0&&D0.errorEmitted||M0!==null&&M0!==void 0&&M0.errorEmitted){if(!i)X.nextTick(X0)}else if(!u&&(!i||Q(m))&&(o||z(m)===!1))X.nextTick(X0);else if(!Z0&&(!i||z(m))&&(k0||Q(m)===!1))X.nextTick(X0);else if(M0&&m.req&&m.aborted)X.nextTick(X0);let p0=()=>{if(E=r,m.removeListener("aborted",g),m.removeListener("complete",h0),m.removeListener("abort",g),m.removeListener("request",x0),m.req)m.req.removeListener("finish",h0);m.removeListener("end",b0),m.removeListener("close",b0),m.removeListener("finish",h0),m.removeListener("end",j0),m.removeListener("error",N),m.removeListener("close",g)};if(f0.signal&&!O){let v=()=>{let s=E;p0(),s.call(m,new H(void 0,{cause:f0.signal.reason}))};if(f0.signal.aborted)X.nextTick(v);else{d=d||xp().addAbortListener;let s=d(f0.signal,v),$0=E;E=$((...t)=>{s[b](),$0.apply(m,t)})}}return p0}function y(m,f0,E){let _=!1,P0=r;if(f0.signal)if(P0=()=>{_=!0,E.call(m,new H(void 0,{cause:f0.signal.reason}))},f0.signal.aborted)X.nextTick(P0);else{d=d||xp().addAbortListener;let Z0=d(f0.signal,P0),D0=E;E=$((...M0)=>{Z0[b](),D0.apply(m,M0)})}let u=(...Z0)=>{if(!_)X.nextTick(()=>E.apply(m,Z0))};return q(m[J].promise,u,u),r}function Y0(m,f0){var E;let _=!1;if(f0===null)f0=A;if((E=f0)!==null&&E!==void 0&&E.cleanup)f(f0.cleanup,"cleanup"),_=f0.cleanup;return new F((P0,u)=>{let Z0=e(m,f0,(D0)=>{if(_)Z0();if(D0)u(D0);else P0()})})}p.exports=e,p.exports.finished=Y0}),Sh=G0((P,p)=>{var X=Z1(),{aggregateTwoErrors:H,codes:{ERR_MULTIPLE_CALLBACK:h},AbortError:x}=oP(),{Symbol:B}=XP(),{kIsDestroyed:A,isDestroyed:$,isFinished:D,isServerRequest:Z}=ZX(),L=B("kDestroy"),f=B("kConstruct");function F(G,J,d){if(G){if(G.stack,J&&!J.errored)J.errored=G;if(d&&!d.errored)d.errored=G}}function q(G,J){let d=this._readableState,S=this._writableState,r=S||d;if(S!==null&&S!==void 0&&S.destroyed||d!==null&&d!==void 0&&d.destroyed){if(typeof J==="function")J();return this}if(F(G,S,d),S)S.destroyed=!0;if(d)d.destroyed=!0;if(!r.constructed)this.once(L,function(e){b(this,H(e,G),J)});else b(this,G,J);return this}function b(G,J,d){let S=!1;function r(e){if(S)return;S=!0;let{_readableState:y,_writableState:Y0}=G;if(F(e,Y0,y),Y0)Y0.closed=!0;if(y)y.closed=!0;if(typeof d==="function")d(e);if(e)X.nextTick(j,G,e);else X.nextTick(Q,G)}try{G._destroy(J||null,r)}catch(e){r(e)}}function j(G,J){C(G,J),Q(G)}function Q(G){let{_readableState:J,_writableState:d}=G;if(d)d.closeEmitted=!0;if(J)J.closeEmitted=!0;if(d!==null&&d!==void 0&&d.emitClose||J!==null&&J!==void 0&&J.emitClose)G.emit("close")}function C(G,J){let{_readableState:d,_writableState:S}=G;if(S!==null&&S!==void 0&&S.errorEmitted||d!==null&&d!==void 0&&d.errorEmitted)return;if(S)S.errorEmitted=!0;if(d)d.errorEmitted=!0;G.emit("error",J)}function V(){let G=this._readableState,J=this._writableState;if(G)G.constructed=!0,G.closed=!1,G.closeEmitted=!1,G.destroyed=!1,G.errored=null,G.errorEmitted=!1,G.reading=!1,G.ended=G.readable===!1,G.endEmitted=G.readable===!1;if(J)J.constructed=!0,J.destroyed=!1,J.closed=!1,J.closeEmitted=!1,J.errored=null,J.errorEmitted=!1,J.finalCalled=!1,J.prefinished=!1,J.ended=J.writable===!1,J.ending=J.writable===!1,J.finished=J.writable===!1}function Y(G,J,d){let{_readableState:S,_writableState:r}=G;if(r!==null&&r!==void 0&&r.destroyed||S!==null&&S!==void 0&&S.destroyed)return this;if(S!==null&&S!==void 0&&S.autoDestroy||r!==null&&r!==void 0&&r.autoDestroy)G.destroy(J);else if(J){if(J.stack,r&&!r.errored)r.errored=J;if(S&&!S.errored)S.errored=J;if(d)X.nextTick(C,G,J);else C(G,J)}}function k(G,J){if(typeof G._construct!=="function")return;let{_readableState:d,_writableState:S}=G;if(d)d.constructed=!1;if(S)S.constructed=!1;if(G.once(f,J),G.listenerCount(f)>1)return;X.nextTick(z,G)}function z(G){let J=!1;function d(S){if(J){Y(G,S!==null&&S!==void 0?S:new h);return}J=!0;let{_readableState:r,_writableState:e}=G,y=e||r;if(r)r.constructed=!0;if(e)e.constructed=!0;if(y.destroyed)G.emit(L,S);else if(S)Y(G,S,!0);else X.nextTick(W,G)}try{G._construct((S)=>{X.nextTick(d,S)})}catch(S){X.nextTick(d,S)}}function W(G){G.emit(f)}function M(G){return(G===null||G===void 0?void 0:G.setHeader)&&typeof G.abort==="function"}function c(G){G.emit("close")}function w(G,J){G.emit("error",J),X.nextTick(c,G)}function U(G,J){if(!G||$(G))return;if(!J&&!D(G))J=new x;if(Z(G))G.socket=null,G.destroy(J);else if(M(G))G.abort();else if(M(G.req))G.req.abort();else if(typeof G.destroy==="function")G.destroy(J);else if(typeof G.close==="function")G.close();else if(J)X.nextTick(w,G,J);else X.nextTick(c,G);if(!G.destroyed)G[A]=!0}p.exports={construct:k,destroyer:U,destroy:q,undestroy:V,errorOrDestroy:Y}}),F7=G0((P,p)=>{var{ArrayIsArray:X,ObjectSetPrototypeOf:H}=XP(),{EventEmitter:h}=(n2(),lP(r2));function x(A){h.call(this,A)}H(x.prototype,h.prototype),H(x,h),x.prototype.pipe=function(A,$){let D=this;function Z(Q){if(A.writable&&A.write(Q)===!1&&D.pause)D.pause()}D.on("data",Z);function L(){if(D.readable&&D.resume)D.resume()}if(A.on("drain",L),!A._isStdio&&(!$||$.end!==!1))D.on("end",F),D.on("close",q);let f=!1;function F(){if(f)return;f=!0,A.end()}function q(){if(f)return;if(f=!0,typeof A.destroy==="function")A.destroy()}function b(Q){if(j(),h.listenerCount(this,"error")===0)this.emit("error",Q)}B(D,"error",b),B(A,"error",b);function j(){D.removeListener("data",Z),A.removeListener("drain",L),D.removeListener("end",F),D.removeListener("close",q),D.removeListener("error",b),A.removeListener("error",b),D.removeListener("end",j),D.removeListener("close",j),A.removeListener("close",j)}return D.on("end",j),D.on("close",j),A.on("close",j),A.emit("pipe",D),A};function B(A,$,D){if(typeof A.prependListener==="function")return A.prependListener($,D);if(!A._events||!A._events[$])A.on($,D);else if(X(A._events[$]))A._events[$].unshift(D);else A._events[$]=[D,A._events[$]]}p.exports={Stream:x,prependListener:B}}),TD=G0((P,p)=>{var{SymbolDispose:X}=XP(),{AbortError:H,codes:h}=oP(),{isNodeStream:x,isWebStream:B,kControllerErrorFunction:A}=ZX(),$=AH(),{ERR_INVALID_ARG_TYPE:D}=h,Z,L=(f,F)=>{if(typeof f!=="object"||!("aborted"in f))throw new D(F,"AbortSignal",f)};P.addAbortSignal=function f(F,q){if(L(F,"signal"),!x(q)&&!B(q))throw new D("stream",["ReadableStream","WritableStream","Stream"],q);return P.addAbortSignalNoValidate(F,q)},P.addAbortSignalNoValidate=function(f,F){if(typeof f!=="object"||!("aborted"in f))return F;let q=x(F)?()=>{F.destroy(new H(void 0,{cause:f.reason}))}:()=>{F[A](new H(void 0,{cause:f.reason}))};if(f.aborted)q();else{Z=Z||xp().addAbortListener;let b=Z(f,q);$(F,b[X])}return F}}),Yz=G0((P,p)=>{var{StringPrototypeSlice:X,SymbolIterator:H,TypedArrayPrototypeSet:h,Uint8Array:x}=XP(),{Buffer:B}=(BX(),lP(xX)),{inspect:A}=xp();p.exports=class ${constructor(){this.head=null,this.tail=null,this.length=0}push(D){let Z={data:D,next:null};if(this.length>0)this.tail.next=Z;else this.head=Z;this.tail=Z,++this.length}unshift(D){let Z={data:D,next:this.head};if(this.length===0)this.tail=Z;this.head=Z,++this.length}shift(){if(this.length===0)return;let D=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;return--this.length,D}clear(){this.head=this.tail=null,this.length=0}join(D){if(this.length===0)return"";let Z=this.head,L=""+Z.data;while((Z=Z.next)!==null)L+=D+Z.data;return L}concat(D){if(this.length===0)return B.alloc(0);let Z=B.allocUnsafe(D>>>0),L=this.head,f=0;while(L)h(Z,L.data,f),f+=L.data.length,L=L.next;return Z}consume(D,Z){let L=this.head.data;if(D<L.length){let f=L.slice(0,D);return this.head.data=L.slice(D),f}if(D===L.length)return this.shift();return Z?this._getString(D):this._getBuffer(D)}first(){return this.head.data}*[H](){for(let D=this.head;D;D=D.next)yield D.data}_getString(D){let Z="",L=this.head,f=0;do{let F=L.data;if(D>F.length)Z+=F,D-=F.length;else{if(D===F.length)if(Z+=F,++f,L.next)this.head=L.next;else this.head=this.tail=null;else Z+=X(F,0,D),this.head=L,L.data=X(F,D);break}++f}while((L=L.next)!==null);return this.length-=f,Z}_getBuffer(D){let Z=B.allocUnsafe(D),L=D,f=this.head,F=0;do{let q=f.data;if(D>q.length)h(Z,q,L-D),D-=q.length;else{if(D===q.length)if(h(Z,q,L-D),++F,f.next)this.head=f.next;else this.head=this.tail=null;else h(Z,new x(q.buffer,q.byteOffset,D),L-D),this.head=f,f.data=q.slice(D);break}++F}while((f=f.next)!==null);return this.length-=F,Z}[Symbol.for("nodejs.util.inspect.custom")](D,Z){return A(this,{...Z,depth:0,customInspect:!1})}}}),MD=G0((P,p)=>{var{MathFloor:X,NumberIsInteger:H}=XP(),{validateInteger:h}=t2(),{ERR_INVALID_ARG_VALUE:x}=oP().codes,B=16384,A=16;function $(f,F,q){return f.highWaterMark!=null?f.highWaterMark:F?f[q]:null}function D(f){return f?A:B}function Z(f,F){if(h(F,"value",0),f)A=F;else B=F}function L(f,F,q,b){let j=$(F,b,q);if(j!=null){if(!H(j)||j<0){let Q=b?`options.${q}`:"options.highWaterMark";throw new x(Q,j)}return X(j)}return D(f.objectMode)}p.exports={getHighWaterMark:L,getDefaultHighWaterMark:D,setDefaultHighWaterMark:Z}}),bz=G0((P,p)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var X=(BX(),lP(xX)),H=X.Buffer;function h(B,A){for(var $ in B)A[$]=B[$]}if(H.from&&H.alloc&&H.allocUnsafe&&H.allocUnsafeSlow)p.exports=X;else h(X,P),P.Buffer=x;function x(B,A,$){return H(B,A,$)}x.prototype=Object.create(H.prototype),h(H,x),x.from=function(B,A,$){if(typeof B==="number")throw new TypeError("Argument must not be a number");return H(B,A,$)},x.alloc=function(B,A,$){if(typeof B!=="number")throw new TypeError("Argument must be a number");var D=H(B);if(A!==void 0)if(typeof $==="string")D.fill(A,$);else D.fill(A);else D.fill(0);return D},x.allocUnsafe=function(B){if(typeof B!=="number")throw new TypeError("Argument must be a number");return H(B)},x.allocUnsafeSlow=function(B){if(typeof B!=="number")throw new TypeError("Argument must be a number");return X.SlowBuffer(B)}}),jz=G0((P)=>{var p=bz().Buffer,X=p.isEncoding||function(C){switch(C=""+C,C&&C.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function H(C){if(!C)return"utf8";var V;while(!0)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(V)return;C=(""+C).toLowerCase(),V=!0}}function h(C){var V=H(C);if(typeof V!=="string"&&(p.isEncoding===X||!X(C)))throw new Error("Unknown encoding: "+C);return V||C}P.StringDecoder=x;function x(C){this.encoding=h(C);var V;switch(this.encoding){case"utf16le":this.text=f,this.end=F,V=4;break;case"utf8":this.fillLast=D,V=4;break;case"base64":this.text=q,this.end=b,V=3;break;default:this.write=j,this.end=Q;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(V)}x.prototype.write=function(C){if(C.length===0)return"";var V,Y;if(this.lastNeed){if(V=this.fillLast(C),V===void 0)return"";Y=this.lastNeed,this.lastNeed=0}else Y=0;if(Y<C.length)return V?V+this.text(C,Y):this.text(C,Y);return V||""},x.prototype.end=L,x.prototype.text=Z,x.prototype.fillLast=function(C){if(this.lastNeed<=C.length)return C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,C.length),this.lastNeed-=C.length};function B(C){if(C<=127)return 0;else if(C>>5===6)return 2;else if(C>>4===14)return 3;else if(C>>3===30)return 4;return C>>6===2?-1:-2}function A(C,V,Y){var k=V.length-1;if(k<Y)return 0;var z=B(V[k]);if(z>=0){if(z>0)C.lastNeed=z-1;return z}if(--k<Y||z===-2)return 0;if(z=B(V[k]),z>=0){if(z>0)C.lastNeed=z-2;return z}if(--k<Y||z===-2)return 0;if(z=B(V[k]),z>=0){if(z>0)if(z===2)z=0;else C.lastNeed=z-3;return z}return 0}function $(C,V,Y){if((V[0]&192)!==128)return C.lastNeed=0,"�";if(C.lastNeed>1&&V.length>1){if((V[1]&192)!==128)return C.lastNeed=1,"�";if(C.lastNeed>2&&V.length>2){if((V[2]&192)!==128)return C.lastNeed=2,"�"}}}function D(C){var V=this.lastTotal-this.lastNeed,Y=$(this,C,V);if(Y!==void 0)return Y;if(this.lastNeed<=C.length)return C.copy(this.lastChar,V,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,V,0,C.length),this.lastNeed-=C.length}function Z(C,V){var Y=A(this,C,V);if(!this.lastNeed)return C.toString("utf8",V);this.lastTotal=Y;var k=C.length-(Y-this.lastNeed);return C.copy(this.lastChar,0,k),C.toString("utf8",V,k)}function L(C){var V=C&&C.length?this.write(C):"";if(this.lastNeed)return V+"�";return V}function f(C,V){if((C.length-V)%2===0){var Y=C.toString("utf16le",V);if(Y){var k=Y.charCodeAt(Y.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1],Y.slice(0,-1)}return Y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=C[C.length-1],C.toString("utf16le",V,C.length-1)}function F(C){var V=C&&C.length?this.write(C):"";if(this.lastNeed){var Y=this.lastTotal-this.lastNeed;return V+this.lastChar.toString("utf16le",0,Y)}return V}function q(C,V){var Y=(C.length-V)%3;if(Y===0)return C.toString("base64",V);if(this.lastNeed=3-Y,this.lastTotal=3,Y===1)this.lastChar[0]=C[C.length-1];else this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1];return C.toString("base64",V,C.length-Y)}function b(C){var V=C&&C.length?this.write(C):"";if(this.lastNeed)return V+this.lastChar.toString("base64",0,3-this.lastNeed);return V}function j(C){return C.toString(this.encoding)}function Q(C){return C&&C.length?this.write(C):""}}),EV=G0((P,p)=>{var X=Z1(),{PromisePrototypeThen:H,SymbolAsyncIterator:h,SymbolIterator:x}=XP(),{Buffer:B}=(BX(),lP(xX)),{ERR_INVALID_ARG_TYPE:A,ERR_STREAM_NULL_VALUES:$}=oP().codes;function D(Z,L,f){let F;if(typeof L==="string"||L instanceof B)return new Z({objectMode:!0,...f,read(){this.push(L),this.push(null)}});let q;if(L&&L[h])q=!0,F=L[h]();else if(L&&L[x])q=!1,F=L[x]();else throw new A("iterable",["Iterable"],L);let b=new Z({objectMode:!0,highWaterMark:1,...f}),j=!1;b._read=function(){if(!j)j=!0,C()},b._destroy=function(V,Y){H(Q(V),()=>X.nextTick(Y,V),(k)=>X.nextTick(Y,k||V))};async function Q(V){let Y=V!==void 0&&V!==null,k=typeof F.throw==="function";if(Y&&k){let{value:z,done:W}=await F.throw(V);if(await z,W)return}if(typeof F.return==="function"){let{value:z}=await F.return();await z}}async function C(){for(;;){try{let{value:V,done:Y}=q?await F.next():F.next();if(Y)b.push(null);else{let k=V&&typeof V.then==="function"?await V:V;if(k===null)throw j=!1,new $;else if(b.push(k))continue;else j=!1}}catch(V){b.destroy(V)}break}}return b}p.exports=D}),WD=G0((P,p)=>{var X=Z1(),{ArrayPrototypeIndexOf:H,NumberIsInteger:h,NumberIsNaN:x,NumberParseInt:B,ObjectDefineProperties:A,ObjectKeys:$,ObjectSetPrototypeOf:D,Promise:Z,SafeSet:L,SymbolAsyncDispose:f,SymbolAsyncIterator:F,Symbol:q}=XP();p.exports=t,t.ReadableState=$0;var{EventEmitter:b}=(n2(),lP(r2)),{Stream:j,prependListener:Q}=F7(),{Buffer:C}=(BX(),lP(xX)),{addAbortSignal:V}=TD(),Y=AH(),k=xp().debuglog("stream",(I)=>{k=I}),z=Yz(),W=Sh(),{getHighWaterMark:M,getDefaultHighWaterMark:c}=MD(),{aggregateTwoErrors:w,codes:{ERR_INVALID_ARG_TYPE:U,ERR_METHOD_NOT_IMPLEMENTED:G,ERR_OUT_OF_RANGE:J,ERR_STREAM_PUSH_AFTER_EOF:d,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:S},AbortError:r}=oP(),{validateObject:e}=t2(),y=q("kPaused"),{StringDecoder:Y0}=jz(),m=EV();D(t.prototype,j.prototype),D(t,j);var f0=()=>{},{errorOrDestroy:E}=W,_=1,P0=2,u=4,Z0=8,D0=16,M0=32,b0=64,i=128,o=256,h0=512,k0=1024,j0=2048,N=4096,O=8192,g=16384,X0=32768,x0=65536,p0=131072,v=262144;function s(I){return{enumerable:!1,get(){return(this.state&I)!==0},set(T){if(T)this.state|=I;else this.state&=~I}}}A($0.prototype,{objectMode:s(_),ended:s(P0),endEmitted:s(u),reading:s(Z0),constructed:s(D0),sync:s(M0),needReadable:s(b0),emittedReadable:s(i),readableListening:s(o),resumeScheduled:s(h0),errorEmitted:s(k0),emitClose:s(j0),autoDestroy:s(N),destroyed:s(O),closed:s(g),closeEmitted:s(X0),multiAwaitDrain:s(x0),readingMore:s(p0),dataEmitted:s(v)});function $0(I,T,H0){if(typeof H0!=="boolean")H0=T instanceof $X();if(this.state=j0|N|D0|M0,I&&I.objectMode)this.state|=_;if(H0&&I&&I.readableObjectMode)this.state|=_;if(this.highWaterMark=I?M(this,I,"readableHighWaterMark",H0):c(!1),this.buffer=new z,this.length=0,this.pipes=[],this.flowing=null,this[y]=null,I&&I.emitClose===!1)this.state&=~j0;if(I&&I.autoDestroy===!1)this.state&=~N;if(this.errored=null,this.defaultEncoding=I&&I.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,I&&I.encoding)this.decoder=new Y0(I.encoding),this.encoding=I.encoding}function t(I){if(!(this instanceof t))return new t(I);let T=this instanceof $X();if(this._readableState=new $0(I,this,T),I){if(typeof I.read==="function")this._read=I.read;if(typeof I.destroy==="function")this._destroy=I.destroy;if(typeof I.construct==="function")this._construct=I.construct;if(I.signal&&!T)V(I.signal,this)}j.call(this,I),W.construct(this,()=>{if(this._readableState.needReadable)d1(this,this._readableState)})}t.prototype.destroy=W.destroy,t.prototype._undestroy=W.undestroy,t.prototype._destroy=function(I,T){T(I)},t.prototype[b.captureRejectionSymbol]=function(I){this.destroy(I)},t.prototype[f]=function(){let I;if(!this.destroyed)I=this.readableEnded?null:new r,this.destroy(I);return new Z((T,H0)=>Y(this,(B0)=>B0&&B0!==I?H0(B0):T(null)))},t.prototype.push=function(I,T){return q0(this,I,T,!1)},t.prototype.unshift=function(I,T){return q0(this,I,T,!0)};function q0(I,T,H0,B0){k("readableAddChunk",T);let Q0=I._readableState,dP;if((Q0.state&_)===0){if(typeof T==="string"){if(H0=H0||Q0.defaultEncoding,Q0.encoding!==H0)if(B0&&Q0.encoding)T=C.from(T,H0).toString(Q0.encoding);else T=C.from(T,H0),H0=""}else if(T instanceof C)H0="";else if(j._isUint8Array(T))T=j._uint8ArrayToBuffer(T),H0="";else if(T!=null)dP=new U("chunk",["string","Buffer","Uint8Array"],T)}if(dP)E(I,dP);else if(T===null)Q0.state&=~Z0,OP(I,Q0);else if((Q0.state&_)!==0||T&&T.length>0)if(B0)if((Q0.state&u)!==0)E(I,new S);else if(Q0.destroyed||Q0.errored)return!1;else fp(I,Q0,T,!0);else if(Q0.ended)E(I,new d);else if(Q0.destroyed||Q0.errored)return!1;else if(Q0.state&=~Z0,Q0.decoder&&!H0)if(T=Q0.decoder.write(T),Q0.objectMode||T.length!==0)fp(I,Q0,T,!1);else d1(I,Q0);else fp(I,Q0,T,!1);else if(!B0)Q0.state&=~Z0,d1(I,Q0);return!Q0.ended&&(Q0.length<Q0.highWaterMark||Q0.length===0)}function fp(I,T,H0,B0){if(T.flowing&&T.length===0&&!T.sync&&I.listenerCount("data")>0){if((T.state&x0)!==0)T.awaitDrainWriters.clear();else T.awaitDrainWriters=null;T.dataEmitted=!0,I.emit("data",H0)}else{if(T.length+=T.objectMode?1:H0.length,B0)T.buffer.unshift(H0);else T.buffer.push(H0);if((T.state&b0)!==0)Pp(I)}d1(I,T)}t.prototype.isPaused=function(){let I=this._readableState;return I[y]===!0||I.flowing===!1},t.prototype.setEncoding=function(I){let T=new Y0(I);this._readableState.decoder=T,this._readableState.encoding=this._readableState.decoder.encoding;let H0=this._readableState.buffer,B0="";for(let Q0 of H0)B0+=T.write(Q0);if(H0.clear(),B0!=="")H0.push(B0);return this._readableState.length=B0.length,this};var BP=1073741824;function jP(I){if(I>BP)throw new J("size","<= 1GiB",I);else I--,I|=I>>>1,I|=I>>>2,I|=I>>>4,I|=I>>>8,I|=I>>>16,I++;return I}function UH(I,T){if(I<=0||T.length===0&&T.ended)return 0;if((T.state&_)!==0)return 1;if(x(I)){if(T.flowing&&T.length)return T.buffer.first().length;return T.length}if(I<=T.length)return I;return T.ended?T.length:0}t.prototype.read=function(I){if(k("read",I),I===void 0)I=NaN;else if(!h(I))I=B(I,10);let T=this._readableState,H0=I;if(I>T.highWaterMark)T.highWaterMark=jP(I);if(I!==0)T.state&=~i;if(I===0&&T.needReadable&&((T.highWaterMark!==0?T.length>=T.highWaterMark:T.length>0)||T.ended)){if(k("read: emitReadable",T.length,T.ended),T.length===0&&T.ended)Z6(this);else Pp(this);return null}if(I=UH(I,T),I===0&&T.ended){if(T.length===0)Z6(this);return null}let B0=(T.state&b0)!==0;if(k("need readable",B0),T.length===0||T.length-I<T.highWaterMark)B0=!0,k("length less than watermark",B0);if(T.ended||T.reading||T.destroyed||T.errored||!T.constructed)B0=!1,k("reading, ended or constructing",B0);else if(B0){if(k("do read"),T.state|=Z0|M0,T.length===0)T.state|=b0;try{this._read(T.highWaterMark)}catch(dP){E(this,dP)}if(T.state&=~M0,!T.reading)I=UH(H0,T)}let Q0;if(I>0)Q0=$f(I,T);else Q0=null;if(Q0===null)T.needReadable=T.length<=T.highWaterMark,I=0;else if(T.length-=I,T.multiAwaitDrain)T.awaitDrainWriters.clear();else T.awaitDrainWriters=null;if(T.length===0){if(!T.ended)T.needReadable=!0;if(H0!==I&&T.ended)Z6(this)}if(Q0!==null&&!T.errorEmitted&&!T.closeEmitted)T.dataEmitted=!0,this.emit("data",Q0);return Q0};function OP(I,T){if(k("onEofChunk"),T.ended)return;if(T.decoder){let H0=T.decoder.end();if(H0&&H0.length)T.buffer.push(H0),T.length+=T.objectMode?1:H0.length}if(T.ended=!0,T.sync)Pp(I);else T.needReadable=!1,T.emittedReadable=!0,O1(I)}function Pp(I){let T=I._readableState;if(k("emitReadable",T.needReadable,T.emittedReadable),T.needReadable=!1,!T.emittedReadable)k("emitReadable",T.flowing),T.emittedReadable=!0,X.nextTick(O1,I)}function O1(I){let T=I._readableState;if(k("emitReadable_",T.destroyed,T.length,T.ended),!T.destroyed&&!T.errored&&(T.length||T.ended))I.emit("readable"),T.emittedReadable=!1;T.needReadable=!T.flowing&&!T.ended&&T.length<=T.highWaterMark,Af(I)}function d1(I,T){if(!T.readingMore&&T.constructed)T.readingMore=!0,X.nextTick(C8,I,T)}function C8(I,T){while(!T.reading&&!T.ended&&(T.length<T.highWaterMark||T.flowing&&T.length===0)){let H0=T.length;if(k("maybeReadMore read 0"),I.read(0),H0===T.length)break}T.readingMore=!1}t.prototype._read=function(I){throw new G("_read()")},t.prototype.pipe=function(I,T){let H0=this,B0=this._readableState;if(B0.pipes.length===1){if(!B0.multiAwaitDrain)B0.multiAwaitDrain=!0,B0.awaitDrainWriters=new L(B0.awaitDrainWriters?[B0.awaitDrainWriters]:[])}B0.pipes.push(I),k("pipe count=%d opts=%j",B0.pipes.length,T);let Q0=(!T||T.end!==!1)&&I!==X.stdout&&I!==X.stderr?Ep:Gx;if(B0.endEmitted)X.nextTick(Q0);else H0.once("end",Q0);I.on("unpipe",dP);function dP(GH,O8){if(k("onunpipe"),GH===H0){if(O8&&O8.hasUnpiped===!1)O8.hasUnpiped=!0,uI()}}function Ep(){k("onend"),I.end()}let SH,Lf=!1;function uI(){if(k("cleanup"),I.removeListener("close",F6),I.removeListener("finish",C6),SH)I.removeListener("drain",SH);if(I.removeListener("error",f6),I.removeListener("unpipe",dP),H0.removeListener("end",Ep),H0.removeListener("end",Gx),H0.removeListener("data",Ff),Lf=!0,SH&&B0.awaitDrainWriters&&(!I._writableState||I._writableState.needDrain))SH()}function ff(){if(!Lf){if(B0.pipes.length===1&&B0.pipes[0]===I)k("false write response, pause",0),B0.awaitDrainWriters=I,B0.multiAwaitDrain=!1;else if(B0.pipes.length>1&&B0.pipes.includes(I))k("false write response, pause",B0.awaitDrainWriters.size),B0.awaitDrainWriters.add(I);H0.pause()}if(!SH)SH=cI(H0,I),I.on("drain",SH)}H0.on("data",Ff);function Ff(GH){k("ondata");let O8=I.write(GH);if(k("dest.write",O8),O8===!1)ff()}function f6(GH){if(k("onerror",GH),Gx(),I.removeListener("error",f6),I.listenerCount("error")===0){let O8=I._writableState||I._readableState;if(O8&&!O8.errorEmitted)E(I,GH);else I.emit("error",GH)}}Q(I,"error",f6);function F6(){I.removeListener("finish",C6),Gx()}I.once("close",F6);function C6(){k("onfinish"),I.removeListener("close",F6),Gx()}I.once("finish",C6);function Gx(){k("unpipe"),H0.unpipe(I)}if(I.emit("pipe",H0),I.writableNeedDrain===!0)ff();else if(!B0.flowing)k("pipe resume"),H0.resume();return I};function cI(I,T){return function H0(){let B0=I._readableState;if(B0.awaitDrainWriters===T)k("pipeOnDrain",1),B0.awaitDrainWriters=null;else if(B0.multiAwaitDrain)k("pipeOnDrain",B0.awaitDrainWriters.size),B0.awaitDrainWriters.delete(T);if((!B0.awaitDrainWriters||B0.awaitDrainWriters.size===0)&&I.listenerCount("data"))I.resume()}}t.prototype.unpipe=function(I){let T=this._readableState,H0={hasUnpiped:!1};if(T.pipes.length===0)return this;if(!I){let Q0=T.pipes;T.pipes=[],this.pause();for(let dP=0;dP<Q0.length;dP++)Q0[dP].emit("unpipe",this,{hasUnpiped:!1});return this}let B0=H(T.pipes,I);if(B0===-1)return this;if(T.pipes.splice(B0,1),T.pipes.length===0)this.pause();return I.emit("unpipe",this,H0),this},t.prototype.on=function(I,T){let H0=j.prototype.on.call(this,I,T),B0=this._readableState;if(I==="data"){if(B0.readableListening=this.listenerCount("readable")>0,B0.flowing!==!1)this.resume()}else if(I==="readable"){if(!B0.endEmitted&&!B0.readableListening){if(B0.readableListening=B0.needReadable=!0,B0.flowing=!1,B0.emittedReadable=!1,k("on readable",B0.length,B0.reading),B0.length)Pp(this);else if(!B0.reading)X.nextTick(OI,this)}}return H0},t.prototype.addListener=t.prototype.on,t.prototype.removeListener=function(I,T){let H0=j.prototype.removeListener.call(this,I,T);if(I==="readable")X.nextTick(Bf,this);return H0},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(I){let T=j.prototype.removeAllListeners.apply(this,arguments);if(I==="readable"||I===void 0)X.nextTick(Bf,this);return T};function Bf(I){let T=I._readableState;if(T.readableListening=I.listenerCount("readable")>0,T.resumeScheduled&&T[y]===!1)T.flowing=!0;else if(I.listenerCount("data")>0)I.resume();else if(!T.readableListening)T.flowing=null}function OI(I){k("readable nexttick read 0"),I.read(0)}t.prototype.resume=function(){let I=this._readableState;if(!I.flowing)k("resume"),I.flowing=!I.readableListening,dI(this,I);return I[y]=!1,this};function dI(I,T){if(!T.resumeScheduled)T.resumeScheduled=!0,X.nextTick(lI,I,T)}function lI(I,T){if(k("resume",T.reading),!T.reading)I.read(0);if(T.resumeScheduled=!1,I.emit("resume"),Af(I),T.flowing&&!T.reading)I.read(0)}t.prototype.pause=function(){if(k("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1)k("pause"),this._readableState.flowing=!1,this.emit("pause");return this._readableState[y]=!0,this};function Af(I){let T=I._readableState;k("flow",T.flowing);while(T.flowing&&I.read()!==null);}t.prototype.wrap=function(I){let T=!1;I.on("data",(B0)=>{if(!this.push(B0)&&I.pause)T=!0,I.pause()}),I.on("end",()=>{this.push(null)}),I.on("error",(B0)=>{E(this,B0)}),I.on("close",()=>{this.destroy()}),I.on("destroy",()=>{this.destroy()}),this._read=()=>{if(T&&I.resume)T=!1,I.resume()};let H0=$(I);for(let B0=1;B0<H0.length;B0++){let Q0=H0[B0];if(this[Q0]===void 0&&typeof I[Q0]==="function")this[Q0]=I[Q0].bind(I)}return this},t.prototype[F]=function(){return Df(this)},t.prototype.iterator=function(I){if(I!==void 0)e(I,"options");return Df(this,I)};function Df(I,T){if(typeof I.read!=="function")I=t.wrap(I,{objectMode:!0});let H0=yI(I,T);return H0.stream=I,H0}async function*yI(I,T){let H0=f0;function B0(Ep){if(this===I)H0(),H0=f0;else H0=Ep}I.on("readable",B0);let Q0,dP=Y(I,{writable:!1},(Ep)=>{Q0=Ep?w(Q0,Ep):null,H0(),H0=f0});try{while(!0){let Ep=I.destroyed?null:I.read();if(Ep!==null)yield Ep;else if(Q0)throw Q0;else if(Q0===null)return;else await new Z(B0)}}catch(Ep){throw Q0=w(Q0,Ep),Q0}finally{if((Q0||(T===null||T===void 0?void 0:T.destroyOnReturn)!==!1)&&(Q0===void 0||I._readableState.autoDestroy))W.destroyer(I,null);else I.off("readable",B0),dP()}}A(t.prototype,{readable:{__proto__:null,get(){let I=this._readableState;return!!I&&I.readable!==!1&&!I.destroyed&&!I.errorEmitted&&!I.endEmitted},set(I){if(this._readableState)this._readableState.readable=!!I}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){if(this._readableState)this._readableState.flowing=I}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(I){if(!this._readableState)return;this._readableState.destroyed=I}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),A($0.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[y]!==!1},set(I){this[y]=!!I}}}),t._fromList=$f;function $f(I,T){if(T.length===0)return null;let H0;if(T.objectMode)H0=T.buffer.shift();else if(!I||I>=T.length){if(T.decoder)H0=T.buffer.join("");else if(T.buffer.length===1)H0=T.buffer.first();else H0=T.buffer.concat(T.length);T.buffer.clear()}else H0=T.buffer.consume(I,T.decoder);return H0}function Z6(I){let T=I._readableState;if(k("endReadable",T.endEmitted),!T.endEmitted)T.ended=!0,X.nextTick(gI,T,I)}function gI(I,T){if(k("endReadableNT",I.endEmitted,I.length),!I.errored&&!I.closeEmitted&&!I.endEmitted&&I.length===0){if(I.endEmitted=!0,T.emit("end"),T.writable&&T.allowHalfOpen===!1)X.nextTick(_I,T);else if(I.autoDestroy){let H0=T._writableState;if(!H0||H0.autoDestroy&&(H0.finished||H0.writable===!1))T.destroy()}}}function _I(I){if(I.writable&&!I.writableEnded&&!I.destroyed)I.end()}t.from=function(I,T){return m(t,I,T)};var L6;function Zf(){if(L6===void 0)L6={};return L6}t.fromWeb=function(I,T){return Zf().newStreamReadableFromReadableStream(I,T)},t.toWeb=function(I,T){return Zf().newReadableStreamFromStreamReadable(I,T)},t.wrap=function(I,T){var H0,B0;return new t({objectMode:(H0=(B0=I.readableObjectMode)!==null&&B0!==void 0?B0:I.objectMode)!==null&&H0!==void 0?H0:!0,...T,destroy(Q0,dP){W.destroyer(I,Q0),dP(Q0)}}).wrap(I)}}),C7=G0((P,p)=>{var X=Z1(),{ArrayPrototypeSlice:H,Error:h,FunctionPrototypeSymbolHasInstance:x,ObjectDefineProperty:B,ObjectDefineProperties:A,ObjectSetPrototypeOf:$,StringPrototypeToLowerCase:D,Symbol:Z,SymbolHasInstance:L}=XP();p.exports=e,e.WritableState=S;var{EventEmitter:f}=(n2(),lP(r2)),F=F7().Stream,{Buffer:q}=(BX(),lP(xX)),b=Sh(),{addAbortSignal:j}=TD(),{getHighWaterMark:Q,getDefaultHighWaterMark:C}=MD(),{ERR_INVALID_ARG_TYPE:V,ERR_METHOD_NOT_IMPLEMENTED:Y,ERR_MULTIPLE_CALLBACK:k,ERR_STREAM_CANNOT_PIPE:z,ERR_STREAM_DESTROYED:W,ERR_STREAM_ALREADY_FINISHED:M,ERR_STREAM_NULL_VALUES:c,ERR_STREAM_WRITE_AFTER_END:w,ERR_UNKNOWN_ENCODING:U}=oP().codes,{errorOrDestroy:G}=b;$(e.prototype,F.prototype),$(e,F);function J(){}var d=Z("kOnFinished");function S(N,O,g){if(typeof g!=="boolean")g=O instanceof $X();if(this.objectMode=!!(N&&N.objectMode),g)this.objectMode=this.objectMode||!!(N&&N.writableObjectMode);this.highWaterMark=N?Q(this,N,"writableHighWaterMark",g):C(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let X0=!!(N&&N.decodeStrings===!1);this.decodeStrings=!X0,this.defaultEncoding=N&&N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=E.bind(void 0,O),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,r(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!N||N.emitClose!==!1,this.autoDestroy=!N||N.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[d]=[]}function r(N){N.buffered=[],N.bufferedIndex=0,N.allBuffers=!0,N.allNoop=!0}S.prototype.getBuffer=function N(){return H(this.buffered,this.bufferedIndex)},B(S.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function e(N){let O=this instanceof $X();if(!O&&!x(e,this))return new e(N);if(this._writableState=new S(N,this,O),N){if(typeof N.write==="function")this._write=N.write;if(typeof N.writev==="function")this._writev=N.writev;if(typeof N.destroy==="function")this._destroy=N.destroy;if(typeof N.final==="function")this._final=N.final;if(typeof N.construct==="function")this._construct=N.construct;if(N.signal)j(N.signal,this)}F.call(this,N),b.construct(this,()=>{let g=this._writableState;if(!g.writing)Z0(this,g);i(this,g)})}B(e,L,{__proto__:null,value:function(N){if(x(this,N))return!0;if(this!==e)return!1;return N&&N._writableState instanceof S}}),e.prototype.pipe=function(){G(this,new z)};function y(N,O,g,X0){let x0=N._writableState;if(typeof g==="function")X0=g,g=x0.defaultEncoding;else{if(!g)g=x0.defaultEncoding;else if(g!=="buffer"&&!q.isEncoding(g))throw new U(g);if(typeof X0!=="function")X0=J}if(O===null)throw new c;else if(!x0.objectMode)if(typeof O==="string"){if(x0.decodeStrings!==!1)O=q.from(O,g),g="buffer"}else if(O instanceof q)g="buffer";else if(F._isUint8Array(O))O=F._uint8ArrayToBuffer(O),g="buffer";else throw new V("chunk",["string","Buffer","Uint8Array"],O);let p0;if(x0.ending)p0=new w;else if(x0.destroyed)p0=new W("write");if(p0)return X.nextTick(X0,p0),G(N,p0,!0),p0;return x0.pendingcb++,Y0(N,x0,O,g,X0)}e.prototype.write=function(N,O,g){return y(this,N,O,g)===!0},e.prototype.cork=function(){this._writableState.corked++},e.prototype.uncork=function(){let N=this._writableState;if(N.corked){if(N.corked--,!N.writing)Z0(this,N)}},e.prototype.setDefaultEncoding=function N(O){if(typeof O==="string")O=D(O);if(!q.isEncoding(O))throw new U(O);return this._writableState.defaultEncoding=O,this};function Y0(N,O,g,X0,x0){let p0=O.objectMode?1:g.length;O.length+=p0;let v=O.length<O.highWaterMark;if(!v)O.needDrain=!0;if(O.writing||O.corked||O.errored||!O.constructed){if(O.buffered.push({chunk:g,encoding:X0,callback:x0}),O.allBuffers&&X0!=="buffer")O.allBuffers=!1;if(O.allNoop&&x0!==J)O.allNoop=!1}else O.writelen=p0,O.writecb=x0,O.writing=!0,O.sync=!0,N._write(g,X0,O.onwrite),O.sync=!1;return v&&!O.errored&&!O.destroyed}function m(N,O,g,X0,x0,p0,v){if(O.writelen=X0,O.writecb=v,O.writing=!0,O.sync=!0,O.destroyed)O.onwrite(new W("write"));else if(g)N._writev(x0,O.onwrite);else N._write(x0,p0,O.onwrite);O.sync=!1}function f0(N,O,g,X0){--O.pendingcb,X0(g),u(O),G(N,g)}function E(N,O){let g=N._writableState,X0=g.sync,x0=g.writecb;if(typeof x0!=="function"){G(N,new k);return}if(g.writing=!1,g.writecb=null,g.length-=g.writelen,g.writelen=0,O){if(O.stack,!g.errored)g.errored=O;if(N._readableState&&!N._readableState.errored)N._readableState.errored=O;if(X0)X.nextTick(f0,N,g,O,x0);else f0(N,g,O,x0)}else{if(g.buffered.length>g.bufferedIndex)Z0(N,g);if(X0)if(g.afterWriteTickInfo!==null&&g.afterWriteTickInfo.cb===x0)g.afterWriteTickInfo.count++;else g.afterWriteTickInfo={count:1,cb:x0,stream:N,state:g},X.nextTick(_,g.afterWriteTickInfo);else P0(N,g,1,x0)}}function _({stream:N,state:O,count:g,cb:X0}){return O.afterWriteTickInfo=null,P0(N,O,g,X0)}function P0(N,O,g,X0){if(!O.ending&&!N.destroyed&&O.length===0&&O.needDrain)O.needDrain=!1,N.emit("drain");while(g-- >0)O.pendingcb--,X0();if(O.destroyed)u(O);i(N,O)}function u(N){if(N.writing)return;for(let x0=N.bufferedIndex;x0<N.buffered.length;++x0){var O;let{chunk:p0,callback:v}=N.buffered[x0],s=N.objectMode?1:p0.length;N.length-=s,v((O=N.errored)!==null&&O!==void 0?O:new W("write"))}let g=N[d].splice(0);for(let x0=0;x0<g.length;x0++){var X0;g[x0]((X0=N.errored)!==null&&X0!==void 0?X0:new W("end"))}r(N)}function Z0(N,O){if(O.corked||O.bufferProcessing||O.destroyed||!O.constructed)return;let{buffered:g,bufferedIndex:X0,objectMode:x0}=O,p0=g.length-X0;if(!p0)return;let v=X0;if(O.bufferProcessing=!0,p0>1&&N._writev){O.pendingcb-=p0-1;let s=O.allNoop?J:(t)=>{for(let q0=v;q0<g.length;++q0)g[q0].callback(t)},$0=O.allNoop&&v===0?g:H(g,v);$0.allBuffers=O.allBuffers,m(N,O,!0,O.length,$0,"",s),r(O)}else{do{let{chunk:s,encoding:$0,callback:t}=g[v];g[v++]=null;let q0=x0?1:s.length;m(N,O,!1,q0,s,$0,t)}while(v<g.length&&!O.writing);if(v===g.length)r(O);else if(v>256)g.splice(0,v),O.bufferedIndex=0;else O.bufferedIndex=v}O.bufferProcessing=!1}e.prototype._write=function(N,O,g){if(this._writev)this._writev([{chunk:N,encoding:O}],g);else throw new Y("_write()")},e.prototype._writev=null,e.prototype.end=function(N,O,g){let X0=this._writableState;if(typeof N==="function")g=N,N=null,O=null;else if(typeof O==="function")g=O,O=null;let x0;if(N!==null&&N!==void 0){let p0=y(this,N,O);if(p0 instanceof h)x0=p0}if(X0.corked)X0.corked=1,this.uncork();if(x0);else if(!X0.errored&&!X0.ending)X0.ending=!0,i(this,X0,!0),X0.ended=!0;else if(X0.finished)x0=new M("end");else if(X0.destroyed)x0=new W("end");if(typeof g==="function")if(x0||X0.finished)X.nextTick(g,x0);else X0[d].push(g);return this};function D0(N){return N.ending&&!N.destroyed&&N.constructed&&N.length===0&&!N.errored&&N.buffered.length===0&&!N.finished&&!N.writing&&!N.errorEmitted&&!N.closeEmitted}function M0(N,O){let g=!1;function X0(x0){if(g){G(N,x0!==null&&x0!==void 0?x0:k());return}if(g=!0,O.pendingcb--,x0){let p0=O[d].splice(0);for(let v=0;v<p0.length;v++)p0[v](x0);G(N,x0,O.sync)}else if(D0(O))O.prefinished=!0,N.emit("prefinish"),O.pendingcb++,X.nextTick(o,N,O)}O.sync=!0,O.pendingcb++;try{N._final(X0)}catch(x0){X0(x0)}O.sync=!1}function b0(N,O){if(!O.prefinished&&!O.finalCalled)if(typeof N._final==="function"&&!O.destroyed)O.finalCalled=!0,M0(N,O);else O.prefinished=!0,N.emit("prefinish")}function i(N,O,g){if(D0(O)){if(b0(N,O),O.pendingcb===0){if(g)O.pendingcb++,X.nextTick((X0,x0)=>{if(D0(x0))o(X0,x0);else x0.pendingcb--},N,O);else if(D0(O))O.pendingcb++,o(N,O)}}}function o(N,O){O.pendingcb--,O.finished=!0;let g=O[d].splice(0);for(let X0=0;X0<g.length;X0++)g[X0]();if(N.emit("finish"),O.autoDestroy){let X0=N._readableState;if(!X0||X0.autoDestroy&&(X0.endEmitted||X0.readable===!1))N.destroy()}}A(e.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(N){if(this._writableState)this._writableState.destroyed=N}},writable:{__proto__:null,get(){let N=this._writableState;return!!N&&N.writable!==!1&&!N.destroyed&&!N.errored&&!N.ending&&!N.ended},set(N){if(this._writableState)this._writableState.writable=!!N}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let N=this._writableState;if(!N)return!1;return!N.destroyed&&!N.ending&&N.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var h0=b.destroy;e.prototype.destroy=function(N,O){let g=this._writableState;if(!g.destroyed&&(g.bufferedIndex<g.buffered.length||g[d].length))X.nextTick(u,g);return h0.call(this,N,O),this},e.prototype._undestroy=b.undestroy,e.prototype._destroy=function(N,O){O(N)},e.prototype[f.captureRejectionSymbol]=function(N){this.destroy(N)};var k0;function j0(){if(k0===void 0)k0={};return k0}e.fromWeb=function(N,O){return j0().newStreamWritableFromWritableStream(N,O)},e.toWeb=function(N){return j0().newWritableStreamFromStreamWritable(N)}}),kz=G0((P,p)=>{var X=Z1(),H=(BX(),lP(xX)),{isReadable:h,isWritable:x,isIterable:B,isNodeStream:A,isReadableNodeStream:$,isWritableNodeStream:D,isDuplexNodeStream:Z,isReadableStream:L,isWritableStream:f}=ZX(),F=AH(),{AbortError:q,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:j}}=oP(),{destroyer:Q}=Sh(),C=$X(),V=WD(),Y=C7(),{createDeferredPromise:k}=xp(),z=EV(),W=globalThis.Blob||H.Blob,M=typeof W!=="undefined"?function d(S){return S instanceof W}:function d(S){return!1},c=globalThis.AbortController||s2().AbortController,{FunctionPrototypeCall:w}=XP();class U extends C{constructor(d){super(d);if((d===null||d===void 0?void 0:d.readable)===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if((d===null||d===void 0?void 0:d.writable)===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}}p.exports=function d(S,r){if(Z(S))return S;if($(S))return J({readable:S});if(D(S))return J({writable:S});if(A(S))return J({writable:!1,readable:!1});if(L(S))return J({readable:V.fromWeb(S)});if(f(S))return J({writable:Y.fromWeb(S)});if(typeof S==="function"){let{value:y,write:Y0,final:m,destroy:f0}=G(S);if(B(y))return z(U,y,{objectMode:!0,write:Y0,final:m,destroy:f0});let E=y===null||y===void 0?void 0:y.then;if(typeof E==="function"){let _,P0=w(E,y,(u)=>{if(u!=null)throw new j("nully","body",u)},(u)=>{Q(_,u)});return _=new U({objectMode:!0,readable:!1,write:Y0,final(u){m(async()=>{try{await P0,X.nextTick(u,null)}catch(Z0){X.nextTick(u,Z0)}})},destroy:f0})}throw new j("Iterable, AsyncIterable or AsyncFunction",r,y)}if(M(S))return d(S.arrayBuffer());if(B(S))return z(U,S,{objectMode:!0,writable:!1});if(L(S===null||S===void 0?void 0:S.readable)&&f(S===null||S===void 0?void 0:S.writable))return U.fromWeb(S);if(typeof(S===null||S===void 0?void 0:S.writable)==="object"||typeof(S===null||S===void 0?void 0:S.readable)==="object"){let y=S!==null&&S!==void 0&&S.readable?$(S===null||S===void 0?void 0:S.readable)?S===null||S===void 0?void 0:S.readable:d(S.readable):void 0,Y0=S!==null&&S!==void 0&&S.writable?D(S===null||S===void 0?void 0:S.writable)?S===null||S===void 0?void 0:S.writable:d(S.writable):void 0;return J({readable:y,writable:Y0})}let e=S===null||S===void 0?void 0:S.then;if(typeof e==="function"){let y;return w(e,S,(Y0)=>{if(Y0!=null)y.push(Y0);y.push(null)},(Y0)=>{Q(y,Y0)}),y=new U({objectMode:!0,writable:!1,read(){}})}throw new b(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],S)};function G(d){let{promise:S,resolve:r}=k(),e=new c,y=e.signal;return{value:d(async function*(){while(!0){let Y0=S;S=null;let{chunk:m,done:f0,cb:E}=await Y0;if(X.nextTick(E),f0)return;if(y.aborted)throw new q(void 0,{cause:y.reason});({promise:S,resolve:r}=k()),yield m}}(),{signal:y}),write(Y0,m,f0){let E=r;r=null,E({chunk:Y0,done:!1,cb:f0})},final(Y0){let m=r;r=null,m({done:!0,cb:Y0})},destroy(Y0,m){e.abort(),m(Y0)}}}function J(d){let S=d.readable&&typeof d.readable.read!=="function"?V.wrap(d.readable):d.readable,r=d.writable,e=!!h(S),y=!!x(r),Y0,m,f0,E,_;function P0(u){let Z0=E;if(E=null,Z0)Z0(u);else if(u)_.destroy(u)}if(_=new U({readableObjectMode:!!(S!==null&&S!==void 0&&S.readableObjectMode),writableObjectMode:!!(r!==null&&r!==void 0&&r.writableObjectMode),readable:e,writable:y}),y)F(r,(u)=>{if(y=!1,u)Q(S,u);P0(u)}),_._write=function(u,Z0,D0){if(r.write(u,Z0))D0();else Y0=D0},_._final=function(u){r.end(),m=u},r.on("drain",function(){if(Y0){let u=Y0;Y0=null,u()}}),r.on("finish",function(){if(m){let u=m;m=null,u()}});if(e)F(S,(u)=>{if(e=!1,u)Q(S,u);P0(u)}),S.on("readable",function(){if(f0){let u=f0;f0=null,u()}}),S.on("end",function(){_.push(null)}),_._read=function(){while(!0){let u=S.read();if(u===null){f0=_._read;return}if(!_.push(u))return}};return _._destroy=function(u,Z0){if(!u&&E!==null)u=new q;if(f0=null,Y0=null,m=null,E===null)Z0(u);else E=Z0,Q(r,u),Q(S,u)},_}}),$X=G0((P,p)=>{var{ObjectDefineProperties:X,ObjectGetOwnPropertyDescriptor:H,ObjectKeys:h,ObjectSetPrototypeOf:x}=XP();p.exports=$;var B=WD(),A=C7();x($.prototype,B.prototype),x($,B);{let f=h(A.prototype);for(let F=0;F<f.length;F++){let q=f[F];if(!$.prototype[q])$.prototype[q]=A.prototype[q]}}function $(f){if(!(this instanceof $))return new $(f);if(B.call(this,f),A.call(this,f),f){if(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if(f.writable===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}else this.allowHalfOpen=!0}X($.prototype,{writable:{__proto__:null,...H(A.prototype,"writable")},writableHighWaterMark:{__proto__:null,...H(A.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...H(A.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...H(A.prototype,"writableBuffer")},writableLength:{__proto__:null,...H(A.prototype,"writableLength")},writableFinished:{__proto__:null,...H(A.prototype,"writableFinished")},writableCorked:{__proto__:null,...H(A.prototype,"writableCorked")},writableEnded:{__proto__:null,...H(A.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...H(A.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set(f){if(this._readableState&&this._writableState)this._readableState.destroyed=f,this._writableState.destroyed=f}}});var D;function Z(){if(D===void 0)D={};return D}$.fromWeb=function(f,F){return Z().newStreamDuplexFromReadableWritablePair(f,F)},$.toWeb=function(f){return Z().newReadableWritablePairFromDuplex(f)};var L;$.from=function(f){if(!L)L=kz();return L(f,"body")}}),wV=G0((P,p)=>{var{ObjectSetPrototypeOf:X,Symbol:H}=XP();p.exports=$;var{ERR_METHOD_NOT_IMPLEMENTED:h}=oP().codes,x=$X(),{getHighWaterMark:B}=MD();X($.prototype,x.prototype),X($,x);var A=H("kCallback");function $(L){if(!(this instanceof $))return new $(L);let f=L?B(this,L,"readableHighWaterMark",!0):null;if(f===0)L={...L,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:L.writableHighWaterMark||0};if(x.call(this,L),this._readableState.sync=!1,this[A]=null,L){if(typeof L.transform==="function")this._transform=L.transform;if(typeof L.flush==="function")this._flush=L.flush}this.on("prefinish",Z)}function D(L){if(typeof this._flush==="function"&&!this.destroyed)this._flush((f,F)=>{if(f){if(L)L(f);else this.destroy(f);return}if(F!=null)this.push(F);if(this.push(null),L)L()});else if(this.push(null),L)L()}function Z(){if(this._final!==D)D.call(this)}$.prototype._final=D,$.prototype._transform=function(L,f,F){throw new h("_transform()")},$.prototype._write=function(L,f,F){let q=this._readableState,b=this._writableState,j=q.length;this._transform(L,f,(Q,C)=>{if(Q){F(Q);return}if(C!=null)this.push(C);if(b.ended||j===q.length||q.length<q.highWaterMark)F();else this[A]=F})},$.prototype._read=function(){if(this[A]){let L=this[A];this[A]=null,L()}}}),zV=G0((P,p)=>{var{ObjectSetPrototypeOf:X}=XP();p.exports=h;var H=wV();X(h.prototype,H.prototype),X(h,H);function h(x){if(!(this instanceof h))return new h(x);H.call(this,x)}h.prototype._transform=function(x,B,A){A(null,x)}}),Q7=G0((P,p)=>{var X=Z1(),{ArrayIsArray:H,Promise:h,SymbolAsyncIterator:x,SymbolDispose:B}=XP(),A=AH(),{once:$}=xp(),D=Sh(),Z=$X(),{aggregateTwoErrors:L,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:F,ERR_MISSING_ARGS:q,ERR_STREAM_DESTROYED:b,ERR_STREAM_PREMATURE_CLOSE:j},AbortError:Q}=oP(),{validateFunction:C,validateAbortSignal:V}=t2(),{isIterable:Y,isReadable:k,isReadableNodeStream:z,isNodeStream:W,isTransformStream:M,isWebStream:c,isReadableStream:w,isReadableFinished:U}=ZX(),G=globalThis.AbortController||s2().AbortController,J,d,S;function r(u,Z0,D0){let M0=!1;u.on("close",()=>{M0=!0});let b0=A(u,{readable:Z0,writable:D0},(i)=>{M0=!i});return{destroy:(i)=>{if(M0)return;M0=!0,D.destroyer(u,i||new b("pipe"))},cleanup:b0}}function e(u){return C(u[u.length-1],"streams[stream.length - 1]"),u.pop()}function y(u){if(Y(u))return u;else if(z(u))return Y0(u);throw new f("val",["Readable","Iterable","AsyncIterable"],u)}async function*Y0(u){if(!d)d=WD();yield*d.prototype[x].call(u)}async function m(u,Z0,D0,{end:M0}){let b0,i=null,o=(j0)=>{if(j0)b0=j0;if(i){let N=i;i=null,N()}},h0=()=>new h((j0,N)=>{if(b0)N(b0);else i=()=>{if(b0)N(b0);else j0()}});Z0.on("drain",o);let k0=A(Z0,{readable:!1},o);try{if(Z0.writableNeedDrain)await h0();for await(let j0 of u)if(!Z0.write(j0))await h0();if(M0)Z0.end(),await h0();D0()}catch(j0){D0(b0!==j0?L(b0,j0):j0)}finally{k0(),Z0.off("drain",o)}}async function f0(u,Z0,D0,{end:M0}){if(M(Z0))Z0=Z0.writable;let b0=Z0.getWriter();try{for await(let i of u)await b0.ready,b0.write(i).catch(()=>{});if(await b0.ready,M0)await b0.close();D0()}catch(i){try{await b0.abort(i),D0(i)}catch(o){D0(o)}}}function E(...u){return _(u,$(e(u)))}function _(u,Z0,D0){if(u.length===1&&H(u[0]))u=u[0];if(u.length<2)throw new q("streams");let M0=new G,b0=M0.signal,i=D0===null||D0===void 0?void 0:D0.signal,o=[];V(i,"options.signal");function h0(){x0(new Q)}S=S||xp().addAbortListener;let k0;if(i)k0=S(i,h0);let j0,N,O=[],g=0;function X0(t){x0(t,--g===0)}function x0(t,q0){var fp;if(t&&(!j0||j0.code==="ERR_STREAM_PREMATURE_CLOSE"))j0=t;if(!j0&&!q0)return;while(O.length)O.shift()(j0);if((fp=k0)===null||fp===void 0||fp[B](),M0.abort(),q0){if(!j0)o.forEach((BP)=>BP());X.nextTick(Z0,j0,N)}}let p0;for(let t=0;t<u.length;t++){let q0=u[t],fp=t<u.length-1,BP=t>0,jP=fp||(D0===null||D0===void 0?void 0:D0.end)!==!1,UH=t===u.length-1;if(W(q0)){let OP=function(Pp){if(Pp&&Pp.name!=="AbortError"&&Pp.code!=="ERR_STREAM_PREMATURE_CLOSE")X0(Pp)};var v=OP;if(jP){let{destroy:Pp,cleanup:O1}=r(q0,fp,BP);if(O.push(Pp),k(q0)&&UH)o.push(O1)}if(q0.on("error",OP),k(q0)&&UH)o.push(()=>{q0.removeListener("error",OP)})}if(t===0)if(typeof q0==="function"){if(p0=q0({signal:b0}),!Y(p0))throw new F("Iterable, AsyncIterable or Stream","source",p0)}else if(Y(q0)||z(q0)||M(q0))p0=q0;else p0=Z.from(q0);else if(typeof q0==="function"){if(M(p0)){var s;p0=y((s=p0)===null||s===void 0?void 0:s.readable)}else p0=y(p0);if(p0=q0(p0,{signal:b0}),fp){if(!Y(p0,!0))throw new F("AsyncIterable",`transform[${t-1}]`,p0)}else{var $0;if(!J)J=zV();let OP=new J({objectMode:!0}),Pp=($0=p0)===null||$0===void 0?void 0:$0.then;if(typeof Pp==="function")g++,Pp.call(p0,(C8)=>{if(N=C8,C8!=null)OP.write(C8);if(jP)OP.end();X.nextTick(X0)},(C8)=>{OP.destroy(C8),X.nextTick(X0,C8)});else if(Y(p0,!0))g++,m(p0,OP,X0,{end:jP});else if(w(p0)||M(p0)){let C8=p0.readable||p0;g++,m(C8,OP,X0,{end:jP})}else throw new F("AsyncIterable or Promise","destination",p0);p0=OP;let{destroy:O1,cleanup:d1}=r(p0,!1,!0);if(O.push(O1),UH)o.push(d1)}}else if(W(q0)){if(z(p0)){g+=2;let OP=P0(p0,q0,X0,{end:jP});if(k(q0)&&UH)o.push(OP)}else if(M(p0)||w(p0)){let OP=p0.readable||p0;g++,m(OP,q0,X0,{end:jP})}else if(Y(p0))g++,m(p0,q0,X0,{end:jP});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p0);p0=q0}else if(c(q0)){if(z(p0))g++,f0(y(p0),q0,X0,{end:jP});else if(w(p0)||Y(p0))g++,f0(p0,q0,X0,{end:jP});else if(M(p0))g++,f0(p0.readable,q0,X0,{end:jP});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p0);p0=q0}else p0=Z.from(q0)}if(b0!==null&&b0!==void 0&&b0.aborted||i!==null&&i!==void 0&&i.aborted)X.nextTick(h0);return p0}function P0(u,Z0,D0,{end:M0}){let b0=!1;if(Z0.on("close",()=>{if(!b0)D0(new j)}),u.pipe(Z0,{end:!1}),M0){let o=function(){b0=!0,Z0.end()};var i=o;if(U(u))X.nextTick(o);else u.once("end",o)}else D0();return A(u,{readable:!0,writable:!1},(o)=>{let h0=u._readableState;if(o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&h0&&h0.ended&&!h0.errored&&!h0.errorEmitted)u.once("end",D0).once("error",D0);else D0(o)}),A(Z0,{readable:!1,writable:!0},D0)}p.exports={pipelineImpl:_,pipeline:E}}),JV=G0((P,p)=>{var{pipeline:X}=Q7(),H=$X(),{destroyer:h}=Sh(),{isNodeStream:x,isReadable:B,isWritable:A,isWebStream:$,isTransformStream:D,isWritableStream:Z,isReadableStream:L}=ZX(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:F,ERR_MISSING_ARGS:q}}=oP(),b=AH();p.exports=function j(...Q){if(Q.length===0)throw new q("streams");if(Q.length===1)return H.from(Q[0]);let C=[...Q];if(typeof Q[0]==="function")Q[0]=H.from(Q[0]);if(typeof Q[Q.length-1]==="function"){let J=Q.length-1;Q[J]=H.from(Q[J])}for(let J=0;J<Q.length;++J){if(!x(Q[J])&&!$(Q[J]))continue;if(J<Q.length-1&&!(B(Q[J])||L(Q[J])||D(Q[J])))throw new F(`streams[${J}]`,C[J],"must be readable");if(J>0&&!(A(Q[J])||Z(Q[J])||D(Q[J])))throw new F(`streams[${J}]`,C[J],"must be writable")}let V,Y,k,z,W;function M(J){let d=z;if(z=null,d)d(J);else if(J)W.destroy(J);else if(!G&&!U)W.destroy()}let c=Q[0],w=X(Q,M),U=!!(A(c)||Z(c)||D(c)),G=!!(B(w)||L(w)||D(w));if(W=new H({writableObjectMode:!!(c!==null&&c!==void 0&&c.writableObjectMode),readableObjectMode:!!(w!==null&&w!==void 0&&w.readableObjectMode),writable:U,readable:G}),U){if(x(c))W._write=function(d,S,r){if(c.write(d,S))r();else V=r},W._final=function(d){c.end(),Y=d},c.on("drain",function(){if(V){let d=V;V=null,d()}});else if($(c)){let d=(D(c)?c.writable:c).getWriter();W._write=async function(S,r,e){try{await d.ready,d.write(S).catch(()=>{}),e()}catch(y){e(y)}},W._final=async function(S){try{await d.ready,d.close().catch(()=>{}),Y=S}catch(r){S(r)}}}let J=D(w)?w.readable:w;b(J,()=>{if(Y){let d=Y;Y=null,d()}})}if(G){if(x(w))w.on("readable",function(){if(k){let J=k;k=null,J()}}),w.on("end",function(){W.push(null)}),W._read=function(){while(!0){let J=w.read();if(J===null){k=W._read;return}if(!W.push(J))return}};else if($(w)){let J=(D(w)?w.readable:w).getReader();W._read=async function(){while(!0)try{let{value:d,done:S}=await J.read();if(!W.push(d))return;if(S){W.push(null);return}}catch{return}}}}return W._destroy=function(J,d){if(!J&&z!==null)J=new f;if(k=null,V=null,Y=null,z===null)d(J);else if(z=d,x(w))h(w,J)},W}}),Iz=G0((P,p)=>{var X=globalThis.AbortController||s2().AbortController,{codes:{ERR_INVALID_ARG_VALUE:H,ERR_INVALID_ARG_TYPE:h,ERR_MISSING_ARGS:x,ERR_OUT_OF_RANGE:B},AbortError:A}=oP(),{validateAbortSignal:$,validateInteger:D,validateObject:Z}=t2(),L=XP().Symbol("kWeak"),f=XP().Symbol("kResistStopPropagation"),{finished:F}=AH(),q=JV(),{addAbortSignalNoValidate:b}=TD(),{isWritable:j,isNodeStream:Q}=ZX(),{deprecate:C}=xp(),{ArrayPrototypePush:V,Boolean:Y,MathFloor:k,Number:z,NumberIsNaN:W,Promise:M,PromiseReject:c,PromiseResolve:w,PromisePrototypeThen:U,Symbol:G}=XP(),J=G("kEmpty"),d=G("kEof");function S(i,o){if(o!=null)Z(o,"options");if((o===null||o===void 0?void 0:o.signal)!=null)$(o.signal,"options.signal");if(Q(i)&&!j(i))throw new H("stream",i,"must be writable");let h0=q(this,i);if(o!==null&&o!==void 0&&o.signal)b(o.signal,h0);return h0}function r(i,o){if(typeof i!=="function")throw new h("fn",["Function","AsyncFunction"],i);if(o!=null)Z(o,"options");if((o===null||o===void 0?void 0:o.signal)!=null)$(o.signal,"options.signal");let h0=1;if((o===null||o===void 0?void 0:o.concurrency)!=null)h0=k(o.concurrency);let k0=h0-1;if((o===null||o===void 0?void 0:o.highWaterMark)!=null)k0=k(o.highWaterMark);return D(h0,"options.concurrency",1),D(k0,"options.highWaterMark",0),k0+=h0,async function*j0(){let N=xp().AbortSignalAny([o===null||o===void 0?void 0:o.signal].filter(Y)),O=this,g=[],X0={signal:N},x0,p0,v=!1,s=0;function $0(){v=!0,t()}function t(){s-=1,q0()}function q0(){if(p0&&!v&&s<h0&&g.length<k0)p0(),p0=null}async function fp(){try{for await(let BP of O){if(v)return;if(N.aborted)throw new A;try{if(BP=i(BP,X0),BP===J)continue;BP=w(BP)}catch(jP){BP=c(jP)}if(s+=1,U(BP,t,$0),g.push(BP),x0)x0(),x0=null;if(!v&&(g.length>=k0||s>=h0))await new M((jP)=>{p0=jP})}g.push(d)}catch(BP){let jP=c(BP);U(jP,t,$0),g.push(jP)}finally{if(v=!0,x0)x0(),x0=null}}fp();try{while(!0){while(g.length>0){let BP=await g[0];if(BP===d)return;if(N.aborted)throw new A;if(BP!==J)yield BP;g.shift(),q0()}await new M((BP)=>{x0=BP})}}finally{if(v=!0,p0)p0(),p0=null}}.call(this)}function e(i=void 0){if(i!=null)Z(i,"options");if((i===null||i===void 0?void 0:i.signal)!=null)$(i.signal,"options.signal");return async function*o(){let h0=0;for await(let j0 of this){var k0;if(i!==null&&i!==void 0&&(k0=i.signal)!==null&&k0!==void 0&&k0.aborted)throw new A({cause:i.signal.reason});yield[h0++,j0]}}.call(this)}async function y(i,o=void 0){for await(let h0 of E.call(this,i,o))return!0;return!1}async function Y0(i,o=void 0){if(typeof i!=="function")throw new h("fn",["Function","AsyncFunction"],i);return!await y.call(this,async(...h0)=>{return!await i(...h0)},o)}async function m(i,o){for await(let h0 of E.call(this,i,o))return h0;return}async function f0(i,o){if(typeof i!=="function")throw new h("fn",["Function","AsyncFunction"],i);async function h0(k0,j0){return await i(k0,j0),J}for await(let k0 of r.call(this,h0,o));}function E(i,o){if(typeof i!=="function")throw new h("fn",["Function","AsyncFunction"],i);async function h0(k0,j0){if(await i(k0,j0))return k0;return J}return r.call(this,h0,o)}class _ extends x{constructor(){super("reduce");this.message="Reduce of an empty stream requires an initial value"}}async function P0(i,o,h0){var k0;if(typeof i!=="function")throw new h("reducer",["Function","AsyncFunction"],i);if(h0!=null)Z(h0,"options");if((h0===null||h0===void 0?void 0:h0.signal)!=null)$(h0.signal,"options.signal");let j0=arguments.length>1;if(h0!==null&&h0!==void 0&&(k0=h0.signal)!==null&&k0!==void 0&&k0.aborted){let x0=new A(void 0,{cause:h0.signal.reason});throw this.once("error",()=>{}),await F(this.destroy(x0)),x0}let N=new X,O=N.signal;if(h0!==null&&h0!==void 0&&h0.signal){let x0={once:!0,[L]:this,[f]:!0};h0.signal.addEventListener("abort",()=>N.abort(),x0)}let g=!1;try{for await(let x0 of this){var X0;if(g=!0,h0!==null&&h0!==void 0&&(X0=h0.signal)!==null&&X0!==void 0&&X0.aborted)throw new A;if(!j0)o=x0,j0=!0;else o=await i(o,x0,{signal:O})}if(!g&&!j0)throw new _}finally{N.abort()}return o}async function u(i){if(i!=null)Z(i,"options");if((i===null||i===void 0?void 0:i.signal)!=null)$(i.signal,"options.signal");let o=[];for await(let k0 of this){var h0;if(i!==null&&i!==void 0&&(h0=i.signal)!==null&&h0!==void 0&&h0.aborted)throw new A(void 0,{cause:i.signal.reason});V(o,k0)}return o}function Z0(i,o){let h0=r.call(this,i,o);return async function*k0(){for await(let j0 of h0)yield*j0}.call(this)}function D0(i){if(i=z(i),W(i))return 0;if(i<0)throw new B("number",">= 0",i);return i}function M0(i,o=void 0){if(o!=null)Z(o,"options");if((o===null||o===void 0?void 0:o.signal)!=null)$(o.signal,"options.signal");return i=D0(i),async function*h0(){var k0;if(o!==null&&o!==void 0&&(k0=o.signal)!==null&&k0!==void 0&&k0.aborted)throw new A;for await(let N of this){var j0;if(o!==null&&o!==void 0&&(j0=o.signal)!==null&&j0!==void 0&&j0.aborted)throw new A;if(i--<=0)yield N}}.call(this)}function b0(i,o=void 0){if(o!=null)Z(o,"options");if((o===null||o===void 0?void 0:o.signal)!=null)$(o.signal,"options.signal");return i=D0(i),async function*h0(){var k0;if(o!==null&&o!==void 0&&(k0=o.signal)!==null&&k0!==void 0&&k0.aborted)throw new A;for await(let N of this){var j0;if(o!==null&&o!==void 0&&(j0=o.signal)!==null&&j0!==void 0&&j0.aborted)throw new A;if(i-- >0)yield N;if(i<=0)return}}.call(this)}P.streamReturningOperators={asIndexedPairs:C(e,"readable.asIndexedPairs will be removed in a future version."),drop:M0,filter:E,flatMap:Z0,map:r,take:b0,compose:S},P.promiseReturningOperators={every:Y0,forEach:f0,reduce:P0,toArray:u,some:y,find:m}}),KV=G0((P,p)=>{var{ArrayPrototypePop:X,Promise:H}=XP(),{isIterable:h,isNodeStream:x,isWebStream:B}=ZX(),{pipelineImpl:A}=Q7(),{finished:$}=AH();RV();function D(...Z){return new H((L,f)=>{let F,q,b=Z[Z.length-1];if(b&&typeof b==="object"&&!x(b)&&!h(b)&&!B(b)){let j=X(Z);F=j.signal,q=j.end}A(Z,(j,Q)=>{if(j)f(j);else L(Q)},{signal:F,end:q})})}p.exports={finished:$,pipeline:D}}),RV=G0((P,p)=>{var{Buffer:X}=(BX(),lP(xX)),{ObjectDefineProperty:H,ObjectKeys:h,ReflectApply:x}=XP(),{promisify:{custom:B}}=xp(),{streamReturningOperators:A,promiseReturningOperators:$}=Iz(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:D}}=oP(),Z=JV(),{setDefaultHighWaterMark:L,getDefaultHighWaterMark:f}=MD(),{pipeline:F}=Q7(),{destroyer:q}=Sh(),b=AH(),j=KV(),Q=ZX(),C=p.exports=F7().Stream;C.isDestroyed=Q.isDestroyed,C.isDisturbed=Q.isDisturbed,C.isErrored=Q.isErrored,C.isReadable=Q.isReadable,C.isWritable=Q.isWritable,C.Readable=WD();for(let Y of h(A)){let k=function(...W){if(new.target)throw D();return C.Readable.from(x(z,this,W))},z=A[Y];H(k,"name",{__proto__:null,value:z.name}),H(k,"length",{__proto__:null,value:z.length}),H(C.Readable.prototype,Y,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}for(let Y of h($)){let k=function(...W){if(new.target)throw D();return x(z,this,W)},z=$[Y];H(k,"name",{__proto__:null,value:z.name}),H(k,"length",{__proto__:null,value:z.length}),H(C.Readable.prototype,Y,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}C.Writable=C7(),C.Duplex=$X(),C.Transform=wV(),C.PassThrough=zV(),C.pipeline=F;var{addAbortSignal:V}=TD();C.addAbortSignal=V,C.finished=b,C.destroy=q,C.compose=Z,C.setDefaultHighWaterMark=L,C.getDefaultHighWaterMark=f,H(C,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return j}}),H(F,B,{__proto__:null,enumerable:!0,get(){return j.pipeline}}),H(b,B,{__proto__:null,enumerable:!0,get(){return j.finished}}),C.Stream=C,C._isUint8Array=function Y(k){return k instanceof Uint8Array},C._uint8ArrayToBuffer=function Y(k){return X.from(k.buffer,k.byteOffset,k.byteLength)}}),Tz=G0((P,p)=>{var X=(wD(),lP(ED));if(X&&process.env.READABLE_STREAM==="disable"){let H=X.promises;p.exports._uint8ArrayToBuffer=X._uint8ArrayToBuffer,p.exports._isUint8Array=X._isUint8Array,p.exports.isDisturbed=X.isDisturbed,p.exports.isErrored=X.isErrored,p.exports.isReadable=X.isReadable,p.exports.Readable=X.Readable,p.exports.Writable=X.Writable,p.exports.Duplex=X.Duplex,p.exports.Transform=X.Transform,p.exports.PassThrough=X.PassThrough,p.exports.addAbortSignal=X.addAbortSignal,p.exports.finished=X.finished,p.exports.destroy=X.destroy,p.exports.pipeline=X.pipeline,p.exports.compose=X.compose,Object.defineProperty(X,"promises",{configurable:!0,enumerable:!0,get(){return H}}),p.exports.Stream=X.Stream}else{let H=RV(),h=KV(),x=H.Readable.destroy;p.exports=H.Readable,p.exports._uint8ArrayToBuffer=H._uint8ArrayToBuffer,p.exports._isUint8Array=H._isUint8Array,p.exports.isDisturbed=H.isDisturbed,p.exports.isErrored=H.isErrored,p.exports.isReadable=H.isReadable,p.exports.Readable=H.Readable,p.exports.Writable=H.Writable,p.exports.Duplex=H.Duplex,p.exports.Transform=H.Transform,p.exports.PassThrough=H.PassThrough,p.exports.addAbortSignal=H.addAbortSignal,p.exports.finished=H.finished,p.exports.destroy=H.destroy,p.exports.destroy=x,p.exports.pipeline=H.pipeline,p.exports.compose=H.compose,Object.defineProperty(H,"promises",{configurable:!0,enumerable:!0,get(){return h}}),p.exports.Stream=H.Stream}p.exports.default=p.exports}),HP=Vz(Tz(),1),Mz=HP.default.ReadableState,Wz=HP.default._fromList,Ez=HP.default.from,wz=HP.default.fromWeb,zz=HP.default.toWeb,Jz=HP.default.wrap,Kz=HP.default._uint8ArrayToBuffer,Rz=HP.default._isUint8Array,Uz=HP.default.isDisturbed,Sz=HP.default.isErrored,Gz=HP.default.isReadable,Nz=HP.default.Readable,vz=HP.default.Writable,cz=HP.default.Duplex,Oz=HP.default.Transform,dz=HP.default.PassThrough,lz=HP.default.addAbortSignal,yz=HP.default.finished,gz=HP.default.destroy,_z=HP.default.pipeline,uz=HP.default.compose,iz=HP.default.Stream,mz=HP.default});var LX=V0((oz)=>{oz.base64=!0;oz.array=!0;oz.string=!0;oz.arraybuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";oz.nodebuffer=typeof Buffer!=="undefined";oz.uint8array=typeof Uint8Array!=="undefined";if(typeof ArrayBuffer==="undefined")oz.blob=!1;else{zD=new ArrayBuffer(0);try{oz.blob=new Blob([zD],{type:"application/zip"}).size===0}catch(P){try{q7=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,JD=new q7,JD.append(zD),oz.blob=JD.getBlob("application/zip").size===0}catch(p){oz.blob=!1}}}var zD,q7,JD;try{oz.nodestream=!!(wD(),lP(ED)).Readable}catch(P){oz.nodestream=!1}});var Y7=V0((HJ)=>{var pJ=hP(),XJ=LX(),w8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";HJ.encode=function(P){var p=[],X,H,h,x,B,A,$,D=0,Z=P.length,L=Z,f=pJ.getTypeOf(P)!=="string";while(D<P.length){if(L=Z-D,!f)X=P.charCodeAt(D++),H=D<Z?P.charCodeAt(D++):0,h=D<Z?P.charCodeAt(D++):0;else X=P[D++],H=D<Z?P[D++]:0,h=D<Z?P[D++]:0;x=X>>2,B=(X&3)<<4|H>>4,A=L>1?(H&15)<<2|h>>6:64,$=L>2?h&63:64,p.push(w8.charAt(x)+w8.charAt(B)+w8.charAt(A)+w8.charAt($))}return p.join("")};HJ.decode=function(P){var p,X,H,h,x,B,A,$=0,D=0,Z="data:";if(P.substr(0,Z.length)===Z)throw new Error("Invalid base64 input, it looks like a data url.");P=P.replace(/[^A-Za-z0-9+/=]/g,"");var L=P.length*3/4;if(P.charAt(P.length-1)===w8.charAt(64))L--;if(P.charAt(P.length-2)===w8.charAt(64))L--;if(L%1!==0)throw new Error("Invalid base64 input, bad content length.");var f;if(XJ.uint8array)f=new Uint8Array(L|0);else f=new Array(L|0);while($<P.length){if(h=w8.indexOf(P.charAt($++)),x=w8.indexOf(P.charAt($++)),B=w8.indexOf(P.charAt($++)),A=w8.indexOf(P.charAt($++)),p=h<<2|x>>4,X=(x&15)<<4|B>>2,H=(B&3)<<6|A,f[D++]=p,B!==64)f[D++]=X;if(A!==64)f[D++]=H}return f}});var e2=V0((mc,UV)=>{UV.exports={isNode:typeof Buffer!=="undefined",newBufferFrom:function(P,p){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(P,p);else{if(typeof P==="number")throw new Error('The "data" argument must not be a number');return new Buffer(P,p)}},allocBuffer:function(P){if(Buffer.alloc)return Buffer.alloc(P);else{var p=new Buffer(P);return p.fill(0),p}},isBuffer:function(P){return Buffer.isBuffer(P)},isStream:function(P){return P&&typeof P.on==="function"&&typeof P.pause==="function"&&typeof P.resume==="function"}}});var NV=V0((ac,GV)=>{var SV=global.MutationObserver||global.WebKitMutationObserver,PB;if(SV)RD=0,b7=new SV(KD),UD=global.document.createTextNode(""),b7.observe(UD,{characterData:!0}),PB=function(){UD.data=RD=++RD%2};else if(!global.setImmediate&&typeof global.MessageChannel!=="undefined")SD=new global.MessageChannel,SD.port1.onmessage=KD,PB=function(){SD.port2.postMessage(0)};else if("document"in global&&"onreadystatechange"in global.document.createElement("script"))PB=function(){var P=global.document.createElement("script");P.onreadystatechange=function(){KD(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},global.document.documentElement.appendChild(P)};else PB=function(){setTimeout(KD,0)};var RD,b7,UD,SD,j7,pB=[];function KD(){j7=!0;var P,p,X=pB.length;while(X){p=pB,pB=[],P=-1;while(++P<X)p[P]();X=pB.length}j7=!1}GV.exports=BJ;function BJ(P){if(pB.push(P)===1&&!j7)PB()}});var yV=V0((oc,lV)=>{var AJ=NV();function Gh(){}var _P={},vV=["REJECTED"],k7=["FULFILLED"],cV=["PENDING"];lV.exports=DH;function DH(P){if(typeof P!=="function")throw new TypeError("resolver must be a function");if(this.state=cV,this.queue=[],this.outcome=void 0,P!==Gh)OV(this,P)}DH.prototype.finally=function(P){if(typeof P!=="function")return this;var p=this.constructor;return this.then(X,H);function X(h){function x(){return h}return p.resolve(P()).then(x)}function H(h){function x(){throw h}return p.resolve(P()).then(x)}};DH.prototype.catch=function(P){return this.then(null,P)};DH.prototype.then=function(P,p){if(typeof P!=="function"&&this.state===k7||typeof p!=="function"&&this.state===vV)return this;var X=new this.constructor(Gh);if(this.state!==cV){var H=this.state===k7?P:p;I7(X,H,this.outcome)}else this.queue.push(new XB(X,P,p));return X};function XB(P,p,X){if(this.promise=P,typeof p==="function")this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled;if(typeof X==="function")this.onRejected=X,this.callRejected=this.otherCallRejected}XB.prototype.callFulfilled=function(P){_P.resolve(this.promise,P)};XB.prototype.otherCallFulfilled=function(P){I7(this.promise,this.onFulfilled,P)};XB.prototype.callRejected=function(P){_P.reject(this.promise,P)};XB.prototype.otherCallRejected=function(P){I7(this.promise,this.onRejected,P)};function I7(P,p,X){AJ(function(){var H;try{H=p(X)}catch(h){return _P.reject(P,h)}if(H===P)_P.reject(P,new TypeError("Cannot resolve promise with itself"));else _P.resolve(P,H)})}_P.resolve=function(P,p){var X=dV(DJ,p);if(X.status==="error")return _P.reject(P,X.value);var H=X.value;if(H)OV(P,H);else{P.state=k7,P.outcome=p;var h=-1,x=P.queue.length;while(++h<x)P.queue[h].callFulfilled(p)}return P};_P.reject=function(P,p){P.state=vV,P.outcome=p;var X=-1,H=P.queue.length;while(++X<H)P.queue[X].callRejected(p);return P};function DJ(P){var p=P&&P.then;if(P&&(typeof P==="object"||typeof P==="function")&&typeof p==="function")return function X(){p.apply(P,arguments)}}function OV(P,p){var X=!1;function H(A){if(X)return;X=!0,_P.reject(P,A)}function h(A){if(X)return;X=!0,_P.resolve(P,A)}function x(){p(h,H)}var B=dV(x);if(B.status==="error")H(B.value)}function dV(P,p){var X={};try{X.value=P(p),X.status="success"}catch(H){X.status="error",X.value=H}return X}DH.resolve=$J;function $J(P){if(P instanceof this)return P;return _P.resolve(new this(Gh),P)}DH.reject=ZJ;function ZJ(P){var p=new this(Gh);return _P.reject(p,P)}DH.all=LJ;function LJ(P){var p=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var X=P.length,H=!1;if(!X)return this.resolve([]);var h=new Array(X),x=0,B=-1,A=new this(Gh);while(++B<X)$(P[B],B);return A;function $(D,Z){p.resolve(D).then(L,function(f){if(!H)H=!0,_P.reject(A,f)});function L(f){if(h[Z]=f,++x===X&&!H)H=!0,_P.resolve(A,h)}}}DH.race=fJ;function fJ(P){var p=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var X=P.length,H=!1;if(!X)return this.resolve([]);var h=-1,x=new this(Gh);while(++h<X)B(P[h]);return x;function B(A){p.resolve(A).then(function($){if(!H)H=!0,_P.resolve(x,$)},function($){if(!H)H=!0,_P.reject(x,$)})}}});var Nh=V0((rc,gV)=>{var T7=null;if(typeof Promise!=="undefined")T7=Promise;else T7=yV();gV.exports={Promise:T7}});var uV=V0((_V)=>{(function(P,p){if(P.setImmediate)return;var X=1,H={},h=!1,x=P.document,B;function A(C){if(typeof C!=="function")C=new Function(""+C);var V=new Array(arguments.length-1);for(var Y=0;Y<V.length;Y++)V[Y]=arguments[Y+1];var k={callback:C,args:V};return H[X]=k,B(X),X++}function $(C){delete H[C]}function D(C){var{callback:V,args:Y}=C;switch(Y.length){case 0:V();break;case 1:V(Y[0]);break;case 2:V(Y[0],Y[1]);break;case 3:V(Y[0],Y[1],Y[2]);break;default:V.apply(p,Y);break}}function Z(C){if(h)setTimeout(Z,0,C);else{var V=H[C];if(V){h=!0;try{D(V)}finally{$(C),h=!1}}}}function L(){B=function(C){process.nextTick(function(){Z(C)})}}function f(){if(P.postMessage&&!P.importScripts){var C=!0,V=P.onmessage;return P.onmessage=function(){C=!1},P.postMessage("","*"),P.onmessage=V,C}}function F(){var C="setImmediate$"+Math.random()+"$",V=function(Y){if(Y.source===P&&typeof Y.data==="string"&&Y.data.indexOf(C)===0)Z(+Y.data.slice(C.length))};if(P.addEventListener)P.addEventListener("message",V,!1);else P.attachEvent("onmessage",V);B=function(Y){P.postMessage(C+Y,"*")}}function q(){var C=new MessageChannel;C.port1.onmessage=function(V){var Y=V.data;Z(Y)},B=function(V){C.port2.postMessage(V)}}function b(){var C=x.documentElement;B=function(V){var Y=x.createElement("script");Y.onreadystatechange=function(){Z(V),Y.onreadystatechange=null,C.removeChild(Y),Y=null},C.appendChild(Y)}}function j(){B=function(C){setTimeout(Z,0,C)}}var Q=Object.getPrototypeOf&&Object.getPrototypeOf(P);if(Q=Q&&Q.setTimeout?Q:P,{}.toString.call(P.process)==="[object process]")L();else if(f())F();else if(P.MessageChannel)q();else if(x&&"onreadystatechange"in x.createElement("script"))b();else j();Q.setImmediate=A,Q.clearImmediate=$})(typeof self==="undefined"?typeof global==="undefined"?_V:global:self)});var hP=V0((QJ)=>{var $H=LX(),FJ=Y7(),vh=e2(),M7=Nh();uV();function CJ(P){var p=null;if($H.uint8array)p=new Uint8Array(P.length);else p=new Array(P.length);return ND(P,p)}QJ.newBlob=function(P,p){QJ.checkSupport("blob");try{return new Blob([P],{type:p})}catch(h){try{var X=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,H=new X;return H.append(P),H.getBlob(p)}catch(x){throw new Error("Bug : can't construct the Blob.")}}};function HB(P){return P}function ND(P,p){for(var X=0;X<P.length;++X)p[X]=P.charCodeAt(X)&255;return p}var GD={stringifyByChunk:function(P,p,X){var H=[],h=0,x=P.length;if(x<=X)return String.fromCharCode.apply(null,P);while(h<x){if(p==="array"||p==="nodebuffer")H.push(String.fromCharCode.apply(null,P.slice(h,Math.min(h+X,x))));else H.push(String.fromCharCode.apply(null,P.subarray(h,Math.min(h+X,x))));h+=X}return H.join("")},stringifyByChar:function(P){var p="";for(var X=0;X<P.length;X++)p+=String.fromCharCode(P[X]);return p},applyCanBeUsed:{uint8array:function(){try{return $H.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(P){return!1}}(),nodebuffer:function(){try{return $H.nodebuffer&&String.fromCharCode.apply(null,vh.allocBuffer(1)).length===1}catch(P){return!1}}()}};function hB(P){var p=65536,X=QJ.getTypeOf(P),H=!0;if(X==="uint8array")H=GD.applyCanBeUsed.uint8array;else if(X==="nodebuffer")H=GD.applyCanBeUsed.nodebuffer;if(H)while(p>1)try{return GD.stringifyByChunk(P,X,p)}catch(h){p=Math.floor(p/2)}return GD.stringifyByChar(P)}QJ.applyFromCharCode=hB;function vD(P,p){for(var X=0;X<P.length;X++)p[X]=P[X];return p}var ZH={};ZH.string={string:HB,array:function(P){return ND(P,new Array(P.length))},arraybuffer:function(P){return ZH.string.uint8array(P).buffer},uint8array:function(P){return ND(P,new Uint8Array(P.length))},nodebuffer:function(P){return ND(P,vh.allocBuffer(P.length))}};ZH.array={string:hB,array:HB,arraybuffer:function(P){return new Uint8Array(P).buffer},uint8array:function(P){return new Uint8Array(P)},nodebuffer:function(P){return vh.newBufferFrom(P)}};ZH.arraybuffer={string:function(P){return hB(new Uint8Array(P))},array:function(P){return vD(new Uint8Array(P),new Array(P.byteLength))},arraybuffer:HB,uint8array:function(P){return new Uint8Array(P)},nodebuffer:function(P){return vh.newBufferFrom(new Uint8Array(P))}};ZH.uint8array={string:hB,array:function(P){return vD(P,new Array(P.length))},arraybuffer:function(P){return P.buffer},uint8array:HB,nodebuffer:function(P){return vh.newBufferFrom(P)}};ZH.nodebuffer={string:hB,array:function(P){return vD(P,new Array(P.length))},arraybuffer:function(P){return ZH.nodebuffer.uint8array(P).buffer},uint8array:function(P){return vD(P,new Uint8Array(P.length))},nodebuffer:HB};QJ.transformTo=function(P,p){if(!p)p="";if(!P)return p;QJ.checkSupport(P);var X=QJ.getTypeOf(p),H=ZH[X][P](p);return H};QJ.resolve=function(P){var p=P.split("/"),X=[];for(var H=0;H<p.length;H++){var h=p[H];if(h==="."||h===""&&H!==0&&H!==p.length-1)continue;else if(h==="..")X.pop();else X.push(h)}return X.join("/")};QJ.getTypeOf=function(P){if(typeof P==="string")return"string";if(Object.prototype.toString.call(P)==="[object Array]")return"array";if($H.nodebuffer&&vh.isBuffer(P))return"nodebuffer";if($H.uint8array&&P instanceof Uint8Array)return"uint8array";if($H.arraybuffer&&P instanceof ArrayBuffer)return"arraybuffer"};QJ.checkSupport=function(P){var p=$H[P.toLowerCase()];if(!p)throw new Error(P+" is not supported by this platform")};QJ.MAX_VALUE_16BITS=65535;QJ.MAX_VALUE_32BITS=-1;QJ.pretty=function(P){var p="",X,H;for(H=0;H<(P||"").length;H++)X=P.charCodeAt(H),p+="\\x"+(X<16?"0":"")+X.toString(16).toUpperCase();return p};QJ.delay=function(P,p,X){setImmediate(function(){P.apply(X||null,p||[])})};QJ.inherits=function(P,p){var X=function(){};X.prototype=p.prototype,P.prototype=new X};QJ.extend=function(){var P={},p,X;for(p=0;p<arguments.length;p++)for(X in arguments[p])if(Object.prototype.hasOwnProperty.call(arguments[p],X)&&typeof P[X]==="undefined")P[X]=arguments[p][X];return P};QJ.prepareContent=function(P,p,X,H,h){var x=M7.Promise.resolve(p).then(function(B){var A=$H.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1);if(A&&typeof FileReader!=="undefined")return new M7.Promise(function($,D){var Z=new FileReader;Z.onload=function(L){$(L.target.result)},Z.onerror=function(L){D(L.target.error)},Z.readAsArrayBuffer(B)});else return B});return x.then(function(B){var A=QJ.getTypeOf(B);if(!A)return M7.Promise.reject(new Error("Can't read the data of '"+P+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"));if(A==="arraybuffer")B=QJ.transformTo("uint8array",B);else if(A==="string"){if(h)B=FJ.decode(B);else if(X){if(H!==!0)B=CJ(B)}}return B})}});var jp=V0((tc,oV)=>{function aV(P){this.name=P||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}aV.prototype={push:function(P){this.emit("data",P)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(P){this.emit("error",P)}return!0},error:function(P){if(this.isFinished)return!1;if(this.isPaused)this.generatedError=P;else{if(this.isFinished=!0,this.emit("error",P),this.previous)this.previous.error(P);this.cleanUp()}return!0},on:function(P,p){return this._listeners[P].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(P,p){if(this._listeners[P])for(var X=0;X<this._listeners[P].length;X++)this._listeners[P][X].call(this,p)},pipe:function(P){return P.registerPrevious(this)},registerPrevious:function(P){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=P.streamInfo,this.mergeStreamInfo(),this.previous=P;var p=this;return P.on("data",function(X){p.processChunk(X)}),P.on("end",function(){p.end()}),P.on("error",function(X){p.error(X)}),this},pause:function(){if(this.isPaused||this.isFinished)return!1;if(this.isPaused=!0,this.previous)this.previous.pause();return!0},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var P=!1;if(this.generatedError)this.error(this.generatedError),P=!0;if(this.previous)this.previous.resume();return!P},flush:function(){},processChunk:function(P){this.push(P)},withStreamInfo:function(P,p){return this.extraStreamInfo[P]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var P in this.extraStreamInfo){if(!Object.prototype.hasOwnProperty.call(this.extraStreamInfo,P))continue;this.streamInfo[P]=this.extraStreamInfo[P]}},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");if(this.isLocked=!0,this.previous)this.previous.lock()},toString:function(){var P="Worker "+this.name;if(this.previous)return this.previous+" -> "+P;else return P}};oV.exports=aV});var Oh=V0((KJ)=>{var ch=hP(),L1=LX(),EJ=e2(),cD=jp(),xB=new Array(256);for(z8=0;z8<256;z8++)xB[z8]=z8>=252?6:z8>=248?5:z8>=240?4:z8>=224?3:z8>=192?2:1;var z8;xB[254]=xB[254]=1;var wJ=function(P){var p,X,H,h,x,B=P.length,A=0;for(h=0;h<B;h++){if(X=P.charCodeAt(h),(X&64512)===55296&&h+1<B){if(H=P.charCodeAt(h+1),(H&64512)===56320)X=65536+(X-55296<<10)+(H-56320),h++}A+=X<128?1:X<2048?2:X<65536?3:4}if(L1.uint8array)p=new Uint8Array(A);else p=new Array(A);for(x=0,h=0;x<A;h++){if(X=P.charCodeAt(h),(X&64512)===55296&&h+1<B){if(H=P.charCodeAt(h+1),(H&64512)===56320)X=65536+(X-55296<<10)+(H-56320),h++}if(X<128)p[x++]=X;else if(X<2048)p[x++]=192|X>>>6,p[x++]=128|X&63;else if(X<65536)p[x++]=224|X>>>12,p[x++]=128|X>>>6&63,p[x++]=128|X&63;else p[x++]=240|X>>>18,p[x++]=128|X>>>12&63,p[x++]=128|X>>>6&63,p[x++]=128|X&63}return p},zJ=function(P,p){var X;if(p=p||P.length,p>P.length)p=P.length;X=p-1;while(X>=0&&(P[X]&192)===128)X--;if(X<0)return p;if(X===0)return p;return X+xB[P[X]]>p?X:p},JJ=function(P){var p,X,H,h,x=P.length,B=new Array(x*2);for(X=0,p=0;p<x;){if(H=P[p++],H<128){B[X++]=H;continue}if(h=xB[H],h>4){B[X++]=65533,p+=h-1;continue}H&=h===2?31:h===3?15:7;while(h>1&&p<x)H=H<<6|P[p++]&63,h--;if(h>1){B[X++]=65533;continue}if(H<65536)B[X++]=H;else H-=65536,B[X++]=55296|H>>10&1023,B[X++]=56320|H&1023}if(B.length!==X)if(B.subarray)B=B.subarray(0,X);else B.length=X;return ch.applyFromCharCode(B)};KJ.utf8encode=function P(p){if(L1.nodebuffer)return EJ.newBufferFrom(p,"utf-8");return wJ(p)};KJ.utf8decode=function P(p){if(L1.nodebuffer)return ch.transformTo("nodebuffer",p).toString("utf-8");return p=ch.transformTo(L1.uint8array?"uint8array":"array",p),JJ(p)};function OD(){cD.call(this,"utf-8 decode"),this.leftOver=null}ch.inherits(OD,cD);OD.prototype.processChunk=function(P){var p=ch.transformTo(L1.uint8array?"uint8array":"array",P.data);if(this.leftOver&&this.leftOver.length){if(L1.uint8array){var X=p;p=new Uint8Array(X.length+this.leftOver.length),p.set(this.leftOver,0),p.set(X,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var H=zJ(p),h=p;if(H!==p.length)if(L1.uint8array)h=p.subarray(0,H),this.leftOver=p.subarray(H,p.length);else h=p.slice(0,H),this.leftOver=p.slice(H,p.length);this.push({data:KJ.utf8decode(h),meta:P.meta})};OD.prototype.flush=function(){if(this.leftOver&&this.leftOver.length)this.push({data:KJ.utf8decode(this.leftOver),meta:{}}),this.leftOver=null};KJ.Utf8DecodeWorker=OD;function E7(){cD.call(this,"utf-8 encode")}ch.inherits(E7,cD);E7.prototype.processChunk=function(P){this.push({data:KJ.utf8encode(P.data),meta:P.meta})};KJ.Utf8EncodeWorker=E7});var eV=V0((PO,tV)=>{var nV=jp(),sV=hP();function z7(P){nV.call(this,"ConvertWorker to "+P),this.destType=P}sV.inherits(z7,nV);z7.prototype.processChunk=function(P){this.push({data:sV.transformTo(this.destType,P.data),meta:P.meta})};tV.exports=z7});var X3=V0((pO,p3)=>{var P3=(wD(),lP(ED)).Readable,SJ=hP();SJ.inherits(J7,P3);function J7(P,p,X){P3.call(this,p),this._helper=P;var H=this;P.on("data",function(h,x){if(!H.push(h))H._helper.pause();if(X)X(x)}).on("error",function(h){H.emit("error",h)}).on("end",function(){H.push(null)})}J7.prototype._read=function(){this._helper.resume()};p3.exports=J7});var K7=V0((XO,x3)=>{var f1=hP(),GJ=eV(),NJ=jp(),vJ=Y7(),cJ=LX(),OJ=Nh(),H3=null;if(cJ.nodestream)try{H3=X3()}catch(P){}function dJ(P,p,X){switch(P){case"blob":return f1.newBlob(f1.transformTo("arraybuffer",p),X);case"base64":return vJ.encode(p);default:return f1.transformTo(P,p)}}function lJ(P,p){var X,H=0,h=null,x=0;for(X=0;X<p.length;X++)x+=p[X].length;switch(P){case"string":return p.join("");case"array":return Array.prototype.concat.apply([],p);case"uint8array":h=new Uint8Array(x);for(X=0;X<p.length;X++)h.set(p[X],H),H+=p[X].length;return h;case"nodebuffer":return Buffer.concat(p);default:throw new Error("concat : unsupported type '"+P+"'")}}function yJ(P,p){return new OJ.Promise(function(X,H){var h=[],x=P._internalType,B=P._outputType,A=P._mimeType;P.on("data",function($,D){if(h.push($),p)p(D)}).on("error",function($){h=[],H($)}).on("end",function(){try{var $=dJ(B,lJ(x,h),A);X($)}catch(D){H(D)}h=[]}).resume()})}function h3(P,p,X){var H=p;switch(p){case"blob":case"arraybuffer":H="uint8array";break;case"base64":H="string";break}try{this._internalType=H,this._outputType=p,this._mimeType=X,f1.checkSupport(H),this._worker=P.pipe(new GJ(H)),P.lock()}catch(h){this._worker=new NJ("error"),this._worker.error(h)}}h3.prototype={accumulate:function(P){return yJ(this,P)},on:function(P,p){var X=this;if(P==="data")this._worker.on(P,function(H){p.call(X,H.data,H.meta)});else this._worker.on(P,function(){f1.delay(p,arguments,X)});return this},resume:function(){return f1.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(P){if(f1.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new H3(this,{objectMode:this._outputType!=="nodebuffer"},P)}};x3.exports=h3});var R7=V0((gJ)=>{gJ.base64=!1;gJ.binary=!1;gJ.dir=!1;gJ.createFolders=!0;gJ.date=null;gJ.compression=null;gJ.compressionOptions=null;gJ.comment=null;gJ.unixPermissions=null;gJ.dosPermissions=null});var U7=V0((hO,B3)=>{var dD=hP(),lD=jp(),eJ=16384;function dh(P){lD.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,P.then(function(X){if(p.dataIsReady=!0,p.data=X,p.max=X&&X.length||0,p.type=dD.getTypeOf(X),!p.isPaused)p._tickAndRepeat()},function(X){p.error(X)})}dD.inherits(dh,lD);dh.prototype.cleanUp=function(){lD.prototype.cleanUp.call(this),this.data=null};dh.prototype.resume=function(){if(!lD.prototype.resume.call(this))return!1;if(!this._tickScheduled&&this.dataIsReady)this._tickScheduled=!0,dD.delay(this._tickAndRepeat,[],this);return!0};dh.prototype._tickAndRepeat=function(){if(this._tickScheduled=!1,this.isPaused||this.isFinished)return;if(this._tick(),!this.isFinished)dD.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0};dh.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var P=eJ,p=null,X=Math.min(this.max,this.index+P);if(this.index>=this.max)return this.end();else{switch(this.type){case"string":p=this.data.substring(this.index,X);break;case"uint8array":p=this.data.subarray(this.index,X);break;case"array":case"nodebuffer":p=this.data.slice(this.index,X);break}return this.index=X,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})}};B3.exports=dh});var yD=V0((xO,D3)=>{var PK=hP();function pK(){var P,p=[];for(var X=0;X<256;X++){P=X;for(var H=0;H<8;H++)P=P&1?3988292384^P>>>1:P>>>1;p[X]=P}return p}var A3=pK();function XK(P,p,X,H){var h=A3,x=H+X;P=P^-1;for(var B=H;B<x;B++)P=P>>>8^h[(P^p[B])&255];return P^-1}function HK(P,p,X,H){var h=A3,x=H+X;P=P^-1;for(var B=H;B<x;B++)P=P>>>8^h[(P^p.charCodeAt(B))&255];return P^-1}D3.exports=function P(p,X){if(typeof p==="undefined"||!p.length)return 0;var H=PK.getTypeOf(p)!=="string";if(H)return XK(X|0,p,p.length,0);else return HK(X|0,p,p.length,0)}});var G7=V0((BO,Z3)=>{var $3=jp(),hK=yD(),xK=hP();function S7(){$3.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}xK.inherits(S7,$3);S7.prototype.processChunk=function(P){this.streamInfo.crc32=hK(P.data,this.streamInfo.crc32||0),this.push(P)};Z3.exports=S7});var f3=V0((AO,L3)=>{var BK=hP(),N7=jp();function v7(P){N7.call(this,"DataLengthProbe for "+P),this.propName=P,this.withStreamInfo(P,0)}BK.inherits(v7,N7);v7.prototype.processChunk=function(P){if(P){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+P.data.length}N7.prototype.processChunk.call(this,P)};L3.exports=v7});var gD=V0((DO,Q3)=>{var F3=Nh(),C3=U7(),AK=G7(),c7=f3();function O7(P,p,X,H,h){this.compressedSize=P,this.uncompressedSize=p,this.crc32=X,this.compression=H,this.compressedContent=h}O7.prototype={getContentWorker:function(){var P=new C3(F3.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c7("data_length")),p=this;return P.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),P},getCompressedWorker:function(){return new C3(F3.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};O7.createWorkerFrom=function(P,p,X){return P.pipe(new AK).pipe(new c7("uncompressedSize")).pipe(p.compressWorker(X)).pipe(new c7("compressedSize")).withStreamInfo("compression",p)};Q3.exports=O7});var b3=V0(($O,Y3)=>{var DK=K7(),$K=U7(),d7=Oh(),l7=gD(),V3=jp(),y7=function(P,p,X){this.name=P,this.dir=X.dir,this.date=X.date,this.comment=X.comment,this.unixPermissions=X.unixPermissions,this.dosPermissions=X.dosPermissions,this._data=p,this._dataBinary=X.binary,this.options={compression:X.compression,compressionOptions:X.compressionOptions}};y7.prototype={internalStream:function(P){var p=null,X="string";try{if(!P)throw new Error("No output type specified.");X=P.toLowerCase();var H=X==="string"||X==="text";if(X==="binarystring"||X==="text")X="string";p=this._decompressWorker();var h=!this._dataBinary;if(h&&!H)p=p.pipe(new d7.Utf8EncodeWorker);if(!h&&H)p=p.pipe(new d7.Utf8DecodeWorker)}catch(x){p=new V3("error"),p.error(x)}return new DK(p,X,"")},async:function(P,p){return this.internalStream(P).accumulate(p)},nodeStream:function(P,p){return this.internalStream(P||"nodebuffer").toNodejsStream(p)},_compressWorker:function(P,p){if(this._data instanceof l7&&this._data.compression.magic===P.magic)return this._data.getCompressedWorker();else{var X=this._decompressWorker();if(!this._dataBinary)X=X.pipe(new d7.Utf8EncodeWorker);return l7.createWorkerFrom(X,P,p)}},_decompressWorker:function(){if(this._data instanceof l7)return this._data.getContentWorker();else if(this._data instanceof V3)return this._data;else return new $K(this._data)}};var q3=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],ZK=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(BB=0;BB<q3.length;BB++)y7.prototype[q3[BB]]=ZK;var BB;Y3.exports=y7});var fX=V0((g7)=>{var CK=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";function QK(P,p){return Object.prototype.hasOwnProperty.call(P,p)}g7.assign=function(P){var p=Array.prototype.slice.call(arguments,1);while(p.length){var X=p.shift();if(!X)continue;if(typeof X!=="object")throw new TypeError(X+"must be non-object");for(var H in X)if(QK(X,H))P[H]=X[H]}return P};g7.shrinkBuf=function(P,p){if(P.length===p)return P;if(P.subarray)return P.subarray(0,p);return P.length=p,P};var VK={arraySet:function(P,p,X,H,h){if(p.subarray&&P.subarray){P.set(p.subarray(X,X+H),h);return}for(var x=0;x<H;x++)P[h+x]=p[X+x]},flattenChunks:function(P){var p,X,H,h,x,B;H=0;for(p=0,X=P.length;p<X;p++)H+=P[p].length;B=new Uint8Array(H),h=0;for(p=0,X=P.length;p<X;p++)x=P[p],B.set(x,h),h+=x.length;return B}},qK={arraySet:function(P,p,X,H,h){for(var x=0;x<H;x++)P[h+x]=p[X+x]},flattenChunks:function(P){return[].concat.apply([],P)}};g7.setTyped=function(P){if(P)g7.Buf8=Uint8Array,g7.Buf16=Uint16Array,g7.Buf32=Int32Array,g7.assign(g7,VK);else g7.Buf8=Array,g7.Buf16=Array,g7.Buf32=Array,g7.assign(g7,qK)};g7.setTyped(CK)});var _3=V0((lK)=>{var bK=fX(),jK=4,k3=0,I3=1,kK=2;function yh(P){var p=P.length;while(--p>=0)P[p]=0}var IK=0,z3=1,TK=2,MK=3,WK=258,n7=29,fB=256,DB=fB+1+n7,lh=30,s7=19,J3=2*DB+1,F1=15,u7=16,EK=7,t7=256,K3=16,R3=17,U3=18,o7=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],wK=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S3=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],zK=512,FX=new Array((DB+2)*2);yh(FX);var AB=new Array(lh*2);yh(AB);var $B=new Array(zK);yh($B);var ZB=new Array(WK-MK+1);yh(ZB);var e7=new Array(n7);yh(e7);var uD=new Array(lh);yh(uD);function i7(P,p,X,H,h){this.static_tree=P,this.extra_bits=p,this.extra_base=X,this.elems=H,this.max_length=h,this.has_stree=P&&P.length}var G3,N3,v3;function m7(P,p){this.dyn_tree=P,this.max_code=0,this.stat_desc=p}function c3(P){return P<256?$B[P]:$B[256+(P>>>7)]}function LB(P,p){P.pending_buf[P.pending++]=p&255,P.pending_buf[P.pending++]=p>>>8&255}function Bp(P,p,X){if(P.bi_valid>u7-X)P.bi_buf|=p<<P.bi_valid&65535,LB(P,P.bi_buf),P.bi_buf=p>>u7-P.bi_valid,P.bi_valid+=X-u7;else P.bi_buf|=p<<P.bi_valid&65535,P.bi_valid+=X}function J8(P,p,X){Bp(P,X[p*2],X[p*2+1])}function O3(P,p){var X=0;do X|=P&1,P>>>=1,X<<=1;while(--p>0);return X>>>1}function JK(P){if(P.bi_valid===16)LB(P,P.bi_buf),P.bi_buf=0,P.bi_valid=0;else if(P.bi_valid>=8)P.pending_buf[P.pending++]=P.bi_buf&255,P.bi_buf>>=8,P.bi_valid-=8}function KK(P,p){var{dyn_tree:X,max_code:H}=p,h=p.stat_desc.static_tree,x=p.stat_desc.has_stree,B=p.stat_desc.extra_bits,A=p.stat_desc.extra_base,$=p.stat_desc.max_length,D,Z,L,f,F,q,b=0;for(f=0;f<=F1;f++)P.bl_count[f]=0;X[P.heap[P.heap_max]*2+1]=0;for(D=P.heap_max+1;D<J3;D++){if(Z=P.heap[D],f=X[X[Z*2+1]*2+1]+1,f>$)f=$,b++;if(X[Z*2+1]=f,Z>H)continue;if(P.bl_count[f]++,F=0,Z>=A)F=B[Z-A];if(q=X[Z*2],P.opt_len+=q*(f+F),x)P.static_len+=q*(h[Z*2+1]+F)}if(b===0)return;do{f=$-1;while(P.bl_count[f]===0)f--;P.bl_count[f]--,P.bl_count[f+1]+=2,P.bl_count[$]--,b-=2}while(b>0);for(f=$;f!==0;f--){Z=P.bl_count[f];while(Z!==0){if(L=P.heap[--D],L>H)continue;if(X[L*2+1]!==f)P.opt_len+=(f-X[L*2+1])*X[L*2],X[L*2+1]=f;Z--}}}function d3(P,p,X){var H=new Array(F1+1),h=0,x,B;for(x=1;x<=F1;x++)H[x]=h=h+X[x-1]<<1;for(B=0;B<=p;B++){var A=P[B*2+1];if(A===0)continue;P[B*2]=O3(H[A]++,A)}}function RK(){var P,p,X,H,h,x=new Array(F1+1);X=0;for(H=0;H<n7-1;H++){e7[H]=X;for(P=0;P<1<<o7[H];P++)ZB[X++]=H}ZB[X-1]=H,h=0;for(H=0;H<16;H++){uD[H]=h;for(P=0;P<1<<_D[H];P++)$B[h++]=H}h>>=7;for(;H<lh;H++){uD[H]=h<<7;for(P=0;P<1<<_D[H]-7;P++)$B[256+h++]=H}for(p=0;p<=F1;p++)x[p]=0;P=0;while(P<=143)FX[P*2+1]=8,P++,x[8]++;while(P<=255)FX[P*2+1]=9,P++,x[9]++;while(P<=279)FX[P*2+1]=7,P++,x[7]++;while(P<=287)FX[P*2+1]=8,P++,x[8]++;d3(FX,DB+1,x);for(P=0;P<lh;P++)AB[P*2+1]=5,AB[P*2]=O3(P,5);G3=new i7(FX,o7,fB+1,DB,F1),N3=new i7(AB,_D,0,lh,F1),v3=new i7(new Array(0),wK,0,s7,EK)}function l3(P){var p;for(p=0;p<DB;p++)P.dyn_ltree[p*2]=0;for(p=0;p<lh;p++)P.dyn_dtree[p*2]=0;for(p=0;p<s7;p++)P.bl_tree[p*2]=0;P.dyn_ltree[t7*2]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function y3(P){if(P.bi_valid>8)LB(P,P.bi_buf);else if(P.bi_valid>0)P.pending_buf[P.pending++]=P.bi_buf;P.bi_buf=0,P.bi_valid=0}function UK(P,p,X,H){if(y3(P),H)LB(P,X),LB(P,~X);bK.arraySet(P.pending_buf,P.window,p,X,P.pending),P.pending+=X}function T3(P,p,X,H){var h=p*2,x=X*2;return P[h]<P[x]||P[h]===P[x]&&H[p]<=H[X]}function a7(P,p,X){var H=P.heap[X],h=X<<1;while(h<=P.heap_len){if(h<P.heap_len&&T3(p,P.heap[h+1],P.heap[h],P.depth))h++;if(T3(p,H,P.heap[h],P.depth))break;P.heap[X]=P.heap[h],X=h,h<<=1}P.heap[X]=H}function M3(P,p,X){var H,h,x=0,B,A;if(P.last_lit!==0)do if(H=P.pending_buf[P.d_buf+x*2]<<8|P.pending_buf[P.d_buf+x*2+1],h=P.pending_buf[P.l_buf+x],x++,H===0)J8(P,h,p);else{if(B=ZB[h],J8(P,B+fB+1,p),A=o7[B],A!==0)h-=e7[B],Bp(P,h,A);if(H--,B=c3(H),J8(P,B,X),A=_D[B],A!==0)H-=uD[B],Bp(P,H,A)}while(x<P.last_lit);J8(P,t7,p)}function r7(P,p){var X=p.dyn_tree,H=p.stat_desc.static_tree,h=p.stat_desc.has_stree,x=p.stat_desc.elems,B,A,$=-1,D;P.heap_len=0,P.heap_max=J3;for(B=0;B<x;B++)if(X[B*2]!==0)P.heap[++P.heap_len]=$=B,P.depth[B]=0;else X[B*2+1]=0;while(P.heap_len<2)if(D=P.heap[++P.heap_len]=$<2?++$:0,X[D*2]=1,P.depth[D]=0,P.opt_len--,h)P.static_len-=H[D*2+1];p.max_code=$;for(B=P.heap_len>>1;B>=1;B--)a7(P,X,B);D=x;do B=P.heap[1],P.heap[1]=P.heap[P.heap_len--],a7(P,X,1),A=P.heap[1],P.heap[--P.heap_max]=B,P.heap[--P.heap_max]=A,X[D*2]=X[B*2]+X[A*2],P.depth[D]=(P.depth[B]>=P.depth[A]?P.depth[B]:P.depth[A])+1,X[B*2+1]=X[A*2+1]=D,P.heap[1]=D++,a7(P,X,1);while(P.heap_len>=2);P.heap[--P.heap_max]=P.heap[1],KK(P,p),d3(X,$,P.bl_count)}function W3(P,p,X){var H,h=-1,x,B=p[1],A=0,$=7,D=4;if(B===0)$=138,D=3;p[(X+1)*2+1]=65535;for(H=0;H<=X;H++){if(x=B,B=p[(H+1)*2+1],++A<$&&x===B)continue;else if(A<D)P.bl_tree[x*2]+=A;else if(x!==0){if(x!==h)P.bl_tree[x*2]++;P.bl_tree[K3*2]++}else if(A<=10)P.bl_tree[R3*2]++;else P.bl_tree[U3*2]++;if(A=0,h=x,B===0)$=138,D=3;else if(x===B)$=6,D=3;else $=7,D=4}}function E3(P,p,X){var H,h=-1,x,B=p[1],A=0,$=7,D=4;if(B===0)$=138,D=3;for(H=0;H<=X;H++){if(x=B,B=p[(H+1)*2+1],++A<$&&x===B)continue;else if(A<D)do J8(P,x,P.bl_tree);while(--A!==0);else if(x!==0){if(x!==h)J8(P,x,P.bl_tree),A--;J8(P,K3,P.bl_tree),Bp(P,A-3,2)}else if(A<=10)J8(P,R3,P.bl_tree),Bp(P,A-3,3);else J8(P,U3,P.bl_tree),Bp(P,A-11,7);if(A=0,h=x,B===0)$=138,D=3;else if(x===B)$=6,D=3;else $=7,D=4}}function SK(P){var p;W3(P,P.dyn_ltree,P.l_desc.max_code),W3(P,P.dyn_dtree,P.d_desc.max_code),r7(P,P.bl_desc);for(p=s7-1;p>=3;p--)if(P.bl_tree[S3[p]*2+1]!==0)break;return P.opt_len+=3*(p+1)+5+5+4,p}function GK(P,p,X,H){var h;Bp(P,p-257,5),Bp(P,X-1,5),Bp(P,H-4,4);for(h=0;h<H;h++)Bp(P,P.bl_tree[S3[h]*2+1],3);E3(P,P.dyn_ltree,p-1),E3(P,P.dyn_dtree,X-1)}function NK(P){var p=4093624447,X;for(X=0;X<=31;X++,p>>>=1)if(p&1&&P.dyn_ltree[X*2]!==0)return k3;if(P.dyn_ltree[18]!==0||P.dyn_ltree[20]!==0||P.dyn_ltree[26]!==0)return I3;for(X=32;X<fB;X++)if(P.dyn_ltree[X*2]!==0)return I3;return k3}var w3=!1;function vK(P){if(!w3)RK(),w3=!0;P.l_desc=new m7(P.dyn_ltree,G3),P.d_desc=new m7(P.dyn_dtree,N3),P.bl_desc=new m7(P.bl_tree,v3),P.bi_buf=0,P.bi_valid=0,l3(P)}function g3(P,p,X,H){Bp(P,(IK<<1)+(H?1:0),3),UK(P,p,X,!0)}function cK(P){Bp(P,z3<<1,3),J8(P,t7,FX),JK(P)}function OK(P,p,X,H){var h,x,B=0;if(P.level>0){if(P.strm.data_type===kK)P.strm.data_type=NK(P);if(r7(P,P.l_desc),r7(P,P.d_desc),B=SK(P),h=P.opt_len+3+7>>>3,x=P.static_len+3+7>>>3,x<=h)h=x}else h=x=X+5;if(X+4<=h&&p!==-1)g3(P,p,X,H);else if(P.strategy===jK||x===h)Bp(P,(z3<<1)+(H?1:0),3),M3(P,FX,AB);else Bp(P,(TK<<1)+(H?1:0),3),GK(P,P.l_desc.max_code+1,P.d_desc.max_code+1,B+1),M3(P,P.dyn_ltree,P.dyn_dtree);if(l3(P),H)y3(P)}function dK(P,p,X){if(P.pending_buf[P.d_buf+P.last_lit*2]=p>>>8&255,P.pending_buf[P.d_buf+P.last_lit*2+1]=p&255,P.pending_buf[P.l_buf+P.last_lit]=X&255,P.last_lit++,p===0)P.dyn_ltree[X*2]++;else P.matches++,p--,P.dyn_ltree[(ZB[X]+fB+1)*2]++,P.dyn_dtree[c3(p)*2]++;return P.last_lit===P.lit_bufsize-1}lK._tr_init=vK;lK._tr_stored_block=g3;lK._tr_flush_block=OK;lK._tr_tally=dK;lK._tr_align=cK});var P4=V0((fO,u3)=>{function mK(P,p,X,H){var h=P&65535|0,x=P>>>16&65535|0,B=0;while(X!==0){B=X>2000?2000:X,X-=B;do h=h+p[H++]|0,x=x+h|0;while(--B);h%=65521,x%=65521}return h|x<<16|0}u3.exports=mK});var p4=V0((FO,i3)=>{function aK(){var P,p=[];for(var X=0;X<256;X++){P=X;for(var H=0;H<8;H++)P=P&1?3988292384^P>>>1:P>>>1;p[X]=P}return p}var oK=aK();function rK(P,p,X,H){var h=oK,x=H+X;P^=-1;for(var B=H;B<x;B++)P=P>>>8^h[(P^p[B])&255];return P^-1}i3.exports=rK});var iD=V0((CO,m3)=>{m3.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var pq=V0((zR)=>{var rP=fX(),yp=_3(),n3=P4(),LH=p4(),nK=iD(),q1=0,sK=1,tK=3,VH=4,a3=5,R8=0,o3=1,gp=-2,eK=-3,X4=-5,PR=-1,pR=1,mD=2,XR=3,HR=4,hR=0,xR=2,nD=8,BR=9,AR=15,DR=8,$R=29,ZR=256,h4=ZR+1+$R,LR=30,fR=19,FR=2*h4+1,CR=15,J0=3,CH=258,ep=CH+J0+1,QR=32,sD=42,x4=69,aD=73,oD=91,rD=103,C1=113,CB=666,MP=1,QB=2,Q1=3,uh=4,VR=3;function QH(P,p){return P.msg=nK[p],p}function r3(P){return(P<<1)-(P>4?9:0)}function FH(P){var p=P.length;while(--p>=0)P[p]=0}function fH(P){var p=P.state,X=p.pending;if(X>P.avail_out)X=P.avail_out;if(X===0)return;if(rP.arraySet(P.output,p.pending_buf,p.pending_out,X,P.next_out),P.next_out+=X,p.pending_out+=X,P.total_out+=X,P.avail_out-=X,p.pending-=X,p.pending===0)p.pending_out=0}function vP(P,p){yp._tr_flush_block(P,P.block_start>=0?P.block_start:-1,P.strstart-P.block_start,p),P.block_start=P.strstart,fH(P.strm)}function S0(P,p){P.pending_buf[P.pending++]=p}function FB(P,p){P.pending_buf[P.pending++]=p>>>8&255,P.pending_buf[P.pending++]=p&255}function qR(P,p,X,H){var h=P.avail_in;if(h>H)h=H;if(h===0)return 0;if(P.avail_in-=h,rP.arraySet(p,P.input,P.next_in,h,X),P.state.wrap===1)P.adler=n3(P.adler,p,h,X);else if(P.state.wrap===2)P.adler=LH(P.adler,p,h,X);return P.next_in+=h,P.total_in+=h,h}function s3(P,p){var{max_chain_length:X,strstart:H}=P,h,x,B=P.prev_length,A=P.nice_match,$=P.strstart>P.w_size-ep?P.strstart-(P.w_size-ep):0,D=P.window,Z=P.w_mask,L=P.prev,f=P.strstart+CH,F=D[H+B-1],q=D[H+B];if(P.prev_length>=P.good_match)X>>=2;if(A>P.lookahead)A=P.lookahead;do{if(h=p,D[h+B]!==q||D[h+B-1]!==F||D[h]!==D[H]||D[++h]!==D[H+1])continue;H+=2,h++;do;while(D[++H]===D[++h]&&D[++H]===D[++h]&&D[++H]===D[++h]&&D[++H]===D[++h]&&D[++H]===D[++h]&&D[++H]===D[++h]&&D[++H]===D[++h]&&D[++H]===D[++h]&&H<f);if(x=CH-(f-H),H=f-CH,x>B){if(P.match_start=p,B=x,x>=A)break;F=D[H+B-1],q=D[H+B]}}while((p=L[p&Z])>$&&--X!==0);if(B<=P.lookahead)return B;return P.lookahead}function V1(P){var p=P.w_size,X,H,h,x,B;do{if(x=P.window_size-P.lookahead-P.strstart,P.strstart>=p+(p-ep)){rP.arraySet(P.window,P.window,p,p,0),P.match_start-=p,P.strstart-=p,P.block_start-=p,H=P.hash_size,X=H;do h=P.head[--X],P.head[X]=h>=p?h-p:0;while(--H);H=p,X=H;do h=P.prev[--X],P.prev[X]=h>=p?h-p:0;while(--H);x+=p}if(P.strm.avail_in===0)break;if(H=qR(P.strm,P.window,P.strstart+P.lookahead,x),P.lookahead+=H,P.lookahead+P.insert>=J0){B=P.strstart-P.insert,P.ins_h=P.window[B],P.ins_h=(P.ins_h<<P.hash_shift^P.window[B+1])&P.hash_mask;while(P.insert)if(P.ins_h=(P.ins_h<<P.hash_shift^P.window[B+J0-1])&P.hash_mask,P.prev[B&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=B,B++,P.insert--,P.lookahead+P.insert<J0)break}}while(P.lookahead<ep&&P.strm.avail_in!==0)}function YR(P,p){var X=65535;if(X>P.pending_buf_size-5)X=P.pending_buf_size-5;for(;;){if(P.lookahead<=1){if(V1(P),P.lookahead===0&&p===q1)return MP;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var H=P.block_start+X;if(P.strstart===0||P.strstart>=H){if(P.lookahead=P.strstart-H,P.strstart=H,vP(P,!1),P.strm.avail_out===0)return MP}if(P.strstart-P.block_start>=P.w_size-ep){if(vP(P,!1),P.strm.avail_out===0)return MP}}if(P.insert=0,p===VH){if(vP(P,!0),P.strm.avail_out===0)return Q1;return uh}if(P.strstart>P.block_start){if(vP(P,!1),P.strm.avail_out===0)return MP}return MP}function H4(P,p){var X,H;for(;;){if(P.lookahead<ep){if(V1(P),P.lookahead<ep&&p===q1)return MP;if(P.lookahead===0)break}if(X=0,P.lookahead>=J0)P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+J0-1])&P.hash_mask,X=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;if(X!==0&&P.strstart-X<=P.w_size-ep)P.match_length=s3(P,X);if(P.match_length>=J0)if(H=yp._tr_tally(P,P.strstart-P.match_start,P.match_length-J0),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=J0){P.match_length--;do P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+J0-1])&P.hash_mask,X=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;while(--P.match_length!==0);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else H=yp._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(H){if(vP(P,!1),P.strm.avail_out===0)return MP}}if(P.insert=P.strstart<J0-1?P.strstart:J0-1,p===VH){if(vP(P,!0),P.strm.avail_out===0)return Q1;return uh}if(P.last_lit){if(vP(P,!1),P.strm.avail_out===0)return MP}return QB}function gh(P,p){var X,H,h;for(;;){if(P.lookahead<ep){if(V1(P),P.lookahead<ep&&p===q1)return MP;if(P.lookahead===0)break}if(X=0,P.lookahead>=J0)P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+J0-1])&P.hash_mask,X=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;if(P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=J0-1,X!==0&&P.prev_length<P.max_lazy_match&&P.strstart-X<=P.w_size-ep){if(P.match_length=s3(P,X),P.match_length<=5&&(P.strategy===pR||P.match_length===J0&&P.strstart-P.match_start>4096))P.match_length=J0-1}if(P.prev_length>=J0&&P.match_length<=P.prev_length){h=P.strstart+P.lookahead-J0,H=yp._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-J0),P.lookahead-=P.prev_length-1,P.prev_length-=2;do if(++P.strstart<=h)P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+J0-1])&P.hash_mask,X=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;while(--P.prev_length!==0);if(P.match_available=0,P.match_length=J0-1,P.strstart++,H){if(vP(P,!1),P.strm.avail_out===0)return MP}}else if(P.match_available){if(H=yp._tr_tally(P,0,P.window[P.strstart-1]),H)vP(P,!1);if(P.strstart++,P.lookahead--,P.strm.avail_out===0)return MP}else P.match_available=1,P.strstart++,P.lookahead--}if(P.match_available)H=yp._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0;if(P.insert=P.strstart<J0-1?P.strstart:J0-1,p===VH){if(vP(P,!0),P.strm.avail_out===0)return Q1;return uh}if(P.last_lit){if(vP(P,!1),P.strm.avail_out===0)return MP}return QB}function bR(P,p){var X,H,h,x,B=P.window;for(;;){if(P.lookahead<=CH){if(V1(P),P.lookahead<=CH&&p===q1)return MP;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=J0&&P.strstart>0){if(h=P.strstart-1,H=B[h],H===B[++h]&&H===B[++h]&&H===B[++h]){x=P.strstart+CH;do;while(H===B[++h]&&H===B[++h]&&H===B[++h]&&H===B[++h]&&H===B[++h]&&H===B[++h]&&H===B[++h]&&H===B[++h]&&h<x);if(P.match_length=CH-(x-h),P.match_length>P.lookahead)P.match_length=P.lookahead}}if(P.match_length>=J0)X=yp._tr_tally(P,1,P.match_length-J0),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0;else X=yp._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(X){if(vP(P,!1),P.strm.avail_out===0)return MP}}if(P.insert=0,p===VH){if(vP(P,!0),P.strm.avail_out===0)return Q1;return uh}if(P.last_lit){if(vP(P,!1),P.strm.avail_out===0)return MP}return QB}function jR(P,p){var X;for(;;){if(P.lookahead===0){if(V1(P),P.lookahead===0){if(p===q1)return MP;break}}if(P.match_length=0,X=yp._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,X){if(vP(P,!1),P.strm.avail_out===0)return MP}}if(P.insert=0,p===VH){if(vP(P,!0),P.strm.avail_out===0)return Q1;return uh}if(P.last_lit){if(vP(P,!1),P.strm.avail_out===0)return MP}return QB}function K8(P,p,X,H,h){this.good_length=P,this.max_lazy=p,this.nice_length=X,this.max_chain=H,this.func=h}var _h;_h=[new K8(0,0,0,0,YR),new K8(4,4,8,4,H4),new K8(4,5,16,8,H4),new K8(4,6,32,32,H4),new K8(4,4,16,16,gh),new K8(8,16,32,32,gh),new K8(8,16,128,128,gh),new K8(8,32,128,256,gh),new K8(32,128,258,1024,gh),new K8(32,258,258,4096,gh)];function kR(P){P.window_size=2*P.w_size,FH(P.head),P.max_lazy_match=_h[P.level].max_lazy,P.good_match=_h[P.level].good_length,P.nice_match=_h[P.level].nice_length,P.max_chain_length=_h[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=J0-1,P.match_available=0,P.ins_h=0}function IR(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=nD,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new rP.Buf16(FR*2),this.dyn_dtree=new rP.Buf16((2*LR+1)*2),this.bl_tree=new rP.Buf16((2*fR+1)*2),FH(this.dyn_ltree),FH(this.dyn_dtree),FH(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new rP.Buf16(CR+1),this.heap=new rP.Buf16(2*h4+1),FH(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new rP.Buf16(2*h4+1),FH(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function t3(P){var p;if(!P||!P.state)return QH(P,gp);if(P.total_in=P.total_out=0,P.data_type=xR,p=P.state,p.pending=0,p.pending_out=0,p.wrap<0)p.wrap=-p.wrap;return p.status=p.wrap?sD:C1,P.adler=p.wrap===2?0:1,p.last_flush=q1,yp._tr_init(p),R8}function e3(P){var p=t3(P);if(p===R8)kR(P.state);return p}function TR(P,p){if(!P||!P.state)return gp;if(P.state.wrap!==2)return gp;return P.state.gzhead=p,R8}function Pq(P,p,X,H,h,x){if(!P)return gp;var B=1;if(p===PR)p=6;if(H<0)B=0,H=-H;else if(H>15)B=2,H-=16;if(h<1||h>BR||X!==nD||H<8||H>15||p<0||p>9||x<0||x>HR)return QH(P,gp);if(H===8)H=9;var A=new IR;return P.state=A,A.strm=P,A.wrap=B,A.gzhead=null,A.w_bits=H,A.w_size=1<<A.w_bits,A.w_mask=A.w_size-1,A.hash_bits=h+7,A.hash_size=1<<A.hash_bits,A.hash_mask=A.hash_size-1,A.hash_shift=~~((A.hash_bits+J0-1)/J0),A.window=new rP.Buf8(A.w_size*2),A.head=new rP.Buf16(A.hash_size),A.prev=new rP.Buf16(A.w_size),A.lit_bufsize=1<<h+6,A.pending_buf_size=A.lit_bufsize*4,A.pending_buf=new rP.Buf8(A.pending_buf_size),A.d_buf=1*A.lit_bufsize,A.l_buf=3*A.lit_bufsize,A.level=p,A.strategy=x,A.method=X,e3(P)}function MR(P,p){return Pq(P,p,nD,AR,DR,hR)}function WR(P,p){var X,H,h,x;if(!P||!P.state||p>a3||p<0)return P?QH(P,gp):gp;if(H=P.state,!P.output||!P.input&&P.avail_in!==0||H.status===CB&&p!==VH)return QH(P,P.avail_out===0?X4:gp);if(H.strm=P,X=H.last_flush,H.last_flush=p,H.status===sD)if(H.wrap===2)if(P.adler=0,S0(H,31),S0(H,139),S0(H,8),!H.gzhead)S0(H,0),S0(H,0),S0(H,0),S0(H,0),S0(H,0),S0(H,H.level===9?2:H.strategy>=mD||H.level<2?4:0),S0(H,VR),H.status=C1;else{if(S0(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(!H.gzhead.extra?0:4)+(!H.gzhead.name?0:8)+(!H.gzhead.comment?0:16)),S0(H,H.gzhead.time&255),S0(H,H.gzhead.time>>8&255),S0(H,H.gzhead.time>>16&255),S0(H,H.gzhead.time>>24&255),S0(H,H.level===9?2:H.strategy>=mD||H.level<2?4:0),S0(H,H.gzhead.os&255),H.gzhead.extra&&H.gzhead.extra.length)S0(H,H.gzhead.extra.length&255),S0(H,H.gzhead.extra.length>>8&255);if(H.gzhead.hcrc)P.adler=LH(P.adler,H.pending_buf,H.pending,0);H.gzindex=0,H.status=x4}else{var B=nD+(H.w_bits-8<<4)<<8,A=-1;if(H.strategy>=mD||H.level<2)A=0;else if(H.level<6)A=1;else if(H.level===6)A=2;else A=3;if(B|=A<<6,H.strstart!==0)B|=QR;if(B+=31-B%31,H.status=C1,FB(H,B),H.strstart!==0)FB(H,P.adler>>>16),FB(H,P.adler&65535);P.adler=1}if(H.status===x4)if(H.gzhead.extra){h=H.pending;while(H.gzindex<(H.gzhead.extra.length&65535)){if(H.pending===H.pending_buf_size){if(H.gzhead.hcrc&&H.pending>h)P.adler=LH(P.adler,H.pending_buf,H.pending-h,h);if(fH(P),h=H.pending,H.pending===H.pending_buf_size)break}S0(H,H.gzhead.extra[H.gzindex]&255),H.gzindex++}if(H.gzhead.hcrc&&H.pending>h)P.adler=LH(P.adler,H.pending_buf,H.pending-h,h);if(H.gzindex===H.gzhead.extra.length)H.gzindex=0,H.status=aD}else H.status=aD;if(H.status===aD)if(H.gzhead.name){h=H.pending;do{if(H.pending===H.pending_buf_size){if(H.gzhead.hcrc&&H.pending>h)P.adler=LH(P.adler,H.pending_buf,H.pending-h,h);if(fH(P),h=H.pending,H.pending===H.pending_buf_size){x=1;break}}if(H.gzindex<H.gzhead.name.length)x=H.gzhead.name.charCodeAt(H.gzindex++)&255;else x=0;S0(H,x)}while(x!==0);if(H.gzhead.hcrc&&H.pending>h)P.adler=LH(P.adler,H.pending_buf,H.pending-h,h);if(x===0)H.gzindex=0,H.status=oD}else H.status=oD;if(H.status===oD)if(H.gzhead.comment){h=H.pending;do{if(H.pending===H.pending_buf_size){if(H.gzhead.hcrc&&H.pending>h)P.adler=LH(P.adler,H.pending_buf,H.pending-h,h);if(fH(P),h=H.pending,H.pending===H.pending_buf_size){x=1;break}}if(H.gzindex<H.gzhead.comment.length)x=H.gzhead.comment.charCodeAt(H.gzindex++)&255;else x=0;S0(H,x)}while(x!==0);if(H.gzhead.hcrc&&H.pending>h)P.adler=LH(P.adler,H.pending_buf,H.pending-h,h);if(x===0)H.status=rD}else H.status=rD;if(H.status===rD)if(H.gzhead.hcrc){if(H.pending+2>H.pending_buf_size)fH(P);if(H.pending+2<=H.pending_buf_size)S0(H,P.adler&255),S0(H,P.adler>>8&255),P.adler=0,H.status=C1}else H.status=C1;if(H.pending!==0){if(fH(P),P.avail_out===0)return H.last_flush=-1,R8}else if(P.avail_in===0&&r3(p)<=r3(X)&&p!==VH)return QH(P,X4);if(H.status===CB&&P.avail_in!==0)return QH(P,X4);if(P.avail_in!==0||H.lookahead!==0||p!==q1&&H.status!==CB){var $=H.strategy===mD?jR(H,p):H.strategy===XR?bR(H,p):_h[H.level].func(H,p);if($===Q1||$===uh)H.status=CB;if($===MP||$===Q1){if(P.avail_out===0)H.last_flush=-1;return R8}if($===QB){if(p===sK)yp._tr_align(H);else if(p!==a3){if(yp._tr_stored_block(H,0,0,!1),p===tK){if(FH(H.head),H.lookahead===0)H.strstart=0,H.block_start=0,H.insert=0}}if(fH(P),P.avail_out===0)return H.last_flush=-1,R8}}if(p!==VH)return R8;if(H.wrap<=0)return o3;if(H.wrap===2)S0(H,P.adler&255),S0(H,P.adler>>8&255),S0(H,P.adler>>16&255),S0(H,P.adler>>24&255),S0(H,P.total_in&255),S0(H,P.total_in>>8&255),S0(H,P.total_in>>16&255),S0(H,P.total_in>>24&255);else FB(H,P.adler>>>16),FB(H,P.adler&65535);if(fH(P),H.wrap>0)H.wrap=-H.wrap;return H.pending!==0?R8:o3}function ER(P){var p;if(!P||!P.state)return gp;if(p=P.state.status,p!==sD&&p!==x4&&p!==aD&&p!==oD&&p!==rD&&p!==C1&&p!==CB)return QH(P,gp);return P.state=null,p===C1?QH(P,eK):R8}function wR(P,p){var X=p.length,H,h,x,B,A,$,D,Z;if(!P||!P.state)return gp;if(H=P.state,B=H.wrap,B===2||B===1&&H.status!==sD||H.lookahead)return gp;if(B===1)P.adler=n3(P.adler,p,X,0);if(H.wrap=0,X>=H.w_size){if(B===0)FH(H.head),H.strstart=0,H.block_start=0,H.insert=0;Z=new rP.Buf8(H.w_size),rP.arraySet(Z,p,X-H.w_size,H.w_size,0),p=Z,X=H.w_size}A=P.avail_in,$=P.next_in,D=P.input,P.avail_in=X,P.next_in=0,P.input=p,V1(H);while(H.lookahead>=J0){h=H.strstart,x=H.lookahead-(J0-1);do H.ins_h=(H.ins_h<<H.hash_shift^H.window[h+J0-1])&H.hash_mask,H.prev[h&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=h,h++;while(--x);H.strstart=h,H.lookahead=J0-1,V1(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=J0-1,H.match_available=0,P.next_in=$,P.input=D,P.avail_in=A,H.wrap=B,R8}zR.deflateInit=MR;zR.deflateInit2=Pq;zR.deflateReset=e3;zR.deflateResetKeep=t3;zR.deflateSetHeader=TR;zR.deflate=WR;zR.deflateEnd=ER;zR.deflateSetDictionary=wR;zR.deflateInfo="pako deflate (from Nodeca project)"});var B4=V0((OR)=>{var tD=fX(),Xq=!0,Hq=!0;try{String.fromCharCode.apply(null,[0])}catch(P){Xq=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(P){Hq=!1}var VB=new tD.Buf8(256);for(U8=0;U8<256;U8++)VB[U8]=U8>=252?6:U8>=248?5:U8>=240?4:U8>=224?3:U8>=192?2:1;var U8;VB[254]=VB[254]=1;OR.string2buf=function(P){var p,X,H,h,x,B=P.length,A=0;for(h=0;h<B;h++){if(X=P.charCodeAt(h),(X&64512)===55296&&h+1<B){if(H=P.charCodeAt(h+1),(H&64512)===56320)X=65536+(X-55296<<10)+(H-56320),h++}A+=X<128?1:X<2048?2:X<65536?3:4}p=new tD.Buf8(A);for(x=0,h=0;x<A;h++){if(X=P.charCodeAt(h),(X&64512)===55296&&h+1<B){if(H=P.charCodeAt(h+1),(H&64512)===56320)X=65536+(X-55296<<10)+(H-56320),h++}if(X<128)p[x++]=X;else if(X<2048)p[x++]=192|X>>>6,p[x++]=128|X&63;else if(X<65536)p[x++]=224|X>>>12,p[x++]=128|X>>>6&63,p[x++]=128|X&63;else p[x++]=240|X>>>18,p[x++]=128|X>>>12&63,p[x++]=128|X>>>6&63,p[x++]=128|X&63}return p};function hq(P,p){if(p<65534){if(P.subarray&&Hq||!P.subarray&&Xq)return String.fromCharCode.apply(null,tD.shrinkBuf(P,p))}var X="";for(var H=0;H<p;H++)X+=String.fromCharCode(P[H]);return X}OR.buf2binstring=function(P){return hq(P,P.length)};OR.binstring2buf=function(P){var p=new tD.Buf8(P.length);for(var X=0,H=p.length;X<H;X++)p[X]=P.charCodeAt(X);return p};OR.buf2string=function(P,p){var X,H,h,x,B=p||P.length,A=new Array(B*2);for(H=0,X=0;X<B;){if(h=P[X++],h<128){A[H++]=h;continue}if(x=VB[h],x>4){A[H++]=65533,X+=x-1;continue}h&=x===2?31:x===3?15:7;while(x>1&&X<B)h=h<<6|P[X++]&63,x--;if(x>1){A[H++]=65533;continue}if(h<65536)A[H++]=h;else h-=65536,A[H++]=55296|h>>10&1023,A[H++]=56320|h&1023}return hq(A,H)};OR.utf8border=function(P,p){var X;if(p=p||P.length,p>P.length)p=P.length;X=p-1;while(X>=0&&(P[X]&192)===128)X--;if(X<0)return p;if(X===0)return p;return X+VB[P[X]]>p?X:p}});var A4=V0((qO,xq)=>{function uR(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}xq.exports=uR});var $q=V0((tR)=>{var qB=pq(),YB=fX(),$4=B4(),Z4=iD(),iR=A4(),Dq=Object.prototype.toString,mR=0,D4=4,ih=0,Bq=1,Aq=2,aR=-1,oR=0,rR=8;function Y1(P){if(!(this instanceof Y1))return new Y1(P);this.options=YB.assign({level:aR,method:rR,chunkSize:16384,windowBits:15,memLevel:8,strategy:oR,to:""},P||{});var p=this.options;if(p.raw&&p.windowBits>0)p.windowBits=-p.windowBits;else if(p.gzip&&p.windowBits>0&&p.windowBits<16)p.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new iR,this.strm.avail_out=0;var X=qB.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(X!==ih)throw new Error(Z4[X]);if(p.header)qB.deflateSetHeader(this.strm,p.header);if(p.dictionary){var H;if(typeof p.dictionary==="string")H=$4.string2buf(p.dictionary);else if(Dq.call(p.dictionary)==="[object ArrayBuffer]")H=new Uint8Array(p.dictionary);else H=p.dictionary;if(X=qB.deflateSetDictionary(this.strm,H),X!==ih)throw new Error(Z4[X]);this._dict_set=!0}}Y1.prototype.push=function(P,p){var X=this.strm,H=this.options.chunkSize,h,x;if(this.ended)return!1;if(x=p===~~p?p:p===!0?D4:mR,typeof P==="string")X.input=$4.string2buf(P);else if(Dq.call(P)==="[object ArrayBuffer]")X.input=new Uint8Array(P);else X.input=P;X.next_in=0,X.avail_in=X.input.length;do{if(X.avail_out===0)X.output=new YB.Buf8(H),X.next_out=0,X.avail_out=H;if(h=qB.deflate(X,x),h!==Bq&&h!==ih)return this.onEnd(h),this.ended=!0,!1;if(X.avail_out===0||X.avail_in===0&&(x===D4||x===Aq))if(this.options.to==="string")this.onData($4.buf2binstring(YB.shrinkBuf(X.output,X.next_out)));else this.onData(YB.shrinkBuf(X.output,X.next_out))}while((X.avail_in>0||X.avail_out===0)&&h!==Bq);if(x===D4)return h=qB.deflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===ih;if(x===Aq)return this.onEnd(ih),X.avail_out=0,!0;return!0};Y1.prototype.onData=function(P){this.chunks.push(P)};Y1.prototype.onEnd=function(P){if(P===ih)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=YB.flattenChunks(this.chunks);this.chunks=[],this.err=P,this.msg=this.strm.msg};function L4(P,p){var X=new Y1(p);if(X.push(P,!0),X.err)throw X.msg||Z4[X.err];return X.result}function nR(P,p){return p=p||{},p.raw=!0,L4(P,p)}function sR(P,p){return p=p||{},p.gzip=!0,L4(P,p)}tR.Deflate=Y1;tR.deflate=L4;tR.deflateRaw=nR;tR.gzip=sR});var Lq=V0((bO,Zq)=>{var eD=30,HU=12;Zq.exports=function P(p,X){var H,h,x,B,A,$,D,Z,L,f,F,q,b,j,Q,C,V,Y,k,z,W,M,c,w,U;H=p.state,h=p.next_in,w=p.input,x=h+(p.avail_in-5),B=p.next_out,U=p.output,A=B-(X-p.avail_out),$=B+(p.avail_out-257),D=H.dmax,Z=H.wsize,L=H.whave,f=H.wnext,F=H.window,q=H.hold,b=H.bits,j=H.lencode,Q=H.distcode,C=(1<<H.lenbits)-1,V=(1<<H.distbits)-1;P:do{if(b<15)q+=w[h++]<<b,b+=8,q+=w[h++]<<b,b+=8;Y=j[q&C];p:for(;;){if(k=Y>>>24,q>>>=k,b-=k,k=Y>>>16&255,k===0)U[B++]=Y&65535;else if(k&16){if(z=Y&65535,k&=15,k){if(b<k)q+=w[h++]<<b,b+=8;z+=q&(1<<k)-1,q>>>=k,b-=k}if(b<15)q+=w[h++]<<b,b+=8,q+=w[h++]<<b,b+=8;Y=Q[q&V];X:for(;;){if(k=Y>>>24,q>>>=k,b-=k,k=Y>>>16&255,k&16){if(W=Y&65535,k&=15,b<k){if(q+=w[h++]<<b,b+=8,b<k)q+=w[h++]<<b,b+=8}if(W+=q&(1<<k)-1,W>D){p.msg="invalid distance too far back",H.mode=eD;break P}if(q>>>=k,b-=k,k=B-A,W>k){if(k=W-k,k>L){if(H.sane){p.msg="invalid distance too far back",H.mode=eD;break P}}if(M=0,c=F,f===0){if(M+=Z-k,k<z){z-=k;do U[B++]=F[M++];while(--k);M=B-W,c=U}}else if(f<k){if(M+=Z+f-k,k-=f,k<z){z-=k;do U[B++]=F[M++];while(--k);if(M=0,f<z){k=f,z-=k;do U[B++]=F[M++];while(--k);M=B-W,c=U}}}else if(M+=f-k,k<z){z-=k;do U[B++]=F[M++];while(--k);M=B-W,c=U}while(z>2)U[B++]=c[M++],U[B++]=c[M++],U[B++]=c[M++],z-=3;if(z){if(U[B++]=c[M++],z>1)U[B++]=c[M++]}}else{M=B-W;do U[B++]=U[M++],U[B++]=U[M++],U[B++]=U[M++],z-=3;while(z>2);if(z){if(U[B++]=U[M++],z>1)U[B++]=U[M++]}}}else if((k&64)===0){Y=Q[(Y&65535)+(q&(1<<k)-1)];continue X}else{p.msg="invalid distance code",H.mode=eD;break P}break}}else if((k&64)===0){Y=j[(Y&65535)+(q&(1<<k)-1)];continue p}else if(k&32){H.mode=HU;break P}else{p.msg="invalid literal/length code",H.mode=eD;break P}break}}while(h<x&&B<$);z=b>>3,h-=z,b-=z<<3,q&=(1<<b)-1,p.next_in=h,p.next_out=B,p.avail_in=h<x?5+(x-h):5-(h-x),p.avail_out=B<$?257+($-B):257-(B-$),H.hold=q,H.bits=b;return}});var Yq=V0((jO,qq)=>{var fq=fX(),mh=15,Fq=852,Cq=592,Qq=0,f4=1,Vq=2,hU=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],xU=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],BU=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],AU=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];qq.exports=function P(p,X,H,h,x,B,A,$){var D=$.bits,Z=0,L=0,f=0,F=0,q=0,b=0,j=0,Q=0,C=0,V=0,Y,k,z,W,M,c=null,w=0,U,G=new fq.Buf16(mh+1),J=new fq.Buf16(mh+1),d=null,S=0,r,e,y;for(Z=0;Z<=mh;Z++)G[Z]=0;for(L=0;L<h;L++)G[X[H+L]]++;q=D;for(F=mh;F>=1;F--)if(G[F]!==0)break;if(q>F)q=F;if(F===0)return x[B++]=20971520,x[B++]=20971520,$.bits=1,0;for(f=1;f<F;f++)if(G[f]!==0)break;if(q<f)q=f;Q=1;for(Z=1;Z<=mh;Z++)if(Q<<=1,Q-=G[Z],Q<0)return-1;if(Q>0&&(p===Qq||F!==1))return-1;J[1]=0;for(Z=1;Z<mh;Z++)J[Z+1]=J[Z]+G[Z];for(L=0;L<h;L++)if(X[H+L]!==0)A[J[X[H+L]]++]=L;if(p===Qq)c=d=A,U=19;else if(p===f4)c=hU,w-=257,d=xU,S-=257,U=256;else c=BU,d=AU,U=-1;if(V=0,L=0,Z=f,M=B,b=q,j=0,z=-1,C=1<<q,W=C-1,p===f4&&C>Fq||p===Vq&&C>Cq)return 1;for(;;){if(r=Z-j,A[L]<U)e=0,y=A[L];else if(A[L]>U)e=d[S+A[L]],y=c[w+A[L]];else e=96,y=0;Y=1<<Z-j,k=1<<b,f=k;do k-=Y,x[M+(V>>j)+k]=r<<24|e<<16|y|0;while(k!==0);Y=1<<Z-1;while(V&Y)Y>>=1;if(Y!==0)V&=Y-1,V+=Y;else V=0;if(L++,--G[Z]===0){if(Z===F)break;Z=X[H+A[L]]}if(Z>q&&(V&W)!==z){if(j===0)j=q;M+=f,b=Z-j,Q=1<<b;while(b+j<F){if(Q-=G[b+j],Q<=0)break;b++,Q<<=1}if(C+=1<<b,p===f4&&C>Fq||p===Vq&&C>Cq)return 1;z=V&W,x[z]=q<<24|b<<16|M-B|0}}if(V!==0)x[M+V]=Z-j<<24|4194304|0;return $.bits=q,0}});var eq=V0((EU)=>{var kp=fX(),Y4=P4(),S8=p4(),DU=Lq(),bB=Yq(),$U=0,uq=1,iq=2,bq=4,ZU=5,P5=6,b1=0,LU=1,fU=2,_p=-2,mq=-3,b4=-4,FU=-5,jq=8,aq=1,kq=2,Iq=3,Tq=4,Mq=5,Wq=6,Eq=7,wq=8,zq=9,Jq=10,H5=11,CX=12,F4=13,Kq=14,C4=15,Rq=16,Uq=17,Sq=18,Gq=19,p5=20,X5=21,Nq=22,vq=23,cq=24,Oq=25,dq=26,Q4=27,lq=28,yq=29,n0=30,j4=31,CU=32,QU=852,VU=592,qU=15,YU=qU;function gq(P){return(P>>>24&255)+(P>>>8&65280)+((P&65280)<<8)+((P&255)<<24)}function bU(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new kp.Buf16(320),this.work=new kp.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function oq(P){var p;if(!P||!P.state)return _p;if(p=P.state,P.total_in=P.total_out=p.total=0,P.msg="",p.wrap)P.adler=p.wrap&1;return p.mode=aq,p.last=0,p.havedict=0,p.dmax=32768,p.head=null,p.hold=0,p.bits=0,p.lencode=p.lendyn=new kp.Buf32(QU),p.distcode=p.distdyn=new kp.Buf32(VU),p.sane=1,p.back=-1,b1}function rq(P){var p;if(!P||!P.state)return _p;return p=P.state,p.wsize=0,p.whave=0,p.wnext=0,oq(P)}function nq(P,p){var X,H;if(!P||!P.state)return _p;if(H=P.state,p<0)X=0,p=-p;else if(X=(p>>4)+1,p<48)p&=15;if(p&&(p<8||p>15))return _p;if(H.window!==null&&H.wbits!==p)H.window=null;return H.wrap=X,H.wbits=p,rq(P)}function sq(P,p){var X,H;if(!P)return _p;if(H=new bU,P.state=H,H.window=null,X=nq(P,p),X!==b1)P.state=null;return X}function jU(P){return sq(P,YU)}var _q=!0,V4,q4;function kU(P){if(_q){var p;V4=new kp.Buf32(512),q4=new kp.Buf32(32),p=0;while(p<144)P.lens[p++]=8;while(p<256)P.lens[p++]=9;while(p<280)P.lens[p++]=7;while(p<288)P.lens[p++]=8;bB(uq,P.lens,0,288,V4,0,P.work,{bits:9}),p=0;while(p<32)P.lens[p++]=5;bB(iq,P.lens,0,32,q4,0,P.work,{bits:5}),_q=!1}P.lencode=V4,P.lenbits=9,P.distcode=q4,P.distbits=5}function tq(P,p,X,H){var h,x=P.state;if(x.window===null)x.wsize=1<<x.wbits,x.wnext=0,x.whave=0,x.window=new kp.Buf8(x.wsize);if(H>=x.wsize)kp.arraySet(x.window,p,X-x.wsize,x.wsize,0),x.wnext=0,x.whave=x.wsize;else{if(h=x.wsize-x.wnext,h>H)h=H;if(kp.arraySet(x.window,p,X-H,h,x.wnext),H-=h,H)kp.arraySet(x.window,p,X-H,H,0),x.wnext=H,x.whave=x.wsize;else{if(x.wnext+=h,x.wnext===x.wsize)x.wnext=0;if(x.whave<x.wsize)x.whave+=h}}return 0}function IU(P,p){var X,H,h,x,B,A,$,D,Z,L,f,F,q,b,j=0,Q,C,V,Y,k,z,W,M,c=new kp.Buf8(4),w,U,G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return _p;if(X=P.state,X.mode===CX)X.mode=F4;B=P.next_out,h=P.output,$=P.avail_out,x=P.next_in,H=P.input,A=P.avail_in,D=X.hold,Z=X.bits,L=A,f=$,M=b1;P:for(;;)switch(X.mode){case aq:if(X.wrap===0){X.mode=F4;break}while(Z<16){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}if(X.wrap&2&&D===35615){X.check=0,c[0]=D&255,c[1]=D>>>8&255,X.check=S8(X.check,c,2,0),D=0,Z=0,X.mode=kq;break}if(X.flags=0,X.head)X.head.done=!1;if(!(X.wrap&1)||(((D&255)<<8)+(D>>8))%31){P.msg="incorrect header check",X.mode=n0;break}if((D&15)!==jq){P.msg="unknown compression method",X.mode=n0;break}if(D>>>=4,Z-=4,W=(D&15)+8,X.wbits===0)X.wbits=W;else if(W>X.wbits){P.msg="invalid window size",X.mode=n0;break}X.dmax=1<<W,P.adler=X.check=1,X.mode=D&512?Jq:CX,D=0,Z=0;break;case kq:while(Z<16){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}if(X.flags=D,(X.flags&255)!==jq){P.msg="unknown compression method",X.mode=n0;break}if(X.flags&57344){P.msg="unknown header flags set",X.mode=n0;break}if(X.head)X.head.text=D>>8&1;if(X.flags&512)c[0]=D&255,c[1]=D>>>8&255,X.check=S8(X.check,c,2,0);D=0,Z=0,X.mode=Iq;case Iq:while(Z<32){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}if(X.head)X.head.time=D;if(X.flags&512)c[0]=D&255,c[1]=D>>>8&255,c[2]=D>>>16&255,c[3]=D>>>24&255,X.check=S8(X.check,c,4,0);D=0,Z=0,X.mode=Tq;case Tq:while(Z<16){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}if(X.head)X.head.xflags=D&255,X.head.os=D>>8;if(X.flags&512)c[0]=D&255,c[1]=D>>>8&255,X.check=S8(X.check,c,2,0);D=0,Z=0,X.mode=Mq;case Mq:if(X.flags&1024){while(Z<16){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}if(X.length=D,X.head)X.head.extra_len=D;if(X.flags&512)c[0]=D&255,c[1]=D>>>8&255,X.check=S8(X.check,c,2,0);D=0,Z=0}else if(X.head)X.head.extra=null;X.mode=Wq;case Wq:if(X.flags&1024){if(F=X.length,F>A)F=A;if(F){if(X.head){if(W=X.head.extra_len-X.length,!X.head.extra)X.head.extra=new Array(X.head.extra_len);kp.arraySet(X.head.extra,H,x,F,W)}if(X.flags&512)X.check=S8(X.check,H,F,x);A-=F,x+=F,X.length-=F}if(X.length)break P}X.length=0,X.mode=Eq;case Eq:if(X.flags&2048){if(A===0)break P;F=0;do if(W=H[x+F++],X.head&&W&&X.length<65536)X.head.name+=String.fromCharCode(W);while(W&&F<A);if(X.flags&512)X.check=S8(X.check,H,F,x);if(A-=F,x+=F,W)break P}else if(X.head)X.head.name=null;X.length=0,X.mode=wq;case wq:if(X.flags&4096){if(A===0)break P;F=0;do if(W=H[x+F++],X.head&&W&&X.length<65536)X.head.comment+=String.fromCharCode(W);while(W&&F<A);if(X.flags&512)X.check=S8(X.check,H,F,x);if(A-=F,x+=F,W)break P}else if(X.head)X.head.comment=null;X.mode=zq;case zq:if(X.flags&512){while(Z<16){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}if(D!==(X.check&65535)){P.msg="header crc mismatch",X.mode=n0;break}D=0,Z=0}if(X.head)X.head.hcrc=X.flags>>9&1,X.head.done=!0;P.adler=X.check=0,X.mode=CX;break;case Jq:while(Z<32){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}P.adler=X.check=gq(D),D=0,Z=0,X.mode=H5;case H5:if(X.havedict===0)return P.next_out=B,P.avail_out=$,P.next_in=x,P.avail_in=A,X.hold=D,X.bits=Z,fU;P.adler=X.check=1,X.mode=CX;case CX:if(p===ZU||p===P5)break P;case F4:if(X.last){D>>>=Z&7,Z-=Z&7,X.mode=Q4;break}while(Z<3){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}switch(X.last=D&1,D>>>=1,Z-=1,D&3){case 0:X.mode=Kq;break;case 1:if(kU(X),X.mode=p5,p===P5){D>>>=2,Z-=2;break P}break;case 2:X.mode=Uq;break;case 3:P.msg="invalid block type",X.mode=n0}D>>>=2,Z-=2;break;case Kq:D>>>=Z&7,Z-=Z&7;while(Z<32){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}if((D&65535)!==(D>>>16^65535)){P.msg="invalid stored block lengths",X.mode=n0;break}if(X.length=D&65535,D=0,Z=0,X.mode=C4,p===P5)break P;case C4:X.mode=Rq;case Rq:if(F=X.length,F){if(F>A)F=A;if(F>$)F=$;if(F===0)break P;kp.arraySet(h,H,x,F,B),A-=F,x+=F,$-=F,B+=F,X.length-=F;break}X.mode=CX;break;case Uq:while(Z<14){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}if(X.nlen=(D&31)+257,D>>>=5,Z-=5,X.ndist=(D&31)+1,D>>>=5,Z-=5,X.ncode=(D&15)+4,D>>>=4,Z-=4,X.nlen>286||X.ndist>30){P.msg="too many length or distance symbols",X.mode=n0;break}X.have=0,X.mode=Sq;case Sq:while(X.have<X.ncode){while(Z<3){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}X.lens[G[X.have++]]=D&7,D>>>=3,Z-=3}while(X.have<19)X.lens[G[X.have++]]=0;if(X.lencode=X.lendyn,X.lenbits=7,w={bits:X.lenbits},M=bB($U,X.lens,0,19,X.lencode,0,X.work,w),X.lenbits=w.bits,M){P.msg="invalid code lengths set",X.mode=n0;break}X.have=0,X.mode=Gq;case Gq:while(X.have<X.nlen+X.ndist){for(;;){if(j=X.lencode[D&(1<<X.lenbits)-1],Q=j>>>24,C=j>>>16&255,V=j&65535,Q<=Z)break;if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}if(V<16)D>>>=Q,Z-=Q,X.lens[X.have++]=V;else{if(V===16){U=Q+2;while(Z<U){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}if(D>>>=Q,Z-=Q,X.have===0){P.msg="invalid bit length repeat",X.mode=n0;break}W=X.lens[X.have-1],F=3+(D&3),D>>>=2,Z-=2}else if(V===17){U=Q+3;while(Z<U){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}D>>>=Q,Z-=Q,W=0,F=3+(D&7),D>>>=3,Z-=3}else{U=Q+7;while(Z<U){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}D>>>=Q,Z-=Q,W=0,F=11+(D&127),D>>>=7,Z-=7}if(X.have+F>X.nlen+X.ndist){P.msg="invalid bit length repeat",X.mode=n0;break}while(F--)X.lens[X.have++]=W}}if(X.mode===n0)break;if(X.lens[256]===0){P.msg="invalid code -- missing end-of-block",X.mode=n0;break}if(X.lenbits=9,w={bits:X.lenbits},M=bB(uq,X.lens,0,X.nlen,X.lencode,0,X.work,w),X.lenbits=w.bits,M){P.msg="invalid literal/lengths set",X.mode=n0;break}if(X.distbits=6,X.distcode=X.distdyn,w={bits:X.distbits},M=bB(iq,X.lens,X.nlen,X.ndist,X.distcode,0,X.work,w),X.distbits=w.bits,M){P.msg="invalid distances set",X.mode=n0;break}if(X.mode=p5,p===P5)break P;case p5:X.mode=X5;case X5:if(A>=6&&$>=258){if(P.next_out=B,P.avail_out=$,P.next_in=x,P.avail_in=A,X.hold=D,X.bits=Z,DU(P,f),B=P.next_out,h=P.output,$=P.avail_out,x=P.next_in,H=P.input,A=P.avail_in,D=X.hold,Z=X.bits,X.mode===CX)X.back=-1;break}X.back=0;for(;;){if(j=X.lencode[D&(1<<X.lenbits)-1],Q=j>>>24,C=j>>>16&255,V=j&65535,Q<=Z)break;if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}if(C&&(C&240)===0){Y=Q,k=C,z=V;for(;;){if(j=X.lencode[z+((D&(1<<Y+k)-1)>>Y)],Q=j>>>24,C=j>>>16&255,V=j&65535,Y+Q<=Z)break;if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}D>>>=Y,Z-=Y,X.back+=Y}if(D>>>=Q,Z-=Q,X.back+=Q,X.length=V,C===0){X.mode=dq;break}if(C&32){X.back=-1,X.mode=CX;break}if(C&64){P.msg="invalid literal/length code",X.mode=n0;break}X.extra=C&15,X.mode=Nq;case Nq:if(X.extra){U=X.extra;while(Z<U){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}X.length+=D&(1<<X.extra)-1,D>>>=X.extra,Z-=X.extra,X.back+=X.extra}X.was=X.length,X.mode=vq;case vq:for(;;){if(j=X.distcode[D&(1<<X.distbits)-1],Q=j>>>24,C=j>>>16&255,V=j&65535,Q<=Z)break;if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}if((C&240)===0){Y=Q,k=C,z=V;for(;;){if(j=X.distcode[z+((D&(1<<Y+k)-1)>>Y)],Q=j>>>24,C=j>>>16&255,V=j&65535,Y+Q<=Z)break;if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}D>>>=Y,Z-=Y,X.back+=Y}if(D>>>=Q,Z-=Q,X.back+=Q,C&64){P.msg="invalid distance code",X.mode=n0;break}X.offset=V,X.extra=C&15,X.mode=cq;case cq:if(X.extra){U=X.extra;while(Z<U){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}X.offset+=D&(1<<X.extra)-1,D>>>=X.extra,Z-=X.extra,X.back+=X.extra}if(X.offset>X.dmax){P.msg="invalid distance too far back",X.mode=n0;break}X.mode=Oq;case Oq:if($===0)break P;if(F=f-$,X.offset>F){if(F=X.offset-F,F>X.whave){if(X.sane){P.msg="invalid distance too far back",X.mode=n0;break}}if(F>X.wnext)F-=X.wnext,q=X.wsize-F;else q=X.wnext-F;if(F>X.length)F=X.length;b=X.window}else b=h,q=B-X.offset,F=X.length;if(F>$)F=$;$-=F,X.length-=F;do h[B++]=b[q++];while(--F);if(X.length===0)X.mode=X5;break;case dq:if($===0)break P;h[B++]=X.length,$--,X.mode=X5;break;case Q4:if(X.wrap){while(Z<32){if(A===0)break P;A--,D|=H[x++]<<Z,Z+=8}if(f-=$,P.total_out+=f,X.total+=f,f)P.adler=X.check=X.flags?S8(X.check,h,f,B-f):Y4(X.check,h,f,B-f);if(f=$,(X.flags?D:gq(D))!==X.check){P.msg="incorrect data check",X.mode=n0;break}D=0,Z=0}X.mode=lq;case lq:if(X.wrap&&X.flags){while(Z<32){if(A===0)break P;A--,D+=H[x++]<<Z,Z+=8}if(D!==(X.total&4294967295)){P.msg="incorrect length check",X.mode=n0;break}D=0,Z=0}X.mode=yq;case yq:M=LU;break P;case n0:M=mq;break P;case j4:return b4;case CU:default:return _p}if(P.next_out=B,P.avail_out=$,P.next_in=x,P.avail_in=A,X.hold=D,X.bits=Z,X.wsize||f!==P.avail_out&&X.mode<n0&&(X.mode<Q4||p!==bq)){if(tq(P,P.output,P.next_out,f-P.avail_out))return X.mode=j4,b4}if(L-=P.avail_in,f-=P.avail_out,P.total_in+=L,P.total_out+=f,X.total+=f,X.wrap&&f)P.adler=X.check=X.flags?S8(X.check,h,f,P.next_out-f):Y4(X.check,h,f,P.next_out-f);if(P.data_type=X.bits+(X.last?64:0)+(X.mode===CX?128:0)+(X.mode===p5||X.mode===C4?256:0),(L===0&&f===0||p===bq)&&M===b1)M=FU;return M}function TU(P){if(!P||!P.state)return _p;var p=P.state;if(p.window)p.window=null;return P.state=null,b1}function MU(P,p){var X;if(!P||!P.state)return _p;if(X=P.state,(X.wrap&2)===0)return _p;return X.head=p,p.done=!1,b1}function WU(P,p){var X=p.length,H,h,x;if(!P||!P.state)return _p;if(H=P.state,H.wrap!==0&&H.mode!==H5)return _p;if(H.mode===H5){if(h=1,h=Y4(h,p,X,0),h!==H.check)return mq}if(x=tq(P,p,X,X),x)return H.mode=j4,b4;return H.havedict=1,b1}EU.inflateReset=rq;EU.inflateReset2=nq;EU.inflateResetKeep=oq;EU.inflateInit=jU;EU.inflateInit2=sq;EU.inflate=IU;EU.inflateEnd=TU;EU.inflateGetHeader=MU;EU.inflateSetDictionary=WU;EU.inflateInfo="pako inflate (from Nodeca project)"});var k4=V0((IO,PY)=>{PY.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var XY=V0((TO,pY)=>{function cU(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}pY.exports=cU});var hY=V0((yU)=>{var ah=eq(),jB=fX(),h5=B4(),fP=k4(),I4=iD(),OU=A4(),dU=XY(),HY=Object.prototype.toString;function j1(P){if(!(this instanceof j1))return new j1(P);this.options=jB.assign({chunkSize:16384,windowBits:0,to:""},P||{});var p=this.options;if(p.raw&&p.windowBits>=0&&p.windowBits<16){if(p.windowBits=-p.windowBits,p.windowBits===0)p.windowBits=-15}if(p.windowBits>=0&&p.windowBits<16&&!(P&&P.windowBits))p.windowBits+=32;if(p.windowBits>15&&p.windowBits<48){if((p.windowBits&15)===0)p.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new OU,this.strm.avail_out=0;var X=ah.inflateInit2(this.strm,p.windowBits);if(X!==fP.Z_OK)throw new Error(I4[X]);if(this.header=new dU,ah.inflateGetHeader(this.strm,this.header),p.dictionary){if(typeof p.dictionary==="string")p.dictionary=h5.string2buf(p.dictionary);else if(HY.call(p.dictionary)==="[object ArrayBuffer]")p.dictionary=new Uint8Array(p.dictionary);if(p.raw){if(X=ah.inflateSetDictionary(this.strm,p.dictionary),X!==fP.Z_OK)throw new Error(I4[X])}}}j1.prototype.push=function(P,p){var X=this.strm,H=this.options.chunkSize,h=this.options.dictionary,x,B,A,$,D,Z=!1;if(this.ended)return!1;if(B=p===~~p?p:p===!0?fP.Z_FINISH:fP.Z_NO_FLUSH,typeof P==="string")X.input=h5.binstring2buf(P);else if(HY.call(P)==="[object ArrayBuffer]")X.input=new Uint8Array(P);else X.input=P;X.next_in=0,X.avail_in=X.input.length;do{if(X.avail_out===0)X.output=new jB.Buf8(H),X.next_out=0,X.avail_out=H;if(x=ah.inflate(X,fP.Z_NO_FLUSH),x===fP.Z_NEED_DICT&&h)x=ah.inflateSetDictionary(this.strm,h);if(x===fP.Z_BUF_ERROR&&Z===!0)x=fP.Z_OK,Z=!1;if(x!==fP.Z_STREAM_END&&x!==fP.Z_OK)return this.onEnd(x),this.ended=!0,!1;if(X.next_out){if(X.avail_out===0||x===fP.Z_STREAM_END||X.avail_in===0&&(B===fP.Z_FINISH||B===fP.Z_SYNC_FLUSH))if(this.options.to==="string"){if(A=h5.utf8border(X.output,X.next_out),$=X.next_out-A,D=h5.buf2string(X.output,A),X.next_out=$,X.avail_out=H-$,$)jB.arraySet(X.output,X.output,A,$,0);this.onData(D)}else this.onData(jB.shrinkBuf(X.output,X.next_out))}if(X.avail_in===0&&X.avail_out===0)Z=!0}while((X.avail_in>0||X.avail_out===0)&&x!==fP.Z_STREAM_END);if(x===fP.Z_STREAM_END)B=fP.Z_FINISH;if(B===fP.Z_FINISH)return x=ah.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===fP.Z_OK;if(B===fP.Z_SYNC_FLUSH)return this.onEnd(fP.Z_OK),X.avail_out=0,!0;return!0};j1.prototype.onData=function(P){this.chunks.push(P)};j1.prototype.onEnd=function(P){if(P===fP.Z_OK)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=jB.flattenChunks(this.chunks);this.chunks=[],this.err=P,this.msg=this.strm.msg};function T4(P,p){var X=new j1(p);if(X.push(P,!0),X.err)throw X.msg||I4[X.err];return X.result}function lU(P,p){return p=p||{},p.raw=!0,T4(P,p)}yU.Inflate=j1;yU.inflate=T4;yU.inflateRaw=lU;yU.ungzip=T4});var AY=V0((WO,BY)=>{var mU=fX().assign,aU=$q(),oU=hY(),rU=k4(),xY={};mU(xY,aU,oU,rU);BY.exports=xY});var $Y=V0((eU)=>{var nU=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Uint32Array!=="undefined",sU=AY(),DY=hP(),x5=jp(),tU=nU?"uint8array":"array";eU.magic="\b\x00";function k1(P,p){x5.call(this,"FlateWorker/"+P),this._pako=null,this._pakoAction=P,this._pakoOptions=p,this.meta={}}DY.inherits(k1,x5);k1.prototype.processChunk=function(P){if(this.meta=P.meta,this._pako===null)this._createPako();this._pako.push(DY.transformTo(tU,P.data),!1)};k1.prototype.flush=function(){if(x5.prototype.flush.call(this),this._pako===null)this._createPako();this._pako.push([],!0)};k1.prototype.cleanUp=function(){x5.prototype.cleanUp.call(this),this._pako=null};k1.prototype._createPako=function(){this._pako=new sU[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var P=this;this._pako.onData=function(p){P.push({data:p,meta:P.meta})}};eU.compressWorker=function(P){return new k1("Deflate",P)};eU.uncompressWorker=function(){return new k1("Inflate",{})}});var M4=V0((HS)=>{var ZY=jp();HS.STORE={magic:"\x00\x00",compressWorker:function(){return new ZY("STORE compression")},uncompressWorker:function(){return new ZY("STORE decompression")}};HS.DEFLATE=$Y()});var W4=V0((BS)=>{BS.LOCAL_FILE_HEADER="PK\x03\x04";BS.CENTRAL_FILE_HEADER="PK\x01\x02";BS.CENTRAL_DIRECTORY_END="PK\x05\x06";BS.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07";BS.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06";BS.DATA_DESCRIPTOR="PK\x07\b"});var CY=V0((JO,FY)=>{var oh=hP(),rh=jp(),E4=Oh(),LY=yD(),B5=W4(),u0=function(P,p){var X="",H;for(H=0;H<p;H++)X+=String.fromCharCode(P&255),P=P>>>8;return X},FS=function(P,p){var X=P;if(!P)X=p?16893:33204;return(X&65535)<<16},CS=function(P){return(P||0)&63},fY=function(P,p,X,H,h,x){var{file:B,compression:A}=P,$=x!==E4.utf8encode,D=oh.transformTo("string",x(B.name)),Z=oh.transformTo("string",E4.utf8encode(B.name)),L=B.comment,f=oh.transformTo("string",x(L)),F=oh.transformTo("string",E4.utf8encode(L)),q=Z.length!==B.name.length,b=F.length!==L.length,j,Q,C="",V="",Y="",k=B.dir,z=B.date,W={crc32:0,compressedSize:0,uncompressedSize:0};if(!p||X)W.crc32=P.crc32,W.compressedSize=P.compressedSize,W.uncompressedSize=P.uncompressedSize;var M=0;if(p)M|=8;if(!$&&(q||b))M|=2048;var c=0,w=0;if(k)c|=16;if(h==="UNIX")w=798,c|=FS(B.unixPermissions,k);else w=20,c|=CS(B.dosPermissions,k);if(j=z.getUTCHours(),j=j<<6,j=j|z.getUTCMinutes(),j=j<<5,j=j|z.getUTCSeconds()/2,Q=z.getUTCFullYear()-1980,Q=Q<<4,Q=Q|z.getUTCMonth()+1,Q=Q<<5,Q=Q|z.getUTCDate(),q)V=u0(1,1)+u0(LY(D),4)+Z,C+="up"+u0(V.length,2)+V;if(b)Y=u0(1,1)+u0(LY(f),4)+F,C+="uc"+u0(Y.length,2)+Y;var U="";U+=`
\x00`,U+=u0(M,2),U+=A.magic,U+=u0(j,2),U+=u0(Q,2),U+=u0(W.crc32,4),U+=u0(W.compressedSize,4),U+=u0(W.uncompressedSize,4),U+=u0(D.length,2),U+=u0(C.length,2);var G=B5.LOCAL_FILE_HEADER+U+D+C,J=B5.CENTRAL_FILE_HEADER+u0(w,2)+U+u0(f.length,2)+"\x00\x00\x00\x00"+u0(c,4)+u0(H,4)+D+C+f;return{fileRecord:G,dirRecord:J}},QS=function(P,p,X,H,h){var x="",B=oh.transformTo("string",h(H));return x=B5.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+u0(P,2)+u0(P,2)+u0(p,4)+u0(X,4)+u0(B.length,2)+B,x},VS=function(P){var p="";return p=B5.DATA_DESCRIPTOR+u0(P.crc32,4)+u0(P.compressedSize,4)+u0(P.uncompressedSize,4),p};function P8(P,p,X,H){rh.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=X,this.encodeFileName=H,this.streamFiles=P,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}oh.inherits(P8,rh);P8.prototype.push=function(P){var p=P.meta.percent||0,X=this.entriesCount,H=this._sources.length;if(this.accumulate)this.contentBuffer.push(P);else this.bytesWritten+=P.data.length,rh.prototype.push.call(this,{data:P.data,meta:{currentFile:this.currentFile,percent:X?(p+100*(X-H-1))/X:100}})};P8.prototype.openedSource=function(P){this.currentSourceOffset=this.bytesWritten,this.currentFile=P.file.name;var p=this.streamFiles&&!P.file.dir;if(p){var X=fY(P,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:X.fileRecord,meta:{percent:0}})}else this.accumulate=!0};P8.prototype.closedSource=function(P){this.accumulate=!1;var p=this.streamFiles&&!P.file.dir,X=fY(P,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(X.dirRecord),p)this.push({data:VS(P),meta:{percent:100}});else{this.push({data:X.fileRecord,meta:{percent:0}});while(this.contentBuffer.length)this.push(this.contentBuffer.shift())}this.currentFile=null};P8.prototype.flush=function(){var P=this.bytesWritten;for(var p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var X=this.bytesWritten-P,H=QS(this.dirRecords.length,X,P,this.zipComment,this.encodeFileName);this.push({data:H,meta:{percent:100}})};P8.prototype.prepareNextSource=function(){if(this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused)this.previous.pause();else this.previous.resume()};P8.prototype.registerPrevious=function(P){this._sources.push(P);var p=this;return P.on("data",function(X){p.processChunk(X)}),P.on("end",function(){if(p.closedSource(p.previous.streamInfo),p._sources.length)p.prepareNextSource();else p.end()}),P.on("error",function(X){p.error(X)}),this};P8.prototype.resume=function(){if(!rh.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0};P8.prototype.error=function(P){var p=this._sources;if(!rh.prototype.error.call(this,P))return!1;for(var X=0;X<p.length;X++)try{p[X].error(P)}catch(H){}return!0};P8.prototype.lock=function(){rh.prototype.lock.call(this);var P=this._sources;for(var p=0;p<P.length;p++)P[p].lock()};FY.exports=P8});var QY=V0((jS)=>{var qS=M4(),YS=CY(),bS=function(P,p){var X=P||p,H=qS[X];if(!H)throw new Error(X+" is not a valid compression method !");return H};jS.generateWorker=function(P,p,X){var H=new YS(p.streamFiles,X,p.platform,p.encodeFileName),h=0;try{P.forEach(function(x,B){h++;var A=bS(B.options.compression,p.compression),$=B.options.compressionOptions||p.compressionOptions||{},D=B.dir,Z=B.date;B._compressWorker(A,$).withStreamInfo("file",{name:x,dir:D,date:Z,comment:B.comment||"",unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions}).pipe(H)}),H.entriesCount=h}catch(x){H.error(x)}return H}});var qY=V0((RO,VY)=>{var IS=hP(),A5=jp();function kB(P,p){A5.call(this,"Nodejs stream input adapter for "+P),this._upstreamEnded=!1,this._bindStream(p)}IS.inherits(kB,A5);kB.prototype._bindStream=function(P){var p=this;this._stream=P,P.pause(),P.on("data",function(X){p.push({data:X,meta:{percent:0}})}).on("error",function(X){if(p.isPaused)this.generatedError=X;else p.error(X)}).on("end",function(){if(p.isPaused)p._upstreamEnded=!0;else p.end()})};kB.prototype.pause=function(){if(!A5.prototype.pause.call(this))return!1;return this._stream.pause(),!0};kB.prototype.resume=function(){if(!A5.prototype.resume.call(this))return!1;if(this._upstreamEnded)this.end();else this._stream.resume();return!0};VY.exports=kB});var wY=V0((UO,EY)=>{var TS=Oh(),IB=hP(),kY=jp(),MS=K7(),IY=R7(),YY=gD(),WS=b3(),ES=QY(),bY=e2(),wS=qY(),TY=function(P,p,X){var H=IB.getTypeOf(p),h,x=IB.extend(X||{},IY);if(x.date=x.date||new Date,x.compression!==null)x.compression=x.compression.toUpperCase();if(typeof x.unixPermissions==="string")x.unixPermissions=parseInt(x.unixPermissions,8);if(x.unixPermissions&&x.unixPermissions&16384)x.dir=!0;if(x.dosPermissions&&x.dosPermissions&16)x.dir=!0;if(x.dir)P=MY(P);if(x.createFolders&&(h=zS(P)))WY.call(this,h,!0);var B=H==="string"&&x.binary===!1&&x.base64===!1;if(!X||typeof X.binary==="undefined")x.binary=!B;var A=p instanceof YY&&p.uncompressedSize===0;if(A||x.dir||!p||p.length===0)x.base64=!1,x.binary=!0,p="",x.compression="STORE",H="string";var $=null;if(p instanceof YY||p instanceof kY)$=p;else if(bY.isNode&&bY.isStream(p))$=new wS(P,p);else $=IB.prepareContent(P,p,x.binary,x.optimizedBinaryString,x.base64);var D=new WS(P,$,x);this.files[P]=D},zS=function(P){if(P.slice(-1)==="/")P=P.substring(0,P.length-1);var p=P.lastIndexOf("/");return p>0?P.substring(0,p):""},MY=function(P){if(P.slice(-1)!=="/")P+="/";return P},WY=function(P,p){if(p=typeof p!=="undefined"?p:IY.createFolders,P=MY(P),!this.files[P])TY.call(this,P,null,{dir:!0,createFolders:p});return this.files[P]};function jY(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var JS={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var p,X,H;for(p in this.files)if(H=this.files[p],X=p.slice(this.root.length,p.length),X&&p.slice(0,this.root.length)===this.root)P(X,H)},filter:function(P){var p=[];return this.forEach(function(X,H){if(P(X,H))p.push(H)}),p},file:function(P,p,X){if(arguments.length===1)if(jY(P)){var H=P;return this.filter(function(x,B){return!B.dir&&H.test(x)})}else{var h=this.files[this.root+P];if(h&&!h.dir)return h;else return null}else P=this.root+P,TY.call(this,P,p,X);return this},folder:function(P){if(!P)return this;if(jY(P))return this.filter(function(h,x){return x.dir&&P.test(h)});var p=this.root+P,X=WY.call(this,p),H=this.clone();return H.root=X.name,H},remove:function(P){P=this.root+P;var p=this.files[P];if(!p){if(P.slice(-1)!=="/")P+="/";p=this.files[P]}if(p&&!p.dir)delete this.files[P];else{var X=this.filter(function(h,x){return x.name.slice(0,P.length)===P});for(var H=0;H<X.length;H++)delete this.files[X[H].name]}return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var p,X={};try{if(X=IB.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:TS.utf8encode}),X.type=X.type.toLowerCase(),X.compression=X.compression.toUpperCase(),X.type==="binarystring")X.type="string";if(!X.type)throw new Error("No output type specified.");if(IB.checkSupport(X.type),X.platform==="darwin"||X.platform==="freebsd"||X.platform==="linux"||X.platform==="sunos")X.platform="UNIX";if(X.platform==="win32")X.platform="DOS";var H=X.comment||this.comment||"";p=ES.generateWorker(this,X,H)}catch(h){p=new kY("error"),p.error(h)}return new MS(p,X.type||"string",X.mimeType)},generateAsync:function(P,p){return this.generateInternalStream(P).accumulate(p)},generateNodeStream:function(P,p){if(P=P||{},!P.type)P.type="nodebuffer";return this.generateInternalStream(P).toNodejsStream(p)}};EY.exports=JS});var w4=V0((SO,JY)=>{var KS=hP();function zY(P){this.data=P,this.length=P.length,this.index=0,this.zero=0}zY.prototype={checkOffset:function(P){this.checkIndex(this.index+P)},checkIndex:function(P){if(this.length<this.zero+P||P<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+P+"). Corrupted zip ?")},setIndex:function(P){this.checkIndex(P),this.index=P},skip:function(P){this.setIndex(this.index+P)},byteAt:function(){},readInt:function(P){var p=0,X;this.checkOffset(P);for(X=this.index+P-1;X>=this.index;X--)p=(p<<8)+this.byteAt(X);return this.index+=P,p},readString:function(P){return KS.transformTo("string",this.readData(P))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var P=this.readInt(4);return new Date(Date.UTC((P>>25&127)+1980,(P>>21&15)-1,P>>16&31,P>>11&31,P>>5&63,(P&31)<<1))}};JY.exports=zY});var z4=V0((GO,RY)=>{var KY=w4(),RS=hP();function nh(P){KY.call(this,P);for(var p=0;p<this.data.length;p++)P[p]=P[p]&255}RS.inherits(nh,KY);nh.prototype.byteAt=function(P){return this.data[this.zero+P]};nh.prototype.lastIndexOfSignature=function(P){var p=P.charCodeAt(0),X=P.charCodeAt(1),H=P.charCodeAt(2),h=P.charCodeAt(3);for(var x=this.length-4;x>=0;--x)if(this.data[x]===p&&this.data[x+1]===X&&this.data[x+2]===H&&this.data[x+3]===h)return x-this.zero;return-1};nh.prototype.readAndCheckSignature=function(P){var p=P.charCodeAt(0),X=P.charCodeAt(1),H=P.charCodeAt(2),h=P.charCodeAt(3),x=this.readData(4);return p===x[0]&&X===x[1]&&H===x[2]&&h===x[3]};nh.prototype.readData=function(P){if(this.checkOffset(P),P===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+P);return this.index+=P,p};RY.exports=nh});var GY=V0((NO,SY)=>{var UY=w4(),US=hP();function sh(P){UY.call(this,P)}US.inherits(sh,UY);sh.prototype.byteAt=function(P){return this.data.charCodeAt(this.zero+P)};sh.prototype.lastIndexOfSignature=function(P){return this.data.lastIndexOf(P)-this.zero};sh.prototype.readAndCheckSignature=function(P){var p=this.readData(4);return P===p};sh.prototype.readData=function(P){this.checkOffset(P);var p=this.data.slice(this.zero+this.index,this.zero+this.index+P);return this.index+=P,p};SY.exports=sh});var K4=V0((vO,vY)=>{var NY=z4(),SS=hP();function J4(P){NY.call(this,P)}SS.inherits(J4,NY);J4.prototype.readData=function(P){if(this.checkOffset(P),P===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+P);return this.index+=P,p};vY.exports=J4});var dY=V0((cO,OY)=>{var cY=K4(),GS=hP();function R4(P){cY.call(this,P)}GS.inherits(R4,cY);R4.prototype.readData=function(P){this.checkOffset(P);var p=this.data.slice(this.zero+this.index,this.zero+this.index+P);return this.index+=P,p};OY.exports=R4});var U4=V0((OO,yY)=>{var D5=hP(),lY=LX(),NS=z4(),vS=GY(),cS=dY(),OS=K4();yY.exports=function(P){var p=D5.getTypeOf(P);if(D5.checkSupport(p),p==="string"&&!lY.uint8array)return new vS(P);if(p==="nodebuffer")return new cS(P);if(lY.uint8array)return new OS(D5.transformTo("uint8array",P));return new NS(D5.transformTo("array",P))}});var iY=V0((dO,uY)=>{var S4=U4(),qH=hP(),dS=gD(),gY=yD(),$5=Oh(),Z5=M4(),lS=LX(),yS=0,gS=3,_S=function(P){for(var p in Z5){if(!Object.prototype.hasOwnProperty.call(Z5,p))continue;if(Z5[p].magic===P)return Z5[p]}return null};function _Y(P,p){this.options=P,this.loadOptions=p}_Y.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(P){var p,X;if(P.skip(22),this.fileNameLength=P.readInt(2),X=P.readInt(2),this.fileName=P.readData(this.fileNameLength),P.skip(X),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(p=_S(this.compressionMethod),p===null)throw new Error("Corrupted zip : compression "+qH.pretty(this.compressionMethod)+" unknown (inner file : "+qH.transformTo("string",this.fileName)+")");this.decompressed=new dS(this.compressedSize,this.uncompressedSize,this.crc32,p,P.readData(this.compressedSize))},readCentralPart:function(P){this.versionMadeBy=P.readInt(2),P.skip(2),this.bitFlag=P.readInt(2),this.compressionMethod=P.readString(2),this.date=P.readDate(),this.crc32=P.readInt(4),this.compressedSize=P.readInt(4),this.uncompressedSize=P.readInt(4);var p=P.readInt(2);if(this.extraFieldsLength=P.readInt(2),this.fileCommentLength=P.readInt(2),this.diskNumberStart=P.readInt(2),this.internalFileAttributes=P.readInt(2),this.externalFileAttributes=P.readInt(4),this.localHeaderOffset=P.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");P.skip(p),this.readExtraFields(P),this.parseZIP64ExtraField(P),this.fileComment=P.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var P=this.versionMadeBy>>8;if(this.dir=this.externalFileAttributes&16?!0:!1,P===yS)this.dosPermissions=this.externalFileAttributes&63;if(P===gS)this.unixPermissions=this.externalFileAttributes>>16&65535;if(!this.dir&&this.fileNameStr.slice(-1)==="/")this.dir=!0},parseZIP64ExtraField:function(){if(!this.extraFields[1])return;var P=S4(this.extraFields[1].value);if(this.uncompressedSize===qH.MAX_VALUE_32BITS)this.uncompressedSize=P.readInt(8);if(this.compressedSize===qH.MAX_VALUE_32BITS)this.compressedSize=P.readInt(8);if(this.localHeaderOffset===qH.MAX_VALUE_32BITS)this.localHeaderOffset=P.readInt(8);if(this.diskNumberStart===qH.MAX_VALUE_32BITS)this.diskNumberStart=P.readInt(4)},readExtraFields:function(P){var p=P.index+this.extraFieldsLength,X,H,h;if(!this.extraFields)this.extraFields={};while(P.index+4<p)X=P.readInt(2),H=P.readInt(2),h=P.readData(H),this.extraFields[X]={id:X,length:H,value:h};P.setIndex(p)},handleUTF8:function(){var P=lS.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=$5.utf8decode(this.fileName),this.fileCommentStr=$5.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var X=qH.transformTo(P,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(X)}var H=this.findExtraFieldUnicodeComment();if(H!==null)this.fileCommentStr=H;else{var h=qH.transformTo(P,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(h)}}},findExtraFieldUnicodePath:function(){var P=this.extraFields[28789];if(P){var p=S4(P.value);if(p.readInt(1)!==1)return null;if(gY(this.fileName)!==p.readInt(4))return null;return $5.utf8decode(p.readData(P.length-5))}return null},findExtraFieldUnicodeComment:function(){var P=this.extraFields[25461];if(P){var p=S4(P.value);if(p.readInt(1)!==1)return null;if(gY(this.fileComment)!==p.readInt(4))return null;return $5.utf8decode(p.readData(P.length-5))}return null}};uY.exports=_Y});var oY=V0((lO,aY)=>{var uS=U4(),QX=hP(),p8=W4(),iS=iY(),mS=LX();function mY(P){this.files=[],this.loadOptions=P}mY.prototype={checkSignature:function(P){if(!this.reader.readAndCheckSignature(P)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+QX.pretty(p)+", expected "+QX.pretty(P)+")")}},isSignature:function(P,p){var X=this.reader.index;this.reader.setIndex(P);var H=this.reader.readString(4),h=H===p;return this.reader.setIndex(X),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var P=this.reader.readData(this.zipCommentLength),p=mS.uint8array?"uint8array":"array",X=QX.transformTo(p,P);this.zipComment=this.loadOptions.decodeFileName(X)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};var P=this.zip64EndOfCentralSize-44,p=0,X,H,h;while(p<P)X=this.reader.readInt(2),H=this.reader.readInt(4),h=this.reader.readData(H),this.zip64ExtensibleData[X]={id:X,length:H,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var P,p;for(P=0;P<this.files.length;P++)p=this.files[P],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(p8.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var P;this.reader.setIndex(this.centralDirOffset);while(this.reader.readAndCheckSignature(p8.CENTRAL_FILE_HEADER))P=new iS({zip64:this.zip64},this.loadOptions),P.readCentralPart(this.reader),this.files.push(P);if(this.centralDirRecords!==this.files.length){if(this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}},readEndOfCentral:function(){var P=this.reader.lastIndexOfSignature(p8.CENTRAL_DIRECTORY_END);if(P<0){var p=!this.isSignature(0,p8.LOCAL_FILE_HEADER);if(p)throw new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");else throw new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(P);var X=P;if(this.checkSignature(p8.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===QX.MAX_VALUE_16BITS||this.diskWithCentralDirStart===QX.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===QX.MAX_VALUE_16BITS||this.centralDirRecords===QX.MAX_VALUE_16BITS||this.centralDirSize===QX.MAX_VALUE_32BITS||this.centralDirOffset===QX.MAX_VALUE_32BITS){if(this.zip64=!0,P=this.reader.lastIndexOfSignature(p8.ZIP64_CENTRAL_DIRECTORY_LOCATOR),P<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(P),this.checkSignature(p8.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p8.ZIP64_CENTRAL_DIRECTORY_END)){if(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p8.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory")}this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p8.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var H=this.centralDirOffset+this.centralDirSize;if(this.zip64)H+=20,H+=12+this.zip64EndOfCentralSize;var h=X-H;if(h>0)if(this.isSignature(X,p8.CENTRAL_FILE_HEADER));else this.reader.zero=h;else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(P){this.reader=uS(P)},load:function(P){this.prepareReader(P),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};aY.exports=mY});var sY=V0((yO,nY)=>{var G4=hP(),L5=Nh(),aS=Oh(),oS=oY(),rS=G7(),rY=e2();function nS(P){return new L5.Promise(function(p,X){var H=P.decompressed.getContentWorker().pipe(new rS);H.on("error",function(h){X(h)}).on("end",function(){if(H.streamInfo.crc32!==P.decompressed.crc32)X(new Error("Corrupted zip : CRC32 mismatch"));else p()}).resume()})}nY.exports=function(P,p){var X=this;if(p=G4.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:aS.utf8decode}),rY.isNode&&rY.isStream(P))return L5.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file."));return G4.prepareContent("the loaded zip file",P,!0,p.optimizedBinaryString,p.base64).then(function(H){var h=new oS(p);return h.load(H),h}).then(function H(h){var x=[L5.Promise.resolve(h)],B=h.files;if(p.checkCRC32)for(var A=0;A<B.length;A++)x.push(nS(B[A]));return L5.Promise.all(x)}).then(function H(h){var x=h.shift(),B=x.files;for(var A=0;A<B.length;A++){var $=B[A],D=$.fileNameStr,Z=G4.resolve($.fileNameStr);if(X.file(Z,$.decompressed,{binary:!0,optimizedBinaryString:!0,date:$.date,dir:$.dir,comment:$.fileCommentStr.length?$.fileCommentStr:null,unixPermissions:$.unixPermissions,dosPermissions:$.dosPermissions,createFolders:p.createFolders}),!$.dir)X.file(Z).unsafeOriginalName=D}if(x.zipComment.length)X.comment=x.zipComment;return X})}});var eY=V0((gO,tY)=>{function up(){if(!(this instanceof up))return new up;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var P=new up;for(var p in this)if(typeof this[p]!=="function")P[p]=this[p];return P}}up.prototype=wY();up.prototype.loadAsync=sY();up.support=LX();up.defaults=R7();up.version="3.10.1";up.loadAsync=function(P,p){return new up().loadAsync(P,p)};up.external=Nh();tY.exports=up});var vI=c0(vQ(),1);var OQ=c0(i0(),1);var mE=Symbol.for("react.transitional.element"),aE=Symbol.for("react.fragment");function cQ(P,p,X){var H=null;if(X!==void 0&&(H=""+X),p.key!==void 0&&(H=""+p.key),"key"in p){X={};for(var h in p)h!=="key"&&(X[h]=p[h])}else X=p;return p=X.ref,{$$typeof:mE,type:P,key:H,ref:p!==void 0?p:null,props:X}}var hH=aE,A0=cQ,TP=cQ;function dQ({setFileData:P,setIsProcessing:p,resetStates:X}){let H=OQ.useRef(null);function h(x){console.log("FileHandler: uploadFiles called");let B=x.target.files;if(!B||B.length===0){console.error("No files selected.");return}p(!0),console.log("FileHandler: Files processing:",B.length);for(let A=0;A<B.length;A++){if(console.log("FileHandler: Processing file:",B[A].name),!B[A].type.startsWith("image/png")){console.error("Only PNG files are allowed.");continue}else{console.log("FileHandler: creating fileName");let $=B[A].name.substring(0,B[A].name.lastIndexOf(".")),D=B[A],Z=new FileReader;Z.onload=(L)=>{console.log("FileHandler: entering reader.onload for file:",$);let f=L.target?.result;P((F)=>{console.log("FileHandler: Previous files count:",F.length);let q=[...F,{name:$,data:f}];if(console.log("FileHandler: Updated files count:",q.length),q.length===B.length)p(!1),console.log("FileHandler: processing complete, total files:",q.length);return q})},Z.readAsDataURL(D)}console.log("FileHandler: File processed + added to fileData.")}}return A0(hH,{children:TP("div",{className:"py-5 ",children:[A0("button",{onClick:()=>{if(console.log("FileHandler: Upload button clicked"),H.current)H.current.value="",H.current.click()},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Upload Files"}),A0("p",{className:"italic text-gray-600",children:"only supports .PNG's"}),A0("input",{type:"file",id:"files",name:"files",multiple:!0,accept:"image/png",ref:H,className:"hidden",onChange:(x)=>{console.log("FileHandler: File input onChange triggered"),h(x)}})]})})}var Pb=c0(eY(),1),pb=c0(i0(),1);function Xb({files:P}){console.log("Preparing Files for ZIP:",P);let p=pb.useRef(null),X=new Pb.default;async function H(){if(!P||P.length===0){alert("No files to download");return}for(let h=0;h<P.length;h++){let B=await(await fetch(P[h].data)).blob();if(X.file(`${P[h].name}.png`,B),h===P.length-1){let A=await X.generateAsync({type:"blob"}),$=URL.createObjectURL(A);if(p.current)p.current.href=$,p.current.download="icons.zip",p.current.click(),setTimeout(()=>URL.revokeObjectURL($),100)}}}return A0(hH,{children:TP("div",{className:"py-5",children:[A0("button",{onClick:H,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Click to Download"}),A0("a",{ref:p,style:{display:"none"}})]})})}function Hb({files:P}){return console.log("IconDisplay received files:",P.map((p)=>p.name)),TP("div",{children:[A0("h2",{children:"⬇️ Generated Icons ⬇️"}),P?.length===0&&A0("p",{children:"No files to display"}),P?.length>0&&TP(hH,{children:[A0(Xb,{files:P}),A0("div",{className:"grid grid-cols-4 gap-4",children:P.map((p)=>A0("img",{src:p.data,alt:p.name,className:"w-full h-auto"},p.name))})]})]})}var $6=c0(i0(),1);function R(P,p,X){return(p=function(H){var h=function(x,B){if(typeof x!="object"||!x)return x;var A=x[Symbol.toPrimitive];if(A!==void 0){var $=A.call(x,B||"default");if(typeof $!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(x)}(H,"string");return typeof h=="symbol"?h:h+""}(p))in P?Object.defineProperty(P,p,{value:X,enumerable:!0,configurable:!0,writable:!0}):P[p]=X,P}function hb(P,p){var X=Object.keys(P);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(P);p&&(H=H.filter(function(h){return Object.getOwnPropertyDescriptor(P,h).enumerable})),X.push.apply(X,H)}return X}function K(P){for(var p=1;p<arguments.length;p++){var X=arguments[p]!=null?arguments[p]:{};p%2?hb(Object(X),!0).forEach(function(H){R(P,H,X[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(X)):hb(Object(X)).forEach(function(H){Object.defineProperty(P,H,Object.getOwnPropertyDescriptor(X,H))})}return P}function t0(P,p){if(P==null)return{};var X,H,h=function(B,A){if(B==null)return{};var $={};for(var D in B)if({}.hasOwnProperty.call(B,D)){if(A.indexOf(D)>=0)continue;$[D]=B[D]}return $}(P,p);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(P);for(H=0;H<x.length;H++)X=x[H],p.indexOf(X)>=0||{}.propertyIsEnumerable.call(P,X)&&(h[X]=P[X])}return h}function WH(P,p){return p||(p=P.slice(0)),Object.freeze(Object.defineProperties(P,{raw:{value:Object.freeze(p)}}))}class a4{constructor(){R(this,"browserShadowBlurConstant",1),R(this,"DPI",96),R(this,"devicePixelRatio",typeof window!="undefined"?window.devicePixelRatio:1),R(this,"perfLimitSizeTotal",2097152),R(this,"maxCacheSideLimit",4096),R(this,"minCacheSideLimit",256),R(this,"disableStyleCopyPaste",!1),R(this,"enableGLFiltering",!0),R(this,"textureSize",4096),R(this,"forceGLPutImageData",!1),R(this,"cachesBoundsOfCurve",!1),R(this,"fontPaths",{}),R(this,"NUM_FRACTION_DIGITS",4)}}var R0=new class extends a4{constructor(P){super(),this.configure(P)}configure(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,P)}addFonts(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=K(K({},this.fontPaths),P)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach((P)=>{delete this.fontPaths[P]})}clearFonts(){this.fontPaths={}}restoreDefaults(P){let p=new a4,X=(P==null?void 0:P.reduce((H,h)=>(H[h]=p[h],H),{}))||p;this.configure(X)}},kH=function(P){for(var p=arguments.length,X=new Array(p>1?p-1:0),H=1;H<p;H++)X[H-1]=arguments[H];return console[P]("fabric",...X)};class x8 extends Error{constructor(P,p){super("fabric: ".concat(P),p)}}class fL extends x8{constructor(P){super("".concat(P," 'options.signal' is in 'aborted' state"))}}class Gb{}class Nb extends Gb{testPrecision(P,p){let X="precision ".concat(p,` float;
void main(){}`),H=P.createShader(P.FRAGMENT_SHADER);return!!H&&(P.shaderSource(H,X),P.compileShader(H),!!P.getShaderParameter(H,P.COMPILE_STATUS))}queryWebGL(P){let p=P.getContext("webgl");p&&(this.maxTextureSize=p.getParameter(p.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find((X)=>this.testPrecision(p,X)),p.getExtension("WEBGL_lose_context").loseContext(),kH("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(P){return!!this.maxTextureSize&&this.maxTextureSize>=P}}var sS={},xb;var c8=()=>xb||(xb={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new Nb,dispose(){},copyPasteData:sS}),Tx=()=>c8().document,v5=()=>c8().window,vb=()=>{var P;return Math.max((P=R0.devicePixelRatio)!==null&&P!==void 0?P:v5().devicePixelRatio,1)},zB=new class{constructor(){R(this,"charWidthsCache",{}),R(this,"boundsOfCurveCache",{})}getFontCache(P){let{fontFamily:p,fontStyle:X,fontWeight:H}=P;p=p.toLowerCase(),this.charWidthsCache[p]||(this.charWidthsCache[p]={});let h=this.charWidthsCache[p],x="".concat(X.toLowerCase(),"_").concat((H+"").toLowerCase());return h[x]||(h[x]={}),h[x]}clearFontCache(P){(P=(P||"").toLowerCase())?this.charWidthsCache[P]&&delete this.charWidthsCache[P]:this.charWidthsCache={}}limitDimsByArea(P){let{perfLimitSizeTotal:p}=R0,X=Math.sqrt(p*P);return[Math.floor(X),Math.floor(p/X)]}},o4="6.6.1";function K1(){}var IH=Math.PI/2,MX=2*Math.PI,FL=Math.PI/180,tP=Object.freeze([1,0,0,1,0,0]),CL=16,YH=0.4477152502,T0="center",N0="left",Dp="top",r4="bottom",FP="right",$p="none",QL=/\r?\n/,cb="moving",c5="scaling",Ob="rotating",VL="rotate",db="skewing",GB="resizing",lb="modifyPoly",tS="modifyPath",k5="changed",O5="scale",eP="scaleX",Mp="scaleY",Mx="skewX",Wx="skewY",WP="fill",Zp="stroke",I5="modified",th="json",N4="svg",L0=new class{constructor(){this[th]=new Map,this[N4]=new Map}has(P){return this[th].has(P)}getClass(P){let p=this[th].get(P);if(!p)throw new x8("No class registered for ".concat(P));return p}setClass(P,p){p?this[th].set(p,P):(this[th].set(P.type,P),this[th].set(P.type.toLowerCase(),P))}getSVGClass(P){return this[N4].get(P)}setSVGClass(P,p){this[N4].set(p!=null?p:P.type.toLowerCase(),P)}},T5=new class extends Array{remove(P){let p=this.indexOf(P);p>-1&&this.splice(p,1)}cancelAll(){let P=this.splice(0);return P.forEach((p)=>p.abort()),P}cancelByCanvas(P){if(!P)return[];let p=this.filter((X)=>{var H;return X.target===P||typeof X.target=="object"&&((H=X.target)===null||H===void 0?void 0:H.canvas)===P});return p.forEach((X)=>X.abort()),p}cancelByTarget(P){if(!P)return[];let p=this.filter((X)=>X.target===P);return p.forEach((X)=>X.abort()),p}};class yb{constructor(){R(this,"__eventListeners",{})}on(P,p){if(this.__eventListeners||(this.__eventListeners={}),typeof P=="object")return Object.entries(P).forEach((X)=>{let[H,h]=X;this.on(H,h)}),()=>this.off(P);if(p){let X=P;return this.__eventListeners[X]||(this.__eventListeners[X]=[]),this.__eventListeners[X].push(p),()=>this.off(X,p)}return()=>!1}once(P,p){if(typeof P=="object"){let X=[];return Object.entries(P).forEach((H)=>{let[h,x]=H;X.push(this.once(h,x))}),()=>X.forEach((H)=>H())}if(p){let X=this.on(P,function(){for(var H=arguments.length,h=new Array(H),x=0;x<H;x++)h[x]=arguments[x];p.call(this,...h),X()});return X}return()=>!1}_removeEventListener(P,p){if(this.__eventListeners[P])if(p){let X=this.__eventListeners[P],H=X.indexOf(p);H>-1&&X.splice(H,1)}else this.__eventListeners[P]=[]}off(P,p){if(this.__eventListeners)if(P===void 0)for(let X in this.__eventListeners)this._removeEventListener(X);else typeof P=="object"?Object.entries(P).forEach((X)=>{let[H,h]=X;this._removeEventListener(H,h)}):this._removeEventListener(P,p)}fire(P,p){var X;if(!this.__eventListeners)return;let H=(X=this.__eventListeners[P])===null||X===void 0?void 0:X.concat();if(H)for(let h=0;h<H.length;h++)H[h].call(this,p||{})}}var I1=(P,p)=>{let X=P.indexOf(p);return X!==-1&&P.splice(X,1),P},D8=(P)=>{if(P===0)return 1;switch(Math.abs(P)/IH){case 1:case 3:return 0;case 2:return-1}return Math.cos(P)},$8=(P)=>{if(P===0)return 0;let p=P/IH,X=Math.sign(P);switch(p){case 1:return X;case 2:return 0;case 3:return-X}return Math.sin(P)};class l{constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof P=="object"?(this.x=P.x,this.y=P.y):(this.x=P,this.y=p)}add(P){return new l(this.x+P.x,this.y+P.y)}addEquals(P){return this.x+=P.x,this.y+=P.y,this}scalarAdd(P){return new l(this.x+P,this.y+P)}scalarAddEquals(P){return this.x+=P,this.y+=P,this}subtract(P){return new l(this.x-P.x,this.y-P.y)}subtractEquals(P){return this.x-=P.x,this.y-=P.y,this}scalarSubtract(P){return new l(this.x-P,this.y-P)}scalarSubtractEquals(P){return this.x-=P,this.y-=P,this}multiply(P){return new l(this.x*P.x,this.y*P.y)}scalarMultiply(P){return new l(this.x*P,this.y*P)}scalarMultiplyEquals(P){return this.x*=P,this.y*=P,this}divide(P){return new l(this.x/P.x,this.y/P.y)}scalarDivide(P){return new l(this.x/P,this.y/P)}scalarDivideEquals(P){return this.x/=P,this.y/=P,this}eq(P){return this.x===P.x&&this.y===P.y}lt(P){return this.x<P.x&&this.y<P.y}lte(P){return this.x<=P.x&&this.y<=P.y}gt(P){return this.x>P.x&&this.y>P.y}gte(P){return this.x>=P.x&&this.y>=P.y}lerp(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0.5;return p=Math.max(Math.min(1,p),0),new l(this.x+(P.x-this.x)*p,this.y+(P.y-this.y)*p)}distanceFrom(P){let p=this.x-P.x,X=this.y-P.y;return Math.sqrt(p*p+X*X)}midPointFrom(P){return this.lerp(P)}min(P){return new l(Math.min(this.x,P.x),Math.min(this.y,P.y))}max(P){return new l(Math.max(this.x,P.x),Math.max(this.y,P.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(P,p){return this.x=P,this.y=p,this}setX(P){return this.x=P,this}setY(P){return this.y=P,this}setFromPoint(P){return this.x=P.x,this.y=P.y,this}swap(P){let p=this.x,X=this.y;this.x=P.x,this.y=P.y,P.x=p,P.y=X}clone(){return new l(this.x,this.y)}rotate(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qL,X=$8(P),H=D8(P),h=this.subtract(p);return new l(h.x*H-h.y*X,h.x*X+h.y*H).add(p)}transform(P){let p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new l(P[0]*this.x+P[2]*this.y+(p?0:P[4]),P[1]*this.x+P[3]*this.y+(p?0:P[5]))}}var qL=new l(0,0),b5=(P)=>!!P&&Array.isArray(P._objects);function gb(P){class p extends P{constructor(){super(...arguments),R(this,"_objects",[])}_onObjectAdded(X){}_onObjectRemoved(X){}_onStackOrderChanged(X){}add(){for(var X=arguments.length,H=new Array(X),h=0;h<X;h++)H[h]=arguments[h];let x=this._objects.push(...H);return H.forEach((B)=>this._onObjectAdded(B)),x}insertAt(X){for(var H=arguments.length,h=new Array(H>1?H-1:0),x=1;x<H;x++)h[x-1]=arguments[x];return this._objects.splice(X,0,...h),h.forEach((B)=>this._onObjectAdded(B)),this._objects.length}remove(){let X=this._objects,H=[];for(var h=arguments.length,x=new Array(h),B=0;B<h;B++)x[B]=arguments[B];return x.forEach((A)=>{let $=X.indexOf(A);$!==-1&&(X.splice($,1),H.push(A),this._onObjectRemoved(A))}),H}forEachObject(X){this.getObjects().forEach((H,h,x)=>X(H,h,x))}getObjects(){for(var X=arguments.length,H=new Array(X),h=0;h<X;h++)H[h]=arguments[h];return H.length===0?[...this._objects]:this._objects.filter((x)=>x.isType(...H))}item(X){return this._objects[X]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(X,H){return!!this._objects.includes(X)||!!H&&this._objects.some((h)=>h instanceof p&&h.contains(X,!0))}complexity(){return this._objects.reduce((X,H)=>X+=H.complexity?H.complexity():0,0)}sendObjectToBack(X){return!(!X||X===this._objects[0])&&(I1(this._objects,X),this._objects.unshift(X),this._onStackOrderChanged(X),!0)}bringObjectToFront(X){return!(!X||X===this._objects[this._objects.length-1])&&(I1(this._objects,X),this._objects.push(X),this._onStackOrderChanged(X),!0)}sendObjectBackwards(X,H){if(!X)return!1;let h=this._objects.indexOf(X);if(h!==0){let x=this.findNewLowerIndex(X,h,H);return I1(this._objects,X),this._objects.splice(x,0,X),this._onStackOrderChanged(X),!0}return!1}bringObjectForward(X,H){if(!X)return!1;let h=this._objects.indexOf(X);if(h!==this._objects.length-1){let x=this.findNewUpperIndex(X,h,H);return I1(this._objects,X),this._objects.splice(x,0,X),this._onStackOrderChanged(X),!0}return!1}moveObjectTo(X,H){return X!==this._objects[H]&&(I1(this._objects,X),this._objects.splice(H,0,X),this._onStackOrderChanged(X),!0)}findNewLowerIndex(X,H,h){let x;if(h){x=H;for(let B=H-1;B>=0;--B)if(X.isOverlapping(this._objects[B])){x=B;break}}else x=H-1;return x}findNewUpperIndex(X,H,h){let x;if(h){x=H;for(let B=H+1;B<this._objects.length;++B)if(X.isOverlapping(this._objects[B])){x=B;break}}else x=H+1;return x}collectObjects(X){let{left:H,top:h,width:x,height:B}=X,{includeIntersecting:A=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=[],D=new l(H,h),Z=D.add(new l(x,B));for(let L=this._objects.length-1;L>=0;L--){let f=this._objects[L];f.selectable&&f.visible&&(A&&f.intersectsWithRect(D,Z)||f.isContainedWithinRect(D,Z)||A&&f.containsPoint(D)||A&&f.containsPoint(Z))&&$.push(f)}return $}}return p}class YL extends yb{_setOptions(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let p in P)this.set(p,P[p])}_setObject(P){for(let p in P)this._set(p,P[p])}set(P,p){return typeof P=="object"?this._setObject(P):this._set(P,p),this}_set(P,p){this[P]=p}toggle(P){let p=this.get(P);return typeof p=="boolean"&&this.set(P,!p),this}get(P){return this[P]}}function JB(P){return v5().requestAnimationFrame(P)}function _b(P){return v5().cancelAnimationFrame(P)}var eS=0,TH=()=>eS++,ap=()=>{let P=Tx().createElement("canvas");if(!P||P.getContext===void 0)throw new x8("Failed to create `canvas` element");return P},ub=()=>Tx().createElement("img"),Z8=(P)=>{let p=ap();return p.width=P.width,p.height=P.height,p},bL=(P,p,X)=>P.toDataURL("image/".concat(p),X),jL=(P,p,X)=>new Promise((H,h)=>{P.toBlob(H,"image/".concat(p),X)}),$P=(P)=>P*FL,MH=(P)=>P/FL,ib=(P)=>P.every((p,X)=>p===tP[X]),uP=(P,p,X)=>new l(P).transform(p,X),Tp=(P)=>{let p=1/(P[0]*P[3]-P[1]*P[2]),X=[p*P[3],-p*P[1],-p*P[2],p*P[0],0,0],{x:H,y:h}=new l(P[4],P[5]).transform(X,!0);return X[4]=-H,X[5]=-h,X},ZP=(P,p,X)=>[P[0]*p[0]+P[2]*p[1],P[1]*p[0]+P[3]*p[1],P[0]*p[2]+P[2]*p[3],P[1]*p[2]+P[3]*p[3],X?0:P[0]*p[4]+P[2]*p[5]+P[4],X?0:P[1]*p[4]+P[3]*p[5]+P[5]],d5=(P,p)=>P.reduceRight((X,H)=>H&&X?ZP(H,X,p):H||X,void 0)||tP.concat(),mb=(P)=>{let[p,X]=P;return Math.atan2(X,p)},bx=(P)=>{let p=mb(P),X=Math.pow(P[0],2)+Math.pow(P[1],2),H=Math.sqrt(X),h=(P[0]*P[3]-P[2]*P[1])/H,x=Math.atan2(P[0]*P[2]+P[1]*P[3],X);return{angle:MH(p),scaleX:H,scaleY:h,skewX:MH(x),skewY:0,translateX:P[4]||0,translateY:P[5]||0}},Ex=function(P){return[1,0,0,1,P,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function wx(){let{angle:P=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:p=0,y:X=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=$P(P),h=D8(H),x=$8(H);return[h,x,-x,h,p?p-(h*p-x*X):0,X?X-(x*p+h*X):0]}var l5=function(P){return[P,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:P,0,0]},ab=(P)=>Math.tan($P(P)),kL=(P)=>[1,0,ab(P),1,0,0],IL=(P)=>[1,ab(P),0,1,0,0],OB=(P)=>{let{scaleX:p=1,scaleY:X=1,flipX:H=!1,flipY:h=!1,skewX:x=0,skewY:B=0}=P,A=l5(H?-p:p,h?-X:X);return x&&(A=ZP(A,kL(x),!0)),B&&(A=ZP(A,IL(B),!0)),A},ob=(P)=>{let{translateX:p=0,translateY:X=0,angle:H=0}=P,h=Ex(p,X);H&&(h=ZP(h,wx({angle:H})));let x=OB(P);return ib(x)||(h=ZP(h,x)),h},KB=function(P){let{signal:p,crossOrigin:X=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(H,h){if(p&&p.aborted)return h(new fL("loadImage"));let x=ub(),B;p&&(B=function($){x.src="",h($)},p.addEventListener("abort",B,{once:!0}));let A=function(){x.onload=x.onerror=null,B&&(p==null||p.removeEventListener("abort",B)),H(x)};P?(x.onload=A,x.onerror=function(){B&&(p==null||p.removeEventListener("abort",B)),h(new x8("Error loading ".concat(x.src)))},X&&(x.crossOrigin=X),x.src=P):A()})},jx=function(P){let{signal:p,reviver:X=K1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((H,h)=>{let x=[];p&&p.addEventListener("abort",h,{once:!0}),Promise.all(P.map((B)=>L0.getClass(B.type).fromObject(B,{signal:p}).then((A)=>(X(B,A),x.push(A),A)))).then(H).catch((B)=>{x.forEach((A)=>{A.dispose&&A.dispose()}),h(B)}).finally(()=>{p&&p.removeEventListener("abort",h)})})},dB=function(P){let{signal:p}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((X,H)=>{let h=[];p&&p.addEventListener("abort",H,{once:!0});let x=Object.values(P).map((A)=>A&&A.type&&L0.has(A.type)?jx([A],{signal:p}).then(($)=>{let[D]=$;return h.push(D),D}):A),B=Object.keys(P);Promise.all(x).then((A)=>A.reduce(($,D,Z)=>($[B[Z]]=D,$),{})).then(X).catch((A)=>{h.forEach(($)=>{$.dispose&&$.dispose()}),H(A)}).finally(()=>{p&&p.removeEventListener("abort",H)})})},S1=function(P){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((p,X)=>((X in P)&&(p[X]=P[X]),p),{})},TL=(P,p)=>Object.keys(P).reduce((X,H)=>(p(P[H],H,P)&&(X[H]=P[H]),X),{}),Bb={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},v4=(P,p,X)=>(X<0&&(X+=1),X>1&&(X-=1),X<0.16666666666666666?P+6*(p-P)*X:X<0.5?p:X<0.6666666666666666?P+(p-P)*(0.6666666666666666-X)*6:P),Ab=(P,p,X,H)=>{P/=255,p/=255,X/=255;let h=Math.max(P,p,X),x=Math.min(P,p,X),B,A,$=(h+x)/2;if(h===x)B=A=0;else{let D=h-x;switch(A=$>0.5?D/(2-h-x):D/(h+x),h){case P:B=(p-X)/D+(p<X?6:0);break;case p:B=(X-P)/D+2;break;case X:B=(P-p)/D+4}B/=6}return[Math.round(360*B),Math.round(100*A),Math.round(100*$),H]},Db=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(P)/(P.endsWith("%")?100:1)},f5=(P)=>Math.min(Math.round(P),255).toString(16).toUpperCase().padStart(2,"0"),$b=(P)=>{let[p,X,H,h=1]=P,x=Math.round(0.3*p+0.59*X+0.11*H);return[x,x,x,h]};class v0{constructor(P){if(R(this,"isUnrecognised",!1),P)if(P instanceof v0)this.setSource([...P._source]);else if(Array.isArray(P)){let[p,X,H,h=1]=P;this.setSource([p,X,H,h])}else this.setSource(this._tryParsingColor(P));else this.setSource([0,0,0,1])}_tryParsingColor(P){return(P=P.toLowerCase())in Bb&&(P=Bb[P]),P==="transparent"?[255,255,255,0]:v0.sourceFromHex(P)||v0.sourceFromRgb(P)||v0.sourceFromHsl(P)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(P){this._source=P}toRgb(){let[P,p,X]=this.getSource();return"rgb(".concat(P,",").concat(p,",").concat(X,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){let[P,p,X]=Ab(...this.getSource());return"hsl(".concat(P,",").concat(p,"%,").concat(X,"%)")}toHsla(){let[P,p,X,H]=Ab(...this.getSource());return"hsla(".concat(P,",").concat(p,"%,").concat(X,"%,").concat(H,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){let[P,p,X,H]=this.getSource();return"".concat(f5(P)).concat(f5(p)).concat(f5(X)).concat(f5(Math.round(255*H)))}getAlpha(){return this.getSource()[3]}setAlpha(P){return this._source[3]=P,this}toGrayscale(){return this.setSource($b(this.getSource())),this}toBlackWhite(P){let[p,,,X]=$b(this.getSource()),H=p<(P||127)?0:255;return this.setSource([H,H,H,X]),this}overlayWith(P){P instanceof v0||(P=new v0(P));let p=this.getSource(),X=P.getSource(),[H,h,x]=p.map((B,A)=>Math.round(0.5*B+0.5*X[A]));return this.setSource([H,h,x,p[3]]),this}static fromRgb(P){return v0.fromRgba(P)}static fromRgba(P){return new v0(v0.sourceFromRgb(P))}static sourceFromRgb(P){let p=P.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(p){let[X,H,h]=p.slice(1,4).map((x)=>{let B=parseFloat(x);return x.endsWith("%")?Math.round(2.55*B):B});return[X,H,h,Db(p[4])]}}static fromHsl(P){return v0.fromHsla(P)}static fromHsla(P){return new v0(v0.sourceFromHsl(P))}static sourceFromHsl(P){let p=P.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!p)return;let X=(v0.parseAngletoDegrees(p[1])%360+360)%360/360,H=parseFloat(p[2])/100,h=parseFloat(p[3])/100,x,B,A;if(H===0)x=B=A=h;else{let $=h<=0.5?h*(H+1):h+H-h*H,D=2*h-$;x=v4(D,$,X+0.3333333333333333),B=v4(D,$,X),A=v4(D,$,X-0.3333333333333333)}return[Math.round(255*x),Math.round(255*B),Math.round(255*A),Db(p[4])]}static fromHex(P){return new v0(v0.sourceFromHex(P))}static sourceFromHex(P){if(P.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){let p=P.slice(P.indexOf("#")+1),X;X=p.length<=4?p.split("").map((A)=>A+A):p.match(/.{2}/g);let[H,h,x,B=255]=X.map((A)=>parseInt(A,16));return[H,h,x,B/255]}}static parseAngletoDegrees(P){let p=P.toLowerCase(),X=parseFloat(p);return p.includes("rad")?MH(X):p.includes("turn")?360*X:X}}var s0=(P,p)=>parseFloat(Number(P).toFixed(p)),R1=function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CL,X=/\D{0,2}$/.exec(P),H=parseFloat(P),h=R0.DPI;switch(X==null?void 0:X[0]){case"mm":return H*h/25.4;case"cm":return H*h/2.54;case"in":return H*h;case"pt":return H*h/72;case"pc":return H*h/72*12;case"em":return H*p;default:return H}},rb=(P)=>{let[p,X]=P.trim().split(" "),[H,h]=(x=p)&&x!==$p?[x.slice(1,4),x.slice(5,8)]:x===$p?[x,x]:["Mid","Mid"];var x;return{meetOrSlice:X||"meet",alignX:H,alignY:h}},NB=(P)=>"matrix("+P.map((p)=>s0(p,R0.NUM_FRACTION_DIGITS)).join(" ")+")",vB=function(P,p){let X,H,h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(p)if(p.toLive)X="url(#SVGID_".concat(p.id,")");else{let x=new v0(p),B=x.getAlpha();X=x.toRgb(),B!==1&&(H=B.toString())}else X="none";return h?"".concat(P,": ").concat(X,"; ").concat(H?"".concat(P,"-opacity: ").concat(H,"; "):""):"".concat(P,'="').concat(X,'" ').concat(H?"".concat(P,'-opacity="').concat(H,'" '):"")},mp=(P)=>!!P&&P.toLive!==void 0,Zb=(P)=>!!P&&typeof P.toObject=="function",Lb=(P)=>!!P&&P.offsetX!==void 0&&("source"in P),T1=(P)=>!!P&&("multiSelectionStacking"in P);function nb(P){let p=P&&h8(P),X=0,H=0;if(!P||!p)return{left:X,top:H};let h=P,x=p.documentElement,B=p.body||{scrollLeft:0,scrollTop:0};for(;h&&(h.parentNode||h.host)&&(h=h.parentNode||h.host,h===p?(X=B.scrollLeft||x.scrollLeft||0,H=B.scrollTop||x.scrollTop||0):(X+=h.scrollLeft||0,H+=h.scrollTop||0),h.nodeType!==1||h.style.position!=="fixed"););return{left:X,top:H}}var h8=(P)=>P.ownerDocument||null,sb=(P)=>{var p;return((p=P.ownerDocument)===null||p===void 0?void 0:p.defaultView)||null},tb=function(P,p,X){let{width:H,height:h}=X,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;P.width=H,P.height=h,x>1&&(P.setAttribute("width",(H*x).toString()),P.setAttribute("height",(h*x).toString()),p.scale(x,x))},n4=(P,p)=>{let{width:X,height:H}=p;X&&(P.style.width=typeof X=="number"?"".concat(X,"px"):X),H&&(P.style.height=typeof H=="number"?"".concat(H,"px"):H)};function fb(P){return P.onselectstart!==void 0&&(P.onselectstart=()=>!1),P.style.userSelect=$p,P}class ML{constructor(P){R(this,"_originalCanvasStyle",void 0),R(this,"lower",void 0);let p=this.createLowerCanvas(P);this.lower={el:p,ctx:p.getContext("2d")}}createLowerCanvas(P){let p=(X=P)&&X.getContext!==void 0?P:P&&Tx().getElementById(P)||ap();var X;if(p.hasAttribute("data-fabric"))throw new x8("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=p.style.cssText,p.setAttribute("data-fabric","main"),p.classList.add("lower-canvas"),p}cleanupDOM(P){let{width:p,height:X}=P,{el:H}=this.lower;H.classList.remove("lower-canvas"),H.removeAttribute("data-fabric"),H.setAttribute("width","".concat(p)),H.setAttribute("height","".concat(X)),H.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(P,p){let{el:X,ctx:H}=this.lower;tb(X,H,P,p)}setCSSDimensions(P){n4(this.lower.el,P)}calcOffset(){return function(P){var p;let X=P&&h8(P),H={left:0,top:0};if(!X)return H;let h=((p=sb(P))===null||p===void 0?void 0:p.getComputedStyle(P,null))||{};H.left+=parseInt(h.borderLeftWidth,10)||0,H.top+=parseInt(h.borderTopWidth,10)||0,H.left+=parseInt(h.paddingLeft,10)||0,H.top+=parseInt(h.paddingTop,10)||0;let x={left:0,top:0},B=X.documentElement;P.getBoundingClientRect!==void 0&&(x=P.getBoundingClientRect());let A=nb(P);return{left:x.left+A.left-(B.clientLeft||0)+H.left,top:x.top+A.top-(B.clientTop||0)+H.top}}(this.lower.el)}dispose(){c8().dispose(this.lower.el),delete this.lower}}var PG={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...tP]};class lB extends gb(YL){get lowerCanvasEl(){var P;return(P=this.elements.lower)===null||P===void 0?void 0:P.el}get contextContainer(){var P;return(P=this.elements.lower)===null||P===void 0?void 0:P.ctx}static getDefaults(){return lB.ownDefaults}constructor(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(p),this.initElements(P),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(P){this.elements=new ML(P)}add(){let P=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),P}insertAt(P){for(var p=arguments.length,X=new Array(p>1?p-1:0),H=1;H<p;H++)X[H-1]=arguments[H];let h=super.insertAt(P,...X);return X.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),h}remove(){let P=super.remove(...arguments);return P.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),P}_onObjectAdded(P){P.canvas&&P.canvas!==this&&(kH("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),P.canvas.remove(P)),P._set("canvas",this),P.setCoords(),this.fire("object:added",{target:P}),P.fire("added",{target:this})}_onObjectRemoved(P){P._set("canvas",void 0),this.fire("object:removed",{target:P}),P.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?vb():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(P,p){return this.setDimensions({width:P},p)}setHeight(P,p){return this.setDimensions({height:P},p)}_setDimensionsImpl(P){let{cssOnly:p=!1,backstoreOnly:X=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!p){let H=K({width:this.width,height:this.height},P);this.elements.setDimensions(H,this.getRetinaScaling()),this.hasLostContext=!0,this.width=H.width,this.height=H.height}X||this.elements.setCSSDimensions(P),this.calcOffset()}setDimensions(P,p){this._setDimensionsImpl(P,p),p&&p.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(P){this.viewportTransform=P,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(P,p){let X=P,H=[...this.viewportTransform],h=uP(P,Tp(H));H[0]=p,H[3]=p;let x=uP(h,H);H[4]+=X.x-x.x,H[5]+=X.y-x.y,this.setViewportTransform(H)}setZoom(P){this.zoomToPoint(new l(0,0),P)}absolutePan(P){let p=[...this.viewportTransform];return p[4]=-P.x,p[5]=-P.y,this.setViewportTransform(p)}relativePan(P){return this.absolutePan(new l(-P.x-this.viewportTransform[4],-P.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(P){P.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=JB(()=>this.renderAndReset()))}calcViewportBoundaries(){let P=this.width,p=this.height,X=Tp(this.viewportTransform),H=uP({x:0,y:0},X),h=uP({x:P,y:p},X),x=H.min(h),B=H.max(h);return this.vptCoords={tl:x,tr:new l(B.x,x.y),bl:new l(x.x,B.y),br:B}}cancelRequestedRender(){this.nextRenderHandle&&(_b(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(P){}renderCanvas(P,p){if(this.destroyed)return;let X=this.viewportTransform,H=this.clipPath;this.calcViewportBoundaries(),this.clearContext(P),P.imageSmoothingEnabled=this.imageSmoothingEnabled,P.patternQuality="best",this.fire("before:render",{ctx:P}),this._renderBackground(P),P.save(),P.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this._renderObjects(P,p),P.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(P),H&&(H._set("canvas",this),H.shouldCache(),H._transformDone=!0,H.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(P,H)),this._renderOverlay(P),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(P),this.fire("after:render",{ctx:P}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(P,p){let X=this.viewportTransform;P.save(),P.transform(...X),P.globalCompositeOperation="destination-in",p.transform(P),P.scale(1/p.zoomX,1/p.zoomY),P.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),P.restore()}_renderObjects(P,p){for(let X=0,H=p.length;X<H;++X)p[X]&&p[X].render(P)}_renderBackgroundOrOverlay(P,p){let X=this["".concat(p,"Color")],H=this["".concat(p,"Image")],h=this.viewportTransform,x=this["".concat(p,"Vpt")];if(!X&&!H)return;let B=mp(X);if(X){if(P.save(),P.beginPath(),P.moveTo(0,0),P.lineTo(this.width,0),P.lineTo(this.width,this.height),P.lineTo(0,this.height),P.closePath(),P.fillStyle=B?X.toLive(P):X,x&&P.transform(...h),B){P.transform(1,0,0,1,X.offsetX||0,X.offsetY||0);let A=X.gradientTransform||X.patternTransform;A&&P.transform(...A)}P.fill(),P.restore()}if(H){P.save();let{skipOffscreen:A}=this;this.skipOffscreen=x,x&&P.transform(...h),H.render(P),this.skipOffscreen=A,P.restore()}}_renderBackground(P){this._renderBackgroundOrOverlay(P,"background")}_renderOverlay(P){this._renderBackgroundOrOverlay(P,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new l(this.width/2,this.height/2)}centerObjectH(P){return this._centerObject(P,new l(this.getCenterPoint().x,P.getCenterPoint().y))}centerObjectV(P){return this._centerObject(P,new l(P.getCenterPoint().x,this.getCenterPoint().y))}centerObject(P){return this._centerObject(P,this.getCenterPoint())}viewportCenterObject(P){return this._centerObject(P,this.getVpCenter())}viewportCenterObjectH(P){return this._centerObject(P,new l(this.getVpCenter().x,P.getCenterPoint().y))}viewportCenterObjectV(P){return this._centerObject(P,new l(P.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return uP(this.getCenterPoint(),Tp(this.viewportTransform))}_centerObject(P,p){P.setXY(p,T0,T0),P.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(P){return this.toDatalessObject(P)}toObject(P){return this._toObjectMethod("toObject",P)}toJSON(){return this.toObject()}toDatalessObject(P){return this._toObjectMethod("toDatalessObject",P)}_toObjectMethod(P,p){let X=this.clipPath,H=X&&!X.excludeFromExport?this._toObject(X,P,p):null;return K(K(K({version:o4},S1(this,p)),{},{objects:this._objects.filter((h)=>!h.excludeFromExport).map((h)=>this._toObject(h,P,p))},this.__serializeBgOverlay(P,p)),H?{clipPath:H}:null)}_toObject(P,p,X){let H;this.includeDefaultValues||(H=P.includeDefaultValues,P.includeDefaultValues=!1);let h=P[p](X);return this.includeDefaultValues||(P.includeDefaultValues=!!H),h}__serializeBgOverlay(P,p){let X={},H=this.backgroundImage,h=this.overlayImage,x=this.backgroundColor,B=this.overlayColor;return mp(x)?x.excludeFromExport||(X.background=x.toObject(p)):x&&(X.background=x),mp(B)?B.excludeFromExport||(X.overlay=B.toObject(p)):B&&(X.overlay=B),H&&!H.excludeFromExport&&(X.backgroundImage=this._toObject(H,P,p)),h&&!h.excludeFromExport&&(X.overlayImage=this._toObject(h,P,p)),X}toSVG(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0;P.reviver=p;let X=[];return this._setSVGPreamble(X,P),this._setSVGHeader(X,P),this.clipPath&&X.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(X,"background"),this._setSVGBgOverlayImage(X,"backgroundImage",p),this._setSVGObjects(X,p),this.clipPath&&X.push(`</g>
`),this._setSVGBgOverlayColor(X,"overlay"),this._setSVGBgOverlayImage(X,"overlayImage",p),X.push("</svg>"),X.join("")}_setSVGPreamble(P,p){p.suppressPreamble||P.push('<?xml version="1.0" encoding="',p.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(P,p){let X=p.width||"".concat(this.width),H=p.height||"".concat(this.height),h=R0.NUM_FRACTION_DIGITS,x=p.viewBox,B;if(x)B='viewBox="'.concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height,'" ');else if(this.svgViewportTransformation){let A=this.viewportTransform;B='viewBox="'.concat(s0(-A[4]/A[0],h)," ").concat(s0(-A[5]/A[3],h)," ").concat(s0(this.width/A[0],h)," ").concat(s0(this.height/A[3],h),'" ')}else B='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');P.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',X,'" ','height="',H,'" ',B,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",o4,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(p),`</defs>
`)}createSVGClipPathMarkup(P){let p=this.clipPath;return p?(p.clipPathId="CLIPPATH_".concat(TH()),'<clipPath id="'.concat(p.clipPathId,`" >
`).concat(p.toClipPathSVG(P.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map((P)=>{let p=this["".concat(P,"Color")];if(mp(p)){let X=this["".concat(P,"Vpt")],H=this.viewportTransform,h={isType:()=>!1,width:this.width/(X?H[0]:1),height:this.height/(X?H[3]:1)};return p.toSVG(h,{additionalTransform:X?NB(H):""})}}).join("")}createSVGFontFacesMarkup(){let P=[],p={},X=R0.fontPaths;this._objects.forEach(function h(x){P.push(x),b5(x)&&x._objects.forEach(h)}),P.forEach((h)=>{if(!(x=h)||typeof x._renderText!="function")return;var x;let{styles:B,fontFamily:A}=h;!p[A]&&X[A]&&(p[A]=!0,B&&Object.values(B).forEach(($)=>{Object.values($).forEach((D)=>{let{fontFamily:Z=""}=D;!p[Z]&&X[Z]&&(p[Z]=!0)})}))});let H=Object.keys(p).map((h)=>`		@font-face {
			font-family: '`.concat(h,`';
			src: url('`).concat(X[h],`');
		}
`)).join("");return H?`	<style type="text/css"><![CDATA[
`.concat(H,`]]></style>
`):""}_setSVGObjects(P,p){this.forEachObject((X)=>{X.excludeFromExport||this._setSVGObject(P,X,p)})}_setSVGObject(P,p,X){P.push(p.toSVG(X))}_setSVGBgOverlayImage(P,p,X){let H=this[p];H&&!H.excludeFromExport&&H.toSVG&&P.push(H.toSVG(X))}_setSVGBgOverlayColor(P,p){let X=this["".concat(p,"Color")];if(X)if(mp(X)){let H=X.repeat||"",h=this.width,x=this.height,B=this["".concat(p,"Vpt")]?NB(Tp(this.viewportTransform)):"";P.push('<rect transform="'.concat(B," translate(").concat(h/2,",").concat(x/2,')" x="').concat(X.offsetX-h/2,'" y="').concat(X.offsetY-x/2,'" width="').concat(H!=="repeat-y"&&H!=="no-repeat"||!Lb(X)?h:X.source.width,'" height="').concat(H!=="repeat-x"&&H!=="no-repeat"||!Lb(X)?x:X.source.height,'" fill="url(#SVGID_').concat(X.id,`)"></rect>
`))}else P.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',X,'"',`></rect>
`)}loadFromJSON(P,p){let{signal:X}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!P)return Promise.reject(new x8("`json` is undefined"));let H=typeof P=="string"?JSON.parse(P):P,{objects:h=[],backgroundImage:x,background:B,overlayImage:A,overlay:$,clipPath:D}=H,Z=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([jx(h,{reviver:p,signal:X}),dB({backgroundImage:x,backgroundColor:B,overlayImage:A,overlayColor:$,clipPath:D},{signal:X})]).then((L)=>{let[f,F]=L;return this.clear(),this.add(...f),this.set(H),this.set(F),this.renderOnAddRemove=Z,this})}clone(P){let p=this.toObject(P);return this.cloneWithoutData().loadFromJSON(p)}cloneWithoutData(){let P=Z8(this);return new this.constructor(P)}toDataURL(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:p="png",quality:X=1,multiplier:H=1,enableRetinaScaling:h=!1}=P,x=H*(h?this.getRetinaScaling():1);return bL(this.toCanvasElement(x,P),p,X)}toBlob(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:p="png",quality:X=1,multiplier:H=1,enableRetinaScaling:h=!1}=P,x=H*(h?this.getRetinaScaling():1);return jL(this.toCanvasElement(x,P),p,X)}toCanvasElement(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:p,height:X,left:H,top:h,filter:x}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=(p||this.width)*P,A=(X||this.height)*P,$=this.getZoom(),D=this.width,Z=this.height,L=this.skipControlsDrawing,f=$*P,F=this.viewportTransform,q=[f,0,0,f,(F[4]-(H||0))*P,(F[5]-(h||0))*P],b=this.enableRetinaScaling,j=Z8({width:B,height:A}),Q=x?this._objects.filter((C)=>x(C)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=q,this.width=B,this.height=A,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(j.getContext("2d"),Q),this.viewportTransform=F,this.width=D,this.height=Z,this.calcViewportBoundaries(),this.enableRetinaScaling=b,this.skipControlsDrawing=L,j}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),T5.cancelByCanvas(this),this.disposed=!0,new Promise((P,p)=>{let X=()=>{this.destroy(),P(!0)};X.kill=p,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?P(!1):this.nextRenderHandle?this.__cleanupTask=X:X()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((P)=>P.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}R(lB,"ownDefaults",PG);var pG=["touchstart","touchmove","touchend"],eb=(P)=>{let p=nb(P.target),X=function(H){let h=H.changedTouches;return h&&h[0]?h[0]:H}(P);return new l(X.clientX+p.left,X.clientY+p.top)},M5=(P)=>pG.includes(P.type)||P.pointerType==="touch",s4=(P)=>{P.preventDefault(),P.stopPropagation()},v8=(P)=>{let p=0,X=0,H=0,h=0;for(let x=0,B=P.length;x<B;x++){let{x:A,y:$}=P[x];(A>H||!x)&&(H=A),(A<p||!x)&&(p=A),($>h||!x)&&(h=$),($<X||!x)&&(X=$)}return{left:p,top:X,width:H-p,height:h-X}},XG=["translateX","translateY","scaleX","scaleY"],Pj=(P,p)=>kx(P,ZP(p,P.calcOwnMatrix())),kx=(P,p)=>{let X=bx(p),{translateX:H,translateY:h,scaleX:x,scaleY:B}=X,A=t0(X,XG),$=new l(H,h);P.flipX=!1,P.flipY=!1,Object.assign(P,A),P.set({scaleX:x,scaleY:B}),P.setPositionByOrigin($,T0,T0)},pj=(P)=>{P.scaleX=1,P.scaleY=1,P.skewX=0,P.skewY=0,P.flipX=!1,P.flipY=!1,P.rotate(0)},WL=(P)=>({scaleX:P.scaleX,scaleY:P.scaleY,skewX:P.skewX,skewY:P.skewY,angle:P.angle,left:P.left,flipX:P.flipX,flipY:P.flipY,top:P.top}),y5=(P,p,X)=>{let H=P/2,h=p/2,x=[new l(-H,-h),new l(H,-h),new l(-H,h),new l(H,h)].map((A)=>A.transform(X)),B=v8(x);return new l(B.width,B.height)},yB=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tP;return ZP(Tp(arguments.length>1&&arguments[1]!==void 0?arguments[1]:tP),P)},kX=function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tP,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tP;return P.transform(yB(p,X))},Xj=function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tP,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tP;return P.transform(yB(p,X),!0)},t4=(P,p,X)=>{let H=yB(p,X);return kx(P,ZP(H,P.calcOwnMatrix())),H},EL=(P,p)=>{var X;let{transform:{target:H}}=p;(X=H.canvas)===null||X===void 0||X.fire("object:".concat(P),K(K({},p),{},{target:H})),H.fire(P,p)},HG={left:-0.5,top:-0.5,center:0,bottom:0.5,right:0.5},YP=(P)=>typeof P=="string"?HG[P]:P-0.5,W5="not-allowed";function Hj(P){return YP(P.originX)===YP(T0)&&YP(P.originY)===YP(T0)}function Fb(P){return 0.5-YP(P)}var A8=(P,p)=>P[p],wL=(P,p,X,H)=>({e:P,transform:p,pointer:new l(X,H)});function hj(P,p){let X=P.getTotalAngle()+MH(Math.atan2(p.y,p.x))+360;return Math.round(X%360/45)}function g5(P,p,X,H,h){var x;let{target:B,corner:A}=P,$=B.controls[A],D=((x=B.canvas)===null||x===void 0?void 0:x.getZoom())||1,Z=B.padding/D,L=function(f,F,q,b){let j=f.getRelativeCenterPoint(),Q=q!==void 0&&b!==void 0?f.translateToGivenOrigin(j,T0,T0,q,b):new l(f.left,f.top);return(f.angle?F.rotate(-$P(f.angle),j):F).subtract(Q)}(B,new l(H,h),p,X);return L.x>=Z&&(L.x-=Z),L.x<=-Z&&(L.x+=Z),L.y>=Z&&(L.y-=Z),L.y<=Z&&(L.y+=Z),L.x-=$.offsetX,L.y-=$.offsetY,L}var xj=(P,p,X,H)=>{let{target:h,offsetX:x,offsetY:B}=p,A=X-x,$=H-B,D=!A8(h,"lockMovementX")&&h.left!==A,Z=!A8(h,"lockMovementY")&&h.top!==$;return D&&h.set(N0,A),Z&&h.set(Dp,$),(D||Z)&&EL(cb,wL(P,p,X,H)),D||Z};class zL{getSvgStyles(P){let p=this.fillRule?this.fillRule:"nonzero",X=this.strokeWidth?this.strokeWidth:"0",H=this.strokeDashArray?this.strokeDashArray.join(" "):$p,h=this.strokeDashOffset?this.strokeDashOffset:"0",x=this.strokeLineCap?this.strokeLineCap:"butt",B=this.strokeLineJoin?this.strokeLineJoin:"miter",A=this.strokeMiterLimit?this.strokeMiterLimit:"4",$=this.opacity!==void 0?this.opacity:"1",D=this.visible?"":" visibility: hidden;",Z=P?"":this.getSvgFilter(),L=vB(WP,this.fill);return[vB(Zp,this.stroke),"stroke-width: ",X,"; ","stroke-dasharray: ",H,"; ","stroke-linecap: ",x,"; ","stroke-dashoffset: ",h,"; ","stroke-linejoin: ",B,"; ","stroke-miterlimit: ",A,"; ",L,"fill-rule: ",p,"; ","opacity: ",$,";",Z,D].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",X=P?this.calcTransformMatrix():this.calcOwnMatrix(),H='transform="'.concat(NB(X));return"".concat(H).concat(p,'" ')}_toSVG(P){return[""]}toSVG(P){return this._createBaseSVGMarkup(this._toSVG(P),{reviver:P})}toClipPathSVG(P){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(P),{reviver:P})}_createBaseClipPathSVGMarkup(P){let{reviver:p,additionalTransform:X=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=[this.getSvgTransform(!0,X),this.getSvgCommons()].join(""),h=P.indexOf("COMMON_PARTS");return P[h]=H,p?p(P.join("")):P.join("")}_createBaseSVGMarkup(P){let{noStyle:p,reviver:X,withShadow:H,additionalTransform:h}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=p?"":'style="'.concat(this.getSvgStyles(),'" '),B=H?'style="'.concat(this.getSvgFilter(),'" '):"",A=this.clipPath,$=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",D=A&&A.absolutePositioned,Z=this.stroke,L=this.fill,f=this.shadow,F=[],q=P.indexOf("COMMON_PARTS"),b;A&&(A.clipPathId="CLIPPATH_".concat(TH()),b='<clipPath id="'.concat(A.clipPathId,`" >
`).concat(A.toClipPathSVG(X),`</clipPath>
`)),D&&F.push("<g ",B,this.getSvgCommons(),` >
`),F.push("<g ",this.getSvgTransform(!1),D?"":B+this.getSvgCommons(),` >
`);let j=[x,$,p?"":this.addPaintOrder()," ",h?'transform="'.concat(h,'" '):""].join("");return P[q]=j,mp(L)&&F.push(L.toSVG(this)),mp(Z)&&F.push(Z.toSVG(this)),f&&F.push(f.toSVG(this)),A&&F.push(b),F.push(P.join("")),F.push(`</g>
`),D&&F.push(`</g>
`),X?X(F.join("")):F.join("")}addPaintOrder(){return this.paintFirst!==WP?' paint-order="'.concat(this.paintFirst,'" '):""}}function _5(P){return new RegExp("^("+P.join("|")+")\\b","i")}var Cb,B8=String.raw(Cb||(Cb=WH(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"])));var hG=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+B8+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+B8+"))?\\s+(.*)"),xG={cx:N0,x:N0,r:"radius",cy:Dp,y:Dp,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},c4="font-size",O4="clip-path",oO=_5(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),rO=_5(["symbol","image","marker","pattern","view","svg"]),Qb=_5(["symbol","g","a","svg","clipPath","defs"]),nO=new RegExp("^\\s*("+B8+"+)\\s*,?\\s*("+B8+"+)\\s*,?\\s*("+B8+"+)\\s*,?\\s*("+B8+"+)\\s*$"),BG=new l(1,0),Bj=new l,JL=(P,p)=>P.rotate(p),E5=(P,p)=>new l(p).subtract(P),w5=(P)=>P.distanceFrom(Bj),z5=(P,p)=>Math.atan2(qx(P,p),Dj(P,p)),Aj=(P)=>z5(BG,P),u5=(P)=>P.eq(Bj)?P:P.scalarDivide(w5(P)),KL=function(P){let p=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return u5(new l(-P.y,P.x).scalarMultiply(p?1:-1))},qx=(P,p)=>P.x*p.y-P.y*p.x,Dj=(P,p)=>P.x*p.x+P.y*p.y,e4=(P,p,X)=>{if(P.eq(p)||P.eq(X))return!0;let H=qx(p,X),h=qx(p,P),x=qx(X,P);return H>=0?h>=0&&x<=0:!(h<=0&&x>=0)},Vb="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",qb=new RegExp("(?:\\s|^)"+Vb+Vb+"("+B8+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class IX{constructor(P){let p=typeof P=="string"?IX.parseShadow(P):P;Object.assign(this,IX.ownDefaults,p),this.id=TH()}static parseShadow(P){let p=P.trim(),[,X=0,H=0,h=0]=(qb.exec(p)||[]).map((x)=>parseFloat(x)||0);return{color:(p.replace(qb,"")||"rgb(0,0,0)").trim(),offsetX:X,offsetY:H,blur:h}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(P){let p=JL(new l(this.offsetX,this.offsetY),$P(-P.angle)),X=new v0(this.color),H=40,h=40;return P.width&&P.height&&(H=100*s0((Math.abs(p.x)+this.blur)/P.width,R0.NUM_FRACTION_DIGITS)+20,h=100*s0((Math.abs(p.y)+this.blur)/P.height,R0.NUM_FRACTION_DIGITS)+20),P.flipX&&(p.x*=-1),P.flipY&&(p.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(h,'%" height="').concat(100+2*h,'%" x="-').concat(H,'%" width="').concat(100+2*H,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(s0(this.blur?this.blur/2:0,R0.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(s0(p.x,R0.NUM_FRACTION_DIGITS),'" dy="').concat(s0(p.y,R0.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(X.toRgb(),'" flood-opacity="').concat(X.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){let P={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},p=IX.ownDefaults;return this.includeDefaultValues?P:TL(P,(X,H)=>X!==p[H])}static async fromObject(P){return new this(P)}}R(IX,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),R(IX,"type","shadow"),L0.setClass(IX,"shadow");var U1=(P,p,X)=>Math.max(P,Math.min(p,X)),AG=[Dp,N0,eP,Mp,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Mx,Wx],EX=[WP,Zp,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],DG={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:N0,originY:Dp,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:WP,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},d4=(P,p,X,H)=>(P<Math.abs(p)?(P=p,H=X/4):H=p===0&&P===0?X/MX*Math.asin(1):X/MX*Math.asin(p/P),{a:P,c:p,p:X,s:H}),Yb=(P,p,X,H,h)=>P*Math.pow(2,10*(H-=1))*Math.sin((H*h-p)*MX/X),$j=(P,p,X,H)=>-X*Math.cos(P/H*IH)+X+p,PL=(P,p,X,H)=>(P/=H)<0.36363636363636365?X*(7.5625*P*P)+p:P<0.7272727272727273?X*(7.5625*(P-=0.5454545454545454)*P+0.75)+p:P<0.9090909090909091?X*(7.5625*(P-=0.8181818181818182)*P+0.9375)+p:X*(7.5625*(P-=0.9545454545454546)*P+0.984375)+p,bb=(P,p,X,H)=>X-PL(H-P,0,X,H)+p,$G=Object.freeze({__proto__:null,defaultEasing:$j,easeInBack:function(P,p,X,H){let h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return X*(P/=H)*P*((h+1)*P-h)+p},easeInBounce:bb,easeInCirc:(P,p,X,H)=>-X*(Math.sqrt(1-(P/=H)*P)-1)+p,easeInCubic:(P,p,X,H)=>X*(P/H)**3+p,easeInElastic:(P,p,X,H)=>{let h=X,x=0;if(P===0)return p;if((P/=H)===1)return p+X;x||(x=0.3*H);let{a:B,s:A,p:$}=d4(h,X,x,1.70158);return-Yb(B,A,$,P,H)+p},easeInExpo:(P,p,X,H)=>P===0?p:X*2**(10*(P/H-1))+p,easeInOutBack:function(P,p,X,H){let h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(P/=H/2)<1?X/2*(P*P*((1+(h*=1.525))*P-h))+p:X/2*((P-=2)*P*((1+(h*=1.525))*P+h)+2)+p},easeInOutBounce:(P,p,X,H)=>P<H/2?0.5*bb(2*P,0,X,H)+p:0.5*PL(2*P-H,0,X,H)+0.5*X+p,easeInOutCirc:(P,p,X,H)=>(P/=H/2)<1?-X/2*(Math.sqrt(1-P**2)-1)+p:X/2*(Math.sqrt(1-(P-=2)*P)+1)+p,easeInOutCubic:(P,p,X,H)=>(P/=H/2)<1?X/2*P**3+p:X/2*((P-2)**3+2)+p,easeInOutElastic:(P,p,X,H)=>{let h=X,x=0;if(P===0)return p;if((P/=H/2)===2)return p+X;x||(x=H*0.44999999999999996);let{a:B,s:A,p:$,c:D}=d4(h,X,x,1.70158);return P<1?-0.5*Yb(B,A,$,P,H)+p:B*Math.pow(2,-10*(P-=1))*Math.sin((P*H-A)*MX/$)*0.5+D+p},easeInOutExpo:(P,p,X,H)=>P===0?p:P===H?p+X:(P/=H/2)<1?X/2*2**(10*(P-1))+p:X/2*-(2**(-10*--P)+2)+p,easeInOutQuad:(P,p,X,H)=>(P/=H/2)<1?X/2*P**2+p:-X/2*(--P*(P-2)-1)+p,easeInOutQuart:(P,p,X,H)=>(P/=H/2)<1?X/2*P**4+p:-X/2*((P-=2)*P**3-2)+p,easeInOutQuint:(P,p,X,H)=>(P/=H/2)<1?X/2*P**5+p:X/2*((P-2)**5+2)+p,easeInOutSine:(P,p,X,H)=>-X/2*(Math.cos(Math.PI*P/H)-1)+p,easeInQuad:(P,p,X,H)=>X*(P/=H)*P+p,easeInQuart:(P,p,X,H)=>X*(P/=H)*P**3+p,easeInQuint:(P,p,X,H)=>X*(P/H)**5+p,easeInSine:(P,p,X,H)=>-X*Math.cos(P/H*IH)+X+p,easeOutBack:function(P,p,X,H){let h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return X*((P=P/H-1)*P*((h+1)*P+h)+1)+p},easeOutBounce:PL,easeOutCirc:(P,p,X,H)=>X*Math.sqrt(1-(P=P/H-1)*P)+p,easeOutCubic:(P,p,X,H)=>X*((P/H-1)**3+1)+p,easeOutElastic:(P,p,X,H)=>{let h=X,x=0;if(P===0)return p;if((P/=H)===1)return p+X;x||(x=0.3*H);let{a:B,s:A,p:$,c:D}=d4(h,X,x,1.70158);return B*2**(-10*P)*Math.sin((P*H-A)*MX/$)+D+p},easeOutExpo:(P,p,X,H)=>P===H?p+X:X*-(2**(-10*P/H)+1)+p,easeOutQuad:(P,p,X,H)=>-X*(P/=H)*(P-2)+p,easeOutQuart:(P,p,X,H)=>-X*((P=P/H-1)*P**3-1)+p,easeOutQuint:(P,p,X,H)=>X*((P/H-1)**5+1)+p,easeOutSine:(P,p,X,H)=>X*Math.sin(P/H*IH)+p}),ZG=()=>!1;class i5{constructor(P){let{startValue:p,byValue:X,duration:H=500,delay:h=0,easing:x=$j,onStart:B=K1,onChange:A=K1,onComplete:$=K1,abort:D=ZG,target:Z}=P;R(this,"_state","pending"),R(this,"durationProgress",0),R(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=H,this.delay=h,this.easing=x,this._onStart=B,this._onChange=A,this._onComplete=$,this._abort=D,this.target=Z,this.startValue=p,this.byValue=X,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){let P=(p)=>{this._state==="pending"&&(this.startTime=p||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>JB(P),this.delay):JB(P)}tick(P){let p=(P||+new Date)-this.startTime,X=Math.min(p,this.duration);this.durationProgress=X/this.duration;let{value:H,valueProgress:h}=this.calculate(X);this.value=Object.freeze(H),this.valueProgress=h,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):p>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),JB(this.tick)))}register(){T5.push(this)}unregister(){T5.remove(this)}abort(){this._state="aborted",this.unregister()}}var LG=["startValue","endValue"];class Zj extends i5{constructor(P){let{startValue:p=0,endValue:X=100}=P;super(K(K({},t0(P,LG)),{},{startValue:p,byValue:X-p}))}calculate(P){let p=this.easing(P,this.startValue,this.byValue,this.duration);return{value:p,valueProgress:Math.abs((p-this.startValue)/this.byValue)}}}var fG=["startValue","endValue"];class Lj extends i5{constructor(P){let{startValue:p=[0],endValue:X=[100]}=P;super(K(K({},t0(P,fG)),{},{startValue:p,byValue:X.map((H,h)=>H-p[h])}))}calculate(P){let p=this.startValue.map((X,H)=>this.easing(P,X,this.byValue[H],this.duration,H));return{value:p,valueProgress:Math.abs((p[0]-this.startValue[0])/this.byValue[0])}}}var FG=["startValue","endValue","easing","onChange","onComplete","abort"],CG=(P,p,X,H)=>p+X*(1-Math.cos(P/H*IH)),l4=(P)=>P&&((p,X,H)=>P(new v0(p).toRgba(),X,H));class fj extends i5{constructor(P){let{startValue:p,endValue:X,easing:H=CG,onChange:h,onComplete:x,abort:B}=P,A=t0(P,FG),$=new v0(p).getSource(),D=new v0(X).getSource();super(K(K({},A),{},{startValue:$,byValue:D.map((Z,L)=>Z-$[L]),easing:H,onChange:l4(h),onComplete:l4(x),abort:l4(B)}))}calculate(P){let[p,X,H,h]=this.startValue.map((B,A)=>this.easing(P,B,this.byValue[A],this.duration,A)),x=[...[p,X,H].map(Math.round),U1(0,h,1)];return{value:x,valueProgress:x.map((B,A)=>this.byValue[A]!==0?Math.abs((B-this.startValue[A])/this.byValue[A]):0).find((B)=>B!==0)||0}}}function RL(P){let p=((X)=>Array.isArray(X.startValue)||Array.isArray(X.endValue))(P)?new Lj(P):new Zj(P);return p.start(),p}function Fj(P){let p=new fj(P);return p.start(),p}class xP{constructor(P){this.status=P,this.points=[]}includes(P){return this.points.some((p)=>p.eq(P))}append(){for(var P=arguments.length,p=new Array(P),X=0;X<P;X++)p[X]=arguments[X];return this.points=this.points.concat(p.filter((H)=>!this.includes(H))),this}static isPointContained(P,p,X){let H=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(p.eq(X))return P.eq(p);if(p.x===X.x)return P.x===p.x&&(H||P.y>=Math.min(p.y,X.y)&&P.y<=Math.max(p.y,X.y));if(p.y===X.y)return P.y===p.y&&(H||P.x>=Math.min(p.x,X.x)&&P.x<=Math.max(p.x,X.x));{let h=E5(p,X),x=E5(p,P).divide(h);return H?Math.abs(x.x)===Math.abs(x.y):x.x===x.y&&x.x>=0&&x.x<=1}}static isPointInPolygon(P,p){let X=new l(P).setX(Math.min(P.x-1,...p.map((h)=>h.x))),H=0;for(let h=0;h<p.length;h++){let x=this.intersectSegmentSegment(p[h],p[(h+1)%p.length],P,X);if(x.includes(P))return!0;H+=Number(x.status==="Intersection")}return H%2==1}static intersectLineLine(P,p,X,H){let h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],x=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],B=p.x-P.x,A=p.y-P.y,$=H.x-X.x,D=H.y-X.y,Z=P.x-X.x,L=P.y-X.y,f=$*L-D*Z,F=B*L-A*Z,q=D*B-$*A;if(q!==0){let b=f/q,j=F/q;return(h||0<=b&&b<=1)&&(x||0<=j&&j<=1)?new xP("Intersection").append(new l(P.x+b*B,P.y+b*A)):new xP}if(f===0||F===0){let b=h||x||xP.isPointContained(P,X,H)||xP.isPointContained(p,X,H)||xP.isPointContained(X,P,p)||xP.isPointContained(H,P,p);return new xP(b?"Coincident":void 0)}return new xP("Parallel")}static intersectSegmentLine(P,p,X,H){return xP.intersectLineLine(P,p,X,H,!1,!0)}static intersectSegmentSegment(P,p,X,H){return xP.intersectLineLine(P,p,X,H,!1,!1)}static intersectLinePolygon(P,p,X){let H=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=new xP,x=X.length;for(let B,A,$,D=0;D<x;D++){if(B=X[D],A=X[(D+1)%x],$=xP.intersectLineLine(P,p,B,A,H,!1),$.status==="Coincident")return $;h.append(...$.points)}return h.points.length>0&&(h.status="Intersection"),h}static intersectSegmentPolygon(P,p,X){return xP.intersectLinePolygon(P,p,X,!1)}static intersectPolygonPolygon(P,p){let X=new xP,H=P.length,h=[];for(let x=0;x<H;x++){let B=P[x],A=P[(x+1)%H],$=xP.intersectSegmentPolygon(B,A,p);$.status==="Coincident"?(h.push($),X.append(B,A)):X.append(...$.points)}return h.length>0&&h.length===P.length?new xP("Coincident"):(X.points.length>0&&(X.status="Intersection"),X)}static intersectPolygonRectangle(P,p,X){let H=p.min(X),h=p.max(X),x=new l(h.x,H.y),B=new l(H.x,h.y);return xP.intersectPolygonPolygon(P,[H,x,h,B])}}class Cj extends YL{getX(){return this.getXY().x}setX(P){this.setXY(this.getXY().setX(P))}getY(){return this.getXY().y}setY(P){this.setXY(this.getXY().setY(P))}getRelativeX(){return this.left}setRelativeX(P){this.left=P}getRelativeY(){return this.top}setRelativeY(P){this.top=P}getXY(){let P=this.getRelativeXY();return this.group?uP(P,this.group.calcTransformMatrix()):P}setXY(P,p,X){this.group&&(P=uP(P,Tp(this.group.calcTransformMatrix()))),this.setRelativeXY(P,p,X)}getRelativeXY(){return new l(this.left,this.top)}setRelativeXY(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(P,p,X)}isStrokeAccountedForInDimensions(){return!1}getCoords(){let{tl:P,tr:p,br:X,bl:H}=this.aCoords||(this.aCoords=this.calcACoords()),h=[P,p,X,H];if(this.group){let x=this.group.calcTransformMatrix();return h.map((B)=>uP(B,x))}return h}intersectsWithRect(P,p){return xP.intersectPolygonRectangle(this.getCoords(),P,p).status==="Intersection"}intersectsWithObject(P){let p=xP.intersectPolygonPolygon(this.getCoords(),P.getCoords());return p.status==="Intersection"||p.status==="Coincident"||P.isContainedWithinObject(this)||this.isContainedWithinObject(P)}isContainedWithinObject(P){return this.getCoords().every((p)=>P.containsPoint(p))}isContainedWithinRect(P,p){let{left:X,top:H,width:h,height:x}=this.getBoundingRect();return X>=P.x&&X+h<=p.x&&H>=P.y&&H+x<=p.y}isOverlapping(P){return this.intersectsWithObject(P)||this.isContainedWithinObject(P)||P.isContainedWithinObject(this)}containsPoint(P){return xP.isPointInPolygon(P,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;let{tl:P,br:p}=this.canvas.vptCoords;return!!this.getCoords().some((X)=>X.x<=p.x&&X.x>=P.x&&X.y<=p.y&&X.y>=P.y)||(!!this.intersectsWithRect(P,p)||this.containsPoint(P.midPointFrom(p)))}isPartiallyOnScreen(){if(!this.canvas)return!1;let{tl:P,br:p}=this.canvas.vptCoords;if(this.intersectsWithRect(P,p))return!0;return this.getCoords().every((X)=>(X.x>=p.x||X.x<=P.x)&&(X.y>=p.y||X.y<=P.y))&&this.containsPoint(P.midPointFrom(p))}getBoundingRect(){return v8(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(P){this._set(eP,P),this._set(Mp,P),this.setCoords()}scaleToWidth(P){let p=this.getBoundingRect().width/this.getScaledWidth();return this.scale(P/this.width/p)}scaleToHeight(P){let p=this.getBoundingRect().height/this.getScaledHeight();return this.scale(P/this.height/p)}getCanvasRetinaScaling(){var P;return((P=this.canvas)===null||P===void 0?void 0:P.getRetinaScaling())||1}getTotalAngle(){return this.group?MH(mb(this.calcTransformMatrix())):this.angle}getViewportTransform(){var P;return((P=this.canvas)===null||P===void 0?void 0:P.viewportTransform)||tP.concat()}calcACoords(){let P=wx({angle:this.angle}),{x:p,y:X}=this.getRelativeCenterPoint(),H=Ex(p,X),h=ZP(H,P),x=this._getTransformedDimensions(),B=x.x/2,A=x.y/2;return{tl:uP({x:-B,y:-A},h),tr:uP({x:B,y:-A},h),bl:uP({x:-B,y:A},h),br:uP({x:B,y:A},h)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let P=arguments.length>0&&arguments[0]!==void 0&&arguments[0],p=[];return!P&&this.group&&(p=this.group.transformMatrixKey(P)),p.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,YP(this.originX),YP(this.originY)),p}calcTransformMatrix(){let P=arguments.length>0&&arguments[0]!==void 0&&arguments[0],p=this.calcOwnMatrix();if(P||!this.group)return p;let X=this.transformMatrixKey(P),H=this.matrixCache;return H&&H.key.every((h,x)=>h===X[x])?H.value:(this.group&&(p=ZP(this.group.calcTransformMatrix(!1),p)),this.matrixCache={key:X,value:p},p)}calcOwnMatrix(){let P=this.transformMatrixKey(!0),p=this.ownMatrixCache;if(p&&p.key===P)return p.value;let X=this.getRelativeCenterPoint(),H={angle:this.angle,translateX:X.x,translateY:X.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},h=ob(H);return this.ownMatrixCache={key:P,value:h},h}_getNonTransformedDimensions(){return new l(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(P){return this._getTransformedDimensions(P).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=K({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},P),X=p.strokeWidth,H=X,h=0;this.strokeUniform&&(H=0,h=X);let x=p.width+H,B=p.height+H,A;return A=p.skewX===0&&p.skewY===0?new l(x*p.scaleX,B*p.scaleY):y5(x,B,OB(p)),A.scalarAdd(h)}translateToGivenOrigin(P,p,X,H,h){let{x,y:B}=P,A=YP(H)-YP(p),$=YP(h)-YP(X);if(A||$){let D=this._getTransformedDimensions();x+=A*D.x,B+=$*D.y}return new l(x,B)}translateToCenterPoint(P,p,X){if(p===T0&&X===T0)return P;let H=this.translateToGivenOrigin(P,p,X,T0,T0);return this.angle?H.rotate($P(this.angle),P):H}translateToOriginPoint(P,p,X){let H=this.translateToGivenOrigin(P,T0,T0,p,X);return this.angle?H.rotate($P(this.angle),P):H}getCenterPoint(){let P=this.getRelativeCenterPoint();return this.group?uP(P,this.group.calcTransformMatrix()):P}getRelativeCenterPoint(){return this.translateToCenterPoint(new l(this.left,this.top),this.originX,this.originY)}getPointByOrigin(P,p){return this.translateToOriginPoint(this.getRelativeCenterPoint(),P,p)}setPositionByOrigin(P,p,X){let H=this.translateToCenterPoint(P,p,X),h=this.translateToOriginPoint(H,this.originX,this.originY);this.set({left:h.x,top:h.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),N0,Dp)}}var QG=["type"],VG=["extraParam"],VX=class P extends Cj{static getDefaults(){return P.ownDefaults}get type(){let p=this.constructor.type;return p==="FabricObject"?"object":p.toLowerCase()}set type(p){kH("warn","Setting type has no effect",p)}constructor(p){super(),R(this,"_cacheContext",null),Object.assign(this,P.ownDefaults),this.setOptions(p)}_createCacheCanvas(){this._cacheCanvas=ap(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(p){let{width:X,height:H}=p,h=R0.maxCacheSideLimit,x=R0.minCacheSideLimit;if(X<=h&&H<=h&&X*H<=R0.perfLimitSizeTotal)return X<x&&(p.width=x),H<x&&(p.height=x),p;let B=X/H,[A,$]=zB.limitDimsByArea(B),D=U1(x,A,h),Z=U1(x,$,h);return X>D&&(p.zoomX/=X/D,p.width=D,p.capped=!0),H>Z&&(p.zoomY/=H/Z,p.height=Z,p.capped=!0),p}_getCacheCanvasDimensions(){let p=this.getTotalObjectScaling(),X=this._getTransformedDimensions({skewX:0,skewY:0}),H=X.x*p.x/this.scaleX,h=X.y*p.y/this.scaleY;return{width:Math.ceil(H+2),height:Math.ceil(h+2),zoomX:p.x,zoomY:p.y,x:H,y:h}}_updateCacheCanvas(){let p=this._cacheCanvas,X=this._cacheContext,{width:H,height:h,zoomX:x,zoomY:B,x:A,y:$}=this._limitCacheSize(this._getCacheCanvasDimensions()),D=H!==p.width||h!==p.height,Z=this.zoomX!==x||this.zoomY!==B;if(!p||!X)return!1;if(D||Z){H!==p.width||h!==p.height?(p.width=H,p.height=h):(X.setTransform(1,0,0,1,0,0),X.clearRect(0,0,p.width,p.height));let L=A/2,f=$/2;return this.cacheTranslationX=Math.round(p.width/2-L)+L,this.cacheTranslationY=Math.round(p.height/2-f)+f,X.translate(this.cacheTranslationX,this.cacheTranslationY),X.scale(x,B),this.zoomX=x,this.zoomY=B,!0}return!1}setOptions(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(p)}transform(p){let X=this.group&&!this.group._transformDone||this.group&&this.canvas&&p===this.canvas.contextTop,H=this.calcTransformMatrix(!X);p.transform(H[0],H[1],H[2],H[3],H[4],H[5])}getObjectScaling(){if(!this.group)return new l(Math.abs(this.scaleX),Math.abs(this.scaleY));let p=bx(this.calcTransformMatrix());return new l(Math.abs(p.scaleX),Math.abs(p.scaleY))}getTotalObjectScaling(){let p=this.getObjectScaling();if(this.canvas){let X=this.canvas.getZoom(),H=this.getCanvasRetinaScaling();return p.scalarMultiply(X*H)}return p}getObjectOpacity(){let p=this.opacity;return this.group&&(p*=this.group.getObjectOpacity()),p}_constrainScale(p){return Math.abs(p)<this.minScaleLimit?p<0?-this.minScaleLimit:this.minScaleLimit:p===0?0.0001:p}_set(p,X){p!==eP&&p!==Mp||(X=this._constrainScale(X)),p===eP&&X<0?(this.flipX=!this.flipX,X*=-1):p==="scaleY"&&X<0?(this.flipY=!this.flipY,X*=-1):p!=="shadow"||!X||X instanceof IX||(X=new IX(X));let H=this[p]!==X;return this[p]=X,H&&this.constructor.cacheProperties.includes(p)&&(this.dirty=!0),this.parent&&(this.dirty||H&&this.constructor.stateProperties.includes(p))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(p){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(p.save(),this._setupCompositeOperation(p),this.drawSelectionBackground(p),this.transform(p),this._setOpacity(p),this._setShadow(p),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(p)):(this._removeCacheCanvas(),this.drawObject(p,!1,{}),this.dirty=!1),p.restore())}drawSelectionBackground(p){}renderCache(p){if(p=p||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){let{zoomX:X,zoomY:H,cacheTranslationX:h,cacheTranslationY:x}=this,{width:B,height:A}=this._cacheCanvas;this.drawObject(this._cacheContext,p.forClipping,{zoomX:X,zoomY:H,cacheTranslationX:h,cacheTranslationY:x,width:B,height:A,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===Zp&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(p,X,H){p.save(),X.inverted?p.globalCompositeOperation="destination-out":p.globalCompositeOperation="destination-in",p.setTransform(1,0,0,1,0,0),p.drawImage(H,0,0),p.restore()}drawObject(p,X,H){let h=this.fill,x=this.stroke;X?(this.fill="black",this.stroke="",this._setClippingProperties(p)):this._renderBackground(p),this._render(p),this._drawClipPath(p,this.clipPath,H),this.fill=h,this.stroke=x}createClipPathLayer(p,X){let H=Z8(X),h=H.getContext("2d");if(h.translate(X.cacheTranslationX,X.cacheTranslationY),h.scale(X.zoomX,X.zoomY),p._cacheCanvas=H,X.parentClipPaths.forEach((x)=>{x.transform(h)}),X.parentClipPaths.push(p),p.absolutePositioned){let x=Tp(this.calcTransformMatrix());h.transform(x[0],x[1],x[2],x[3],x[4],x[5])}return p.transform(h),p.drawObject(h,!0,X),H}_drawClipPath(p,X,H){if(!X)return;X._transformDone=!0;let h=this.createClipPathLayer(X,H);this.drawClipPathOnCache(p,X,h)}drawCacheOnCanvas(p){p.scale(1/this.zoomX,1/this.zoomY),p.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let p=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;let X=this._cacheCanvas,H=this._cacheContext;return!(!X||!H||p||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(X&&H&&!p&&(H.save(),H.setTransform(1,0,0,1,0,0),H.clearRect(0,0,X.width,X.height),H.restore()),!0)}_renderBackground(p){if(!this.backgroundColor)return;let X=this._getNonTransformedDimensions();p.fillStyle=this.backgroundColor,p.fillRect(-X.x/2,-X.y/2,X.x,X.y),this._removeShadow(p)}_setOpacity(p){this.group&&!this.group._transformDone?p.globalAlpha=this.getObjectOpacity():p.globalAlpha*=this.opacity}_setStrokeStyles(p,X){let H=X.stroke;H&&(p.lineWidth=X.strokeWidth,p.lineCap=X.strokeLineCap,p.lineDashOffset=X.strokeDashOffset,p.lineJoin=X.strokeLineJoin,p.miterLimit=X.strokeMiterLimit,mp(H)?H.gradientUnits==="percentage"||H.gradientTransform||H.patternTransform?this._applyPatternForTransformedGradient(p,H):(p.strokeStyle=H.toLive(p),this._applyPatternGradientTransform(p,H)):p.strokeStyle=X.stroke)}_setFillStyles(p,X){let{fill:H}=X;H&&(mp(H)?(p.fillStyle=H.toLive(p),this._applyPatternGradientTransform(p,H)):p.fillStyle=H)}_setClippingProperties(p){p.globalAlpha=1,p.strokeStyle="transparent",p.fillStyle="#000000"}_setLineDash(p,X){X&&X.length!==0&&p.setLineDash(X)}_setShadow(p){if(!this.shadow)return;let X=this.shadow,H=this.canvas,h=this.getCanvasRetinaScaling(),[x,,,B]=(H==null?void 0:H.viewportTransform)||tP,A=x*h,$=B*h,D=X.nonScaling?new l(1,1):this.getObjectScaling();p.shadowColor=X.color,p.shadowBlur=X.blur*R0.browserShadowBlurConstant*(A+$)*(D.x+D.y)/4,p.shadowOffsetX=X.offsetX*A*D.x,p.shadowOffsetY=X.offsetY*$*D.y}_removeShadow(p){this.shadow&&(p.shadowColor="",p.shadowBlur=p.shadowOffsetX=p.shadowOffsetY=0)}_applyPatternGradientTransform(p,X){if(!mp(X))return{offsetX:0,offsetY:0};let H=X.gradientTransform||X.patternTransform,h=-this.width/2+X.offsetX||0,x=-this.height/2+X.offsetY||0;return X.gradientUnits==="percentage"?p.transform(this.width,0,0,this.height,h,x):p.transform(1,0,0,1,h,x),H&&p.transform(H[0],H[1],H[2],H[3],H[4],H[5]),{offsetX:h,offsetY:x}}_renderPaintInOrder(p){this.paintFirst===Zp?(this._renderStroke(p),this._renderFill(p)):(this._renderFill(p),this._renderStroke(p))}_render(p){}_renderFill(p){this.fill&&(p.save(),this._setFillStyles(p,this),this.fillRule==="evenodd"?p.fill("evenodd"):p.fill(),p.restore())}_renderStroke(p){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(p),p.save(),this.strokeUniform){let X=this.getObjectScaling();p.scale(1/X.x,1/X.y)}this._setLineDash(p,this.strokeDashArray),this._setStrokeStyles(p,this),p.stroke(),p.restore()}}_applyPatternForTransformedGradient(p,X){var H;let h=this._limitCacheSize(this._getCacheCanvasDimensions()),x=this.getCanvasRetinaScaling(),B=h.x/this.scaleX/x,A=h.y/this.scaleY/x,$=Z8({width:Math.ceil(B),height:Math.ceil(A)}),D=$.getContext("2d");D&&(D.beginPath(),D.moveTo(0,0),D.lineTo(B,0),D.lineTo(B,A),D.lineTo(0,A),D.closePath(),D.translate(B/2,A/2),D.scale(h.zoomX/this.scaleX/x,h.zoomY/this.scaleY/x),this._applyPatternGradientTransform(D,X),D.fillStyle=X.toLive(p),D.fill(),p.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),p.scale(x*this.scaleX/h.zoomX,x*this.scaleY/h.zoomY),p.strokeStyle=(H=D.createPattern($,"no-repeat"))!==null&&H!==void 0?H:"")}_findCenterFromElement(){return new l(this.left+this.width/2,this.top+this.height/2)}clone(p){let X=this.toObject(p);return this.constructor.fromObject(X)}cloneAsImage(p){let X=this.toCanvasElement(p);return new(L0.getClass("image"))(X)}toCanvasElement(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=WL(this),H=this.group,h=this.shadow,x=Math.abs,B=p.enableRetinaScaling?vb():1,A=(p.multiplier||1)*B,$=p.canvasProvider||((C)=>new lB(C,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,p.withoutTransform&&pj(this),p.withoutShadow&&(this.shadow=null),p.viewportTransform&&t4(this,this.getViewportTransform()),this.setCoords();let D=ap(),Z=this.getBoundingRect(),L=this.shadow,f=new l;if(L){let C=L.blur,V=L.nonScaling?new l(1,1):this.getObjectScaling();f.x=2*Math.round(x(L.offsetX)+C)*x(V.x),f.y=2*Math.round(x(L.offsetY)+C)*x(V.y)}let F=Z.width+f.x,q=Z.height+f.y;D.width=Math.ceil(F),D.height=Math.ceil(q);let b=$(D);p.format==="jpeg"&&(b.backgroundColor="#fff"),this.setPositionByOrigin(new l(b.width/2,b.height/2),T0,T0);let j=this.canvas;b._objects=[this],this.set("canvas",b),this.setCoords();let Q=b.toCanvasElement(A||1,p);return this.set("canvas",j),this.shadow=h,H&&(this.group=H),this.set(X),this.setCoords(),b._objects=[],b.destroy(),Q}toDataURL(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return bL(this.toCanvasElement(p),p.format||"png",p.quality||1)}toBlob(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return jL(this.toCanvasElement(p),p.format||"png",p.quality||1)}isType(){for(var p=arguments.length,X=new Array(p),H=0;H<p;H++)X[H]=arguments[H];return X.includes(this.constructor.type)||X.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(p){let{centeredRotation:X,originX:H,originY:h}=this;if(X){let{x,y:B}=this.getRelativeCenterPoint();this.originX=T0,this.originY=T0,this.left=x,this.top=B}if(this.set("angle",p),X){let{x,y:B}=this.translateToOriginPoint(this.getRelativeCenterPoint(),H,h);this.left=x,this.top=B,this.originX=H,this.originY=h}}setOnGroup(){}_setupCompositeOperation(p){this.globalCompositeOperation&&(p.globalCompositeOperation=this.globalCompositeOperation)}dispose(){T5.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&c8().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(p,X){return Object.entries(p).reduce((H,h)=>{let[x,B]=h;return H[x]=this._animate(x,B,X),H},{})}_animate(p,X){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=p.split("."),x=this.constructor.colorProperties.includes(h[h.length-1]),{abort:B,startValue:A,onChange:$,onComplete:D}=H,Z=K(K({},H),{},{target:this,startValue:A!=null?A:h.reduce((L,f)=>L[f],this),endValue:X,abort:B==null?void 0:B.bind(this),onChange:(L,f,F)=>{h.reduce((q,b,j)=>(j===h.length-1&&(q[b]=L),q[b]),this),$&&$(L,f,F)},onComplete:(L,f,F)=>{this.setCoords(),D&&D(L,f,F)}});return x?Fj(Z):RL(Z)}isDescendantOf(p){let{parent:X,group:H}=this;return X===p||H===p||!!X&&X.isDescendantOf(p)||!!H&&H!==X&&H.isDescendantOf(p)}getAncestors(){let p=[],X=this;do X=X.parent,X&&p.push(X);while(X);return p}findCommonAncestors(p){if(this===p)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};let X=this.getAncestors(),H=p.getAncestors();if(X.length===0&&H.length>0&&this===H[H.length-1])return{fork:[],otherFork:[p,...H.slice(0,H.length-1)],common:[this]};for(let h,x=0;x<X.length;x++){if(h=X[x],h===p)return{fork:[this,...X.slice(0,x)],otherFork:[],common:X.slice(x)};for(let B=0;B<H.length;B++){if(this===H[B])return{fork:[],otherFork:[p,...H.slice(0,B)],common:[this,...X]};if(h===H[B])return{fork:[this,...X.slice(0,x)],otherFork:[p,...H.slice(0,B)],common:X.slice(x)}}}return{fork:[this,...X],otherFork:[p,...H],common:[]}}hasCommonAncestors(p){let X=this.findCommonAncestors(p);return X&&!!X.common.length}isInFrontOf(p){if(this===p)return;let X=this.findCommonAncestors(p);if(X.fork.includes(p))return!0;if(X.otherFork.includes(this))return!1;let H=X.common[0]||this.canvas;if(!H)return;let h=X.fork.pop(),x=X.otherFork.pop(),B=H._objects.indexOf(h),A=H._objects.indexOf(x);return B>-1&&B>A}toObject(){let p=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(P.customProperties,this.constructor.customProperties||[]),X,H=R0.NUM_FRACTION_DIGITS,{clipPath:h,fill:x,stroke:B,shadow:A,strokeDashArray:$,left:D,top:Z,originX:L,originY:f,width:F,height:q,strokeWidth:b,strokeLineCap:j,strokeDashOffset:Q,strokeLineJoin:C,strokeUniform:V,strokeMiterLimit:Y,scaleX:k,scaleY:z,angle:W,flipX:M,flipY:c,opacity:w,visible:U,backgroundColor:G,fillRule:J,paintFirst:d,globalCompositeOperation:S,skewX:r,skewY:e}=this;h&&!h.excludeFromExport&&(X=h.toObject(p.concat("inverted","absolutePositioned")));let y=(m)=>s0(m,H),Y0=K(K({},S1(this,p)),{},{type:this.constructor.type,version:o4,originX:L,originY:f,left:y(D),top:y(Z),width:y(F),height:y(q),fill:Zb(x)?x.toObject():x,stroke:Zb(B)?B.toObject():B,strokeWidth:y(b),strokeDashArray:$?$.concat():$,strokeLineCap:j,strokeDashOffset:Q,strokeLineJoin:C,strokeUniform:V,strokeMiterLimit:y(Y),scaleX:y(k),scaleY:y(z),angle:y(W),flipX:M,flipY:c,opacity:y(w),shadow:A?A.toObject():A,visible:U,backgroundColor:G,fillRule:J,paintFirst:d,globalCompositeOperation:S,skewX:y(r),skewY:y(e)},X?{clipPath:X}:null);return this.includeDefaultValues?Y0:this._removeDefaultValues(Y0)}toDatalessObject(p){return this.toObject(p)}_removeDefaultValues(p){let X=this.constructor.getDefaults(),H=Object.keys(X).length>0?X:Object.getPrototypeOf(this);return TL(p,(h,x)=>{if(x===N0||x===Dp||x==="type")return!0;let B=H[x];return h!==B&&!(Array.isArray(h)&&Array.isArray(B)&&h.length===0&&B.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(p){let X=t0(p,QG),H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:h}=H,x=t0(H,VG);return dB(X,x).then((B)=>h?(delete B[h],new this(X[h],B)):new this(B))}static fromObject(p,X){return this._fromObject(p,X)}};R(VX,"stateProperties",AG),R(VX,"cacheProperties",EX),R(VX,"ownDefaults",DG),R(VX,"type","FabricObject"),R(VX,"colorProperties",[WP,Zp,"backgroundColor"]),R(VX,"customProperties",[]),L0.setClass(VX),L0.setClass(VX,"object");var EH=(P,p,X)=>(H,h,x,B)=>{let A=p(H,h,x,B);return A&&EL(P,K(K({},wL(H,h,x,B)),X)),A};function G1(P){return(p,X,H,h)=>{let{target:x,originX:B,originY:A}=X,$=x.getRelativeCenterPoint(),D=x.translateToOriginPoint($,B,A),Z=P(p,X,H,h);return x.setPositionByOrigin(D,X.originX,X.originY),Z}}var pL=EH(GB,G1((P,p,X,H)=>{let h=g5(p,p.originX,p.originY,X,H);if(YP(p.originX)===YP(T0)||YP(p.originX)===YP(FP)&&h.x<0||YP(p.originX)===YP(N0)&&h.x>0){let{target:x}=p,B=x.strokeWidth/(x.strokeUniform?x.scaleX:1),A=Hj(p)?2:1,$=x.width,D=Math.abs(h.x*A/x.scaleX)-B;return x.set("width",Math.max(D,1)),$!==x.width}return!1}));function Qj(P,p,X,H,h){H=H||{};let x=this.sizeX||H.cornerSize||h.cornerSize,B=this.sizeY||H.cornerSize||h.cornerSize,A=H.transparentCorners!==void 0?H.transparentCorners:h.transparentCorners,$=A?Zp:WP,D=!A&&(H.cornerStrokeColor||h.cornerStrokeColor),Z,L=p,f=X;P.save(),P.fillStyle=H.cornerColor||h.cornerColor||"",P.strokeStyle=H.cornerStrokeColor||h.cornerStrokeColor||"",x>B?(Z=x,P.scale(1,B/x),f=X*x/B):B>x?(Z=B,P.scale(x/B,1),L=p*B/x):Z=x,P.beginPath(),P.arc(L,f,Z/2,0,MX,!1),P[$](),D&&P.stroke(),P.restore()}function Vj(P,p,X,H,h){H=H||{};let x=this.sizeX||H.cornerSize||h.cornerSize,B=this.sizeY||H.cornerSize||h.cornerSize,A=H.transparentCorners!==void 0?H.transparentCorners:h.transparentCorners,$=A?Zp:WP,D=!A&&(H.cornerStrokeColor||h.cornerStrokeColor),Z=x/2,L=B/2;P.save(),P.fillStyle=H.cornerColor||h.cornerColor||"",P.strokeStyle=H.cornerStrokeColor||h.cornerStrokeColor||"",P.translate(p,X);let f=h.getTotalAngle();P.rotate($P(f)),P["".concat($,"Rect")](-Z,-L,x,B),D&&P.strokeRect(-Z,-L,x,B),P.restore()}class Ap{constructor(P){R(this,"visible",!0),R(this,"actionName",O5),R(this,"angle",0),R(this,"x",0),R(this,"y",0),R(this,"offsetX",0),R(this,"offsetY",0),R(this,"sizeX",0),R(this,"sizeY",0),R(this,"touchSizeX",0),R(this,"touchSizeY",0),R(this,"cursorStyle","crosshair"),R(this,"withConnection",!1),Object.assign(this,P)}shouldActivate(P,p,X,H){var h;let{tl:x,tr:B,br:A,bl:$}=H;return((h=p.canvas)===null||h===void 0?void 0:h.getActiveObject())===p&&p.isControlVisible(P)&&xP.isPointInPolygon(X,[x,B,A,$])}getActionHandler(P,p,X){return this.actionHandler}getMouseDownHandler(P,p,X){return this.mouseDownHandler}getMouseUpHandler(P,p,X){return this.mouseUpHandler}cursorStyleHandler(P,p,X){return p.cursorStyle}getActionName(P,p,X){return p.actionName}getVisibility(P,p){var X,H;return(X=(H=P._controlsVisibility)===null||H===void 0?void 0:H[p])!==null&&X!==void 0?X:this.visible}setVisibility(P,p,X){this.visible=P}positionHandler(P,p,X,H){return new l(this.x*P.x+this.offsetX,this.y*P.y+this.offsetY).transform(p)}calcCornerCoords(P,p,X,H,h,x){let B=d5([Ex(X,H),wx({angle:P}),l5((h?this.touchSizeX:this.sizeX)||p,(h?this.touchSizeY:this.sizeY)||p)]);return{tl:new l(-0.5,-0.5).transform(B),tr:new l(0.5,-0.5).transform(B),br:new l(0.5,0.5).transform(B),bl:new l(-0.5,0.5).transform(B)}}render(P,p,X,H,h){if(((H=H||{}).cornerStyle||h.cornerStyle)==="circle")Qj.call(this,P,p,X,H,h);else Vj.call(this,P,p,X,H,h)}}var qj=(P,p,X)=>X.lockRotation?W5:p.cursorStyle,Yj=EH(Ob,G1((P,p,X,H)=>{let{target:h,ex:x,ey:B,theta:A,originX:$,originY:D}=p,Z=h.translateToOriginPoint(h.getRelativeCenterPoint(),$,D);if(A8(h,"lockRotation"))return!1;let L=Math.atan2(B-Z.y,x-Z.x),f=Math.atan2(H-Z.y,X-Z.x),F=MH(f-L+A);if(h.snapAngle&&h.snapAngle>0){let b=h.snapAngle,j=h.snapThreshold||b,Q=Math.ceil(F/b)*b,C=Math.floor(F/b)*b;Math.abs(F-C)<j?F=C:Math.abs(F-Q)<j&&(F=Q)}F<0&&(F=360+F),F%=360;let q=h.angle!==F;return h.angle=F,q}));function bj(P,p){let X=p.canvas,H=P[X.uniScaleKey];return X.uniformScaling&&!H||!X.uniformScaling&&H}function jj(P,p,X){let H=A8(P,"lockScalingX"),h=A8(P,"lockScalingY");if(H&&h)return!0;if(!p&&(H||h)&&X)return!0;if(H&&p==="x")return!0;if(h&&p==="y")return!0;let{width:x,height:B,strokeWidth:A}=P;return x===0&&A===0&&p!=="y"||B===0&&A===0&&p!=="x"}var qG=["e","se","s","sw","w","nw","n","ne","e"],Px=(P,p,X)=>{let H=bj(P,X);if(jj(X,p.x!==0&&p.y===0?"x":p.x===0&&p.y!==0?"y":"",H))return W5;let h=hj(X,p);return"".concat(qG[h],"-resize")};function UL(P,p,X,H){let h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},x=p.target,B=h.by,A=bj(P,x),$,D,Z,L,f,F;if(jj(x,B,A))return!1;if(p.gestureScale)D=p.scaleX*p.gestureScale,Z=p.scaleY*p.gestureScale;else{if($=g5(p,p.originX,p.originY,X,H),f=B!=="y"?Math.sign($.x||p.signX||1):1,F=B!=="x"?Math.sign($.y||p.signY||1):1,p.signX||(p.signX=f),p.signY||(p.signY=F),A8(x,"lockScalingFlip")&&(p.signX!==f||p.signY!==F))return!1;if(L=x._getTransformedDimensions(),A&&!B){let j=Math.abs($.x)+Math.abs($.y),{original:Q}=p,C=j/(Math.abs(L.x*Q.scaleX/x.scaleX)+Math.abs(L.y*Q.scaleY/x.scaleY));D=Q.scaleX*C,Z=Q.scaleY*C}else D=Math.abs($.x*x.scaleX/L.x),Z=Math.abs($.y*x.scaleY/L.y);Hj(p)&&(D*=2,Z*=2),p.signX!==f&&B!=="y"&&(p.originX=Fb(p.originX),D*=-1,p.signX=f),p.signY!==F&&B!=="x"&&(p.originY=Fb(p.originY),Z*=-1,p.signY=F)}let{scaleX:q,scaleY:b}=x;return B?(B==="x"&&x.set(eP,D),B==="y"&&x.set(Mp,Z)):(!A8(x,"lockScalingX")&&x.set(eP,D),!A8(x,"lockScalingY")&&x.set(Mp,Z)),q!==x.scaleX||b!==x.scaleY}var MB=EH(c5,G1((P,p,X,H)=>UL(P,p,X,H))),kj=EH(c5,G1((P,p,X,H)=>UL(P,p,X,H,{by:"x"}))),Ij=EH(c5,G1((P,p,X,H)=>UL(P,p,X,H,{by:"y"}))),YG=["target","ex","ey","skewingSide"],y4={x:{counterAxis:"y",scale:eP,skew:Mx,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Mp,skew:Wx,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},bG=["ns","nesw","ew","nwse"],Tj=(P,p,X)=>{if(p.x!==0&&A8(X,"lockSkewingY"))return W5;if(p.y!==0&&A8(X,"lockSkewingX"))return W5;let H=hj(X,p)%4;return"".concat(bG[H],"-resize")};function Mj(P,p,X,H,h){let{target:x}=X,{counterAxis:B,origin:A,lockSkewing:$,skew:D,flip:Z}=y4[P];if(A8(x,$))return!1;let{origin:L,flip:f}=y4[B],F=YP(X[L])*(x[f]?-1:1),q=-Math.sign(F)*(x[Z]?-1:1),b=0.5*-((x[D]===0&&g5(X,T0,T0,H,h)[P]>0||x[D]>0?1:-1)*q)+0.5;return EH(db,G1((Q,C,V,Y)=>function(k,z,W){let{target:M,ex:c,ey:w,skewingSide:U}=z,G=t0(z,YG),{skew:J}=y4[k],d=W.subtract(new l(c,w)).divide(new l(M.scaleX,M.scaleY))[k],S=M[J],r=G[J],e=Math.tan($P(r)),y=k==="y"?M._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:M._getTransformedDimensions({scaleX:1,scaleY:1}).y,Y0=2*d*U/Math.max(y,1)+e,m=MH(Math.atan(Y0));M.set(J,m);let f0=S!==M[J];if(f0&&k==="y"){let{skewX:E,scaleX:_}=M,P0=M._getTransformedDimensions({skewY:S}),u=M._getTransformedDimensions(),Z0=E!==0?P0.x/u.x:1;Z0!==1&&M.set(eP,Z0*_)}return f0}(P,C,new l(V,Y))))(p,K(K({},X),{},{[A]:b,skewingSide:q}),H,h)}var Wj=(P,p,X,H)=>Mj("x",P,p,X,H),Ej=(P,p,X,H)=>Mj("y",P,p,X,H);function m5(P,p){return P[p.canvas.altActionKey]}var WB=(P,p,X)=>{let H=m5(P,X);return p.x===0?H?Mx:Mp:p.y===0?H?Wx:eP:""},E1=(P,p,X)=>m5(P,X)?Tj(0,p,X):Px(P,p,X),XL=(P,p,X,H)=>m5(P,p.target)?Ej(P,p,X,H):kj(P,p,X,H),HL=(P,p,X,H)=>m5(P,p.target)?Wj(P,p,X,H):Ij(P,p,X,H),SL=()=>({ml:new Ap({x:-0.5,y:0,cursorStyleHandler:E1,actionHandler:XL,getActionName:WB}),mr:new Ap({x:0.5,y:0,cursorStyleHandler:E1,actionHandler:XL,getActionName:WB}),mb:new Ap({x:0,y:0.5,cursorStyleHandler:E1,actionHandler:HL,getActionName:WB}),mt:new Ap({x:0,y:-0.5,cursorStyleHandler:E1,actionHandler:HL,getActionName:WB}),tl:new Ap({x:-0.5,y:-0.5,cursorStyleHandler:Px,actionHandler:MB}),tr:new Ap({x:0.5,y:-0.5,cursorStyleHandler:Px,actionHandler:MB}),bl:new Ap({x:-0.5,y:0.5,cursorStyleHandler:Px,actionHandler:MB}),br:new Ap({x:0.5,y:0.5,cursorStyleHandler:Px,actionHandler:MB}),mtr:new Ap({x:0,y:-0.5,actionHandler:Yj,cursorStyleHandler:qj,offsetY:-40,withConnection:!0,actionName:VL})}),wj=()=>({mr:new Ap({x:0.5,y:0,actionHandler:pL,cursorStyleHandler:E1,actionName:GB}),ml:new Ap({x:-0.5,y:0,actionHandler:pL,cursorStyleHandler:E1,actionName:GB})}),zj=()=>K(K({},SL()),wj());class cB extends VX{static getDefaults(){return K(K({},super.getDefaults()),cB.ownDefaults)}constructor(P){super(),Object.assign(this,this.constructor.createControls(),cB.ownDefaults),this.setOptions(P)}static createControls(){return{controls:SL()}}_updateCacheCanvas(){let P=this.canvas;if(this.noScaleCache&&P&&P._currentTransform){let p=P._currentTransform,X=p.target,H=p.action;if(this===X&&H&&H.startsWith(O5))return!1}return super._updateCacheCanvas()}getActiveControl(){let P=this.__corner;return P?{key:P,control:this.controls[P],coord:this.oCoords[P]}:void 0}findControl(P){let p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;let X=Object.entries(this.oCoords);for(let H=X.length-1;H>=0;H--){let[h,x]=X[H],B=this.controls[h];if(B.shouldActivate(h,this,P,p?x.touchCorner:x.corner))return this.__corner=h,{key:h,control:B,coord:this.oCoords[h]}}}calcOCoords(){let P=this.getViewportTransform(),p=this.getCenterPoint(),X=Ex(p.x,p.y),H=wx({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),h=ZP(X,H),x=ZP(P,h),B=ZP(x,[1/P[0],0,0,1/P[3],0,0]),A=this.group?bx(this.calcTransformMatrix()):void 0;A&&(A.scaleX=Math.abs(A.scaleX),A.scaleY=Math.abs(A.scaleY));let $=this._calculateCurrentDimensions(A),D={};return this.forEachControl((Z,L)=>{let f=Z.positionHandler($,B,this,Z);D[L]=Object.assign(f,this._calcCornerCoords(Z,f))}),D}_calcCornerCoords(P,p){let X=this.getTotalAngle();return{corner:P.calcCornerCoords(X,this.cornerSize,p.x,p.y,!1,this),touchCorner:P.calcCornerCoords(X,this.touchCornerSize,p.x,p.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(P){for(let p in this.controls)P(this.controls[p],p,this)}drawSelectionBackground(P){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;P.save();let p=this.getRelativeCenterPoint(),X=this._calculateCurrentDimensions(),H=this.getViewportTransform();P.translate(p.x,p.y),P.scale(1/H[0],1/H[3]),P.rotate($P(this.angle)),P.fillStyle=this.selectionBackgroundColor,P.fillRect(-X.x/2,-X.y/2,X.x,X.y),P.restore()}strokeBorders(P,p){P.strokeRect(-p.x/2,-p.y/2,p.x,p.y)}_drawBorders(P,p){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},H=K({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},X);P.save(),P.strokeStyle=H.borderColor,this._setLineDash(P,H.borderDashArray),this.strokeBorders(P,p),H.hasControls&&this.drawControlsConnectingLines(P,p),P.restore()}_renderControls(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{hasBorders:X,hasControls:H}=this,h=K({hasBorders:X,hasControls:H},p),x=this.getViewportTransform(),B=h.hasBorders,A=h.hasControls,$=ZP(x,this.calcTransformMatrix()),D=bx($);P.save(),P.translate(D.translateX,D.translateY),P.lineWidth=this.borderScaleFactor,this.group===this.parent&&(P.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(D.angle-=180),P.rotate($P(this.group?D.angle:this.angle)),B&&this.drawBorders(P,D,p),A&&this.drawControls(P,p),P.restore()}drawBorders(P,p,X){let H;if(X&&X.forActiveSelection||this.group){let h=y5(this.width,this.height,OB(p)),x=this.isStrokeAccountedForInDimensions()?qL:(this.strokeUniform?new l().scalarAdd(this.canvas?this.canvas.getZoom():1):new l(p.scaleX,p.scaleY)).scalarMultiply(this.strokeWidth);H=h.add(x).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else H=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(P,H,X)}drawControlsConnectingLines(P,p){let X=!1;P.beginPath(),this.forEachControl((H,h)=>{H.withConnection&&H.getVisibility(this,h)&&(X=!0,P.moveTo(H.x*p.x,H.y*p.y),P.lineTo(H.x*p.x+H.offsetX,H.y*p.y+H.offsetY))}),X&&P.stroke()}drawControls(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};P.save();let X=this.getCanvasRetinaScaling(),{cornerStrokeColor:H,cornerDashArray:h,cornerColor:x}=this,B=K({cornerStrokeColor:H,cornerDashArray:h,cornerColor:x},p);P.setTransform(X,0,0,X,0,0),P.strokeStyle=P.fillStyle=B.cornerColor,this.transparentCorners||(P.strokeStyle=B.cornerStrokeColor),this._setLineDash(P,B.cornerDashArray),this.forEachControl((A,$)=>{if(A.getVisibility(this,$)){let D=this.oCoords[$];A.render(P,D.x,D.y,B,this)}}),P.restore()}isControlVisible(P){return this.controls[P]&&this.controls[P].getVisibility(this,P)}setControlVisible(P,p){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[P]=p}setControlsVisibility(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(P).forEach((p)=>{let[X,H]=p;return this.setControlVisible(X,H)})}clearContextTop(P){if(!this.canvas)return;let p=this.canvas.contextTop;if(!p)return;let X=this.canvas.viewportTransform;p.save(),p.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this.transform(p);let H=this.width+4,h=this.height+4;return p.clearRect(-H/2,-h/2,H,h),P||p.restore(),p}onDeselect(P){return!1}onSelect(P){return!1}shouldStartDragging(P){return!1}onDragStart(P){return!1}canDrop(P){return!1}renderDragSourceEffect(P){}renderDropTargetEffect(P){}}function Jj(P,p){return p.forEach((X)=>{Object.getOwnPropertyNames(X.prototype).forEach((H)=>{H!=="constructor"&&Object.defineProperty(P.prototype,H,Object.getOwnPropertyDescriptor(X.prototype,H)||Object.create(null))})}),P}R(cB,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:0.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class cP extends cB{}Jj(cP,[zL]),L0.setClass(cP),L0.setClass(cP,"object");var Kj=(P,p,X,H)=>{let h=2*(H=Math.round(H))+1,{data:x}=P.getImageData(p-H,X-H,h,h);for(let B=3;B<x.length;B+=4)if(x[B]>0)return!1;return!0};class GL{constructor(P){this.options=P,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new l(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new l(1/this.options.scaleX,1/this.options.scaleY):new l(1,1)}createSideVector(P,p){let X=E5(P,p);return this.options.strokeUniform?X.multiply(this.scale):X}projectOrthogonally(P,p,X){return this.applySkew(P.add(this.calcOrthogonalProjection(P,p,X)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(P){let p=new l(P);return p.y+=p.x*Math.tan($P(this.options.skewY)),p.x+=p.y*Math.tan($P(this.options.skewX)),p}scaleUnitVector(P,p){return P.multiply(this.strokeUniformScalar).scalarMultiply(p)}}var jG=new l;class Yx extends GL{static getOrthogonalRotationFactor(P,p){let X=p?z5(P,p):Aj(P);return Math.abs(X)<IH?-1:1}constructor(P,p,X,H){super(H),R(this,"AB",void 0),R(this,"AC",void 0),R(this,"alpha",void 0),R(this,"bisector",void 0),this.A=new l(P),this.B=new l(p),this.C=new l(X),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=z5(this.AB,this.AC),this.bisector=u5(JL(this.AB.eq(jG)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(P,p){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,H=this.createSideVector(P,p),h=KL(H),x=Yx.getOrthogonalRotationFactor(h,this.bisector);return this.scaleUnitVector(h,X*x)}projectBevel(){let P=[];return(this.alpha%MX==0?[this.B]:[this.B,this.C]).forEach((p)=>{P.push(this.projectOrthogonally(this.A,p)),P.push(this.projectOrthogonally(this.A,p,-this.strokeProjectionMagnitude))}),P}projectMiter(){let P=[],p=Math.abs(this.alpha),X=1/Math.sin(p/2),H=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*X),h=this.options.strokeUniform?w5(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return w5(H)/this.strokeProjectionMagnitude<=h&&P.push(this.applySkew(this.A.add(H))),P.push(...this.projectBevel()),P}projectRoundNoSkew(P,p){let X=[],H=new l(Yx.getOrthogonalRotationFactor(this.bisector),Yx.getOrthogonalRotationFactor(new l(this.bisector.y,this.bisector.x)));return[new l(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(H),new l(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(H)].forEach((h)=>{e4(h,P,p)&&X.push(this.A.add(h))}),X}projectRoundWithSkew(P,p){let X=[],{skewX:H,skewY:h,scaleX:x,scaleY:B,strokeUniform:A}=this.options,$=new l(Math.tan($P(H)),Math.tan($P(h))),D=this.strokeProjectionMagnitude,Z=A?D/B/Math.sqrt(1/B**2+1/x**2*$.y**2):D/Math.sqrt(1+$.y**2),L=new l(Math.sqrt(Math.max(D**2-Z**2,0)),Z),f=A?D/Math.sqrt(1+$.x**2*(1/B)**2/(1/x+1/x*$.x*$.y)**2):D/Math.sqrt(1+$.x**2/(1+$.x*$.y)**2),F=new l(f,Math.sqrt(Math.max(D**2-f**2,0)));return[F,F.scalarMultiply(-1),L,L.scalarMultiply(-1)].map((q)=>this.applySkew(A?q.multiply(this.strokeUniformScalar):q)).forEach((q)=>{e4(q,P,p)&&X.push(this.applySkew(this.A).add(q))}),X}projectRound(){let P=[];P.push(...this.projectBevel());let p=this.alpha%MX==0,X=this.applySkew(this.A),H=P[p?0:2].subtract(X),h=P[p?1:0].subtract(X),x=p?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),B=qx(H,x)>0,A=B?H:h,$=B?h:H;return this.isSkewed()?P.push(...this.projectRoundWithSkew(A,$)):P.push(...this.projectRoundNoSkew(A,$)),P}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map((P)=>({originPoint:this.A,projectedPoint:P,angle:this.alpha,bisector:this.bisector}))}}class hL extends GL{constructor(P,p,X){super(X),this.A=new l(P),this.T=new l(p)}calcOrthogonalProjection(P,p){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,H=this.createSideVector(P,p);return this.scaleUnitVector(KL(H),X)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){let P=[];if(!this.isSkewed()&&this.A.eq(this.T)){let p=new l(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);P.push(this.applySkew(this.A.add(p)),this.applySkew(this.A.subtract(p)))}else P.push(...new Yx(this.A,this.T,this.T,this.options).projectRound());return P}projectSquare(){let P=[];if(this.A.eq(this.T)){let p=new l(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);P.push(this.A.add(p),this.A.subtract(p))}else{let p=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),X=this.scaleUnitVector(u5(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),H=this.A.add(X);P.push(H.add(p),H.subtract(p))}return P.map((p)=>this.applySkew(p))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map((P)=>({originPoint:this.A,projectedPoint:P}))}}var Rj=function(P,p){let X=arguments.length>2&&arguments[2]!==void 0&&arguments[2],H=[];if(P.length===0)return H;let h=P.reduce((x,B)=>(x[x.length-1].eq(B)||x.push(new l(B)),x),[new l(P[0])]);if(h.length===1)X=!0;else if(!X){let x=h[0],B=((A,$)=>{for(let D=A.length-1;D>=0;D--)if($(A[D],D,A))return D;return-1})(h,(A)=>!A.eq(x));h.splice(B+1)}return h.forEach((x,B,A)=>{let $,D;B===0?(D=A[1],$=X?x:A[A.length-1]):B===A.length-1?($=A[B-1],D=X?x:A[0]):($=A[B-1],D=A[B+1]),X&&A.length===1?H.push(...new hL(x,x,p).project()):!X||B!==0&&B!==A.length-1?H.push(...new Yx(x,$,D,p).project()):H.push(...new hL(x,B===0?D:$,p).project())}),H},NL=(P)=>{let p={};return Object.keys(P).forEach((X)=>{p[X]={},Object.keys(P[X]).forEach((H)=>{p[X][H]=K({},P[X][H])})}),p},Uj=(P)=>P.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),a5=(P)=>{let p=[];for(let X,H=0;H<P.length;H++)(X=kG(P,H))!==!1&&p.push(X);return p},kG=(P,p)=>{let X=P.charCodeAt(p);if(isNaN(X))return"";if(X<55296||X>57343)return P.charAt(p);if(55296<=X&&X<=56319){if(P.length<=p+1)throw"High surrogate without following low surrogate";let h=P.charCodeAt(p+1);if(56320>h||h>57343)throw"High surrogate without following low surrogate";return P.charAt(p)+P.charAt(p+1)}if(p===0)throw"Low surrogate without preceding high surrogate";let H=P.charCodeAt(p-1);if(55296>H||H>56319)throw"Low surrogate without preceding high surrogate";return!1},IG=Object.freeze({__proto__:null,capitalize:function(P){let p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(P.charAt(0).toUpperCase()).concat(p?P.slice(1):P.slice(1).toLowerCase())},escapeXml:Uj,graphemeSplit:a5}),o5=function(P,p){let X=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return P.fill!==p.fill||P.stroke!==p.stroke||P.strokeWidth!==p.strokeWidth||P.fontSize!==p.fontSize||P.fontFamily!==p.fontFamily||P.fontWeight!==p.fontWeight||P.fontStyle!==p.fontStyle||P.textBackgroundColor!==p.textBackgroundColor||P.deltaY!==p.deltaY||X&&(P.overline!==p.overline||P.underline!==p.underline||P.linethrough!==p.linethrough)},Sj=(P,p)=>{let X=p.split(`
`),H=[],h=-1,x={};P=NL(P);for(let B=0;B<X.length;B++){let A=a5(X[B]);if(P[B])for(let $=0;$<A.length;$++){h++;let D=P[B][$];D&&Object.keys(D).length>0&&(o5(x,D,!0)?H.push({start:h,end:h+1,style:D}):H[H.length-1].end++),x=D||{}}else h+=A.length,x={}}return H},Gj=(P,p)=>{if(!Array.isArray(P))return NL(P);let X=p.split(QL),H={},h=-1,x=0;for(let B=0;B<X.length;B++){let A=a5(X[B]);for(let $=0;$<A.length;$++)h++,P[x]&&P[x].start<=h&&h<P[x].end&&(H[B]=H[B]||{},H[B][$]=K({},P[x].style),h===P[x].end-1&&x++)}return H},wH=["display","transform",WP,"fill-opacity","fill-rule","opacity",Zp,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function jb(P,p){let X=P.nodeName,H=P.getAttribute("class"),h=P.getAttribute("id"),B;if(B=new RegExp("^"+X,"i"),p=p.replace(B,""),h&&p.length&&(B=new RegExp("#"+h+"(?![a-zA-Z\\-]+)","i"),p=p.replace(B,"")),H&&p.length){let A=H.split(" ");for(let $=A.length;$--;)B=new RegExp("\\."+A[$]+"(?![a-zA-Z\\-]+)","i"),p=p.replace(B,"")}return p.length===0}function TG(P,p){let X=!0,H=jb(P,p.pop());return H&&p.length&&(X=function(h,x){let B,A=!0;for(;h.parentElement&&h.parentElement.nodeType===1&&x.length;)A&&(B=x.pop()),A=jb(h=h.parentElement,B);return x.length===0}(P,p)),H&&X&&p.length===0}var MG=(P)=>{var p;return(p=xG[P])!==null&&p!==void 0?p:P},WG=new RegExp("(".concat(B8,")"),"gi"),EG=(P)=>P.replace(WG," $1 ").replace(/,/gi," ").replace(/\s+/gi," "),kb,Ib,Tb,Mb,Wb,Eb,wb,sP="(".concat(B8,")"),wG=String.raw(kb||(kb=WH(["(skewX)(",")"],["(skewX)\\(","\\)"])),sP),zG=String.raw(Ib||(Ib=WH(["(skewY)(",")"],["(skewY)\\(","\\)"])),sP),JG=String.raw(Tb||(Tb=WH(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),sP,sP,sP),KG=String.raw(Mb||(Mb=WH(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),sP,sP),RG=String.raw(Wb||(Wb=WH(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),sP,sP),UG=String.raw(Eb||(Eb=WH(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),sP,sP,sP,sP,sP,sP),vL="(?:".concat(UG,"|").concat(RG,"|").concat(JG,"|").concat(KG,"|").concat(wG,"|").concat(zG,")"),SG="(?:".concat(vL,"*)"),GG=String.raw(wb||(wb=WH(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),SG),NG=new RegExp(GG),vG=new RegExp(vL),cG=new RegExp(vL,"g");function xL(P){let p=[];if(!(P=EG(P).replace(/\s*([()])\s*/gi,"$1"))||P&&!NG.test(P))return[...tP];for(let X of P.matchAll(cG)){let H=vG.exec(X[0]);if(!H)continue;let h=tP,x=H.filter((q)=>!!q),[,B,...A]=x,[$,D,Z,L,f,F]=A.map((q)=>parseFloat(q));switch(B){case"translate":h=Ex($,D);break;case VL:h=wx({angle:$},{x:D,y:Z});break;case O5:h=l5($,D);break;case Mx:h=kL($);break;case Wx:h=IL($);break;case"matrix":h=[$,D,Z,L,f,F]}p.push(h)}return d5(p)}function OG(P,p,X,H){let h=Array.isArray(p),x,B=p;if(P!==WP&&P!==Zp||p!==$p){if(P==="strokeUniform")return p==="non-scaling-stroke";if(P==="strokeDashArray")B=p===$p?null:p.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(P==="transformMatrix")B=X&&X.transformMatrix?ZP(X.transformMatrix,xL(p)):xL(p);else if(P==="visible")B=p!==$p&&p!=="hidden",X&&X.visible===!1&&(B=!1);else if(P==="opacity")B=parseFloat(p),X&&X.opacity!==void 0&&(B*=X.opacity);else if(P==="textAnchor")B=p==="start"?N0:p==="end"?FP:T0;else if(P==="charSpacing")x=R1(p,H)/H*1000;else if(P==="paintFirst"){let A=p.indexOf(WP),$=p.indexOf(Zp);B=WP,(A>-1&&$>-1&&$<A||A===-1&&$>-1)&&(B=Zp)}else{if(P==="href"||P==="xlink:href"||P==="font"||P==="id")return p;if(P==="imageSmoothing")return p==="optimizeQuality";x=h?p.map(R1):R1(p,H)}}else B="";return!h&&isNaN(x)?B:x}function dG(P,p){let X=P.match(hG);if(!X)return;let H=X[1],h=X[3],x=X[4],B=X[5],A=X[6];H&&(p.fontStyle=H),h&&(p.fontWeight=isNaN(parseFloat(h))?h:parseFloat(h)),x&&(p.fontSize=R1(x)),A&&(p.fontFamily=A),B&&(p.lineHeight=B==="normal"?1:B)}function lG(P,p){P.replace(/;\s*$/,"").split(";").forEach((X)=>{if(!X)return;let[H,h]=X.split(":");p[H.trim().toLowerCase()]=h.trim()})}function yG(P){let p={},X=P.getAttribute("style");return X?(typeof X=="string"?lG(X,p):function(H,h){Object.entries(H).forEach((x)=>{let[B,A]=x;A!==void 0&&(h[B.toLowerCase()]=A)})}(X,p),p):p}var gG={stroke:"strokeOpacity",fill:"fillOpacity"};function wX(P,p,X){if(!P)return{};let H,h={},x=CL;P.parentNode&&Qb.test(P.parentNode.nodeName)&&(h=wX(P.parentElement,p,X),h.fontSize&&(H=x=R1(h.fontSize)));let B=K(K(K({},p.reduce((D,Z)=>{let L=P.getAttribute(Z);return L&&(D[Z]=L),D},{})),function(D){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L={};for(let f in Z)TG(D,f.split(" "))&&(L=K(K({},L),Z[f]));return L}(P,X)),yG(P));B[O4]&&P.setAttribute(O4,B[O4]),B[c4]&&(H=R1(B[c4],x),B[c4]="".concat(H));let A={};for(let D in B){let Z=MG(D),L=OG(Z,B[D],h,H);A[Z]=L}A&&A.font&&dG(A.font,A);let $=K(K({},h),A);return Qb.test(P.nodeName)?$:function(D){let Z=cP.getDefaults();return Object.entries(gG).forEach((L)=>{let[f,F]=L;if(D[F]===void 0||D[f]==="")return;if(D[f]===void 0){if(!Z[f])return;D[f]=Z[f]}if(D[f].indexOf("url(")===0)return;let q=new v0(D[f]);D[f]=q.setAlpha(s0(q.getAlpha()*D[F],2)).toRgba()}),D}($)}var _G=["left","top","width","height","visible"],Nj=["rx","ry"];class G8 extends cP{static getDefaults(){return K(K({},super.getDefaults()),G8.ownDefaults)}constructor(P){super(),Object.assign(this,G8.ownDefaults),this.setOptions(P),this._initRxRy()}_initRxRy(){let{rx:P,ry:p}=this;P&&!p?this.ry=P:p&&!P&&(this.rx=p)}_render(P){let{width:p,height:X}=this,H=-p/2,h=-X/2,x=this.rx?Math.min(this.rx,p/2):0,B=this.ry?Math.min(this.ry,X/2):0,A=x!==0||B!==0;P.beginPath(),P.moveTo(H+x,h),P.lineTo(H+p-x,h),A&&P.bezierCurveTo(H+p-YH*x,h,H+p,h+YH*B,H+p,h+B),P.lineTo(H+p,h+X-B),A&&P.bezierCurveTo(H+p,h+X-YH*B,H+p-YH*x,h+X,H+p-x,h+X),P.lineTo(H+x,h+X),A&&P.bezierCurveTo(H+YH*x,h+X,H,h+X-YH*B,H,h+X-B),P.lineTo(H,h+B),A&&P.bezierCurveTo(H,h+YH*B,H+YH*x,h,H+x,h),P.closePath(),this._renderPaintInOrder(P)}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Nj,...P])}_toSVG(){let{width:P,height:p,rx:X,ry:H}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-P/2,'" y="').concat(-p/2,'" rx="').concat(X,'" ry="').concat(H,'" width="').concat(P,'" height="').concat(p,`" />
`)]}static async fromElement(P,p,X){let H=wX(P,this.ATTRIBUTE_NAMES,X),{left:h=0,top:x=0,width:B=0,height:A=0,visible:$=!0}=H,D=t0(H,_G);return new this(K(K(K({},p),D),{},{left:h,top:x,width:B,height:A,visible:Boolean($&&B&&A)}))}}R(G8,"type","Rect"),R(G8,"cacheProperties",[...EX,...Nj]),R(G8,"ownDefaults",{rx:0,ry:0}),R(G8,"ATTRIBUTE_NAMES",[...wH,"x","y","rx","ry","width","height"]),L0.setClass(G8),L0.setSVGClass(G8);var bX="initialization",J5="added",cL="removed",K5="imperative",vj=(P,p)=>{let{strokeUniform:X,strokeWidth:H,width:h,height:x,group:B}=p,A=B&&B!==P?yB(B.calcTransformMatrix(),P.calcTransformMatrix()):null,$=A?p.getRelativeCenterPoint().transform(A):p.getRelativeCenterPoint(),D=!p.isStrokeAccountedForInDimensions(),Z=X&&D?Xj(new l(H,H),void 0,P.calcTransformMatrix()):qL,L=!X&&D?H:0,f=y5(h+L,x+L,d5([A,p.calcOwnMatrix()],!0)).add(Z).scalarDivide(2);return[$.subtract(f),$.add(f)]};class gB{calcLayoutResult(P,p){if(this.shouldPerformLayout(P))return this.calcBoundingBox(p,P)}shouldPerformLayout(P){let{type:p,prevStrategy:X,strategy:H}=P;return p===bX||p===K5||!!X&&H!==X}shouldLayoutClipPath(P){let{type:p,target:{clipPath:X}}=P;return p!==bX&&X&&!X.absolutePositioned}getInitialSize(P,p){return p.size}calcBoundingBox(P,p){let{type:X,target:H}=p;if(X===K5&&p.overrides)return p.overrides;if(P.length===0)return;let{left:h,top:x,width:B,height:A}=v8(P.map((Z)=>vj(H,Z)).reduce((Z,L)=>Z.concat(L),[])),$=new l(B,A),D=new l(h,x).add($.scalarDivide(2));if(X===bX){let Z=this.getInitialSize(p,{size:$,center:D});return{center:D,relativeCorrection:new l(0,0),size:Z}}return{center:D.transform(H.calcOwnMatrix()),size:$}}}R(gB,"type","strategy");class R5 extends gB{shouldPerformLayout(P){return!0}}R(R5,"type","fit-content"),L0.setClass(R5);var uG=["strategy"],iG=["target","strategy","bubbles","prevStrategy"],cj="layoutManager";class Ix{constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new R5;R(this,"strategy",void 0),this.strategy=P,this._subscriptions=new Map}performLayout(P){let p=K(K({bubbles:!0,strategy:this.strategy},P),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(p);let X=this.getLayoutResult(p);X&&this.commitLayout(p,X),this.onAfterLayout(p,X),this._prevLayoutStrategy=p.strategy}attachHandlers(P,p){let{target:X}=p;return[I5,cb,GB,Ob,c5,db,k5,lb,tS].map((H)=>P.on(H,(h)=>this.performLayout(H===I5?{type:"object_modified",trigger:H,e:h,target:X}:{type:"object_modifying",trigger:H,e:h,target:X})))}subscribe(P,p){this.unsubscribe(P,p);let X=this.attachHandlers(P,p);this._subscriptions.set(P,X)}unsubscribe(P,p){(this._subscriptions.get(P)||[]).forEach((X)=>X()),this._subscriptions.delete(P)}unsubscribeTargets(P){P.targets.forEach((p)=>this.unsubscribe(p,P))}subscribeTargets(P){P.targets.forEach((p)=>this.subscribe(p,P))}onBeforeLayout(P){let{target:p,type:X}=P,{canvas:H}=p;if(X===bX||X===J5?this.subscribeTargets(P):X===cL&&this.unsubscribeTargets(P),p.fire("layout:before",{context:P}),H&&H.fire("object:layout:before",{target:p,context:P}),X===K5&&P.deep){let h=t0(P,uG);p.forEachObject((x)=>x.layoutManager&&x.layoutManager.performLayout(K(K({},h),{},{bubbles:!1,target:x})))}}getLayoutResult(P){let{target:p,strategy:X,type:H}=P,h=X.calcLayoutResult(P,p.getObjects());if(!h)return;let x=H===bX?new l:p.getRelativeCenterPoint(),{center:B,correction:A=new l,relativeCorrection:$=new l}=h,D=x.subtract(B).add(A).transform(H===bX?tP:Tp(p.calcOwnMatrix()),!0).add($);return{result:h,prevCenter:x,nextCenter:B,offset:D}}commitLayout(P,p){let{target:X}=P,{result:{size:H},nextCenter:h}=p;var x,B;(X.set({width:H.x,height:H.y}),this.layoutObjects(P,p),P.type===bX)?X.set({left:(x=P.x)!==null&&x!==void 0?x:h.x+H.x*YP(X.originX),top:(B=P.y)!==null&&B!==void 0?B:h.y+H.y*YP(X.originY)}):(X.setPositionByOrigin(h,T0,T0),X.setCoords(),X.set("dirty",!0))}layoutObjects(P,p){let{target:X}=P;X.forEachObject((H)=>{H.group===X&&this.layoutObject(P,p,H)}),P.strategy.shouldLayoutClipPath(P)&&this.layoutObject(P,p,X.clipPath)}layoutObject(P,p,X){let{offset:H}=p;X.set({left:X.left+H.x,top:X.top+H.y})}onAfterLayout(P,p){let{target:X,strategy:H,bubbles:h,prevStrategy:x}=P,B=t0(P,iG),{canvas:A}=X;X.fire("layout:after",{context:P,result:p}),A&&A.fire("object:layout:after",{context:P,result:p,target:X});let $=X.parent;h&&$!=null&&$.layoutManager&&((B.path||(B.path=[])).push(X),$.layoutManager.performLayout(K(K({},B),{},{target:$}))),X.set("dirty",!0)}dispose(){let{_subscriptions:P}=this;P.forEach((p)=>p.forEach((X)=>X())),P.clear()}toObject(){return{type:cj,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}L0.setClass(Ix,cj);var mG=["type","objects","layoutManager"];class Oj extends Ix{performLayout(){}}class TX extends gb(cP){static getDefaults(){return K(K({},super.getDefaults()),TX.ownDefaults)}constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),R(this,"_activeObjects",[]),R(this,"__objectSelectionTracker",void 0),R(this,"__objectSelectionDisposer",void 0),Object.assign(this,TX.ownDefaults),this.setOptions(p),this.groupInit(P,p)}groupInit(P,p){var X;this._objects=[...P],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((H)=>{this.enterGroup(H,!1)}),this.layoutManager=(X=p.layoutManager)!==null&&X!==void 0?X:new Ix,this.layoutManager.performLayout({type:bX,target:this,targets:[...P],x:p.left,y:p.top})}canEnterGroup(P){return P===this||this.isDescendantOf(P)?(kH("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(P)===-1||(kH("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(P){return P.filter((p,X,H)=>this.canEnterGroup(p)&&H.indexOf(p)===X)}add(){for(var P=arguments.length,p=new Array(P),X=0;X<P;X++)p[X]=arguments[X];let H=this._filterObjectsBeforeEnteringGroup(p),h=super.add(...H);return this._onAfterObjectsChange(J5,H),h}insertAt(P){for(var p=arguments.length,X=new Array(p>1?p-1:0),H=1;H<p;H++)X[H-1]=arguments[H];let h=this._filterObjectsBeforeEnteringGroup(X),x=super.insertAt(P,...h);return this._onAfterObjectsChange(J5,h),x}remove(){let P=super.remove(...arguments);return this._onAfterObjectsChange(cL,P),P}_onObjectAdded(P){this.enterGroup(P,!0),this.fire("object:added",{target:P}),P.fire("added",{target:this})}_onObjectRemoved(P,p){this.exitGroup(P,p),this.fire("object:removed",{target:P}),P.fire("removed",{target:this})}_onAfterObjectsChange(P,p){this.layoutManager.performLayout({type:P,targets:p,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(P,p){let X=this[P];return super._set(P,p),P==="canvas"&&X!==p&&(this._objects||[]).forEach((H)=>{H._set(P,p)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(P,p){let{target:X}=p,H=this._activeObjects;if(P)H.push(X),this._set("dirty",!0);else if(H.length>0){let h=H.indexOf(X);h>-1&&(H.splice(h,1),this._set("dirty",!0))}}_watchObject(P,p){P&&this._watchObject(!1,p),P?(p.on("selected",this.__objectSelectionTracker),p.on("deselected",this.__objectSelectionDisposer)):(p.off("selected",this.__objectSelectionTracker),p.off("deselected",this.__objectSelectionDisposer))}enterGroup(P,p){P.group&&P.group.remove(P),P._set("parent",this),this._enterGroup(P,p)}_enterGroup(P,p){p&&kx(P,ZP(Tp(this.calcTransformMatrix()),P.calcTransformMatrix())),this._shouldSetNestedCoords()&&P.setCoords(),P._set("group",this),P._set("canvas",this.canvas),this._watchObject(!0,P);let X=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();X&&(X===P||P.isDescendantOf(X))&&this._activeObjects.push(P)}exitGroup(P,p){this._exitGroup(P,p),P._set("parent",void 0),P._set("canvas",void 0)}_exitGroup(P,p){P._set("group",void 0),p||(kx(P,ZP(this.calcTransformMatrix(),P.calcTransformMatrix())),P.setCoords()),this._watchObject(!1,P);let X=this._activeObjects.length>0?this._activeObjects.indexOf(P):-1;X>-1&&this._activeObjects.splice(X,1)}shouldCache(){let P=cP.prototype.shouldCache.call(this);if(P){for(let p=0;p<this._objects.length;p++)if(this._objects[p].willDrawShadow())return this.ownCaching=!1,!1}return P}willDrawShadow(){if(super.willDrawShadow())return!0;for(let P=0;P<this._objects.length;P++)if(this._objects[P].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(P,p,X){this._renderBackground(P);for(let h=0;h<this._objects.length;h++){var H;let x=this._objects[h];(H=this.canvas)!==null&&H!==void 0&&H.preserveObjectStacking&&x.group!==this?(P.save(),P.transform(...Tp(this.calcTransformMatrix())),x.render(P),P.restore()):x.group===this&&x.render(P)}this._drawClipPath(P,this.clipPath,X)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject((P)=>P.setCoords())}triggerLayout(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(K({target:this,type:K5},P))}render(P){this._transformDone=!0,super.render(P),this._transformDone=!1}__serializeObjects(P,p){let X=this.includeDefaultValues;return this._objects.filter(function(H){return!H.excludeFromExport}).map(function(H){let h=H.includeDefaultValues;H.includeDefaultValues=X;let x=H[P||"toObject"](p);return H.includeDefaultValues=h,x})}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=this.layoutManager.toObject();return K(K(K({},super.toObject(["subTargetCheck","interactive",...P])),p.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:p}:{}),{},{objects:this.__serializeObjects("toObject",P)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((P)=>{this._watchObject(!1,P),P.dispose()}),super.dispose()}_createSVGBgRect(P){if(!this.backgroundColor)return"";let p=G8.prototype._toSVG.call(this),X=p.indexOf("COMMON_PARTS");p[X]='for="group" ';let H=p.join("");return P?P(H):H}_toSVG(P){let p=["<g ","COMMON_PARTS",` >
`],X=this._createSVGBgRect(P);X&&p.push("\t\t",X);for(let H=0;H<this._objects.length;H++)p.push("\t\t",this._objects[H].toSVG(P));return p.push(`</g>
`),p}getSvgStyles(){let P=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",p=this.visible?"":" visibility: hidden;";return[P,this.getSvgFilter(),p].join("")}toClipPathSVG(P){let p=[],X=this._createSVGBgRect(P);X&&p.push("\t",X);for(let H=0;H<this._objects.length;H++)p.push("\t",this._objects[H].toClipPathSVG(P));return this._createBaseClipPathSVGMarkup(p,{reviver:P})}static fromObject(P,p){let{type:X,objects:H=[],layoutManager:h}=P,x=t0(P,mG);return Promise.all([jx(H,p),dB(x,p)]).then((B)=>{let[A,$]=B,D=new this(A,K(K(K({},x),$),{},{layoutManager:new Oj}));if(h){let Z=L0.getClass(h.type),L=L0.getClass(h.strategy);D.layoutManager=new Z(new L)}else D.layoutManager=new Ix;return D.layoutManager.subscribeTargets({type:bX,target:D,targets:D.getObjects()}),D.setCoords(),D})}}R(TX,"type","Group"),R(TX,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),L0.setClass(TX);var dj=(P,p)=>Math.min(p.width/P.width,p.height/P.height),lj=(P,p)=>Math.max(p.width/P.width,p.height/P.height),BL="\\s*,?\\s*",TB="".concat(BL,"(").concat(B8,")"),aG="".concat(TB).concat(TB).concat(TB).concat(BL,"([01])").concat(BL,"([01])").concat(TB).concat(TB),oG={m:"l",M:"L"},rG=(P,p,X,H,h,x,B,A,$,D,Z)=>{let L=D8(P),f=$8(P),F=D8(p),q=$8(p),b=X*h*F-H*x*q+B,j=H*h*F+X*x*q+A;return["C",D+$*(-X*h*f-H*x*L),Z+$*(-H*h*f+X*x*L),b+$*(X*h*q+H*x*F),j+$*(H*h*q-X*x*F),b,j]},zb=(P,p,X,H)=>{let h=Math.atan2(p,P),x=Math.atan2(H,X);return x>=h?x-h:2*Math.PI-(h-x)};function AL(P,p,X,H,h,x,B,A){let $;if(R0.cachesBoundsOfCurve&&($=[...arguments].join(),zB.boundsOfCurveCache[$]))return zB.boundsOfCurveCache[$];let{sqrt:D,abs:Z}=Math,L=[],f=[[0,0],[0,0]],F=6*P-12*X+6*h,q=-3*P+9*X-9*h+3*B,b=3*X-3*P;for(let Y=0;Y<2;++Y){if(Y>0&&(F=6*p-12*H+6*x,q=-3*p+9*H-9*x+3*A,b=3*H-3*p),Z(q)<0.000000000001){if(Z(F)<0.000000000001)continue;let c=-b/F;0<c&&c<1&&L.push(c);continue}let k=F*F-4*b*q;if(k<0)continue;let z=D(k),W=(-F+z)/(2*q);0<W&&W<1&&L.push(W);let M=(-F-z)/(2*q);0<M&&M<1&&L.push(M)}let j=L.length,Q=j,C=gj(P,p,X,H,h,x,B,A);for(;j--;){let{x:Y,y:k}=C(L[j]);f[0][j]=Y,f[1][j]=k}f[0][Q]=P,f[1][Q]=p,f[0][Q+1]=B,f[1][Q+1]=A;let V=[new l(Math.min(...f[0]),Math.min(...f[1])),new l(Math.max(...f[0]),Math.max(...f[1]))];return R0.cachesBoundsOfCurve&&(zB.boundsOfCurveCache[$]=V),V}var nG=(P,p,X)=>{let[H,h,x,B,A,$,D,Z]=X,L=((f,F,q,b,j,Q,C)=>{if(q===0||b===0)return[];let V=0,Y=0,k=0,z=Math.PI,W=C*FL,M=$8(W),c=D8(W),w=0.5*(-c*f-M*F),U=0.5*(-c*F+M*f),G=q**2,J=b**2,d=U**2,S=w**2,r=G*J-G*d-J*S,e=Math.abs(q),y=Math.abs(b);if(r<0){let i=Math.sqrt(1-r/(G*J));e*=i,y*=i}else k=(j===Q?-1:1)*Math.sqrt(r/(G*d+J*S));let Y0=k*e*U/y,m=-k*y*w/e,f0=c*Y0-M*m+0.5*f,E=M*Y0+c*m+0.5*F,_=zb(1,0,(w-Y0)/e,(U-m)/y),P0=zb((w-Y0)/e,(U-m)/y,(-w-Y0)/e,(-U-m)/y);Q===0&&P0>0?P0-=2*z:Q===1&&P0<0&&(P0+=2*z);let u=Math.ceil(Math.abs(P0/z*2)),Z0=[],D0=P0/u,M0=2.6666666666666665*Math.sin(D0/4)*Math.sin(D0/4)/Math.sin(D0/2),b0=_+D0;for(let i=0;i<u;i++)Z0[i]=rG(_,b0,c,M,e,y,f0,E,M0,V,Y),V=Z0[i][5],Y=Z0[i][6],_=b0,b0+=D0;return Z0})(D-P,Z-p,h,x,A,$,B);for(let f=0,F=L.length;f<F;f++)L[f][1]+=P,L[f][2]+=p,L[f][3]+=P,L[f][4]+=p,L[f][5]+=P,L[f][6]+=p;return L},yj=(P)=>{let p=0,X=0,H=0,h=0,x=[],B,A=0,$=0;for(let D of P){let Z=[...D],L;switch(Z[0]){case"l":Z[1]+=p,Z[2]+=X;case"L":p=Z[1],X=Z[2],L=["L",p,X];break;case"h":Z[1]+=p;case"H":p=Z[1],L=["L",p,X];break;case"v":Z[1]+=X;case"V":X=Z[1],L=["L",p,X];break;case"m":Z[1]+=p,Z[2]+=X;case"M":p=Z[1],X=Z[2],H=Z[1],h=Z[2],L=["M",p,X];break;case"c":Z[1]+=p,Z[2]+=X,Z[3]+=p,Z[4]+=X,Z[5]+=p,Z[6]+=X;case"C":A=Z[3],$=Z[4],p=Z[5],X=Z[6],L=["C",Z[1],Z[2],A,$,p,X];break;case"s":Z[1]+=p,Z[2]+=X,Z[3]+=p,Z[4]+=X;case"S":B==="C"?(A=2*p-A,$=2*X-$):(A=p,$=X),p=Z[3],X=Z[4],L=["C",A,$,Z[1],Z[2],p,X],A=L[3],$=L[4];break;case"q":Z[1]+=p,Z[2]+=X,Z[3]+=p,Z[4]+=X;case"Q":A=Z[1],$=Z[2],p=Z[3],X=Z[4],L=["Q",A,$,p,X];break;case"t":Z[1]+=p,Z[2]+=X;case"T":B==="Q"?(A=2*p-A,$=2*X-$):(A=p,$=X),p=Z[1],X=Z[2],L=["Q",A,$,p,X];break;case"a":Z[6]+=p,Z[7]+=X;case"A":nG(p,X,Z).forEach((f)=>x.push(f)),p=Z[6],X=Z[7];break;case"z":case"Z":p=H,X=h,L=["Z"]}L?(x.push(L),B=L[0]):B=""}return x},U5=(P,p,X,H)=>Math.sqrt((X-P)**2+(H-p)**2),gj=(P,p,X,H,h,x,B,A)=>($)=>{let D=$**3,Z=((F)=>3*F**2*(1-F))($),L=((F)=>3*F*(1-F)**2)($),f=((F)=>(1-F)**3)($);return new l(B*D+h*Z+X*L+P*f,A*D+x*Z+H*L+p*f)},_j=(P)=>P**2,uj=(P)=>2*P*(1-P),ij=(P)=>(1-P)**2,sG=(P,p,X,H,h,x,B,A)=>($)=>{let D=_j($),Z=uj($),L=ij($),f=3*(L*(X-P)+Z*(h-X)+D*(B-h)),F=3*(L*(H-p)+Z*(x-H)+D*(A-x));return Math.atan2(F,f)},tG=(P,p,X,H,h,x)=>(B)=>{let A=_j(B),$=uj(B),D=ij(B);return new l(h*A+X*$+P*D,x*A+H*$+p*D)},eG=(P,p,X,H,h,x)=>(B)=>{let A=1-B,$=2*(A*(X-P)+B*(h-X)),D=2*(A*(H-p)+B*(x-H));return Math.atan2(D,$)},Jb=(P,p,X)=>{let H=new l(p,X),h=0;for(let x=1;x<=100;x+=1){let B=P(x/100);h+=U5(H.x,H.y,B.x,B.y),H=B}return h},PN=(P,p)=>{let X,H=0,h=0,x={x:P.x,y:P.y},B=K({},x),A=0.01,$=0,D=P.iterator,Z=P.angleFinder;for(;h<p&&A>0.0001;)B=D(H),$=H,X=U5(x.x,x.y,B.x,B.y),X+h>p?(H-=A,A/=2):(x=B,H+=A,h+=X);return K(K({},B),{},{angle:Z($)})},OL=(P)=>{let p,X,H=0,h=0,x=0,B=0,A=0,$=[];for(let D of P){let Z={x:h,y:x,command:D[0],length:0};switch(D[0]){case"M":X=Z,X.x=B=h=D[1],X.y=A=x=D[2];break;case"L":X=Z,X.length=U5(h,x,D[1],D[2]),h=D[1],x=D[2];break;case"C":p=gj(h,x,D[1],D[2],D[3],D[4],D[5],D[6]),X=Z,X.iterator=p,X.angleFinder=sG(h,x,D[1],D[2],D[3],D[4],D[5],D[6]),X.length=Jb(p,h,x),h=D[5],x=D[6];break;case"Q":p=tG(h,x,D[1],D[2],D[3],D[4]),X=Z,X.iterator=p,X.angleFinder=eG(h,x,D[1],D[2],D[3],D[4]),X.length=Jb(p,h,x),h=D[3],x=D[4];break;case"Z":X=Z,X.destX=B,X.destY=A,X.length=U5(h,x,B,A),h=B,x=A}H+=X.length,$.push(X)}return $.push({length:H,x:h,y:x}),$},mj=function(P,p){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OL(P),H=0;for(;p-X[H].length>0&&H<X.length-2;)p-=X[H].length,H++;let h=X[H],x=p/h.length,B=P[H];switch(h.command){case"M":return{x:h.x,y:h.y,angle:0};case"Z":return K(K({},new l(h.x,h.y).lerp(new l(h.destX,h.destY),x)),{},{angle:Math.atan2(h.destY-h.y,h.destX-h.x)});case"L":return K(K({},new l(h.x,h.y).lerp(new l(B[1],B[2]),x)),{},{angle:Math.atan2(B[2]-h.y,B[1]-h.x)});case"C":case"Q":return PN(h,p)}},pN=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),Kb=new RegExp(aG,"g"),XN=new RegExp(B8,"gi"),HN={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},aj=(P)=>{var p;let X=[],H=(p=P.match(pN))!==null&&p!==void 0?p:[];for(let h of H){let x=h[0];if(x==="z"||x==="Z"){X.push([x]);continue}let B=HN[x.toLowerCase()],A=[];if(x==="a"||x==="A"){Kb.lastIndex=0;for(let $=null;$=Kb.exec(h);)A.push(...$.slice(1))}else A=h.match(XN)||[];for(let $=0;$<A.length;$+=B){let D=new Array(B),Z=oG[x];D[0]=$>0&&Z?Z:x;for(let L=0;L<B;L++)D[L+1]=parseFloat(A[$+L]);X.push(D)}}return X},hN=function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,X=new l(P[0]),H=new l(P[1]),h=1,x=0,B=[],A=P.length,$=A>2,D;for($&&(h=P[2].x<H.x?-1:P[2].x===H.x?0:1,x=P[2].y<H.y?-1:P[2].y===H.y?0:1),B.push(["M",X.x-h*p,X.y-x*p]),D=1;D<A;D++){if(!X.eq(H)){let Z=X.midPointFrom(H);B.push(["Q",X.x,X.y,Z.x,Z.y])}X=P[D],D+1<P.length&&(H=P[D+1])}return $&&(h=X.x>P[D-2].x?1:X.x===P[D-2].x?0:-1,x=X.y>P[D-2].y?1:X.y===P[D-2].y?0:-1),B.push(["L",X.x+h*p,X.y+x*p]),B},oj=(P,p)=>P.map((X)=>X.map((H,h)=>h===0||p===void 0?H:s0(H,p)).join(" ")).join(" ");function S5(P,p){let X=P.style;X&&p&&(typeof p=="string"?X.cssText+=";"+p:Object.entries(p).forEach((H)=>{let[h,x]=H;return X.setProperty(h,x)}))}var xN=(P,p)=>Math.floor(Math.random()*(p-P+1))+P;function BN(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=p.onComplete||K1,H=new(v5()).XMLHttpRequest,h=p.signal,x=function(){H.abort()},B=function(){h&&h.removeEventListener("abort",x),H.onerror=H.ontimeout=K1};if(h&&h.aborted)throw new fL("request");return h&&h.addEventListener("abort",x,{once:!0}),H.onreadystatechange=function(){H.readyState===4&&(B(),X(H),H.onreadystatechange=K1)},H.onerror=H.ontimeout=B,H.open("get",P,!0),H.send(),H}var AN=(P,p)=>{let X=P._findCenterFromElement();P.transformMatrix&&(((H)=>{if(H.transformMatrix){let{scaleX:h,scaleY:x,angle:B,skewX:A}=bx(H.transformMatrix);H.flipX=!1,H.flipY=!1,H.set(eP,h),H.set(Mp,x),H.angle=B,H.skewX=A,H.skewY=0}})(P),X=X.transform(P.transformMatrix)),delete P.transformMatrix,p&&(P.scaleX*=p.scaleX,P.scaleY*=p.scaleY,P.cropX=p.cropX,P.cropY=p.cropY,X.x+=p.offsetLeft,X.y+=p.offsetTop,P.width=p.width,P.height=p.height),P.setPositionByOrigin(X,T0,T0)},sO=Object.freeze({__proto__:null,addTransformToObject:Pj,animate:RL,animateColor:Fj,applyTransformToObject:kx,calcAngleBetweenVectors:z5,calcDimensionsMatrix:OB,calcPlaneChangeMatrix:yB,calcVectorRotation:Aj,cancelAnimFrame:_b,capValue:U1,composeMatrix:ob,copyCanvasElement:(P)=>{var p;let X=Z8(P);return(p=X.getContext("2d"))===null||p===void 0||p.drawImage(P,0,0),X},cos:D8,createCanvasElement:ap,createImage:ub,createRotateMatrix:wx,createScaleMatrix:l5,createSkewXMatrix:kL,createSkewYMatrix:IL,createTranslateMatrix:Ex,createVector:E5,crossProduct:qx,degreesToRadians:$P,dotProduct:Dj,ease:$G,enlivenObjectEnlivables:dB,enlivenObjects:jx,findScaleToCover:lj,findScaleToFit:dj,getBoundsOfCurve:AL,getOrthonormalVector:KL,getPathSegmentsInfo:OL,getPointOnPath:mj,getPointer:eb,getRandomInt:xN,getRegularPolygonPath:(P,p)=>{let X=2*Math.PI/P,H=-IH;P%2==0&&(H+=X/2);let h=new Array(P+1);for(let x=0;x<P;x++){let B=x*X+H,{x:A,y:$}=new l(D8(B),$8(B)).scalarMultiply(p);h[x]=[x===0?"M":"L",A,$]}return h[P]=["Z"],h},getSmoothPathFromPoints:hN,getSvgAttributes:(P)=>{let p=["instantiated_by_use","style","id","class"];switch(P){case"linearGradient":return p.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return p.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return p.concat(["offset","stop-color","stop-opacity"])}return p},getUnitVector:u5,groupSVGElements:(P,p)=>P&&P.length===1?P[0]:new TX(P,p),hasStyleChanged:o5,invertTransform:Tp,isBetweenVectors:e4,isIdentityMatrix:ib,isTouchEvent:M5,isTransparent:Kj,joinPath:oj,loadImage:KB,magnitude:w5,makeBoundingBoxFromPoints:v8,makePathSimpler:yj,matrixToSVG:NB,mergeClipPaths:(P,p)=>{var X;let H=P,h=p;H.inverted&&!h.inverted&&(H=p,h=P),t4(h,(X=h.group)===null||X===void 0?void 0:X.calcTransformMatrix(),H.calcTransformMatrix());let x=H.inverted&&h.inverted;return x&&(H.inverted=h.inverted=!1),new TX([H],{clipPath:h,inverted:x})},multiplyTransformMatrices:ZP,multiplyTransformMatrixArray:d5,parsePath:aj,parsePreserveAspectRatioAttribute:rb,parseUnit:R1,pick:S1,projectStrokeOnPoints:Rj,qrDecompose:bx,radiansToDegrees:MH,removeFromArray:I1,removeTransformFromObject:(P,p)=>{let X=Tp(p),H=ZP(X,P.calcOwnMatrix());kx(P,H)},removeTransformMatrixForSvgParsing:AN,request:BN,requestAnimFrame:JB,resetObjectTransform:pj,rotatePoint:(P,p,X)=>P.rotate(X,p),rotateVector:JL,saveObjectTransform:WL,sendObjectToPlane:t4,sendPointToPlane:kX,sendVectorToPlane:Xj,setStyle:S5,sin:$8,sizeAfterTransform:y5,string:IG,stylesFromArray:Gj,stylesToArray:Sj,toBlob:jL,toDataURL:bL,toFixed:s0,transformPath:(P,p,X)=>(X&&(p=ZP(p,[1,0,0,1,-X.x,-X.y])),P.map((H)=>{let h=[...H];for(let x=1;x<H.length-1;x+=2){let{x:B,y:A}=uP({x:H[x],y:H[x+1]},p);h[x]=B,h[x+1]=A}return h})),transformPoint:uP});class rj extends ML{constructor(P){let{allowTouchScrolling:p=!1,containerClass:X=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(P),R(this,"upper",void 0),R(this,"container",void 0);let{el:H}=this.lower,h=this.createUpperCanvas();this.upper={el:h,ctx:h.getContext("2d")},this.applyCanvasStyle(H,{allowTouchScrolling:p}),this.applyCanvasStyle(h,{allowTouchScrolling:p,styles:{position:"absolute",left:"0",top:"0"}});let x=this.createContainerElement();x.classList.add(X),H.parentNode&&H.parentNode.replaceChild(x,H),x.append(H,h),this.container=x}createUpperCanvas(){let{el:P}=this.lower,p=ap();return p.className=P.className,p.classList.remove("lower-canvas"),p.classList.add("upper-canvas"),p.setAttribute("data-fabric","top"),p.style.cssText=P.style.cssText,p.setAttribute("draggable","true"),p}createContainerElement(){let P=Tx().createElement("div");return P.setAttribute("data-fabric","wrapper"),S5(P,{position:"relative"}),fb(P),P}applyCanvasStyle(P,p){let{styles:X,allowTouchScrolling:H}=p;S5(P,K(K({},X),{},{"touch-action":H?"manipulation":$p})),fb(P)}setDimensions(P,p){super.setDimensions(P,p);let{el:X,ctx:H}=this.upper;tb(X,H,P,p)}setCSSDimensions(P){super.setCSSDimensions(P),n4(this.upper.el,P),n4(this.container,P)}cleanupDOM(P){let p=this.container,{el:X}=this.lower,{el:H}=this.upper;super.cleanupDOM(P),p.removeChild(H),p.removeChild(X),p.parentNode&&p.parentNode.replaceChild(X,p)}dispose(){super.dispose(),c8().dispose(this.upper.el),delete this.upper,delete this.container}}class r5 extends lB{constructor(){super(...arguments),R(this,"targets",[]),R(this,"_hoveredTargets",[]),R(this,"_objectsToRender",void 0),R(this,"_currentTransform",null),R(this,"_groupSelector",null),R(this,"contextTopDirty",!1)}static getDefaults(){return K(K({},super.getDefaults()),r5.ownDefaults)}get upperCanvasEl(){var P;return(P=this.elements.upper)===null||P===void 0?void 0:P.el}get contextTop(){var P;return(P=this.elements.upper)===null||P===void 0?void 0:P.ctx}get wrapperEl(){return this.elements.container}initElements(P){this.elements=new rj(P,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(P){this._objectsToRender=void 0,super._onObjectAdded(P)}_onObjectRemoved(P){this._objectsToRender=void 0,P===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[P]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[P]}),P.fire("deselected",{target:P})),P===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(P)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){let P=this._activeObject;return!this.preserveObjectStacking&&P?this._objects.filter((p)=>!p.group&&p!==P).concat(P):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(P){P.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(P),this.contextTopDirty=!0),P.restore()}renderTop(){let P=this.contextTop;this.clearContext(P),this.renderTopLayer(P),this.fire("after:render",{ctx:P})}setTargetFindTolerance(P){P=Math.round(P),this.targetFindTolerance=P;let p=this.getRetinaScaling(),X=Math.ceil((2*P+1)*p);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=X,this.pixelFindContext.scale(p,p)}isTargetTransparent(P,p,X){let H=this.targetFindTolerance,h=this.pixelFindContext;this.clearContext(h),h.save(),h.translate(-p+H,-X+H),h.transform(...this.viewportTransform);let x=P.selectionBackgroundColor;P.selectionBackgroundColor="",P.render(h),P.selectionBackgroundColor=x,h.restore();let B=Math.round(H*this.getRetinaScaling());return Kj(h,B,B,B)}_isSelectionKeyPressed(P){let p=this.selectionKey;return!!p&&(Array.isArray(p)?!!p.find((X)=>!!X&&P[X]===!0):P[p])}_shouldClearSelection(P,p){let X=this.getActiveObjects(),H=this._activeObject;return!!(!p||p&&H&&X.length>1&&X.indexOf(p)===-1&&H!==p&&!this._isSelectionKeyPressed(P)||p&&!p.evented||p&&!p.selectable&&H&&H!==p)}_shouldCenterTransform(P,p,X){if(!P)return;let H;return p===O5||p===eP||p===Mp||p===GB?H=this.centeredScaling||P.centeredScaling:p===VL&&(H=this.centeredRotation||P.centeredRotation),H?!X:X}_getOriginFromCorner(P,p){let X={x:P.originX,y:P.originY};return p?(["ml","tl","bl"].includes(p)?X.x=FP:["mr","tr","br"].includes(p)&&(X.x=N0),["tl","mt","tr"].includes(p)?X.y=r4:["bl","mb","br"].includes(p)&&(X.y=Dp),X):X}_setupCurrentTransform(P,p,X){var H;let h=p.group?kX(this.getScenePoint(P),void 0,p.group.calcTransformMatrix()):this.getScenePoint(P),{key:x="",control:B}=p.getActiveControl()||{},A=X&&B?(H=B.getActionHandler(P,p,B))===null||H===void 0?void 0:H.bind(B):xj,$=((f,F,q,b)=>{if(!F||!f)return"drag";let j=b.controls[F];return j.getActionName(q,j,b)})(X,x,P,p),D=P[this.centeredKey],Z=this._shouldCenterTransform(p,$,D)?{x:T0,y:T0}:this._getOriginFromCorner(p,x),L={target:p,action:$,actionHandler:A,actionPerformed:!1,corner:x,scaleX:p.scaleX,scaleY:p.scaleY,skewX:p.skewX,skewY:p.skewY,offsetX:h.x-p.left,offsetY:h.y-p.top,originX:Z.x,originY:Z.y,ex:h.x,ey:h.y,lastX:h.x,lastY:h.y,theta:$P(p.angle),width:p.width,height:p.height,shiftKey:P.shiftKey,altKey:D,original:K(K({},WL(p)),{},{originX:Z.x,originY:Z.y})};this._currentTransform=L,this.fire("before:transform",{e:P,transform:L})}setCursor(P){this.upperCanvasEl.style.cursor=P}_drawSelection(P){let{x:p,y:X,deltaX:H,deltaY:h}=this._groupSelector,x=new l(p,X).transform(this.viewportTransform),B=new l(p+H,X+h).transform(this.viewportTransform),A=this.selectionLineWidth/2,$=Math.min(x.x,B.x),D=Math.min(x.y,B.y),Z=Math.max(x.x,B.x),L=Math.max(x.y,B.y);this.selectionColor&&(P.fillStyle=this.selectionColor,P.fillRect($,D,Z-$,L-D)),this.selectionLineWidth&&this.selectionBorderColor&&(P.lineWidth=this.selectionLineWidth,P.strokeStyle=this.selectionBorderColor,$+=A,D+=A,Z-=A,L-=A,cP.prototype._setLineDash.call(this,P,this.selectionDashArray),P.strokeRect($,D,Z-$,L-D))}findTarget(P){if(this.skipTargetFind)return;let p=this.getViewportPoint(P),X=this._activeObject,H=this.getActiveObjects();if(this.targets=[],X&&H.length>=1){if(X.findControl(p,M5(P)))return X;if(H.length>1&&this.searchPossibleTargets([X],p))return X;if(X===this.searchPossibleTargets([X],p)){if(this.preserveObjectStacking){let h=this.targets;this.targets=[];let x=this.searchPossibleTargets(this._objects,p);return P[this.altSelectionKey]&&x&&x!==X?(this.targets=h,X):x}return X}}return this.searchPossibleTargets(this._objects,p)}_pointIsInObjectSelectionArea(P,p){let X=P.getCoords(),H=this.getZoom(),h=P.padding/H;if(h){let[x,B,A,$]=X,D=Math.atan2(B.y-x.y,B.x-x.x),Z=D8(D)*h,L=$8(D)*h,f=Z+L,F=Z-L;X=[new l(x.x-F,x.y-f),new l(B.x+f,B.y-F),new l(A.x+F,A.y+f),new l($.x-f,$.y+F)]}return xP.isPointInPolygon(p,X)}_checkTarget(P,p){if(P&&P.visible&&P.evented&&this._pointIsInObjectSelectionArea(P,kX(p,void 0,this.viewportTransform))){if(!this.perPixelTargetFind&&!P.perPixelTargetFind||P.isEditing)return!0;if(!this.isTargetTransparent(P,p.x,p.y))return!0}return!1}_searchPossibleTargets(P,p){let X=P.length;for(;X--;){let H=P[X];if(this._checkTarget(H,p)){if(b5(H)&&H.subTargetCheck){let h=this._searchPossibleTargets(H._objects,p);h&&this.targets.push(h)}return H}}}searchPossibleTargets(P,p){let X=this._searchPossibleTargets(P,p);if(X&&b5(X)&&X.interactive&&this.targets[0]){let H=this.targets;for(let h=H.length-1;h>0;h--){let x=H[h];if(!b5(x)||!x.interactive)return x}return H[0]}return X}getViewportPoint(P){return this._pointer?this._pointer:this.getPointer(P,!0)}getScenePoint(P){return this._absolutePointer?this._absolutePointer:this.getPointer(P)}getPointer(P){let p=arguments.length>1&&arguments[1]!==void 0&&arguments[1],X=this.upperCanvasEl,H=X.getBoundingClientRect(),h=eb(P),x=H.width||0,B=H.height||0;x&&B||((Dp in H)&&(r4 in H)&&(B=Math.abs(H.top-H.bottom)),(FP in H)&&(N0 in H)&&(x=Math.abs(H.right-H.left))),this.calcOffset(),h.x=h.x-this._offset.left,h.y=h.y-this._offset.top,p||(h=kX(h,void 0,this.viewportTransform));let A=this.getRetinaScaling();A!==1&&(h.x/=A,h.y/=A);let $=x===0||B===0?new l(1,1):new l(X.width/x,X.height/B);return h.multiply($)}_setDimensionsImpl(P,p){this._resetTransformEventData(),super._setDimensionsImpl(P,p),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=ap(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){let P=this._activeObject;return T1(P)?P.getObjects():P?[P]:[]}_fireSelectionEvents(P,p){let X=!1,H=!1,h=this.getActiveObjects(),x=[],B=[];P.forEach((A)=>{h.includes(A)||(X=!0,A.fire("deselected",{e:p,target:A}),B.push(A))}),h.forEach((A)=>{P.includes(A)||(X=!0,A.fire("selected",{e:p,target:A}),x.push(A))}),P.length>0&&h.length>0?(H=!0,X&&this.fire("selection:updated",{e:p,selected:x,deselected:B})):h.length>0?(H=!0,this.fire("selection:created",{e:p,selected:x})):P.length>0&&(H=!0,this.fire("selection:cleared",{e:p,deselected:B})),H&&(this._objectsToRender=void 0)}setActiveObject(P,p){let X=this.getActiveObjects(),H=this._setActiveObject(P,p);return this._fireSelectionEvents(X,p),H}_setActiveObject(P,p){let X=this._activeObject;return X!==P&&(!(!this._discardActiveObject(p,P)&&this._activeObject)&&(!P.onSelect({e:p})&&(this._activeObject=P,T1(P)&&X!==P&&P.set("canvas",this),P.setCoords(),!0)))}_discardActiveObject(P,p){let X=this._activeObject;return!!X&&(!X.onDeselect({e:P,object:p})&&(this._currentTransform&&this._currentTransform.target===X&&this.endCurrentTransform(P),T1(X)&&X===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0))}discardActiveObject(P){let p=this.getActiveObjects(),X=this.getActiveObject();p.length&&this.fire("before:selection:cleared",{e:P,deselected:[X]});let H=this._discardActiveObject(P);return this._fireSelectionEvents(p,P),H}endCurrentTransform(P){let p=this._currentTransform;this._finalizeCurrentTransform(P),p&&p.target&&(p.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(P){let p=this._currentTransform,X=p.target,H={e:P,target:X,transform:p,action:p.action};X._scaling&&(X._scaling=!1),X.setCoords(),p.actionPerformed&&(this.fire("object:modified",H),X.fire(I5,H))}setViewportTransform(P){super.setViewportTransform(P);let p=this._activeObject;p&&p.setCoords()}destroy(){let P=this._activeObject;T1(P)&&(P.removeAll(),P.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(P){let p=this._activeObject;p&&p._renderControls(P)}_toObject(P,p,X){let H=this._realizeGroupTransformOnObject(P),h=super._toObject(P,p,X);return P.set(H),h}_realizeGroupTransformOnObject(P){let{group:p}=P;if(p&&T1(p)&&this._activeObject===p){let X=S1(P,["angle","flipX","flipY",N0,eP,Mp,Mx,Wx,Dp]);return Pj(P,p.calcOwnMatrix()),X}return{}}_setSVGObject(P,p,X){let H=this._realizeGroupTransformOnObject(p);super._setSVGObject(P,p,X),p.set(H)}}R(r5,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class nj{constructor(P){R(this,"targets",[]),R(this,"__disposer",void 0);let p=()=>{let{hiddenTextarea:H}=P.getActiveObject()||{};H&&H.focus()},X=P.upperCanvasEl;X.addEventListener("click",p),this.__disposer=()=>X.removeEventListener("click",p)}exitTextEditing(){this.target=void 0,this.targets.forEach((P)=>{P.isEditing&&P.exitEditing()})}add(P){this.targets.push(P)}remove(P){this.unregister(P),I1(this.targets,P)}register(P){this.target=P}unregister(P){P===this.target&&(this.target=void 0)}onMouseMove(P){var p;((p=this.target)===null||p===void 0?void 0:p.isEditing)&&this.target.updateSelectionOnMouseMove(P)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}var DN=["target","oldTarget","fireCanvas","e"],Ip={passive:!1},eh=(P,p)=>{let X=P.getViewportPoint(p),H=P.getScenePoint(p);return{viewportPoint:X,scenePoint:H,pointer:X,absolutePointer:H}},bH=function(P){for(var p=arguments.length,X=new Array(p>1?p-1:0),H=1;H<p;H++)X[H-1]=arguments[H];return P.addEventListener(...X)},ip=function(P){for(var p=arguments.length,X=new Array(p>1?p-1:0),H=1;H<p;H++)X[H-1]=arguments[H];return P.removeEventListener(...X)},$N={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class WX extends r5{constructor(P){super(P,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),R(this,"_isClick",void 0),R(this,"textEditingManager",new nj(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach((p)=>{this[p]=this[p].bind(this)}),this.addOrRemove(bH,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(P,p){let X=this.upperCanvasEl,H=this._getEventPrefix();P(sb(X),"resize",this._onResize),P(X,H+"down",this._onMouseDown),P(X,"".concat(H,"move"),this._onMouseMove,Ip),P(X,"".concat(H,"out"),this._onMouseOut),P(X,"".concat(H,"enter"),this._onMouseEnter),P(X,"wheel",this._onMouseWheel),P(X,"contextmenu",this._onContextMenu),P(X,"dblclick",this._onDoubleClick),P(X,"dragstart",this._onDragStart),P(X,"dragend",this._onDragEnd),P(X,"dragover",this._onDragOver),P(X,"dragenter",this._onDragEnter),P(X,"dragleave",this._onDragLeave),P(X,"drop",this._onDrop),this.enablePointerEvents||P(X,"touchstart",this._onTouchStart,Ip)}removeListeners(){this.addOrRemove(ip,"remove");let P=this._getEventPrefix(),p=h8(this.upperCanvasEl);ip(p,"".concat(P,"up"),this._onMouseUp),ip(p,"touchend",this._onTouchEnd,Ip),ip(p,"".concat(P,"move"),this._onMouseMove,Ip),ip(p,"touchmove",this._onMouseMove,Ip),clearTimeout(this._willAddMouseDown)}_onMouseWheel(P){this.__onMouseWheel(P)}_onMouseOut(P){let p=this._hoveredTarget,X=K({e:P},eh(this,P));this.fire("mouse:out",K(K({},X),{},{target:p})),this._hoveredTarget=void 0,p&&p.fire("mouseout",K({},X)),this._hoveredTargets.forEach((H)=>{this.fire("mouse:out",K(K({},X),{},{target:H})),H&&H.fire("mouseout",K({},X))}),this._hoveredTargets=[]}_onMouseEnter(P){this._currentTransform||this.findTarget(P)||(this.fire("mouse:over",K({e:P},eh(this,P))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(P){this._isClick=!1;let p=this.getActiveObject();if(p&&p.onDragStart(P)){this._dragSource=p;let X={e:P,target:p};return this.fire("dragstart",X),p.fire("dragstart",X),void bH(this.upperCanvasEl,"drag",this._onDragProgress)}s4(P)}_renderDragEffects(P,p,X){let H=!1,h=this._dropTarget;h&&h!==p&&h!==X&&(h.clearContextTop(),H=!0),p==null||p.clearContextTop(),X!==p&&(X==null||X.clearContextTop());let x=this.contextTop;x.save(),x.transform(...this.viewportTransform),p&&(x.save(),p.transform(x),p.renderDragSourceEffect(P),x.restore(),H=!0),X&&(x.save(),X.transform(x),X.renderDropTargetEffect(P),x.restore(),H=!0),x.restore(),H&&(this.contextTopDirty=!0)}_onDragEnd(P){let p=!!P.dataTransfer&&P.dataTransfer.dropEffect!==$p,X=p?this._activeObject:void 0,H={e:P,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:p,dropTarget:X};ip(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",H),this._dragSource&&this._dragSource.fire("dragend",H),delete this._dragSource,this._onMouseUp(P)}_onDragProgress(P){let p={e:P,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",p),this._dragSource&&this._dragSource.fire("drag",p)}findDragTargets(P){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(P)),targets:[...this.targets]}}_onDragOver(P){let{target:X,targets:H}=this.findDragTargets(P),h=this._dragSource,x={e:P,target:X,subTargets:H,dragSource:h,canDrop:!1,dropTarget:void 0},B;this.fire("dragover",x),this._fireEnterLeaveEvents(X,x),X&&(X.canDrop(P)&&(B=X),X.fire("dragover",x));for(let A=0;A<H.length;A++){let $=H[A];$.canDrop(P)&&(B=$),$.fire("dragover",x)}this._renderDragEffects(P,h,B),this._dropTarget=B}_onDragEnter(P){let{target:p,targets:X}=this.findDragTargets(P),H={e:P,target:p,subTargets:X,dragSource:this._dragSource};this.fire("dragenter",H),this._fireEnterLeaveEvents(p,H)}_onDragLeave(P){let p={e:P,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",p),this._fireEnterLeaveEvents(void 0,p),this._renderDragEffects(P,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(P){let{target:p,targets:X}=this.findDragTargets(P),H=this._basicEventHandler("drop:before",K({e:P,target:p,subTargets:X,dragSource:this._dragSource},eh(this,P)));H.didDrop=!1,H.dropTarget=void 0,this._basicEventHandler("drop",H),this.fire("drop:after",H)}_onContextMenu(P){let p=this.findTarget(P),X=this.targets||[],H=this._basicEventHandler("contextmenu:before",{e:P,target:p,subTargets:X});return this.stopContextMenu&&s4(P),this._basicEventHandler("contextmenu",H),!1}_onDoubleClick(P){this._cacheTransformEventData(P),this._handleEvent(P,"dblclick"),this._resetTransformEventData()}getPointerId(P){let p=P.changedTouches;return p?p[0]&&p[0].identifier:this.enablePointerEvents?P.pointerId:-1}_isMainEvent(P){return P.isPrimary===!0||P.isPrimary!==!1&&(P.type==="touchend"&&P.touches.length===0||(!P.changedTouches||P.changedTouches[0].identifier===this.mainTouchId))}_onTouchStart(P){let p=!this.allowTouchScrolling,X=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(P)),this.__onMouseDown(P),(this.isDrawingMode||X&&this._target===X)&&(p=!0),p&&P.preventDefault(),this._resetTransformEventData();let H=this.upperCanvasEl,h=this._getEventPrefix(),x=h8(H);bH(x,"touchend",this._onTouchEnd,Ip),p&&bH(x,"touchmove",this._onMouseMove,Ip),ip(H,"".concat(h,"down"),this._onMouseDown)}_onMouseDown(P){this.__onMouseDown(P),this._resetTransformEventData();let p=this.upperCanvasEl,X=this._getEventPrefix();ip(p,"".concat(X,"move"),this._onMouseMove,Ip);let H=h8(p);bH(H,"".concat(X,"up"),this._onMouseUp),bH(H,"".concat(X,"move"),this._onMouseMove,Ip)}_onTouchEnd(P){if(P.touches.length>0)return;this.__onMouseUp(P),this._resetTransformEventData(),delete this.mainTouchId;let p=this._getEventPrefix(),X=h8(this.upperCanvasEl);ip(X,"touchend",this._onTouchEnd,Ip),ip(X,"touchmove",this._onMouseMove,Ip),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{bH(this.upperCanvasEl,"".concat(p,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(P){this.__onMouseUp(P),this._resetTransformEventData();let p=this.upperCanvasEl,X=this._getEventPrefix();if(this._isMainEvent(P)){let H=h8(this.upperCanvasEl);ip(H,"".concat(X,"up"),this._onMouseUp),ip(H,"".concat(X,"move"),this._onMouseMove,Ip),bH(p,"".concat(X,"move"),this._onMouseMove,Ip)}}_onMouseMove(P){let p=this.getActiveObject();!this.allowTouchScrolling&&(!p||!p.shouldStartDragging(P))&&P.preventDefault&&P.preventDefault(),this.__onMouseMove(P)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(P){let p=this.getActiveObject();return!!p!=!!P||p&&P&&p!==P}__onMouseUp(P){var p;this._cacheTransformEventData(P),this._handleEvent(P,"up:before");let X=this._currentTransform,H=this._isClick,h=this._target,{button:x}=P;if(x)return(this.fireMiddleClick&&x===1||this.fireRightClick&&x===2)&&this._handleEvent(P,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(P);if(!this._isMainEvent(P))return;let B,A,$=!1;if(X&&(this._finalizeCurrentTransform(P),$=X.actionPerformed),!H){let D=h===this._activeObject;this.handleSelection(P),$||($=this._shouldRender(h)||!D&&h===this._activeObject)}if(h){let D=h.findControl(this.getViewportPoint(P),M5(P)),{key:Z,control:L}=D||{};if(A=Z,h.selectable&&h!==this._activeObject&&h.activeOn==="up")this.setActiveObject(h,P),$=!0;else if(L){let f=L.getMouseUpHandler(P,h,L);f&&(B=this.getScenePoint(P),f.call(L,P,X,B.x,B.y))}h.isMoving=!1}if(X&&(X.target!==h||X.corner!==A)){let D=X.target&&X.target.controls[X.corner],Z=D&&D.getMouseUpHandler(P,X.target,D);B=B||this.getScenePoint(P),Z&&Z.call(D,P,X,B.x,B.y)}this._setCursorFromEvent(P,h),this._handleEvent(P,"up"),this._groupSelector=null,this._currentTransform=null,h&&(h.__corner=void 0),$?this.requestRenderAll():H||(p=this._activeObject)!==null&&p!==void 0&&p.isEditing||this.renderTop()}_basicEventHandler(P,p){let{target:X,subTargets:H=[]}=p;this.fire(P,p),X&&X.fire(P,p);for(let h=0;h<H.length;h++)H[h]!==X&&H[h].fire(P,p);return p}_handleEvent(P,p){let X=this._target,H=this.targets||[],h=K(K({e:P,target:X,subTargets:H},eh(this,P)),{},{transform:this._currentTransform},p==="up:before"||p==="up"?{isClick:this._isClick,currentTarget:this.findTarget(P),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(p),h),X&&X.fire("mouse".concat(p),h);for(let x=0;x<H.length;x++)H[x]!==X&&H[x].fire("mouse".concat(p),h)}_onMouseDownInDrawingMode(P){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(P),this.requestRenderAll());let p=this.getScenePoint(P);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(p,{e:P,pointer:p}),this._handleEvent(P,"down")}_onMouseMoveInDrawingMode(P){if(this._isCurrentlyDrawing){let p=this.getScenePoint(P);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(p,{e:P,pointer:p})}this.setCursor(this.freeDrawingCursor),this._handleEvent(P,"move")}_onMouseUpInDrawingMode(P){let p=this.getScenePoint(P);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:P,pointer:p}):this._isCurrentlyDrawing=!1,this._handleEvent(P,"up")}__onMouseDown(P){this._isClick=!0,this._cacheTransformEventData(P),this._handleEvent(P,"down:before");let p=this._target,{button:X}=P;if(X)return(this.fireMiddleClick&&X===1||this.fireRightClick&&X===2)&&this._handleEvent(P,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(P);if(!this._isMainEvent(P))return;if(this._currentTransform)return;let H=this._shouldRender(p),h=!1;if(this.handleMultiSelection(P,p)?(p=this._activeObject,h=!0,H=!0):this._shouldClearSelection(P,p)&&this.discardActiveObject(P),this.selection&&(!p||!p.selectable&&!p.isEditing&&p!==this._activeObject)){let x=this.getScenePoint(P);this._groupSelector={x:x.x,y:x.y,deltaY:0,deltaX:0}}if(p){let x=p===this._activeObject;p.selectable&&p.activeOn==="down"&&this.setActiveObject(p,P);let B=p.findControl(this.getViewportPoint(P),M5(P));if(p===this._activeObject&&(B||!h)){this._setupCurrentTransform(P,p,x);let A=B?B.control:void 0,$=this.getScenePoint(P),D=A&&A.getMouseDownHandler(P,p,A);D&&D.call(A,P,this._currentTransform,$.x,$.y)}}H&&(this._objectsToRender=void 0),this._handleEvent(P,"down"),H&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(P){this._resetTransformEventData(),this._pointer=this.getViewportPoint(P),this._absolutePointer=kX(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(P)}__onMouseMove(P){if(this._isClick=!1,this._cacheTransformEventData(P),this._handleEvent(P,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(P);if(!this._isMainEvent(P))return;let p=this._groupSelector;if(p){let X=this.getScenePoint(P);p.deltaX=X.x-p.x,p.deltaY=X.y-p.y,this.renderTop()}else if(this._currentTransform)this._transformObject(P);else{let X=this.findTarget(P);this._setCursorFromEvent(P,X),this._fireOverOutEvents(P,X)}this.textEditingManager.onMouseMove(P),this._handleEvent(P,"move"),this._resetTransformEventData()}_fireOverOutEvents(P,p){let X=this._hoveredTarget,H=this._hoveredTargets,h=this.targets,x=Math.max(H.length,h.length);this.fireSyntheticInOutEvents("mouse",{e:P,target:p,oldTarget:X,fireCanvas:!0});for(let B=0;B<x;B++)this.fireSyntheticInOutEvents("mouse",{e:P,target:h[B],oldTarget:H[B]});this._hoveredTarget=p,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(P,p){let X=this._draggedoverTarget,H=this._hoveredTargets,h=this.targets,x=Math.max(H.length,h.length);this.fireSyntheticInOutEvents("drag",K(K({},p),{},{target:P,oldTarget:X,fireCanvas:!0}));for(let B=0;B<x;B++)this.fireSyntheticInOutEvents("drag",K(K({},p),{},{target:h[B],oldTarget:H[B]}));this._draggedoverTarget=P}fireSyntheticInOutEvents(P,p){let{target:X,oldTarget:H,fireCanvas:h,e:x}=p,B=t0(p,DN),{targetIn:A,targetOut:$,canvasIn:D,canvasOut:Z}=$N[P],L=H!==X;if(H&&L){let f=K(K({},B),{},{e:x,target:H,nextTarget:X},eh(this,x));h&&this.fire(Z,f),H.fire($,f)}if(X&&L){let f=K(K({},B),{},{e:x,target:X,previousTarget:H},eh(this,x));h&&this.fire(D,f),X.fire(A,f)}}__onMouseWheel(P){this._cacheTransformEventData(P),this._handleEvent(P,"wheel"),this._resetTransformEventData()}_transformObject(P){let p=this.getScenePoint(P),X=this._currentTransform,H=X.target,h=H.group?kX(p,void 0,H.group.calcTransformMatrix()):p;X.shiftKey=P.shiftKey,X.altKey=!!this.centeredKey&&P[this.centeredKey],this._performTransformAction(P,X,h),X.actionPerformed&&this.requestRenderAll()}_performTransformAction(P,p,X){let{action:H,actionHandler:h,target:x}=p,B=!!h&&h(P,p,X.x,X.y);B&&x.setCoords(),H==="drag"&&B&&(p.target.isMoving=!0,this.setCursor(p.target.moveCursor||this.moveCursor)),p.actionPerformed=p.actionPerformed||B}_setCursorFromEvent(P,p){if(!p)return void this.setCursor(this.defaultCursor);let X=p.hoverCursor||this.hoverCursor,H=T1(this._activeObject)?this._activeObject:null,h=(!H||p.group!==H)&&p.findControl(this.getViewportPoint(P));if(h){let x=h.control;this.setCursor(x.cursorStyleHandler(P,x,p))}else p.subTargetCheck&&this.targets.concat().reverse().map((x)=>{X=x.hoverCursor||X}),this.setCursor(X)}handleMultiSelection(P,p){let X=this._activeObject,H=T1(X);if(X&&this._isSelectionKeyPressed(P)&&this.selection&&p&&p.selectable&&(X!==p||H)&&(H||!p.isDescendantOf(X)&&!X.isDescendantOf(p))&&!p.onSelect({e:P})&&!X.getActiveControl()){if(H){let h=X.getObjects();if(p===X){let x=this.getViewportPoint(P);if(!(p=this.searchPossibleTargets(h,x)||this.searchPossibleTargets(this._objects,x))||!p.selectable)return!1}p.group===X?(X.remove(p),this._hoveredTarget=p,this._hoveredTargets=[...this.targets],X.size()===1&&this._setActiveObject(X.item(0),P)):(X.multiSelectAdd(p),this._hoveredTarget=X,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(h,P)}else{X.isEditing&&X.exitEditing();let h=new(L0.getClass("ActiveSelection"))([],{canvas:this});h.multiSelectAdd(X,p),this._hoveredTarget=h,this._setActiveObject(h,P),this._fireSelectionEvents([X],P)}return!0}return!1}handleSelection(P){if(!this.selection||!this._groupSelector)return!1;let{x:p,y:X,deltaX:H,deltaY:h}=this._groupSelector,x=new l(p,X),B=x.add(new l(H,h)),A=x.min(B),$=x.max(B).subtract(A),D=this.collectObjects({left:A.x,top:A.y,width:$.x,height:$.y},{includeIntersecting:!this.selectionFullyContained}),Z=x.eq(B)?D[0]?[D[0]]:[]:D.length>1?D.filter((L)=>!L.onSelect({e:P})).reverse():D;if(Z.length===1)this.setActiveObject(Z[0],P);else if(Z.length>1){let L=L0.getClass("ActiveSelection");this.setActiveObject(new L(Z,{canvas:this}),P)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}var sj={x1:0,y1:0,x2:0,y2:0},ZN=K(K({},sj),{},{r1:0,r2:0}),px=(P,p)=>isNaN(P)&&typeof p=="number"?p:P,LN=/^(\d+\.\d+)%|(\d+)%$/;function tj(P){return P&&LN.test(P)}function ej(P,p){let X=typeof P=="number"?P:typeof P=="string"?parseFloat(P)/(tj(P)?100:1):NaN;return U1(0,px(X,p),1)}var fN=/\s*;\s*/,FN=/\s*:\s*/;function CN(P,p){let X,H,h=P.getAttribute("style");if(h){let B=h.split(fN);B[B.length-1]===""&&B.pop();for(let A=B.length;A--;){let[$,D]=B[A].split(FN).map((Z)=>Z.trim());$==="stop-color"?X=D:$==="stop-opacity"&&(H=D)}}let x=new v0(X||P.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:ej(P.getAttribute("offset"),0),color:x.toRgb(),opacity:px(parseFloat(H||P.getAttribute("stop-opacity")||""),1)*x.getAlpha()*p}}function QN(P,p){let X=[],H=P.getElementsByTagName("stop"),h=ej(p,1);for(let x=H.length;x--;)X.push(CN(H[x],h));return X}function Pk(P){return P.nodeName==="linearGradient"||P.nodeName==="LINEARGRADIENT"?"linear":"radial"}function pk(P){return P.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function X8(P,p){return P.getAttribute(p)}function VN(P,p){return function(X,H){let h,{width:x,height:B,gradientUnits:A}=H;return Object.keys(X).reduce(($,D)=>{let Z=X[D];return Z==="Infinity"?h=1:Z==="-Infinity"?h=0:(h=typeof Z=="string"?parseFloat(Z):Z,typeof Z=="string"&&tj(Z)&&(h*=0.01,A==="pixels"&&(D!=="x1"&&D!=="x2"&&D!=="r2"||(h*=x),D!=="y1"&&D!=="y2"||(h*=B)))),$[D]=h,$},{})}(Pk(P)==="linear"?function(X){return{x1:X8(X,"x1")||0,y1:X8(X,"y1")||0,x2:X8(X,"x2")||"100%",y2:X8(X,"y2")||0}}(P):function(X){return{x1:X8(X,"fx")||X8(X,"cx")||"50%",y1:X8(X,"fy")||X8(X,"cy")||"50%",r1:0,x2:X8(X,"cx")||"50%",y2:X8(X,"cy")||"50%",r2:X8(X,"r")||"50%"}}(P),K(K({},p),{},{gradientUnits:pk(P)}))}class EB{constructor(P){let{type:p="linear",gradientUnits:X="pixels",coords:H={},colorStops:h=[],offsetX:x=0,offsetY:B=0,gradientTransform:A,id:$}=P||{};Object.assign(this,{type:p,gradientUnits:X,coords:K(K({},p==="radial"?ZN:sj),H),colorStops:h,offsetX:x,offsetY:B,gradientTransform:A,id:$?"".concat($,"_").concat(TH()):TH()})}addColorStop(P){for(let p in P){let X=new v0(P[p]);this.colorStops.push({offset:parseFloat(p),color:X.toRgb(),opacity:X.getAlpha()})}return this}toObject(P){return K(K({},S1(this,P)),{},{type:this.type,coords:K({},this.coords),colorStops:this.colorStops.map((p)=>K({},p)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(P){let{additionalTransform:p}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=[],H=this.gradientTransform?this.gradientTransform.concat():tP.concat(),h=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",x=this.colorStops.map((Z)=>K({},Z)).sort((Z,L)=>Z.offset-L.offset),B=-this.offsetX,A=-this.offsetY;var $;h==="objectBoundingBox"?(B/=P.width,A/=P.height):(B+=P.width/2,A+=P.height/2),($=P)&&typeof $._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(B-=P.pathOffset.x,A-=P.pathOffset.y),H[4]-=B,H[5]-=A;let D=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(h,'"'),'gradientTransform="'.concat(p?p+" ":"").concat(NB(H),'"'),""].join(" ");if(this.type==="linear"){let{x1:Z,y1:L,x2:f,y2:F}=this.coords;X.push("<linearGradient ",D,' x1="',Z,'" y1="',L,'" x2="',f,'" y2="',F,`">
`)}else if(this.type==="radial"){let{x1:Z,y1:L,x2:f,y2:F,r1:q,r2:b}=this.coords,j=q>b;X.push("<radialGradient ",D,' cx="',j?Z:f,'" cy="',j?L:F,'" r="',j?q:b,'" fx="',j?f:Z,'" fy="',j?F:L,`">
`),j&&(x.reverse(),x.forEach((C)=>{C.offset=1-C.offset}));let Q=Math.min(q,b);if(Q>0){let C=Q/Math.max(q,b);x.forEach((V)=>{V.offset+=C*(1-V.offset)})}}return x.forEach((Z)=>{let{color:L,offset:f,opacity:F}=Z;X.push("<stop ",'offset="',100*f+"%",'" style="stop-color:',L,F!==void 0?";stop-opacity: "+F:";",`"/>
`)}),X.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),X.join("")}toLive(P){let{x1:p,y1:X,x2:H,y2:h,r1:x,r2:B}=this.coords,A=this.type==="linear"?P.createLinearGradient(p,X,H,h):P.createRadialGradient(p,X,x,H,h,B);return this.colorStops.forEach(($)=>{let{color:D,opacity:Z,offset:L}=$;A.addColorStop(L,Z!==void 0?new v0(D).setAlpha(Z).toRgba():D)}),A}static async fromObject(P){let{colorStops:p,gradientTransform:X}=P;return new this(K(K({},P),{},{colorStops:p?p.map((H)=>K({},H)):void 0,gradientTransform:X?[...X]:void 0}))}static fromElement(P,p,X){let H=pk(P),h=p._findCenterFromElement();return new this(K({id:P.getAttribute("id")||void 0,type:Pk(P),coords:VN(P,{width:X.viewBoxWidth||X.width,height:X.viewBoxHeight||X.height}),colorStops:QN(P,X.opacity),gradientUnits:H,gradientTransform:xL(P.getAttribute("gradientTransform")||"")},H==="pixels"?{offsetX:p.width/2-h.x,offsetY:p.height/2-h.y}:{offsetX:0,offsetY:0}))}}R(EB,"type","Gradient"),L0.setClass(EB,"gradient"),L0.setClass(EB,"linear"),L0.setClass(EB,"radial");var qN=["type","source","patternTransform"];class j5{get type(){return"pattern"}set type(P){kH("warn","Setting type has no effect",P)}constructor(P){R(this,"repeat","repeat"),R(this,"offsetX",0),R(this,"offsetY",0),R(this,"crossOrigin",""),this.id=TH(),Object.assign(this,P)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(P){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?P.createPattern(this.source,this.repeat):null}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{repeat:p,crossOrigin:X}=this;return K(K({},S1(this,P)),{},{type:"pattern",source:this.sourceToString(),repeat:p,crossOrigin:X,offsetX:s0(this.offsetX,R0.NUM_FRACTION_DIGITS),offsetY:s0(this.offsetY,R0.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(P){let{width:p,height:X}=P,{source:H,repeat:h,id:x}=this,B=px(this.offsetX/p,0),A=px(this.offsetY/X,0),$=h==="repeat-y"||h==="no-repeat"?1+Math.abs(B||0):px(H.width/p,0),D=h==="repeat-x"||h==="no-repeat"?1+Math.abs(A||0):px(H.height/X,0);return['<pattern id="SVGID_'.concat(x,'" x="').concat(B,'" y="').concat(A,'" width="').concat($,'" height="').concat(D,'">'),'<image x="0" y="0" width="'.concat(H.width,'" height="').concat(H.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(P,p){let{type:X,source:H,patternTransform:h}=P,x=t0(P,qN),B=await KB(H,K(K({},p),{},{crossOrigin:x.crossOrigin}));return new this(K(K({},x),{},{patternTransform:h&&h.slice(0),source:B}))}}R(j5,"type","Pattern"),L0.setClass(j5),L0.setClass(j5,"pattern");var YN=["path","left","top"],bN=["d"];class M1 extends cP{constructor(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:X,left:H,top:h}=p,x=t0(p,YN);super(),Object.assign(this,M1.ownDefaults),this.setOptions(x),this._setPath(P||[],!0),typeof H=="number"&&this.set(N0,H),typeof h=="number"&&this.set(Dp,h)}_setPath(P,p){this.path=yj(Array.isArray(P)?P:aj(P)),this.setBoundingBox(p)}_findCenterFromElement(){let P=this._calcBoundsFromPath();return new l(P.left+P.width/2,P.top+P.height/2)}_renderPathCommands(P){let p=-this.pathOffset.x,X=-this.pathOffset.y;P.beginPath();for(let H of this.path)switch(H[0]){case"L":P.lineTo(H[1]+p,H[2]+X);break;case"M":P.moveTo(H[1]+p,H[2]+X);break;case"C":P.bezierCurveTo(H[1]+p,H[2]+X,H[3]+p,H[4]+X,H[5]+p,H[6]+X);break;case"Q":P.quadraticCurveTo(H[1]+p,H[2]+X,H[3]+p,H[4]+X);break;case"Z":P.closePath()}}_render(P){this._renderPathCommands(P),this._renderPaintInOrder(P)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K(K({},super.toObject(P)),{},{path:this.path.map((p)=>p.slice())})}toDatalessObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=this.toObject(P);return this.sourcePath&&(delete p.path,p.sourcePath=this.sourcePath),p}_toSVG(){let P=oj(this.path,R0.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(P,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){let P=R0.NUM_FRACTION_DIGITS;return" translate(".concat(s0(-this.pathOffset.x,P),", ").concat(s0(-this.pathOffset.y,P),")")}toClipPathSVG(P){let p=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:P,additionalTransform:p})}toSVG(P){let p=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:P,additionalTransform:p})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(P){let{width:p,height:X,pathOffset:H}=this._calcDimensions();this.set({width:p,height:X,pathOffset:H}),P&&this.setPositionByOrigin(H,T0,T0)}_calcBoundsFromPath(){let P=[],p=0,X=0,H=0,h=0;for(let x of this.path)switch(x[0]){case"L":H=x[1],h=x[2],P.push({x:p,y:X},{x:H,y:h});break;case"M":H=x[1],h=x[2],p=H,X=h;break;case"C":P.push(...AL(H,h,x[1],x[2],x[3],x[4],x[5],x[6])),H=x[5],h=x[6];break;case"Q":P.push(...AL(H,h,x[1],x[2],x[1],x[2],x[3],x[4])),H=x[3],h=x[4];break;case"Z":H=p,h=X}return v8(P)}_calcDimensions(){let P=this._calcBoundsFromPath();return K(K({},P),{},{pathOffset:new l(P.left+P.width/2,P.top+P.height/2)})}static fromObject(P){return this._fromObject(P,{extraParam:"path"})}static async fromElement(P,p,X){let H=wX(P,this.ATTRIBUTE_NAMES,X),{d:h}=H;return new this(h,K(K(K({},t0(H,bN)),p),{},{left:void 0,top:void 0}))}}R(M1,"type","Path"),R(M1,"cacheProperties",[...EX,"path","fillRule"]),R(M1,"ATTRIBUTE_NAMES",[...wH,"d"]),L0.setClass(M1),L0.setSVGClass(M1);var jN=["left","top","radius"],Xk=["radius","startAngle","endAngle","counterClockwise"];class qX extends cP{static getDefaults(){return K(K({},super.getDefaults()),qX.ownDefaults)}constructor(P){super(),Object.assign(this,qX.ownDefaults),this.setOptions(P)}_set(P,p){return super._set(P,p),P==="radius"&&this.setRadius(p),this}_render(P){P.beginPath(),P.arc(0,0,this.radius,$P(this.startAngle),$P(this.endAngle),this.counterClockwise),this._renderPaintInOrder(P)}getRadiusX(){return this.get("radius")*this.get(eP)}getRadiusY(){return this.get("radius")*this.get(Mp)}setRadius(P){this.radius=P,this.set({width:2*P,height:2*P})}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Xk,...P])}_toSVG(){let P=(this.endAngle-this.startAngle)%360;if(P===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{let{radius:p}=this,X=$P(this.startAngle),H=$P(this.endAngle),h=D8(X)*p,x=$8(X)*p,B=D8(H)*p,A=$8(H)*p,$=P>180?1:0,D=this.counterClockwise?0:1;return['<path d="M '.concat(h," ").concat(x," A ").concat(p," ").concat(p," 0 ").concat($," ").concat(D," ").concat(B," ").concat(A,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(P,p,X){let H=wX(P,this.ATTRIBUTE_NAMES,X),{left:h=0,top:x=0,radius:B=0}=H;return new this(K(K({},t0(H,jN)),{},{radius:B,left:h-B,top:x-B}))}static fromObject(P){return super._fromObject(P)}}R(qX,"type","Circle"),R(qX,"cacheProperties",[...EX,...Xk]),R(qX,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),R(qX,"ATTRIBUTE_NAMES",["cx","cy","r",...wH]),L0.setClass(qX),L0.setSVGClass(qX);var kN=["x1","y1","x2","y2"],IN=["x1","y1","x2","y2"],DL=["x1","x2","y1","y2"];class W1 extends cP{constructor(){let[P,p,X,H]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,W1.ownDefaults),this.setOptions(h),this.x1=P,this.x2=X,this.y1=p,this.y2=H,this._setWidthHeight();let{left:x,top:B}=h;typeof x=="number"&&this.set(N0,x),typeof B=="number"&&this.set(Dp,B)}_setWidthHeight(){let{x1:P,y1:p,x2:X,y2:H}=this;this.width=Math.abs(X-P),this.height=Math.abs(H-p);let{left:h,top:x,width:B,height:A}=v8([{x:P,y:p},{x:X,y:H}]),$=new l(h+B/2,x+A/2);this.setPositionByOrigin($,T0,T0)}_set(P,p){return super._set(P,p),DL.includes(P)&&this._setWidthHeight(),this}_render(P){P.beginPath();let p=this.calcLinePoints();P.moveTo(p.x1,p.y1),P.lineTo(p.x2,p.y2),P.lineWidth=this.strokeWidth;let X=P.strokeStyle;var H;mp(this.stroke)?P.strokeStyle=this.stroke.toLive(P):P.strokeStyle=(H=this.stroke)!==null&&H!==void 0?H:P.fillStyle,this.stroke&&this._renderStroke(P),P.strokeStyle=X}_findCenterFromElement(){return new l((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K(K({},super.toObject(P)),this.calcLinePoints())}_getNonTransformedDimensions(){let P=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(P.y-=this.strokeWidth),this.height===0&&(P.x-=this.strokeWidth)),P}calcLinePoints(){let{x1:P,x2:p,y1:X,y2:H,width:h,height:x}=this,B=P<=p?-1:1,A=X<=H?-1:1;return{x1:B*h/2,x2:B*-h/2,y1:A*x/2,y2:A*-x/2}}_toSVG(){let{x1:P,x2:p,y1:X,y2:H}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(P,'" y1="').concat(X,'" x2="').concat(p,'" y2="').concat(H,`" />
`)]}static async fromElement(P,p,X){let H=wX(P,this.ATTRIBUTE_NAMES,X),{x1:h=0,y1:x=0,x2:B=0,y2:A=0}=H;return new this([h,x,B,A],t0(H,kN))}static fromObject(P){let{x1:p,y1:X,x2:H,y2:h}=P,x=t0(P,IN);return this._fromObject(K(K({},x),{},{points:[p,X,H,h]}),{extraParam:"points"})}}R(W1,"type","Line"),R(W1,"cacheProperties",[...EX,...DL]),R(W1,"ATTRIBUTE_NAMES",wH.concat(DL)),L0.setClass(W1),L0.setSVGClass(W1);class w1 extends cP{static getDefaults(){return K(K({},super.getDefaults()),w1.ownDefaults)}constructor(P){super(),Object.assign(this,w1.ownDefaults),this.setOptions(P)}_render(P){let p=this.width/2,X=this.height/2;P.beginPath(),P.moveTo(-p,X),P.lineTo(0,-X),P.lineTo(p,X),P.closePath(),this._renderPaintInOrder(P)}_toSVG(){let P=this.width/2,p=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-P," ").concat(p,",0 ").concat(-p,",").concat(P," ").concat(p),'" />']}}R(w1,"type","Triangle"),R(w1,"ownDefaults",{width:100,height:100}),L0.setClass(w1),L0.setSVGClass(w1);var Hk=["rx","ry"];class YX extends cP{static getDefaults(){return K(K({},super.getDefaults()),YX.ownDefaults)}constructor(P){super(),Object.assign(this,YX.ownDefaults),this.setOptions(P)}_set(P,p){switch(super._set(P,p),P){case"rx":this.rx=p,this.set("width",2*p);break;case"ry":this.ry=p,this.set("height",2*p)}return this}getRx(){return this.get("rx")*this.get(eP)}getRy(){return this.get("ry")*this.get(Mp)}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Hk,...P])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(P){P.beginPath(),P.save(),P.transform(1,0,0,this.ry/this.rx,0,0),P.arc(0,0,this.rx,0,MX,!1),P.restore(),this._renderPaintInOrder(P)}static async fromElement(P,p,X){let H=wX(P,this.ATTRIBUTE_NAMES,X);return H.left=(H.left||0)-H.rx,H.top=(H.top||0)-H.ry,new this(H)}}function TN(P){if(!P)return[];let p=P.replace(/,/g," ").trim().split(/\s+/),X=[];for(let H=0;H<p.length;H+=2)X.push({x:parseFloat(p[H]),y:parseFloat(p[H+1])});return X}R(YX,"type","Ellipse"),R(YX,"cacheProperties",[...EX,...Hk]),R(YX,"ownDefaults",{rx:0,ry:0}),R(YX,"ATTRIBUTE_NAMES",[...wH,"cx","cy","rx","ry"]),L0.setClass(YX),L0.setSVGClass(YX);var MN=["left","top"],hk={exactBoundingBox:!1};class H8 extends cP{static getDefaults(){return K(K({},super.getDefaults()),H8.ownDefaults)}constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),R(this,"strokeDiff",void 0),Object.assign(this,H8.ownDefaults),this.setOptions(p),this.points=P;let{left:X,top:H}=p;this.initialized=!0,this.setBoundingBox(!0),typeof X=="number"&&this.set(N0,X),typeof H=="number"&&this.set(Dp,H)}isOpen(){return!0}_projectStrokeOnPoints(P){return Rj(this.points,P,this.isOpen())}_calcDimensions(P){P=K({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},P||{});let p=this.exactBoundingBox?this._projectStrokeOnPoints(P).map(($)=>$.projectedPoint):this.points;if(p.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new l,strokeOffset:new l,strokeDiff:new l};let X=v8(p),H=OB(K(K({},P),{},{scaleX:1,scaleY:1})),h=v8(this.points.map(($)=>uP($,H,!0))),x=new l(this.scaleX,this.scaleY),B=X.left+X.width/2,A=X.top+X.height/2;return this.exactBoundingBox&&(B-=A*Math.tan($P(this.skewX)),A-=B*Math.tan($P(this.skewY))),K(K({},X),{},{pathOffset:new l(B,A),strokeOffset:new l(h.left,h.top).subtract(new l(X.left,X.top)).multiply(x),strokeDiff:new l(X.width,X.height).subtract(new l(h.width,h.height)).multiply(x)})}_findCenterFromElement(){let P=v8(this.points);return new l(P.left+P.width/2,P.top+P.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(P){let{left:p,top:X,width:H,height:h,pathOffset:x,strokeOffset:B,strokeDiff:A}=this._calcDimensions();this.set({width:H,height:h,pathOffset:x,strokeOffset:B,strokeDiff:A}),P&&this.setPositionByOrigin(new l(p+H/2,X+h/2),T0,T0)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new l(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let x;if(Object.keys(P).some((B)=>this.strokeUniform||this.constructor.layoutProperties.includes(B))){var p,X;let{width:B,height:A}=this._calcDimensions(P);x=new l((p=P.width)!==null&&p!==void 0?p:B,(X=P.height)!==null&&X!==void 0?X:A)}else{var H,h;x=new l((H=P.width)!==null&&H!==void 0?H:this.width,(h=P.height)!==null&&h!==void 0?h:this.height)}return x.multiply(new l(P.scaleX||this.scaleX,P.scaleY||this.scaleY))}return super._getTransformedDimensions(P)}_set(P,p){let X=this.initialized&&this[P]!==p,H=super._set(P,p);return this.exactBoundingBox&&X&&((P===eP||P===Mp)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(P))&&this.setDimensions(),H}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K(K({},super.toObject(P)),{},{points:this.points.map((p)=>{let{x:X,y:H}=p;return{x:X,y:H}})})}_toSVG(){let P=[],p=this.pathOffset.x,X=this.pathOffset.y,H=R0.NUM_FRACTION_DIGITS;for(let h=0,x=this.points.length;h<x;h++)P.push(s0(this.points[h].x-p,H),",",s0(this.points[h].y-X,H)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(P.join(""),`" />
`)]}_render(P){let p=this.points.length,X=this.pathOffset.x,H=this.pathOffset.y;if(p&&!isNaN(this.points[p-1].y)){P.beginPath(),P.moveTo(this.points[0].x-X,this.points[0].y-H);for(let h=0;h<p;h++){let x=this.points[h];P.lineTo(x.x-X,x.y-H)}!this.isOpen()&&P.closePath(),this._renderPaintInOrder(P)}}complexity(){return this.points.length}static async fromElement(P,p,X){return new this(TN(P.getAttribute("points")),K(K({},t0(wX(P,this.ATTRIBUTE_NAMES,X),MN)),p))}static fromObject(P){return this._fromObject(P,{extraParam:"points"})}}R(H8,"ownDefaults",hk),R(H8,"type","Polyline"),R(H8,"layoutProperties",[Mx,Wx,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),R(H8,"cacheProperties",[...EX,"points"]),R(H8,"ATTRIBUTE_NAMES",[...wH]),L0.setClass(H8),L0.setSVGClass(H8);class wB extends H8{isOpen(){return!1}}R(wB,"ownDefaults",hk),R(wB,"type","Polygon"),L0.setClass(wB),L0.setSVGClass(wB);var xk=["fontSize","fontWeight","fontFamily","fontStyle"],Bk=["underline","overline","linethrough"],Ak=[...xk,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],Dk=[...Ak,...Bk,"textBackgroundColor","direction"],WN=[...xk,...Bk,Zp,"strokeWidth",WP,"deltaY","textBackgroundColor"],EN={_reNewline:QL,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:N0,fontStyle:"normal",lineHeight:1.16,superscript:{size:0.6,baseline:-0.35},subscript:{size:0.6,baseline:0.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:N0,pathAlign:"baseline",_fontSizeFraction:0.222,offsets:{underline:0.1,linethrough:-0.315,overline:-0.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},N8="justify",G5="justify-left",RB="justify-right",UB="justify-center";class dL extends cP{isEmptyStyles(P){if(!this.styles)return!0;if(P!==void 0&&!this.styles[P])return!0;let p=P===void 0?this.styles:{line:this.styles[P]};for(let X in p)for(let H in p[X])for(let h in p[X][H])return!1;return!0}styleHas(P,p){if(!this.styles)return!1;if(p!==void 0&&!this.styles[p])return!1;let X=p===void 0?this.styles:{0:this.styles[p]};for(let H in X)for(let h in X[H])if(X[H][h][P]!==void 0)return!0;return!1}cleanStyle(P){if(!this.styles)return!1;let p=this.styles,X,H,h=0,x=!0,B=0;for(let A in p){X=0;for(let $ in p[A]){let D=p[A][$]||{};h++,D[P]!==void 0?(H?D[P]!==H&&(x=!1):H=D[P],D[P]===this[P]&&delete D[P]):x=!1,Object.keys(D).length!==0?X++:delete p[A][$]}X===0&&delete p[A]}for(let A=0;A<this._textLines.length;A++)B+=this._textLines[A].length;x&&h===B&&(this[P]=H,this.removeStyle(P))}removeStyle(P){if(!this.styles)return;let p=this.styles,X,H,h;for(H in p){for(h in X=p[H],X)delete X[h][P],Object.keys(X[h]).length===0&&delete X[h];Object.keys(X).length===0&&delete p[H]}}_extendStyles(P,p){let{lineIndex:X,charIndex:H}=this.get2DCursorLocation(P);this._getLineStyle(X)||this._setLineStyle(X);let h=TL(K(K({},this._getStyleDeclaration(X,H)),p),(x)=>x!==void 0);this._setStyleDeclaration(X,H,h)}getSelectionStyles(P,p,X){let H=[];for(let h=P;h<(p||P);h++)H.push(this.getStyleAtPosition(h,X));return H}getStyleAtPosition(P,p){let{lineIndex:X,charIndex:H}=this.get2DCursorLocation(P);return p?this.getCompleteStyleDeclaration(X,H):this._getStyleDeclaration(X,H)}setSelectionStyles(P,p,X){for(let H=p;H<(X||p);H++)this._extendStyles(H,P);this._forceClearCache=!0}_getStyleDeclaration(P,p){var X;let H=this.styles&&this.styles[P];return H&&(X=H[p])!==null&&X!==void 0?X:{}}getCompleteStyleDeclaration(P,p){return K(K({},S1(this,this.constructor._styleProperties)),this._getStyleDeclaration(P,p))}_setStyleDeclaration(P,p,X){this.styles[P][p]=X}_deleteStyleDeclaration(P,p){delete this.styles[P][p]}_getLineStyle(P){return!!this.styles[P]}_setLineStyle(P){this.styles[P]={}}_deleteLineStyle(P){delete this.styles[P]}}R(dL,"_styleProperties",WN);var wN=/  +/g,zN=/"/g;function g4(P,p,X,H,h){return"\t\t".concat(function(x,B){let{left:A,top:$,width:D,height:Z}=B,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R0.NUM_FRACTION_DIGITS,f=vB(WP,x,!1),[F,q,b,j]=[A,$,D,Z].map((Q)=>s0(Q,L));return"<rect ".concat(f,' x="').concat(F,'" y="').concat(q,'" width="').concat(b,'" height="').concat(j,'"></rect>')}(P,{left:p,top:X,width:H,height:h}),`
`)}var JN=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],_4;class nP extends dL{static getDefaults(){return K(K({},super.getDefaults()),nP.ownDefaults)}constructor(P,p){super(),R(this,"__charBounds",[]),Object.assign(this,nP.ownDefaults),this.setOptions(p),this.styles||(this.styles={}),this.text=P,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){let P=this.path;P&&(P.segmentsInfo=OL(P.path))}_splitText(){let P=this._splitTextIntoLines(this.text);return this.textLines=P.lines,this._textLines=P.graphemeLines,this._unwrappedTextLines=P._unwrappedLines,this._text=P.graphemeText,P}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(N8)&&this.enlargeSpaces()}enlargeSpaces(){let P,p,X,H,h,x,B;for(let A=0,$=this._textLines.length;A<$;A++)if((this.textAlign===N8||A!==$-1&&!this.isEndOfWrapping(A))&&(H=0,h=this._textLines[A],p=this.getLineWidth(A),p<this.width&&(B=this.textLines[A].match(this._reSpacesAndTabs)))){X=B.length,P=(this.width-p)/X;for(let D=0;D<=h.length;D++)x=this.__charBounds[A][D],this._reSpaceAndTab.test(h[D])?(x.width+=P,x.kernedWidth+=P,x.left+=H,H+=P):x.left+=H}}isEndOfWrapping(P){return P===this._textLines.length-1}missingNewlineOffset(P){return 1}get2DCursorLocation(P,p){let X=p?this._unwrappedTextLines:this._textLines,H;for(H=0;H<X.length;H++){if(P<=X[H].length)return{lineIndex:H,charIndex:P};P-=X[H].length+this.missingNewlineOffset(H,p)}return{lineIndex:H-1,charIndex:X[H-1].length<P?X[H-1].length:P}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){let P=super._getCacheCanvasDimensions(),p=this.fontSize;return P.width+=p*P.zoomX,P.height+=p*P.zoomY,P}_render(P){let p=this.path;p&&!p.isNotVisible()&&p._render(P),this._setTextStyles(P),this._renderTextLinesBackground(P),this._renderTextDecoration(P,"underline"),this._renderText(P),this._renderTextDecoration(P,"overline"),this._renderTextDecoration(P,"linethrough")}_renderText(P){this.paintFirst===Zp?(this._renderTextStroke(P),this._renderTextFill(P)):(this._renderTextFill(P),this._renderTextStroke(P))}_setTextStyles(P,p,X){if(P.textBaseline="alphabetic",this.path)switch(this.pathAlign){case T0:P.textBaseline="middle";break;case"ascender":P.textBaseline=Dp;break;case"descender":P.textBaseline=r4}P.font=this._getFontDeclaration(p,X)}calcTextWidth(){let P=this.getLineWidth(0);for(let p=1,X=this._textLines.length;p<X;p++){let H=this.getLineWidth(p);H>P&&(P=H)}return P}_renderTextLine(P,p,X,H,h,x){this._renderChars(P,p,X,H,h,x)}_renderTextLinesBackground(P){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;let p=P.fillStyle,X=this._getLeftOffset(),H=this._getTopOffset();for(let h=0,x=this._textLines.length;h<x;h++){let B=this.getHeightOfLine(h);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",h)){H+=B;continue}let A=this._textLines[h].length,$=this._getLineLeftOffset(h),D,Z,L=0,f=0,F=this.getValueOfPropertyAt(h,0,"textBackgroundColor");for(let q=0;q<A;q++){let b=this.__charBounds[h][q];Z=this.getValueOfPropertyAt(h,q,"textBackgroundColor"),this.path?(P.save(),P.translate(b.renderLeft,b.renderTop),P.rotate(b.angle),P.fillStyle=Z,Z&&P.fillRect(-b.width/2,-B/this.lineHeight*(1-this._fontSizeFraction),b.width,B/this.lineHeight),P.restore()):Z!==F?(D=X+$+f,this.direction==="rtl"&&(D=this.width-D-L),P.fillStyle=F,F&&P.fillRect(D,H,L,B/this.lineHeight),f=b.left,L=b.width,F=Z):L+=b.kernedWidth}Z&&!this.path&&(D=X+$+f,this.direction==="rtl"&&(D=this.width-D-L),P.fillStyle=Z,P.fillRect(D,H,L,B/this.lineHeight)),H+=B}P.fillStyle=p,this._removeShadow(P)}_measureChar(P,p,X,H){let h=zB.getFontCache(p),x=this._getFontDeclaration(p),B=X+P,A=X&&x===this._getFontDeclaration(H),$=p.fontSize/this.CACHE_FONT_SIZE,D,Z,L,f;if(X&&h[X]!==void 0&&(L=h[X]),h[P]!==void 0&&(f=D=h[P]),A&&h[B]!==void 0&&(Z=h[B],f=Z-L),D===void 0||L===void 0||Z===void 0){let F=function(){if(!_4)_4=Z8({width:0,height:0}).getContext("2d");return _4}();this._setTextStyles(F,p,!0),D===void 0&&(f=D=F.measureText(P).width,h[P]=D),L===void 0&&A&&X&&(L=F.measureText(X).width,h[X]=L),A&&Z===void 0&&(Z=F.measureText(B).width,h[B]=Z,f=Z-L)}return{width:D*$,kernedWidth:f*$}}getHeightOfChar(P,p){return this.getValueOfPropertyAt(P,p,"fontSize")}measureLine(P){let p=this._measureLine(P);return this.charSpacing!==0&&(p.width-=this._getWidthOfCharSpacing()),p.width<0&&(p.width=0),p}_measureLine(P){let p,X,H=0,h=this.pathSide===FP,x=this.path,B=this._textLines[P],A=B.length,$=new Array(A);this.__charBounds[P]=$;for(let D=0;D<A;D++){let Z=B[D];X=this._getGraphemeBox(Z,P,D,p),$[D]=X,H+=X.kernedWidth,p=Z}if($[A]={left:X?X.left+X.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},x&&x.segmentsInfo){let D=0,Z=x.segmentsInfo[x.segmentsInfo.length-1].length;switch(this.textAlign){case N0:D=h?Z-H:0;break;case T0:D=(Z-H)/2;break;case FP:D=h?0:Z-H}D+=this.pathStartOffset*(h?-1:1);for(let L=h?A-1:0;h?L>=0:L<A;h?L--:L++)X=$[L],D>Z?D%=Z:D<0&&(D+=Z),this._setGraphemeOnPath(D,X),D+=X.kernedWidth}return{width:H,numOfSpaces:0}}_setGraphemeOnPath(P,p){let X=P+p.kernedWidth/2,H=this.path,h=mj(H.path,X,H.segmentsInfo);p.renderLeft=h.x-H.pathOffset.x,p.renderTop=h.y-H.pathOffset.y,p.angle=h.angle+(this.pathSide===FP?Math.PI:0)}_getGraphemeBox(P,p,X,H,h){let x=this.getCompleteStyleDeclaration(p,X),B=H?this.getCompleteStyleDeclaration(p,X-1):{},A=this._measureChar(P,x,H,B),$,D=A.kernedWidth,Z=A.width;this.charSpacing!==0&&($=this._getWidthOfCharSpacing(),Z+=$,D+=$);let L={width:Z,left:0,height:x.fontSize,kernedWidth:D,deltaY:x.deltaY};if(X>0&&!h){let f=this.__charBounds[p][X-1];L.left=f.left+f.width+A.kernedWidth-A.width}return L}getHeightOfLine(P){if(this.__lineHeights[P])return this.__lineHeights[P];let p=this.getHeightOfChar(P,0);for(let X=1,H=this._textLines[P].length;X<H;X++)p=Math.max(this.getHeightOfChar(P,X),p);return this.__lineHeights[P]=p*this.lineHeight*this._fontSizeMult}calcTextHeight(){let P,p=0;for(let X=0,H=this._textLines.length;X<H;X++)P=this.getHeightOfLine(X),p+=X===H-1?P/this.lineHeight:P;return p}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(P,p){P.save();let X=0,H=this._getLeftOffset(),h=this._getTopOffset();for(let x=0,B=this._textLines.length;x<B;x++){let A=this.getHeightOfLine(x),$=A/this.lineHeight,D=this._getLineLeftOffset(x);this._renderTextLine(p,P,this._textLines[x],H+D,h+X+$,x),X+=A}P.restore()}_renderTextFill(P){(this.fill||this.styleHas(WP))&&this._renderTextCommon(P,"fillText")}_renderTextStroke(P){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(P),P.save(),this._setLineDash(P,this.strokeDashArray),P.beginPath(),this._renderTextCommon(P,"strokeText"),P.closePath(),P.restore())}_renderChars(P,p,X,H,h,x){let B=this.getHeightOfLine(x),A=this.textAlign.includes(N8),$=this.path,D=!A&&this.charSpacing===0&&this.isEmptyStyles(x)&&!$,Z=this.direction==="ltr",L=this.direction==="ltr"?1:-1,f=p.direction,F,q,b,j,Q,C="",V=0;if(p.save(),f!==this.direction&&(p.canvas.setAttribute("dir",Z?"ltr":"rtl"),p.direction=Z?"ltr":"rtl",p.textAlign=Z?N0:FP),h-=B*this._fontSizeFraction/this.lineHeight,D)return this._renderChar(P,p,x,0,X.join(""),H,h),void p.restore();for(let Y=0,k=X.length-1;Y<=k;Y++)j=Y===k||this.charSpacing||$,C+=X[Y],b=this.__charBounds[x][Y],V===0?(H+=L*(b.kernedWidth-b.width),V+=b.width):V+=b.kernedWidth,A&&!j&&this._reSpaceAndTab.test(X[Y])&&(j=!0),j||(F=F||this.getCompleteStyleDeclaration(x,Y),q=this.getCompleteStyleDeclaration(x,Y+1),j=o5(F,q,!1)),j&&($?(p.save(),p.translate(b.renderLeft,b.renderTop),p.rotate(b.angle),this._renderChar(P,p,x,Y,C,-V/2,0),p.restore()):(Q=H,this._renderChar(P,p,x,Y,C,Q,h)),C="",F=q,H+=L*V,V=0);p.restore()}_applyPatternGradientTransformText(P){let p=this.width+this.strokeWidth,X=this.height+this.strokeWidth,H=Z8({width:p,height:X}),h=H.getContext("2d");return H.width=p,H.height=X,h.beginPath(),h.moveTo(0,0),h.lineTo(p,0),h.lineTo(p,X),h.lineTo(0,X),h.closePath(),h.translate(p/2,X/2),h.fillStyle=P.toLive(h),this._applyPatternGradientTransform(h,P),h.fill(),h.createPattern(H,"no-repeat")}handleFiller(P,p,X){let H,h;return mp(X)?X.gradientUnits==="percentage"||X.gradientTransform||X.patternTransform?(H=-this.width/2,h=-this.height/2,P.translate(H,h),P[p]=this._applyPatternGradientTransformText(X),{offsetX:H,offsetY:h}):(P[p]=X.toLive(P),this._applyPatternGradientTransform(P,X)):(P[p]=X,{offsetX:0,offsetY:0})}_setStrokeStyles(P,p){let{stroke:X,strokeWidth:H}=p;return P.lineWidth=H,P.lineCap=this.strokeLineCap,P.lineDashOffset=this.strokeDashOffset,P.lineJoin=this.strokeLineJoin,P.miterLimit=this.strokeMiterLimit,this.handleFiller(P,"strokeStyle",X)}_setFillStyles(P,p){let{fill:X}=p;return this.handleFiller(P,"fillStyle",X)}_renderChar(P,p,X,H,h,x,B){let A=this._getStyleDeclaration(X,H),$=this.getCompleteStyleDeclaration(X,H),D=P==="fillText"&&$.fill,Z=P==="strokeText"&&$.stroke&&$.strokeWidth;if(Z||D){if(p.save(),p.font=this._getFontDeclaration($),A.textBackgroundColor&&this._removeShadow(p),A.deltaY&&(B+=A.deltaY),D){let L=this._setFillStyles(p,$);p.fillText(h,x-L.offsetX,B-L.offsetY)}if(Z){let L=this._setStrokeStyles(p,$);p.strokeText(h,x-L.offsetX,B-L.offsetY)}p.restore()}}setSuperscript(P,p){this._setScript(P,p,this.superscript)}setSubscript(P,p){this._setScript(P,p,this.subscript)}_setScript(P,p,X){let H=this.get2DCursorLocation(P,!0),h=this.getValueOfPropertyAt(H.lineIndex,H.charIndex,"fontSize"),x=this.getValueOfPropertyAt(H.lineIndex,H.charIndex,"deltaY"),B={fontSize:h*X.size,deltaY:x+h*X.baseline};this.setSelectionStyles(B,P,p)}_getLineLeftOffset(P){let p=this.getLineWidth(P),X=this.width-p,H=this.textAlign,h=this.direction,x=this.isEndOfWrapping(P),B=0;return H===N8||H===UB&&!x||H===RB&&!x||H===G5&&!x?0:(H===T0&&(B=X/2),H===FP&&(B=X),H===UB&&(B=X/2),H===RB&&(B=X),h==="rtl"&&(H===FP||H===N8||H===RB?B=0:H===N0||H===G5?B=-X:H!==T0&&H!==UB||(B=-X/2)),B)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(P){if(this.__lineWidths[P]!==void 0)return this.__lineWidths[P];let{width:p}=this.measureLine(P);return this.__lineWidths[P]=p,p}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1000:0}getValueOfPropertyAt(P,p,X){var H;return(H=this._getStyleDeclaration(P,p)[X])!==null&&H!==void 0?H:this[X]}_renderTextDecoration(P,p){if(!this[p]&&!this.styleHas(p))return;let X=this._getTopOffset(),H=this._getLeftOffset(),h=this.path,x=this._getWidthOfCharSpacing(),B=this.offsets[p];for(let A=0,$=this._textLines.length;A<$;A++){let D=this.getHeightOfLine(A);if(!this[p]&&!this.styleHas(p,A)){X+=D;continue}let Z=this._textLines[A],L=D/this.lineHeight,f=this._getLineLeftOffset(A),F,q,b=0,j=0,Q=this.getValueOfPropertyAt(A,0,p),C=this.getValueOfPropertyAt(A,0,WP),V=X+L*(1-this._fontSizeFraction),Y=this.getHeightOfChar(A,0),k=this.getValueOfPropertyAt(A,0,"deltaY");for(let W=0,M=Z.length;W<M;W++){let c=this.__charBounds[A][W];F=this.getValueOfPropertyAt(A,W,p),q=this.getValueOfPropertyAt(A,W,WP);let w=this.getHeightOfChar(A,W),U=this.getValueOfPropertyAt(A,W,"deltaY");if(h&&F&&q)P.save(),P.fillStyle=C,P.translate(c.renderLeft,c.renderTop),P.rotate(c.angle),P.fillRect(-c.kernedWidth/2,B*w+U,c.kernedWidth,this.fontSize/15),P.restore();else if((F!==Q||q!==C||w!==Y||U!==k)&&j>0){let G=H+f+b;this.direction==="rtl"&&(G=this.width-G-j),Q&&C&&(P.fillStyle=C,P.fillRect(G,V+B*Y+k,j,this.fontSize/15)),b=c.left,j=c.width,Q=F,C=q,Y=w,k=U}else j+=c.kernedWidth}let z=H+f+b;this.direction==="rtl"&&(z=this.width-z-j),P.fillStyle=q,F&&q&&P.fillRect(z,V+B*Y+k,j-x,this.fontSize/15),X+=D}this._removeShadow(P)}_getFontDeclaration(){let{fontFamily:P=this.fontFamily,fontStyle:p=this.fontStyle,fontWeight:X=this.fontWeight,fontSize:H=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments.length>1?arguments[1]:void 0,x=P.includes("'")||P.includes('"')||P.includes(",")||nP.genericFonts.includes(P.toLowerCase())?P:'"'.concat(P,'"');return[p,X,"".concat(h?this.CACHE_FONT_SIZE:H,"px"),x].join(" ")}render(P){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(P)))}graphemeSplit(P){return a5(P)}_splitTextIntoLines(P){let p=P.split(this._reNewline),X=new Array(p.length),H=[`
`],h=[];for(let x=0;x<p.length;x++)X[x]=this.graphemeSplit(p[x]),h=h.concat(X[x],H);return h.pop(),{_unwrappedLines:X,lines:p,graphemeText:h,graphemeLines:X}}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K(K({},super.toObject([...Dk,...P])),{},{styles:Sj(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(P,p){let{textLayoutProperties:X}=this.constructor;super.set(P,p);let H=!1,h=!1;if(typeof P=="object")for(let x in P)x==="path"&&this.setPathInfo(),H=H||X.includes(x),h=h||x==="path";else H=X.includes(P),h=P==="path";return h&&this.setPathInfo(),H&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(P,p,X){let H=wX(P,nP.ATTRIBUTE_NAMES,X),h=K(K({},p),H),{textAnchor:x=N0,textDecoration:B="",dx:A=0,dy:$=0,top:D=0,left:Z=0,fontSize:L=CL,strokeWidth:f=1}=h,F=t0(h,JN),q=new this((P.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),K({left:Z+A,top:D+$,underline:B.includes("underline"),overline:B.includes("overline"),linethrough:B.includes("line-through"),strokeWidth:0,fontSize:L},F)),b=q.getScaledHeight()/q.height,j=((q.height+q.strokeWidth)*q.lineHeight-q.height)*b,Q=q.getScaledHeight()+j,C=0;return x===T0&&(C=q.getScaledWidth()/2),x===FP&&(C=q.getScaledWidth()),q.set({left:q.left-C,top:q.top-(Q-q.fontSize*(0.07+q._fontSizeFraction))/q.lineHeight,strokeWidth:f}),q}static fromObject(P){return this._fromObject(K(K({},P),{},{styles:Gj(P.styles||{},P.text)}),{extraParam:"text"})}}R(nP,"textLayoutProperties",Ak),R(nP,"cacheProperties",[...EX,...Dk]),R(nP,"ownDefaults",EN),R(nP,"type","Text"),R(nP,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),R(nP,"ATTRIBUTE_NAMES",wH.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),Jj(nP,[class extends zL{_toSVG(){let P=this._getSVGLeftTopOffsets(),p=this._getSVGTextAndBg(P.textTop,P.textLeft);return this._wrapSVGTextAndBg(p)}toSVG(P){return this._createBaseSVGMarkup(this._toSVG(),{reviver:P,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(P){let{textBgRects:p,textSpans:X}=P,H=this.getSvgTextDecoration(this);return[p.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(zN,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",H?'text-decoration="'.concat(H,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",X.join(""),`</text>
`]}_getSVGTextAndBg(P,p){let X=[],H=[],h,x=P;this.backgroundColor&&H.push(...g4(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let B=0,A=this._textLines.length;B<A;B++)h=this._getLineLeftOffset(B),this.direction==="rtl"&&(h+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",B))&&this._setSVGTextLineBg(H,B,p+h,x),this._setSVGTextLineText(X,B,p+h,x),x+=this.getHeightOfLine(B);return{textSpans:X,textBgRects:H}}_createTextCharSpan(P,p,X,H){let h=this.getSvgSpanStyles(p,P!==P.trim()||!!P.match(wN)),x=h?'style="'.concat(h,'"'):"",B=p.deltaY,A=B?' dy="'.concat(s0(B,R0.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(s0(X,R0.NUM_FRACTION_DIGITS),'" y="').concat(s0(H,R0.NUM_FRACTION_DIGITS),'" ').concat(A).concat(x,">").concat(Uj(P),"</tspan>")}_setSVGTextLineText(P,p,X,H){let h=this.getHeightOfLine(p),x=this.textAlign.includes(N8),B=this._textLines[p],A,$,D,Z,L,f="",F=0;H+=h*(1-this._fontSizeFraction)/this.lineHeight;for(let q=0,b=B.length-1;q<=b;q++)L=q===b||this.charSpacing,f+=B[q],D=this.__charBounds[p][q],F===0?(X+=D.kernedWidth-D.width,F+=D.width):F+=D.kernedWidth,x&&!L&&this._reSpaceAndTab.test(B[q])&&(L=!0),L||(A=A||this.getCompleteStyleDeclaration(p,q),$=this.getCompleteStyleDeclaration(p,q+1),L=o5(A,$,!0)),L&&(Z=this._getStyleDeclaration(p,q),P.push(this._createTextCharSpan(f,Z,X,H)),f="",A=$,this.direction==="rtl"?X-=F:X+=F,F=0)}_setSVGTextLineBg(P,p,X,H){let h=this._textLines[p],x=this.getHeightOfLine(p)/this.lineHeight,B,A=0,$=0,D=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(let Z=0;Z<h.length;Z++){let{left:L,width:f,kernedWidth:F}=this.__charBounds[p][Z];B=this.getValueOfPropertyAt(p,Z,"textBackgroundColor"),B!==D?(D&&P.push(...g4(D,X+$,H,A,x)),$=L,A=f,D=B):A+=F}B&&P.push(...g4(D,X+$,H,A,x))}_getSVGLineTopOffset(P){let p,X=0;for(p=0;p<P;p++)X+=this.getHeightOfLine(p);let H=this.getHeightOfLine(p);return{lineTop:X,offset:(this._fontSizeMult-this._fontSizeFraction)*H/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(P){return"".concat(super.getSvgStyles(P)," white-space: pre;")}getSvgSpanStyles(P,p){let{fontFamily:X,strokeWidth:H,stroke:h,fill:x,fontSize:B,fontStyle:A,fontWeight:$,deltaY:D}=P,Z=this.getSvgTextDecoration(P);return[h?vB(Zp,h):"",H?"stroke-width: ".concat(H,"; "):"",X?"font-family: ".concat(X.includes("'")||X.includes('"')?X:"'".concat(X,"'"),"; "):"",B?"font-size: ".concat(B,"px; "):"",A?"font-style: ".concat(A,"; "):"",$?"font-weight: ".concat($,"; "):"",Z?"text-decoration: ".concat(Z,"; "):Z,x?vB(WP,x):"",D?"baseline-shift: ".concat(-D,"; "):"",p?"white-space: pre; ":""].join("")}getSvgTextDecoration(P){return["overline","underline","line-through"].filter((p)=>P[p.replace("-","")]).join(" ")}}]),L0.setClass(nP),L0.setSVGClass(nP);class $k{constructor(P){R(this,"target",void 0),R(this,"__mouseDownInPlace",!1),R(this,"__dragStartFired",!1),R(this,"__isDraggingOver",!1),R(this,"__dragStartSelection",void 0),R(this,"__dragImageDisposer",void 0),R(this,"_dispose",void 0),this.target=P;let p=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{p.forEach((X)=>X()),this._dispose=void 0}}isPointerOverSelection(P){let p=this.target,X=p.getSelectionStartFromPointer(P);return p.isEditing&&X>=p.selectionStart&&X<=p.selectionEnd&&p.selectionStart<p.selectionEnd}start(P){return this.__mouseDownInPlace=this.isPointerOverSelection(P)}isActive(){return this.__mouseDownInPlace}end(P){let p=this.isActive();return p&&!this.__dragStartFired&&(this.target.setCursorByClick(P),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,p}getDragStartSelection(){return this.__dragStartSelection}setDragImage(P,p){var X;let{selectionStart:H,selectionEnd:h}=p,x=this.target,B=x.canvas,A=new l(x.flipX?-1:1,x.flipY?-1:1),$=x._getCursorBoundaries(H),D=new l($.left+$.leftOffset,$.top+$.topOffset).multiply(A).transform(x.calcTransformMatrix()),Z=B.getScenePoint(P).subtract(D),L=x.getCanvasRetinaScaling(),f=x.getBoundingRect(),F=D.subtract(new l(f.left,f.top)),q=B.viewportTransform,b=F.add(Z).transform(q,!0),j=x.backgroundColor,Q=NL(x.styles);x.backgroundColor="";let C={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};x.setSelectionStyles(C,0,H),x.setSelectionStyles(C,h,x.text.length),x.dirty=!0;let V=x.toCanvasElement({enableRetinaScaling:B.enableRetinaScaling,viewportTransform:!0});x.backgroundColor=j,x.styles=Q,x.dirty=!0,S5(V,{position:"fixed",left:"".concat(-V.width,"px"),border:$p,width:"".concat(V.width/L,"px"),height:"".concat(V.height/L,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{V.remove()},h8(P.target||this.target.hiddenTextarea).body.appendChild(V),(X=P.dataTransfer)===null||X===void 0||X.setDragImage(V,b.x,b.y)}onDragStart(P){this.__dragStartFired=!0;let p=this.target,X=this.isActive();if(X&&P.dataTransfer){let H=this.__dragStartSelection={selectionStart:p.selectionStart,selectionEnd:p.selectionEnd},h=p._text.slice(H.selectionStart,H.selectionEnd).join(""),x=K({text:p.text,value:h},H);P.dataTransfer.setData("text/plain",h),P.dataTransfer.setData("application/fabric",JSON.stringify({value:h,styles:p.getSelectionStyles(H.selectionStart,H.selectionEnd,!0)})),P.dataTransfer.effectAllowed="copyMove",this.setDragImage(P,x)}return p.abortCursorAnimation(),X}canDrop(P){if(this.target.editable&&!this.target.getActiveControl()&&!P.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){let p=this.target.getSelectionStartFromPointer(P),X=this.__dragStartSelection;return p<X.selectionStart||p>X.selectionEnd}return!0}return!1}targetCanDrop(P){return this.target.canDrop(P)}dragEnterHandler(P){let{e:p}=P,X=this.targetCanDrop(p);!this.__isDraggingOver&&X&&(this.__isDraggingOver=!0)}dragOverHandler(P){let{e:p}=P,X=this.targetCanDrop(p);!this.__isDraggingOver&&X?this.__isDraggingOver=!0:this.__isDraggingOver&&!X&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(p.preventDefault(),P.canDrop=!0,P.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(P){var p;let{e:X}=P,H=X.defaultPrevented;this.__isDraggingOver=!1,X.preventDefault();let h=(p=X.dataTransfer)===null||p===void 0?void 0:p.getData("text/plain");if(h&&!H){let x=this.target,B=x.canvas,A=x.getSelectionStartFromPointer(X),{styles:$}=X.dataTransfer.types.includes("application/fabric")?JSON.parse(X.dataTransfer.getData("application/fabric")):{},D=h[Math.max(0,h.length-1)],Z=0;if(this.__dragStartSelection){let L=this.__dragStartSelection.selectionStart,f=this.__dragStartSelection.selectionEnd;A>L&&A<=f?A=L:A>f&&(A-=f-L),x.removeChars(L,f),delete this.__dragStartSelection}x._reNewline.test(D)&&(x._reNewline.test(x._text[A])||A===x._text.length)&&(h=h.trimEnd()),P.didDrop=!0,P.dropTarget=x,x.insertChars(h,$,A),B.setActiveObject(x),x.enterEditing(X),x.selectionStart=Math.min(A+Z,x._text.length),x.selectionEnd=Math.min(x.selectionStart+h.length,x._text.length),x.hiddenTextarea.value=x.text,x._updateTextarea(),x.hiddenTextarea.focus(),x.fire(k5,{index:A+Z,action:"drop"}),B.fire("text:changed",{target:x}),B.contextTopDirty=!0,B.requestRenderAll()}}dragEndHandler(P){let{e:p}=P;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var X;let H=this.target,h=this.target.canvas,{selectionStart:x,selectionEnd:B}=this.__dragStartSelection,A=((X=p.dataTransfer)===null||X===void 0?void 0:X.dropEffect)||$p;A===$p?(H.selectionStart=x,H.selectionEnd=B,H._updateTextarea(),H.hiddenTextarea.focus()):(H.clearContextTop(),A==="move"&&(H.removeChars(x,B),H.selectionStart=H.selectionEnd=x,H.hiddenTextarea&&(H.hiddenTextarea.value=H.text),H._updateTextarea(),H.fire(k5,{index:x,action:"dragend"}),h.fire("text:changed",{target:H}),h.requestRenderAll()),H.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}var Rb=/[ \n\.,;!\?\-]/;class Zk extends nP{constructor(){super(...arguments),R(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(P){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(P)}_animateCursor(P){let{toValue:p,duration:X,delay:H,onComplete:h}=P;return RL({startValue:this._currentCursorOpacity,endValue:p,duration:X,delay:H,onComplete:h,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:(x)=>{this._currentCursorOpacity=x,this.renderCursorOrSelection()}})}_tick(P){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(P||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var P;(P=this._currentTickCompleteState)===null||P===void 0||P.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(P){this.abortCursorAnimation(),this._tick(P?0:this.cursorDelay)}abortCursorAnimation(){let P=!1;[this._currentTickState,this._currentTickCompleteState].forEach((p)=>{p&&!p.isDone()&&(P=!0,p.abort())}),this._currentCursorOpacity=1,P&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some((P)=>!P||P.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(P){let p=0,X=P-1;if(this._reSpace.test(this._text[X]))for(;this._reSpace.test(this._text[X]);)p++,X--;for(;/\S/.test(this._text[X])&&X>-1;)p++,X--;return P-p}findWordBoundaryRight(P){let p=0,X=P;if(this._reSpace.test(this._text[X]))for(;this._reSpace.test(this._text[X]);)p++,X++;for(;/\S/.test(this._text[X])&&X<this._text.length;)p++,X++;return P+p}findLineBoundaryLeft(P){let p=0,X=P-1;for(;!/\n/.test(this._text[X])&&X>-1;)p++,X--;return P-p}findLineBoundaryRight(P){let p=0,X=P;for(;!/\n/.test(this._text[X])&&X<this._text.length;)p++,X++;return P+p}searchWordBoundary(P,p){let X=this._text,H=P>0&&this._reSpace.test(X[P])&&(p===-1||!QL.test(X[P-1]))?P-1:P,h=X[H];for(;H>0&&H<X.length&&!Rb.test(h);)H+=p,h=X[H];return p===-1&&Rb.test(h)&&H++,H}selectWord(P){P=P||this.selectionStart;let p=this.searchWordBoundary(P,-1),X=Math.max(p,this.searchWordBoundary(P,1));this.selectionStart=p,this.selectionEnd=X,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(P){P=P||this.selectionStart;let p=this.findLineBoundaryLeft(P),X=this.findLineBoundaryRight(P);return this.selectionStart=p,this.selectionEnd=X,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(P){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",P?{e:P}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:P}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(P){if(this.getActiveControl())return;let p=this.hiddenTextarea;h8(p).activeElement!==p&&p.focus();let X=this.getSelectionStartFromPointer(P),H=this.selectionStart,h=this.selectionEnd;(X===this.__selectionStartOnMouseDown&&H!==h||H!==X&&h!==X)&&(X>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=X):(this.selectionStart=X,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===H&&this.selectionEnd===h||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(P,p,X){let H=X.slice(0,P),h=this.graphemeSplit(H).length;if(P===p)return{selectionStart:h,selectionEnd:h};let x=X.slice(P,p);return{selectionStart:h,selectionEnd:h+this.graphemeSplit(x).length}}fromGraphemeToStringSelection(P,p,X){let H=X.slice(0,P).join("").length;if(P===p)return{selectionStart:H,selectionEnd:H};return{selectionStart:H,selectionEnd:H+X.slice(P,p).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){let P=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=P.selectionStart,this.hiddenTextarea.selectionEnd=P.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};let P=this.hiddenTextarea;this.text=P.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();let p=this.fromStringToGraphemeSelection(P.selectionStart,P.selectionEnd,P.value);this.selectionEnd=this.selectionStart=p.selectionEnd,this.inCompositionMode||(this.selectionStart=p.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){let P=this._calcTextareaPosition();this.hiddenTextarea.style.left=P.left,this.hiddenTextarea.style.top=P.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};let P=this.inCompositionMode?this.compositionStart:this.selectionStart,p=this._getCursorBoundaries(P),X=this.get2DCursorLocation(P),H=X.lineIndex,h=X.charIndex,x=this.getValueOfPropertyAt(H,h,"fontSize")*this.lineHeight,B=p.leftOffset,A=this.getCanvasRetinaScaling(),$=this.canvas.upperCanvasEl,D=$.width/A,Z=$.height/A,L=D-x,f=Z-x,F=new l(p.left+B,p.top+p.topOffset+x).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new l($.clientWidth/D,$.clientHeight/Z));return F.x<0&&(F.x=0),F.x>L&&(F.x=L),F.y<0&&(F.y=0),F.y>f&&(F.y=f),F.x+=this.canvas._offset.left,F.y+=this.canvas._offset.top,{left:"".concat(F.x,"px"),top:"".concat(F.y,"px"),fontSize:"".concat(x,"px"),charHeight:x}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){let P=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,P&&(P.blur&&P.blur(),P.parentNode&&P.parentNode.removeChild(P)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){let P=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),P&&this.fire(I5),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),P&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(let P in this.styles)this._textLines[P]||delete this.styles[P]}removeStyleFromTo(P,p){let{lineIndex:X,charIndex:H}=this.get2DCursorLocation(P,!0),{lineIndex:h,charIndex:x}=this.get2DCursorLocation(p,!0);if(X!==h){if(this.styles[X])for(let B=H;B<this._unwrappedTextLines[X].length;B++)delete this.styles[X][B];if(this.styles[h])for(let B=x;B<this._unwrappedTextLines[h].length;B++){let A=this.styles[h][B];A&&(this.styles[X]||(this.styles[X]={}),this.styles[X][H+B-x]=A)}for(let B=X+1;B<=h;B++)delete this.styles[B];this.shiftLineStyles(h,X-h)}else if(this.styles[X]){let B=this.styles[X],A=x-H;for(let $=H;$<x;$++)delete B[$];for(let $ in this.styles[X]){let D=parseInt($,10);D>=x&&(B[D-A]=B[$],delete B[$])}}}shiftLineStyles(P,p){let X=Object.assign({},this.styles);for(let H in this.styles){let h=parseInt(H,10);h>P&&(this.styles[h+p]=X[h],X[h-p]||delete this.styles[h])}}insertNewlineStyleObject(P,p,X,H){let h={},x=this._unwrappedTextLines[P].length,B=x===p,A=!1;X||(X=1),this.shiftLineStyles(P,X);let $=this.styles[P]?this.styles[P][p===0?p:p-1]:void 0;for(let Z in this.styles[P]){let L=parseInt(Z,10);L>=p&&(A=!0,h[L-p]=this.styles[P][Z],B&&p===0||delete this.styles[P][Z])}let D=!1;for(A&&!B&&(this.styles[P+X]=h,D=!0),(D||x>p)&&X--;X>0;)H&&H[X-1]?this.styles[P+X]={0:K({},H[X-1])}:$?this.styles[P+X]={0:K({},$)}:delete this.styles[P+X],X--;this._forceClearCache=!0}insertCharStyleObject(P,p,X,H){this.styles||(this.styles={});let h=this.styles[P],x=h?K({},h):{};X||(X=1);for(let A in x){let $=parseInt(A,10);$>=p&&(h[$+X]=x[$],x[$-X]||delete h[$])}if(this._forceClearCache=!0,H){for(;X--;)Object.keys(H[X]).length&&(this.styles[P]||(this.styles[P]={}),this.styles[P][p+X]=K({},H[X]));return}if(!h)return;let B=h[p?p-1:1];for(;B&&X--;)this.styles[P][p+X]=K({},B)}insertNewStyleBlock(P,p,X){let H=this.get2DCursorLocation(p,!0),h=[0],x,B=0;for(let A=0;A<P.length;A++)P[A]===`
`?(B++,h[B]=0):h[B]++;for(h[0]>0&&(this.insertCharStyleObject(H.lineIndex,H.charIndex,h[0],X),X=X&&X.slice(h[0]+1)),B&&this.insertNewlineStyleObject(H.lineIndex,H.charIndex+h[0],B),x=1;x<B;x++)h[x]>0?this.insertCharStyleObject(H.lineIndex+x,0,h[x],X):X&&this.styles[H.lineIndex+x]&&X[0]&&(this.styles[H.lineIndex+x][0]=X[0]),X=X&&X.slice(h[x]+1);h[x]>0&&this.insertCharStyleObject(H.lineIndex+x,0,h[x],X)}removeChars(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P+1;this.removeStyleFromTo(P,p),this._text.splice(P,p-P),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(P,p,X){let H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X;H>X&&this.removeStyleFromTo(X,H);let h=this.graphemeSplit(P);this.insertNewStyleBlock(h,X,p),this._text=[...this._text.slice(0,X),...h,...this._text.slice(H)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(P,p,X){X<=P?(p===P?this._selectionDirection=N0:this._selectionDirection===FP&&(this._selectionDirection=N0,this.selectionEnd=P),this.selectionStart=X):X>P&&X<p?this._selectionDirection===FP?this.selectionEnd=X:this.selectionStart=X:(p===P?this._selectionDirection=FP:this._selectionDirection===N0&&(this._selectionDirection=FP,this.selectionStart=p),this.selectionEnd=X)}}class Lk extends Zk{initHiddenTextarea(){let P=this.canvas&&h8(this.canvas.getElement())||Tx(),p=P.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map((x)=>{let[B,A]=x;return p.setAttribute(B,A)});let{top:X,left:H,fontSize:h}=this._calcTextareaPosition();p.style.cssText="position: absolute; top: ".concat(X,"; left: ").concat(H,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(h,";"),(this.hiddenTextareaContainer||P.body).appendChild(p),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map((x)=>{let[B,A]=x;return p.addEventListener(B,this[A].bind(this))}),this.hiddenTextarea=p}blur(){this.abortCursorAnimation()}onKeyDown(P){if(!this.isEditing)return;let p=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(P.keyCode in p)this[p[P.keyCode]](P);else{if(!(P.keyCode in this.ctrlKeysMapDown)||!P.ctrlKey&&!P.metaKey)return;this[this.ctrlKeysMapDown[P.keyCode]](P)}P.stopImmediatePropagation(),P.preventDefault(),P.keyCode>=33&&P.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(P){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:(P.keyCode in this.ctrlKeysMapUp)&&(P.ctrlKey||P.metaKey)&&(this[this.ctrlKeysMapUp[P.keyCode]](P),P.stopImmediatePropagation(),P.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(P){let p=this.fromPaste;if(this.fromPaste=!1,P&&P.stopPropagation(),!this.isEditing)return;let X=()=>{this.updateFromTextArea(),this.fire(k5),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void X();let H=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,h=this._text.length,x=H.length,B=this.selectionStart,A=this.selectionEnd,$=B!==A,D,Z,L,f,F=x-h,q=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),b=B>q.selectionStart;$?(Z=this._text.slice(B,A),F+=A-B):x<h&&(Z=b?this._text.slice(A+F,A):this._text.slice(B,B-F));let j=H.slice(q.selectionEnd-F,q.selectionEnd);if(Z&&Z.length&&(j.length&&(D=this.getSelectionStyles(B,B+1,!1),D=j.map(()=>D[0])),$?(L=B,f=A):b?(L=A-Z.length,f=A):(L=A,f=A+Z.length),this.removeStyleFromTo(L,f)),j.length){let{copyPasteData:Q}=c8();p&&j.join("")===Q.copiedText&&!R0.disableStyleCopyPaste&&(D=Q.copiedTextStyle),this.insertNewStyleBlock(j,B,D)}X()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(P){let{target:p}=P,{selectionStart:X,selectionEnd:H}=p;this.compositionStart=X,this.compositionEnd=H,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;let{copyPasteData:P}=c8();P.copiedText=this.getSelectedText(),R0.disableStyleCopyPaste?P.copiedTextStyle=void 0:P.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(P,p){let X,H=this._getLineLeftOffset(P);return p>0&&(X=this.__charBounds[P][p-1],H+=X.left+X.width),H}getDownCursorOffset(P,p){let X=this._getSelectionForOffset(P,p),H=this.get2DCursorLocation(X),h=H.lineIndex;if(h===this._textLines.length-1||P.metaKey||P.keyCode===34)return this._text.length-X;let x=H.charIndex,B=this._getWidthBeforeCursor(h,x),A=this._getIndexOnLine(h+1,B);return this._textLines[h].slice(x).length+A+1+this.missingNewlineOffset(h)}_getSelectionForOffset(P,p){return P.shiftKey&&this.selectionStart!==this.selectionEnd&&p?this.selectionEnd:this.selectionStart}getUpCursorOffset(P,p){let X=this._getSelectionForOffset(P,p),H=this.get2DCursorLocation(X),h=H.lineIndex;if(h===0||P.metaKey||P.keyCode===33)return-X;let x=H.charIndex,B=this._getWidthBeforeCursor(h,x),A=this._getIndexOnLine(h-1,B),$=this._textLines[h].slice(0,x),D=this.missingNewlineOffset(h-1);return-this._textLines[h-1].length+A-$.length+(1-D)}_getIndexOnLine(P,p){let X=this._textLines[P],H,h,x=this._getLineLeftOffset(P),B=0;for(let A=0,$=X.length;A<$;A++)if(H=this.__charBounds[P][A].width,x+=H,x>p){h=!0;let D=x-H,Z=x,L=Math.abs(D-p);B=Math.abs(Z-p)<L?A:A-1;break}return h||(B=X.length-1),B}moveCursorDown(P){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",P)}moveCursorUp(P){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",P)}_moveCursorUpOrDown(P,p){let X=this["get".concat(P,"CursorOffset")](p,this._selectionDirection===FP);if(p.shiftKey?this.moveCursorWithShift(X):this.moveCursorWithoutShift(X),X!==0){let H=this.text.length;this.selectionStart=U1(0,this.selectionStart,H),this.selectionEnd=U1(0,this.selectionEnd,H),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(P){let p=this._selectionDirection===N0?this.selectionStart+P:this.selectionEnd+P;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,p),P!==0}moveCursorWithoutShift(P){return P<0?(this.selectionStart+=P,this.selectionEnd=this.selectionStart):(this.selectionEnd+=P,this.selectionStart=this.selectionEnd),P!==0}moveCursorLeft(P){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",P)}_move(P,p,X){let H;if(P.altKey)H=this["findWordBoundary".concat(X)](this[p]);else{if(!P.metaKey&&P.keyCode!==35&&P.keyCode!==36)return this[p]+=X==="Left"?-1:1,!0;H=this["findLineBoundary".concat(X)](this[p])}return H!==void 0&&this[p]!==H&&(this[p]=H,!0)}_moveLeft(P,p){return this._move(P,p,"Left")}_moveRight(P,p){return this._move(P,p,"Right")}moveCursorLeftWithoutShift(P){let p=!0;return this._selectionDirection=N0,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(p=this._moveLeft(P,"selectionStart")),this.selectionEnd=this.selectionStart,p}moveCursorLeftWithShift(P){return this._selectionDirection===FP&&this.selectionStart!==this.selectionEnd?this._moveLeft(P,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=N0,this._moveLeft(P,"selectionStart")):void 0}moveCursorRight(P){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",P)}_moveCursorLeftOrRight(P,p){let X="moveCursor".concat(P).concat(p.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[X](p)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(P){return this._selectionDirection===N0&&this.selectionStart!==this.selectionEnd?this._moveRight(P,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=FP,this._moveRight(P,"selectionEnd")):void 0}moveCursorRightWithoutShift(P){let p=!0;return this._selectionDirection=FP,this.selectionStart===this.selectionEnd?(p=this._moveRight(P,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,p}}var u4=(P)=>!!P.button;class fk extends Lk{constructor(){super(...arguments),R(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new $k(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(P){return this.draggableTextDelegate.onDragStart(P)}canDrop(P){return this.draggableTextDelegate.canDrop(P)}onMouseDown(P){if(!this.canvas)return;this.__newClickTime=+new Date;let p=P.pointer;this.isTripleClick(p)&&(this.fire("tripleclick",P),s4(P.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=p,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(P){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===P.x&&this.__lastPointer.y===P.y}doubleClickHandler(P){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(P.e))}tripleClickHandler(P){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(P.e))}_mouseDownHandler(P){let{e:p}=P;this.canvas&&this.editable&&!u4(p)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(p)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(p)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(P){let{e:p}=P;this.canvas&&this.editable&&!u4(p)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(P){let{e:p,transform:X}=P,H=this.draggableTextDelegate.end(p);if(this.canvas){this.canvas.textEditingManager.unregister(this);let h=this.canvas._activeObject;if(h&&h!==this)return}!this.editable||this.group&&!this.group.interactive||X&&X.actionPerformed||u4(p)||H||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(p),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(P){let p=this.getSelectionStartFromPointer(P),X=this.selectionStart,H=this.selectionEnd;P.shiftKey?this.setSelectionStartEndWithShift(X,H,p):(this.selectionStart=p,this.selectionEnd=p),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(P){let p=this.canvas.getScenePoint(P).transform(Tp(this.calcTransformMatrix())).add(new l(-this._getLeftOffset(),-this._getTopOffset())),X=0,H=0,h=0;for(let $=0;$<this._textLines.length&&X<=p.y;$++)X+=this.getHeightOfLine($),h=$,$>0&&(H+=this._textLines[$-1].length+this.missingNewlineOffset($-1));let x=Math.abs(this._getLineLeftOffset(h)),B=this._textLines[h].length,A=this.__charBounds[h];for(let $=0;$<B;$++){let D=x+A[$].kernedWidth;if(p.x<=D){Math.abs(p.x-D)<=Math.abs(p.x-x)&&H++;break}x=D,H++}return Math.min(this.flipX?B-H:H,this._text.length)}}var F5="moveCursorUp",C5="moveCursorDown",Q5="moveCursorLeft",V5="moveCursorRight",q5="exitEditing",KN=K({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1000,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:q5,27:q5,33:F5,34:C5,35:V5,36:Q5,37:Q5,38:F5,39:V5,40:C5},keysMapRtl:{9:q5,27:q5,33:F5,34:C5,35:Q5,36:V5,37:V5,38:F5,39:Q5,40:C5},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class jX extends fk{static getDefaults(){return K(K({},super.getDefaults()),jX.ownDefaults)}get type(){let P=super.type;return P==="itext"?"i-text":P}constructor(P,p){super(P,K(K({},jX.ownDefaults),p)),this.initBehavior()}_set(P,p){return this.isEditing&&this._savedProps&&P in this._savedProps?(this._savedProps[P]=p,this):(P==="canvas"&&(this.canvas instanceof WX&&this.canvas.textEditingManager.remove(this),p instanceof WX&&p.textEditingManager.add(this)),super._set(P,p))}setSelectionStart(P){P=Math.max(P,0),this._updateAndFire("selectionStart",P)}setSelectionEnd(P){P=Math.min(P,this.text.length),this._updateAndFire("selectionEnd",P)}_updateAndFire(P,p){this[P]!==p&&(this._fireSelectionChanged(),this[P]=p),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,X=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(P,p,X)}setSelectionStyles(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(P,p,X)}get2DCursorLocation(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,p=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(P,p)}render(P){super.render(P),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(P){let p=this.isEditing;this.isEditing=!1;let X=super.toCanvasElement(P);return this.isEditing=p,X}renderCursorOrSelection(){if(!this.isEditing)return;let P=this.clearContextTop(!0);if(!P)return;let p=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(P,p):this.renderCursor(P,p),this.canvas.contextTopDirty=!0,P.restore()}_getCursorBoundaries(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,p=arguments.length>1?arguments[1]:void 0,X=this._getLeftOffset(),H=this._getTopOffset(),h=this._getCursorBoundariesOffsets(P,p);return{left:X,top:H,leftOffset:h.left,topOffset:h.top}}_getCursorBoundariesOffsets(P,p){return p?this.__getCursorBoundariesOffsets(P):this.cursorOffsetCache&&("top"in this.cursorOffsetCache)?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(P)}__getCursorBoundariesOffsets(P){let p=0,X=0,{charIndex:H,lineIndex:h}=this.get2DCursorLocation(P);for(let $=0;$<h;$++)p+=this.getHeightOfLine($);let x=this._getLineLeftOffset(h),B=this.__charBounds[h][H];B&&(X=B.left),this.charSpacing!==0&&H===this._textLines[h].length&&(X-=this._getWidthOfCharSpacing());let A={top:p,left:x+(X>0?X:0)};return this.direction==="rtl"&&(this.textAlign===FP||this.textAlign===N8||this.textAlign===RB?A.left*=-1:this.textAlign===N0||this.textAlign===G5?A.left=x-(X>0?X:0):this.textAlign!==T0&&this.textAlign!==UB||(A.left=x-(X>0?X:0))),A}renderCursorAt(P){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(P,!0),P)}renderCursor(P,p){this._renderCursor(P,p,this.selectionStart)}getCursorRenderingData(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(P),X=this.get2DCursorLocation(P),H=X.lineIndex,h=X.charIndex>0?X.charIndex-1:0,x=this.getValueOfPropertyAt(H,h,"fontSize"),B=this.getObjectScaling().x*this.canvas.getZoom(),A=this.cursorWidth/B,$=this.getValueOfPropertyAt(H,h,"deltaY"),D=p.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(H)/this.lineHeight-x*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(H,h,"fill"),opacity:this._currentCursorOpacity,left:p.left+p.leftOffset-A/2,top:D+p.top+$,width:A,height:x}}_renderCursor(P,p,X){let{color:H,opacity:h,left:x,top:B,width:A,height:$}=this.getCursorRenderingData(X,p);P.fillStyle=H,P.globalAlpha=h,P.fillRect(x,B,A,$)}renderSelection(P,p){let X={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(P,X,p)}renderDragSourceEffect(){let P=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,P,this._getCursorBoundaries(P.selectionStart,!0))}renderDropTargetEffect(P){let p=this.getSelectionStartFromPointer(P);this.renderCursorAt(p)}_renderSelection(P,p,X){let{selectionStart:H,selectionEnd:h}=p,x=this.textAlign.includes(N8),B=this.get2DCursorLocation(H),A=this.get2DCursorLocation(h),$=B.lineIndex,D=A.lineIndex,Z=B.charIndex<0?0:B.charIndex,L=A.charIndex<0?0:A.charIndex;for(let f=$;f<=D;f++){let F=this._getLineLeftOffset(f)||0,q=this.getHeightOfLine(f),b=0,j=0,Q=0;if(f===$&&(j=this.__charBounds[$][Z].left),f>=$&&f<D)Q=x&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===D)if(L===0)Q=this.__charBounds[D][L].left;else{let z=this._getWidthOfCharSpacing();Q=this.__charBounds[D][L-1].left+this.__charBounds[D][L-1].width-z}b=q,(this.lineHeight<1||f===D&&this.lineHeight>1)&&(q/=this.lineHeight);let C=X.left+F+j,V=q,Y=0,k=Q-j;this.inCompositionMode?(P.fillStyle=this.compositionColor||"black",V=1,Y=q):P.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===FP||this.textAlign===N8||this.textAlign===RB?C=this.width-C-k:this.textAlign===N0||this.textAlign===G5?C=X.left+F-Q:this.textAlign!==T0&&this.textAlign!==UB||(C=X.left+F-Q)),P.fillRect(C,X.top+X.topOffset+Y,k,V),X.topOffset+=b}}getCurrentCharFontSize(){let P=this._getCurrentCharIndex();return this.getValueOfPropertyAt(P.l,P.c,"fontSize")}getCurrentCharColor(){let P=this._getCurrentCharIndex();return this.getValueOfPropertyAt(P.l,P.c,WP)}_getCurrentCharIndex(){let P=this.get2DCursorLocation(this.selectionStart,!0),p=P.charIndex>0?P.charIndex-1:0;return{l:P.lineIndex,c:p}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}R(jX,"ownDefaults",KN),R(jX,"type","IText"),L0.setClass(jX),L0.setClass(jX,"i-text");class z1 extends jX{static getDefaults(){return K(K({},super.getDefaults()),z1.ownDefaults)}constructor(P,p){super(P,K(K({},z1.ownDefaults),p))}static createControls(){return{controls:zj()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(N8)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(P){let p=0,X=0,H=0,h={};for(let x=0;x<P.graphemeLines.length;x++)P.graphemeText[H]===`
`&&x>0?(X=0,H++,p++):!this.splitByGrapheme&&this._reSpaceAndTab.test(P.graphemeText[H])&&x>0&&(X++,H++),h[x]={line:p,offset:X},H+=P.graphemeLines[x].length,X+=P.graphemeLines[x].length;return h}styleHas(P,p){if(this._styleMap&&!this.isWrapping){let X=this._styleMap[p];X&&(p=X.line)}return super.styleHas(P,p)}isEmptyStyles(P){if(!this.styles)return!0;let p,X=0,H=P+1,h=!1,x=this._styleMap[P],B=this._styleMap[P+1];x&&(P=x.line,X=x.offset),B&&(H=B.line,h=H===P,p=B.offset);let A=P===void 0?this.styles:{line:this.styles[P]};for(let $ in A)for(let D in A[$]){let Z=parseInt(D,10);if(Z>=X&&(!h||Z<p))for(let L in A[$][D])return!1}return!0}_getStyleDeclaration(P,p){if(this._styleMap&&!this.isWrapping){let X=this._styleMap[P];if(!X)return{};P=X.line,p=X.offset+p}return super._getStyleDeclaration(P,p)}_setStyleDeclaration(P,p,X){let H=this._styleMap[P];super._setStyleDeclaration(H.line,H.offset+p,X)}_deleteStyleDeclaration(P,p){let X=this._styleMap[P];super._deleteStyleDeclaration(X.line,X.offset+p)}_getLineStyle(P){let p=this._styleMap[P];return!!this.styles[p.line]}_setLineStyle(P){let p=this._styleMap[P];super._setLineStyle(p.line)}_wrapText(P,p){this.isWrapping=!0;let X=this.getGraphemeDataForRender(P),H=[];for(let h=0;h<X.wordsData.length;h++)H.push(...this._wrapLine(h,p,X));return this.isWrapping=!1,H}getGraphemeDataForRender(P){let p=this.splitByGrapheme,X=p?"":" ",H=0;return{wordsData:P.map((h,x)=>{let B=0,A=p?this.graphemeSplit(h):this.wordSplit(h);return A.length===0?[{word:[],width:0}]:A.map(($)=>{let D=p?[$]:this.graphemeSplit($),Z=this._measureWord(D,x,B);return H=Math.max(Z,H),B+=D.length+X.length,{word:D,width:Z}})}),largestWordWidth:H}}_measureWord(P,p){let X,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=0;for(let x=0,B=P.length;x<B;x++)h+=this._getGraphemeBox(P[x],p,x+H,X,!0).kernedWidth,X=P[x];return h}wordSplit(P){return P.split(this._wordJoiners)}_wrapLine(P,p,X){let{largestWordWidth:H,wordsData:h}=X,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,B=this._getWidthOfCharSpacing(),A=this.splitByGrapheme,$=[],D=A?"":" ",Z=0,L=[],f=0,F=0,q=!0;p-=x;let b=Math.max(p,H,this.dynamicMinWidth),j=h[P],Q;for(f=0,Q=0;Q<j.length;Q++){let{word:C,width:V}=j[Q];f+=C.length,Z+=F+V-B,Z>b&&!q?($.push(L),L=[],Z=V,q=!0):Z+=B,q||A||L.push(D),L=L.concat(C),F=A?0:this._measureWord([D],P,f),f++,q=!1}return Q&&$.push(L),H+x>this.dynamicMinWidth&&(this.dynamicMinWidth=H-B+x),$}isEndOfWrapping(P){return!this._styleMap[P+1]||this._styleMap[P+1].line!==this._styleMap[P].line}missingNewlineOffset(P,p){return this.splitByGrapheme&&!p?this.isEndOfWrapping(P)?1:0:1}_splitTextIntoLines(P){let p=super._splitTextIntoLines(P),X=this._wrapText(p.lines,this.width),H=new Array(X.length);for(let h=0;h<X.length;h++)H[h]=X[h].join("");return p.lines=H,p.graphemeLines=X,p}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){let P=new Map;for(let p in this._styleMap){let X=parseInt(p,10);if(this._textLines[X]){let H=this._styleMap[p].line;P.set("".concat(H),!0)}}for(let p in this.styles)P.has(p)||delete this.styles[p]}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...P])}}R(z1,"type","Textbox"),R(z1,"textLayoutProperties",[...jX.textLayoutProperties,"width"]),R(z1,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),L0.setClass(z1);class $L extends gB{shouldPerformLayout(P){return!!P.target.clipPath&&super.shouldPerformLayout(P)}shouldLayoutClipPath(){return!1}calcLayoutResult(P,p){let{target:X}=P,{clipPath:H,group:h}=X;if(!H||!this.shouldPerformLayout(P))return;let{width:x,height:B}=v8(vj(X,H)),A=new l(x,B);if(H.absolutePositioned)return{center:kX(H.getRelativeCenterPoint(),void 0,h?h.calcTransformMatrix():void 0),size:A};{let $=H.getRelativeCenterPoint().transform(X.calcOwnMatrix(),!0);if(this.shouldPerformLayout(P)){let{center:D=new l,correction:Z=new l}=this.calcBoundingBox(p,P)||{};return{center:D.add($),correction:Z.subtract($),size:A}}return{center:X.getRelativeCenterPoint().add($),size:A}}}}R($L,"type","clip-path"),L0.setClass($L);class ZL extends gB{getInitialSize(P,p){let{target:X}=P,{size:H}=p;return new l(X.width||H.x,X.height||H.y)}}R(ZL,"type","fixed"),L0.setClass(ZL);class Fk extends Ix{subscribeTargets(P){let p=P.target;P.targets.reduce((X,H)=>(H.parent&&X.add(H.parent),X),new Set).forEach((X)=>{X.layoutManager.subscribeTargets({target:X,targets:[p]})})}unsubscribeTargets(P){let p=P.target,X=p.getObjects();P.targets.reduce((H,h)=>(h.parent&&H.add(h.parent),H),new Set).forEach((H)=>{!X.some((h)=>h.parent===H)&&H.layoutManager.unsubscribeTargets({target:H,targets:[p]})})}}class J1 extends TX{static getDefaults(){return K(K({},super.getDefaults()),J1.ownDefaults)}constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,J1.ownDefaults),this.setOptions(p);let{left:X,top:H,layoutManager:h}=p;this.groupInit(P,{left:X,top:H,layoutManager:h!=null?h:new Fk})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var P=arguments.length,p=new Array(P),X=0;X<P;X++)p[X]=arguments[X];this.multiSelectionStacking==="selection-order"?this.add(...p):p.forEach((H)=>{let h=this._objects.findIndex((B)=>B.isInFrontOf(H)),x=h===-1?this.size():h;this.insertAt(x,H)})}canEnterGroup(P){return this.getObjects().some((p)=>p.isDescendantOf(P)||P.isDescendantOf(p))?(kH("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(P)}enterGroup(P,p){P.parent&&P.parent===P.group?P.parent._exitGroup(P):P.group&&P.parent!==P.group&&P.group.remove(P),this._enterGroup(P,p)}exitGroup(P,p){this._exitGroup(P,p),P.parent&&P.parent._enterGroup(P,!0)}_onAfterObjectsChange(P,p){super._onAfterObjectsChange(P,p);let X=new Set;p.forEach((H)=>{let{parent:h}=H;h&&X.add(h)}),P===cL?X.forEach((H)=>{H._onAfterObjectsChange(J5,p)}):X.forEach((H)=>{H._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(P,p,X){P.save(),P.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;let H=K(K({hasControls:!1},X),{},{forActiveSelection:!0});for(let h=0;h<this._objects.length;h++)this._objects[h]._renderControls(P,H);super._renderControls(P,p),P.restore()}}R(J1,"type","ActiveSelection"),R(J1,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),L0.setClass(J1),L0.setClass(J1,"activeSelection");class Ck{constructor(){R(this,"resources",{})}applyFilters(P,p,X,H,h){let x=h.getContext("2d");if(!x)return;x.drawImage(p,0,0,X,H);let B={sourceWidth:X,sourceHeight:H,imageData:x.getImageData(0,0,X,H),originalEl:p,originalImageData:x.getImageData(0,0,X,H),canvasEl:h,ctx:x,filterBackend:this};P.forEach(($)=>{$.applyTo(B)});let{imageData:A}=B;return A.width===X&&A.height===H||(h.width=A.width,h.height=A.height),x.putImageData(A,0,0),B}}class lL{constructor(){let{tileSize:P=R0.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),R(this,"resources",{}),this.tileSize=P,this.setupGLContext(P,P),this.captureGPUInfo()}setupGLContext(P,p){this.dispose(),this.createWebGLCanvas(P,p)}createWebGLCanvas(P,p){let X=Z8({width:P,height:p}),H=X.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});H&&(H.clearColor(0,0,0,0),this.canvas=X,this.gl=H)}applyFilters(P,p,X,H,h,x){let B=this.gl,A=h.getContext("2d");if(!B||!A)return;let $;x&&($=this.getCachedTexture(x,p));let D={originalWidth:p.width||p.naturalWidth||0,originalHeight:p.height||p.naturalHeight||0,sourceWidth:X,sourceHeight:H,destinationWidth:X,destinationHeight:H,context:B,sourceTexture:this.createTexture(B,X,H,$?void 0:p),targetTexture:this.createTexture(B,X,H),originalTexture:$||this.createTexture(B,X,H,$?void 0:p),passes:P.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:h},Z=B.createFramebuffer();return B.bindFramebuffer(B.FRAMEBUFFER,Z),P.forEach((L)=>{L&&L.applyTo(D)}),function(L){let f=L.targetCanvas,F=f.width,q=f.height,b=L.destinationWidth,j=L.destinationHeight;F===b&&q===j||(f.width=b,f.height=j)}(D),this.copyGLTo2D(B,D),B.bindTexture(B.TEXTURE_2D,null),B.deleteTexture(D.sourceTexture),B.deleteTexture(D.targetTexture),B.deleteFramebuffer(Z),A.setTransform(1,0,0,1,0,0),D}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(P,p,X,H,h){let{NEAREST:x,TEXTURE_2D:B,RGBA:A,UNSIGNED_BYTE:$,CLAMP_TO_EDGE:D,TEXTURE_MAG_FILTER:Z,TEXTURE_MIN_FILTER:L,TEXTURE_WRAP_S:f,TEXTURE_WRAP_T:F}=P,q=P.createTexture();return P.bindTexture(B,q),P.texParameteri(B,Z,h||x),P.texParameteri(B,L,h||x),P.texParameteri(B,f,D),P.texParameteri(B,F,D),H?P.texImage2D(B,0,A,A,$,H):P.texImage2D(B,0,A,p,X,0,A,$,null),q}getCachedTexture(P,p,X){let{textureCache:H}=this;if(H[P])return H[P];{let h=this.createTexture(this.gl,p.width,p.height,p,X);return h&&(H[P]=h),h}}evictCachesForKey(P){this.textureCache[P]&&(this.gl.deleteTexture(this.textureCache[P]),delete this.textureCache[P])}copyGLTo2D(P,p){let X=P.canvas,H=p.targetCanvas,h=H.getContext("2d");if(!h)return;h.translate(0,H.height),h.scale(1,-1);let x=X.height-H.height;h.drawImage(X,0,x,H.width,H.height,0,0,H.width,H.height)}copyGLTo2DPutImageData(P,p){let X=p.targetCanvas.getContext("2d"),H=p.destinationWidth,h=p.destinationHeight,x=H*h*4;if(!X)return;let B=new Uint8Array(this.imageBuffer,0,x),A=new Uint8ClampedArray(this.imageBuffer,0,x);P.readPixels(0,0,H,h,P.RGBA,P.UNSIGNED_BYTE,B);let $=new ImageData(A,H,h);X.putImageData($,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;let P=this.gl,p={renderer:"",vendor:""};if(!P)return p;let X=P.getExtension("WEBGL_debug_renderer_info");if(X){let H=P.getParameter(X.UNMASKED_RENDERER_WEBGL),h=P.getParameter(X.UNMASKED_VENDOR_WEBGL);H&&(p.renderer=H.toLowerCase()),h&&(p.vendor=h.toLowerCase())}return this.gpuInfo=p,p}}var i4;function RN(){let{WebGLProbe:P}=c8();return P.queryWebGL(ap()),R0.enableGLFiltering&&P.isSupported(R0.textureSize)?new lL({tileSize:R0.textureSize}):new Ck}function m4(){return!i4&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(i4=RN()),i4}var UN=["filters","resizeFilter","src","crossOrigin","type"],Qk=["cropX","cropY"];class y0 extends cP{static getDefaults(){return K(K({},super.getDefaults()),y0.ownDefaults)}constructor(P,p){super(),R(this,"_lastScaleX",1),R(this,"_lastScaleY",1),R(this,"_filterScalingX",1),R(this,"_filterScalingY",1),this.filters=[],Object.assign(this,y0.ownDefaults),this.setOptions(p),this.cacheKey="texture".concat(TH()),this.setElement(typeof P=="string"?(this.canvas&&h8(this.canvas.getElement())||Tx()).getElementById(P):P,p)}getElement(){return this._element}setElement(P){var p;let X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=P,this._originalElement=P,this._setWidthHeight(X),(p=P.classList)===null||p===void 0||p.add(y0.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(P){let p=m4(!1);p instanceof lL&&p.evictCachesForKey(P)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((P)=>{let p=this[P];p&&c8().dispose(p),this[P]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){let P=this.getElement();return P?{width:P.naturalWidth||P.width,height:P.naturalHeight||P.height}:{width:0,height:0}}_stroke(P){if(!this.stroke||this.strokeWidth===0)return;let p=this.width/2,X=this.height/2;P.beginPath(),P.moveTo(-p,-X),P.lineTo(p,-X),P.lineTo(p,X),P.lineTo(-p,X),P.lineTo(-p,-X),P.closePath()}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=[];return this.filters.forEach((X)=>{X&&p.push(X.toObject())}),K(K({},super.toObject([...Qk,...P])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:p},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){let P=[],p=this._element,X=-this.width/2,H=-this.height/2,h=[],x=[],B="",A="";if(!p)return[];if(this.hasCrop()){let $=TH();h.push('<clipPath id="imageCrop_'+$+`">
`,'\t<rect x="'+X+'" y="'+H+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),B=' clip-path="url(#imageCrop_'+$+')" '}if(this.imageSmoothing||(A=' image-rendering="optimizeSpeed"'),P.push("\t<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(X-this.cropX,'" y="').concat(H-this.cropY,'" width="').concat(p.width||p.naturalWidth,'" height="').concat(p.height||p.naturalHeight,'"').concat(A).concat(B,`></image>
`)),this.stroke||this.strokeDashArray){let $=this.fill;this.fill=null,x=['\t<rect x="'.concat(X,'" y="').concat(H,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=$}return h=this.paintFirst!==WP?h.concat(x,P):h.concat(P,x),h}getSrc(P){let p=P?this._element:this._originalElement;return p?p.toDataURL?p.toDataURL():this.srcFromAttribute?p.getAttribute("src")||"":p.src:this.src||""}getSvgSrc(P){return this.getSrc(P)}setSrc(P){let{crossOrigin:p,signal:X}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return KB(P,{crossOrigin:p,signal:X}).then((H)=>{p!==void 0&&this.set({crossOrigin:p}),this.setElement(H)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){let P=this.resizeFilter,p=this.minimumScaleTrigger,X=this.getTotalObjectScaling(),H=X.x,h=X.y,x=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!P||H>p&&h>p)return this._element=x,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=H,void(this._lastScaleY=h);let B=Z8(x),{width:A,height:$}=x;this._element=B,this._lastScaleX=P.scaleX=H,this._lastScaleY=P.scaleY=h,m4().applyFilters([P],x,A,$,this._element),this._filterScalingX=B.width/this._originalElement.width,this._filterScalingY=B.height/this._originalElement.height}applyFilters(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(P=P.filter((h)=>h&&!h.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),P.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);let p=this._originalElement,X=p.naturalWidth||p.width,H=p.naturalHeight||p.height;if(this._element===this._originalElement){let h=Z8({width:X,height:H});this._element=h,this._filteredEl=h}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,X,H),this._lastScaleX=1,this._lastScaleY=1);m4().applyFilters(P,this._originalElement,X,H,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(P){P.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(P),this._renderPaintInOrder(P)}drawCacheOnCanvas(P){P.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(P)}shouldCache(){return this.needsItsOwnCache()}_renderFill(P){let p=this._element;if(!p)return;let X=this._filterScalingX,H=this._filterScalingY,h=this.width,x=this.height,B=Math.max(this.cropX,0),A=Math.max(this.cropY,0),$=p.naturalWidth||p.width,D=p.naturalHeight||p.height,Z=B*X,L=A*H,f=Math.min(h*X,$-Z),F=Math.min(x*H,D-L),q=-h/2,b=-x/2,j=Math.min(h,$/X-B),Q=Math.min(x,D/H-A);p&&P.drawImage(p,Z,L,f,F,q,b,j,Q)}_needsResize(){let P=this.getTotalObjectScaling();return P.x!==this._lastScaleX||P.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:P,height:p}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=this.getOriginalSize();this.width=P||X.width,this.height=p||X.height}parsePreserveAspectRatioAttribute(){let P=rb(this.preserveAspectRatio||""),p=this.width,X=this.height,H={width:p,height:X},h,x=this._element.width,B=this._element.height,A=1,$=1,D=0,Z=0,L=0,f=0;return!P||P.alignX===$p&&P.alignY===$p?(A=p/x,$=X/B):(P.meetOrSlice==="meet"&&(A=$=dj(this._element,H),h=(p-x*A)/2,P.alignX==="Min"&&(D=-h),P.alignX==="Max"&&(D=h),h=(X-B*$)/2,P.alignY==="Min"&&(Z=-h),P.alignY==="Max"&&(Z=h)),P.meetOrSlice==="slice"&&(A=$=lj(this._element,H),h=x-p/A,P.alignX==="Mid"&&(L=h/2),P.alignX==="Max"&&(L=h),h=B-X/$,P.alignY==="Mid"&&(f=h/2),P.alignY==="Max"&&(f=h),x=p/A,B=X/$)),{width:x,height:B,scaleX:A,scaleY:$,offsetLeft:D,offsetTop:Z,cropX:L,cropY:f}}static fromObject(P,p){let{filters:X,resizeFilter:H,src:h,crossOrigin:x,type:B}=P,A=t0(P,UN);return Promise.all([KB(h,K(K({},p),{},{crossOrigin:x})),X&&jx(X,p),H&&jx([H],p),dB(A,p)]).then(($)=>{let[D,Z=[],[L]=[],f={}]=$;return new this(D,K(K({},A),{},{src:h,filters:Z,resizeFilter:L},f))})}static fromURL(P){let{crossOrigin:p=null,signal:X}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=arguments.length>2?arguments[2]:void 0;return KB(P,{crossOrigin:p,signal:X}).then((h)=>new this(h,H))}static async fromElement(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=arguments.length>2?arguments[2]:void 0,H=wX(P,this.ATTRIBUTE_NAMES,X);return this.fromURL(H["xlink:href"],p,H).catch((h)=>(kH("log","Unable to parse Image",h),null))}}R(y0,"type","Image"),R(y0,"cacheProperties",[...EX,...Qk]),R(y0,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:0.5,cropX:0,cropY:0,imageSmoothing:!0}),R(y0,"CSS_CANVAS","canvas-img"),R(y0,"ATTRIBUTE_NAMES",[...wH,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),L0.setClass(y0),L0.setSVGClass(y0);var tO=_5(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);var Vk=lb,Ub=(P)=>function(p,X,H){let{points:h,pathOffset:x}=H;return new l(h[P]).subtract(x).transform(ZP(H.getViewportTransform(),H.calcTransformMatrix()))},qk=(P,p,X,H)=>{let{target:h,pointIndex:x}=p,B=h,A=kX(new l(X,H),void 0,B.calcOwnMatrix());return B.points[x]=A.add(B.pathOffset),B.setDimensions(),!0},Yk=(P,p)=>function(X,H,h,x){let B=H.target,A=new l(B.points[(P>0?P:B.points.length)-1]),$=A.subtract(B.pathOffset).transform(B.calcOwnMatrix()),D=p(X,K(K({},H),{},{pointIndex:P}),h,x),Z=A.subtract(B.pathOffset).transform(B.calcOwnMatrix()).subtract($);return B.left-=Z.x,B.top-=Z.y,D},Sb=(P)=>EH(Vk,Yk(P,qk)),LL=(P,p,X)=>{let{path:H,pathOffset:h}=P,x=H[p];return new l(x[X]-h.x,x[X+1]-h.y).transform(ZP(P.getViewportTransform(),P.calcTransformMatrix()))};function SN(P,p,X){let{commandIndex:H,pointIndex:h}=this;return LL(X,H,h)}function GN(P,p,X,H){let{target:h}=p,{commandIndex:x,pointIndex:B}=this,A=(($,D,Z,L,f)=>{let{path:F,pathOffset:q}=$,b=F[(L>0?L:F.length)-1],j=new l(b[f],b[f+1]),Q=j.subtract(q).transform($.calcOwnMatrix()),C=kX(new l(D,Z),void 0,$.calcOwnMatrix());F[L][f]=C.x+q.x,F[L][f+1]=C.y+q.y,$.setDimensions();let V=j.subtract($.pathOffset).transform($.calcOwnMatrix()).subtract(Q);return $.left-=V.x,$.top-=V.y,$.set("dirty",!0),!0})(h,X,H,x,B);return EL(this.actionName,K(K({},wL(P,p,X,H)),{},{commandIndex:x,pointIndex:B})),A}class yL extends Ap{constructor(P){super(P)}render(P,p,X,H,h){let x=K(K({},H),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(P,p,X,x,h)}}class bk extends yL{constructor(P){super(P)}render(P,p,X,H,h){let{path:x}=h,{commandIndex:B,pointIndex:A,connectToCommandIndex:$,connectToPointIndex:D}=this;P.save(),P.strokeStyle=this.controlStroke,this.connectionDashArray&&P.setLineDash(this.connectionDashArray);let[Z]=x[B],L=LL(h,$,D);if(Z==="Q"){let f=LL(h,B,A+2);P.moveTo(f.x,f.y),P.lineTo(p,X)}else P.moveTo(p,X);P.lineTo(L.x,L.y),P.stroke(),P.restore(),super.render(P,p,X,H,h)}}var Y5=(P,p,X,H,h,x)=>new(X?bk:yL)(K(K({commandIndex:P,pointIndex:p,actionName:"modifyPath",positionHandler:SN,actionHandler:GN,connectToCommandIndex:h,connectToPointIndex:x},H),X?H.controlPointStyle:H.pointStyle)),eO=Object.freeze({__proto__:null,changeWidth:pL,createObjectDefaultControls:SL,createPathControls:function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X={},H="M";return P.path.forEach((h,x)=>{let B=h[0];switch(B!=="Z"&&(X["c_".concat(x,"_").concat(B)]=Y5(x,h.length-2,!1,p)),B){case"C":X["c_".concat(x,"_C_CP_1")]=Y5(x,1,!0,p,x-1,((A)=>A==="C"?5:A==="Q"?3:1)(H)),X["c_".concat(x,"_C_CP_2")]=Y5(x,3,!0,p,x,5);break;case"Q":X["c_".concat(x,"_Q_CP_1")]=Y5(x,1,!0,p,x,3)}H=B}),X},createPolyActionHandler:Sb,createPolyControls:function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X={};for(let H=0;H<(typeof P=="number"?P:P.points.length);H++)X["p".concat(H)]=new Ap(K({actionName:Vk,positionHandler:Ub(H),actionHandler:Sb(H)},p));return X},createPolyPositionHandler:Ub,createResizeControls:wj,createTextboxDefaultControls:zj,dragHandler:xj,factoryPolyActionHandler:Yk,getLocalPoint:g5,polyActionHandler:qk,renderCircleControl:Qj,renderSquareControl:Vj,rotationStyleHandler:qj,rotationWithSnapping:Yj,scaleCursorStyleHandler:Px,scaleOrSkewActionName:WB,scaleSkewCursorStyleHandler:E1,scalingEqually:MB,scalingX:kj,scalingXOrSkewingY:XL,scalingY:Ij,scalingYOrSkewingX:HL,skewCursorStyleHandler:Tj,skewHandlerX:Wj,skewHandlerY:Ej,wrapWithFireEvent:EH,wrapWithFixedAnchor:G1}),n5=(P)=>P.webgl!==void 0;var gL="precision highp float",NN=`
    `.concat(gL,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),vN=["type"],cN=["type"],ON=new RegExp(gL,"g");class CP{get type(){return this.constructor.type}constructor(){let P=t0(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},vN);Object.assign(this,this.constructor.defaults,P)}getFragmentSource(){return NN}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource(),{WebGLProbe:{GLPrecision:H="highp"}}=c8();H!=="highp"&&(p=p.replace(ON,gL.replace("highp",H)));let h=P.createShader(P.VERTEX_SHADER),x=P.createShader(P.FRAGMENT_SHADER),B=P.createProgram();if(!h||!x||!B)throw new x8("Vertex, fragment shader or program creation error");if(P.shaderSource(h,X),P.compileShader(h),!P.getShaderParameter(h,P.COMPILE_STATUS))throw new x8("Vertex shader compile error for ".concat(this.type,": ").concat(P.getShaderInfoLog(h)));if(P.shaderSource(x,p),P.compileShader(x),!P.getShaderParameter(x,P.COMPILE_STATUS))throw new x8("Fragment shader compile error for ".concat(this.type,": ").concat(P.getShaderInfoLog(x)));if(P.attachShader(B,h),P.attachShader(B,x),P.linkProgram(B),!P.getProgramParameter(B,P.LINK_STATUS))throw new x8('Shader link error for "'.concat(this.type,'" ').concat(P.getProgramInfoLog(B)));let A=this.getUniformLocations(P,B)||{};return A.uStepW=P.getUniformLocation(B,"uStepW"),A.uStepH=P.getUniformLocation(B,"uStepH"),{program:B,attributeLocations:this.getAttributeLocations(P,B),uniformLocations:A}}getAttributeLocations(P,p){return{aPosition:P.getAttribLocation(p,"aPosition")}}getUniformLocations(P,p){let X=this.constructor.uniformLocations,H={};for(let h=0;h<X.length;h++)H[X[h]]=P.getUniformLocation(p,X[h]);return H}sendAttributeData(P,p,X){let H=p.aPosition,h=P.createBuffer();P.bindBuffer(P.ARRAY_BUFFER,h),P.enableVertexAttribArray(H),P.vertexAttribPointer(H,2,P.FLOAT,!1,0,0),P.bufferData(P.ARRAY_BUFFER,X,P.STATIC_DRAW)}_setupFrameBuffer(P){let p=P.context;if(P.passes>1){let{destinationWidth:X,destinationHeight:H}=P;P.sourceWidth===X&&P.sourceHeight===H||(p.deleteTexture(P.targetTexture),P.targetTexture=P.filterBackend.createTexture(p,X,H)),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,P.targetTexture,0)}else p.bindFramebuffer(p.FRAMEBUFFER,null),p.finish()}_swapTextures(P){P.passes--,P.pass++;let p=P.targetTexture;P.targetTexture=P.sourceTexture,P.sourceTexture=p}isNeutralState(P){return!1}applyTo(P){n5(P)?(this._setupFrameBuffer(P),this.applyToWebGL(P),this._swapTextures(P)):this.applyTo2d(P)}applyTo2d(P){}getCacheKey(){return this.type}retrieveShader(P){let p=this.getCacheKey();return P.programCache[p]||(P.programCache[p]=this.createProgram(P.context)),P.programCache[p]}applyToWebGL(P){let p=P.context,X=this.retrieveShader(P);P.pass===0&&P.originalTexture?p.bindTexture(p.TEXTURE_2D,P.originalTexture):p.bindTexture(p.TEXTURE_2D,P.sourceTexture),p.useProgram(X.program),this.sendAttributeData(p,X.attributeLocations,P.aPosition),p.uniform1f(X.uniformLocations.uStepW,1/P.sourceWidth),p.uniform1f(X.uniformLocations.uStepH,1/P.sourceHeight),this.sendUniformData(p,X.uniformLocations),p.viewport(0,0,P.destinationWidth,P.destinationHeight),p.drawArrays(p.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(P,p,X){P.activeTexture(X),P.bindTexture(P.TEXTURE_2D,p),P.activeTexture(P.TEXTURE0)}unbindAdditionalTexture(P,p){P.activeTexture(p),P.bindTexture(P.TEXTURE_2D,null),P.activeTexture(P.TEXTURE0)}sendUniformData(P,p){}createHelpLayer(P){if(!P.helpLayer){let{sourceWidth:p,sourceHeight:X}=P,H=Z8({width:p,height:X});P.helpLayer=H}}toObject(){let P=Object.keys(this.constructor.defaults||{});return K({type:this.type},P.reduce((p,X)=>(p[X]=this[X],p),{}))}toJSON(){return this.toObject()}static async fromObject(P,p){return new this(t0(P,cN))}}R(CP,"type","BaseFilter"),R(CP,"uniformLocations",[]);var dN={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Xx extends CP{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(dN[this.mode],`
        }
      }
      `)}applyTo2d(P){let{imageData:{data:p}}=P,X=new v0(this.color).getSource(),H=this.alpha,h=X[0]*H,x=X[1]*H,B=X[2]*H,A=1-H;for(let $=0;$<p.length;$+=4){let D=p[$],Z=p[$+1],L=p[$+2],f,F,q;switch(this.mode){case"multiply":f=D*h/255,F=Z*x/255,q=L*B/255;break;case"screen":f=255-(255-D)*(255-h)/255,F=255-(255-Z)*(255-x)/255,q=255-(255-L)*(255-B)/255;break;case"add":f=D+h,F=Z+x,q=L+B;break;case"difference":f=Math.abs(D-h),F=Math.abs(Z-x),q=Math.abs(L-B);break;case"subtract":f=D-h,F=Z-x,q=L-B;break;case"darken":f=Math.min(D,h),F=Math.min(Z,x),q=Math.min(L,B);break;case"lighten":f=Math.max(D,h),F=Math.max(Z,x),q=Math.max(L,B);break;case"overlay":f=h<128?2*D*h/255:255-2*(255-D)*(255-h)/255,F=x<128?2*Z*x/255:255-2*(255-Z)*(255-x)/255,q=B<128?2*L*B/255:255-2*(255-L)*(255-B)/255;break;case"exclusion":f=h+D-2*h*D/255,F=x+Z-2*x*Z/255,q=B+L-2*B*L/255;break;case"tint":f=h+D*A,F=x+Z*A,q=B+L*A}p[$]=f,p[$+1]=F,p[$+2]=q}}sendUniformData(P,p){let X=new v0(this.color).getSource();X[0]=this.alpha*X[0]/255,X[1]=this.alpha*X[1]/255,X[2]=this.alpha*X[2]/255,X[3]=this.alpha,P.uniform4fv(p.uColor,X)}}R(Xx,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),R(Xx,"type","BlendColor"),R(Xx,"uniformLocations",["uColor"]),L0.setClass(Xx);var lN={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},yN=["type","image"];class Hx extends CP{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return lN[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(P){let p=P.context,X=this.createTexture(P.filterBackend,this.image);this.bindAdditionalTexture(p,X,p.TEXTURE1),super.applyToWebGL(P),this.unbindAdditionalTexture(p,p.TEXTURE1)}createTexture(P,p){return P.getCachedTexture(p.cacheKey,p.getElement())}calculateMatrix(){let P=this.image,{width:p,height:X}=P.getElement();return[1/P.scaleX,0,0,0,1/P.scaleY,0,-P.left/p,-P.top/X,1]}applyTo2d(P){let{imageData:{data:p,width:X,height:H},filterBackend:{resources:h}}=P,x=this.image;h.blendImage||(h.blendImage=ap());let B=h.blendImage,A=B.getContext("2d");B.width!==X||B.height!==H?(B.width=X,B.height=H):A.clearRect(0,0,X,H),A.setTransform(x.scaleX,0,0,x.scaleY,x.left,x.top),A.drawImage(x.getElement(),0,0,X,H);let $=A.getImageData(0,0,X,H).data;for(let D=0;D<p.length;D+=4){let Z=p[D],L=p[D+1],f=p[D+2],F=p[D+3],q=$[D],b=$[D+1],j=$[D+2],Q=$[D+3];switch(this.mode){case"multiply":p[D]=Z*q/255,p[D+1]=L*b/255,p[D+2]=f*j/255,p[D+3]=F*Q/255;break;case"mask":p[D+3]=Q}}}sendUniformData(P,p){let X=this.calculateMatrix();P.uniform1i(p.uImage,1),P.uniformMatrix3fv(p.uTransformMatrix,!1,X)}toObject(){return K(K({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(P,p){let{type:X,image:H}=P,h=t0(P,yN);return y0.fromObject(H,p).then((x)=>new this(K(K({},h),{},{image:x})))}}R(Hx,"type","BlendImage"),R(Hx,"defaults",{mode:"multiply",alpha:1}),R(Hx,"uniformLocations",["uTransformMatrix","uImage"]),L0.setClass(Hx);class hx extends CP{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(P){n5(P)?(this.aspectRatio=P.sourceWidth/P.sourceHeight,P.passes++,this._setupFrameBuffer(P),this.horizontal=!0,this.applyToWebGL(P),this._swapTextures(P),this._setupFrameBuffer(P),this.horizontal=!1,this.applyToWebGL(P),this._swapTextures(P)):this.applyTo2d(P)}applyTo2d(P){P.imageData=this.simpleBlur(P)}simpleBlur(P){let{ctx:p,imageData:X,filterBackend:{resources:H}}=P,{width:h,height:x}=X;H.blurLayer1||(H.blurLayer1=ap(),H.blurLayer2=ap());let{blurLayer1:B,blurLayer2:A}=H;B.width===h&&B.height===x||(A.width=B.width=h,A.height=B.height=x);let $=B.getContext("2d"),D=A.getContext("2d"),Z=15,L=0.06*this.blur*0.5,f,F,q,b;for($.putImageData(X,0,0),D.clearRect(0,0,h,x),b=-15;b<=Z;b++)f=(Math.random()-0.5)/4,F=b/Z,q=L*F*h+f,D.globalAlpha=1-Math.abs(F),D.drawImage(B,q,f),$.drawImage(A,0,0),D.globalAlpha=1,D.clearRect(0,0,A.width,A.height);for(b=-15;b<=Z;b++)f=(Math.random()-0.5)/4,F=b/Z,q=L*F*x+f,D.globalAlpha=1-Math.abs(F),D.drawImage(B,f,q),$.drawImage(A,0,0),D.globalAlpha=1,D.clearRect(0,0,A.width,A.height);p.drawImage(B,0,0);let j=p.getImageData(0,0,B.width,B.height);return $.globalAlpha=1,$.clearRect(0,0,B.width,B.height),j}sendUniformData(P,p){let X=this.chooseRightDelta();P.uniform2fv(p.uDelta,X)}isNeutralState(){return this.blur===0}chooseRightDelta(){let P=1,p=[0,0];this.horizontal?this.aspectRatio>1&&(P=1/this.aspectRatio):this.aspectRatio<1&&(P=this.aspectRatio);let X=P*this.blur*0.12;return this.horizontal?p[0]=X:p[1]=X,p}}R(hx,"type","Blur"),R(hx,"defaults",{blur:0}),R(hx,"uniformLocations",["uDelta"]),L0.setClass(hx);class xx extends CP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(P){let{imageData:{data:p}}=P,X=Math.round(255*this.brightness);for(let H=0;H<p.length;H+=4)p[H]+=X,p[H+1]+=X,p[H+2]+=X}isNeutralState(){return this.brightness===0}sendUniformData(P,p){P.uniform1f(p.uBrightness,this.brightness)}}R(xx,"type","Brightness"),R(xx,"defaults",{brightness:0}),R(xx,"uniformLocations",["uBrightness"]),L0.setClass(xx);var jk={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class jH extends CP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(P){let p=P.imageData.data,X=this.matrix,H=this.colorsOnly;for(let h=0;h<p.length;h+=4){let x=p[h],B=p[h+1],A=p[h+2];if(p[h]=x*X[0]+B*X[1]+A*X[2]+255*X[4],p[h+1]=x*X[5]+B*X[6]+A*X[7]+255*X[9],p[h+2]=x*X[10]+B*X[11]+A*X[12]+255*X[14],!H){let $=p[h+3];p[h]+=$*X[3],p[h+1]+=$*X[8],p[h+2]+=$*X[13],p[h+3]=x*X[15]+B*X[16]+A*X[17]+$*X[18]+255*X[19]}}}sendUniformData(P,p){let X=this.matrix,H=[X[0],X[1],X[2],X[3],X[5],X[6],X[7],X[8],X[10],X[11],X[12],X[13],X[15],X[16],X[17],X[18]],h=[X[4],X[9],X[14],X[19]];P.uniformMatrix4fv(p.uColorMatrix,!1,H),P.uniform4fv(p.uConstants,h)}toObject(){return K(K({},super.toObject()),{},{matrix:[...this.matrix]})}}function N1(P,p){var X;let H=(R(X=class extends jH{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",P),R(X,"defaults",{colorsOnly:!1,matrix:p}),X);return L0.setClass(H,P),H}R(jH,"type","ColorMatrix"),R(jH,"defaults",jk),R(jH,"uniformLocations",["uColorMatrix","uConstants"]),L0.setClass(jH);var gN=N1("Brownie",[0.5997,0.34553,-0.27082,0,0.186,-0.0377,0.86095,0.15059,0,-0.1449,0.24113,-0.07441,0.44972,0,-0.02965,0,0,0,1,0]),_N=N1("Vintage",[0.62793,0.32021,-0.03965,0,0.03784,0.02578,0.64411,0.03259,0,0.02926,0.0466,-0.08512,0.52416,0,0.02023,0,0,0,1,0]),uN=N1("Kodachrome",[1.12855,-0.39673,-0.03992,0,0.24991,-0.16404,1.08352,-0.05498,0,0.09698,-0.16786,-0.56034,1.60148,0,0.13972,0,0,0,1,0]),iN=N1("Technicolor",[1.91252,-0.85453,-0.09155,0,0.04624,-0.30878,1.76589,-0.10601,0,-0.27589,-0.2311,-0.75018,1.84759,0,0.12137,0,0,0,1,0]),mN=N1("Polaroid",[1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0]),aN=N1("Sepia",[0.393,0.769,0.189,0,0,0.349,0.686,0.168,0,0,0.272,0.534,0.131,0,0,0,0,0,1,0]),oN=N1("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class N5 extends CP{constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(P),this.subFilters=P.subFilters||[]}applyTo(P){n5(P)&&(P.passes+=this.subFilters.length-1),this.subFilters.forEach((p)=>{p.applyTo(P)})}toObject(){return{type:this.type,subFilters:this.subFilters.map((P)=>P.toObject())}}isNeutralState(){return!this.subFilters.some((P)=>!P.isNeutralState())}static fromObject(P,p){return Promise.all((P.subFilters||[]).map((X)=>L0.getClass(X.type).fromObject(X,p))).then((X)=>new this({subFilters:X}))}}R(N5,"type","Composed"),L0.setClass(N5);class Bx extends CP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(P){let{imageData:{data:p}}=P,X=Math.floor(255*this.contrast),H=259*(X+255)/(255*(259-X));for(let h=0;h<p.length;h+=4)p[h]=H*(p[h]-128)+128,p[h+1]=H*(p[h+1]-128)+128,p[h+2]=H*(p[h+2]-128)+128}sendUniformData(P,p){P.uniform1f(p.uContrast,this.contrast)}}R(Bx,"type","Contrast"),R(Bx,"defaults",{contrast:0}),R(Bx,"uniformLocations",["uContrast"]),L0.setClass(Bx);var rN={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class Ax extends CP{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return rN[this.getCacheKey()]}applyTo2d(P){let p=P.imageData,X=p.data,H=this.matrix,h=Math.round(Math.sqrt(H.length)),x=Math.floor(h/2),B=p.width,A=p.height,$=P.ctx.createImageData(B,A),D=$.data,Z=this.opaque?1:0,L,f,F,q,b,j,Q,C,V,Y,k,z,W;for(k=0;k<A;k++)for(Y=0;Y<B;Y++){for(b=4*(k*B+Y),L=0,f=0,F=0,q=0,W=0;W<h;W++)for(z=0;z<h;z++)Q=k+W-x,j=Y+z-x,Q<0||Q>=A||j<0||j>=B||(C=4*(Q*B+j),V=H[W*h+z],L+=X[C]*V,f+=X[C+1]*V,F+=X[C+2]*V,Z||(q+=X[C+3]*V));D[b]=L,D[b+1]=f,D[b+2]=F,D[b+3]=Z?X[b+3]:q}P.imageData=$}sendUniformData(P,p){P.uniform1fv(p.uMatrix,this.matrix)}toObject(){return K(K({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}R(Ax,"type","Convolute"),R(Ax,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),R(Ax,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),L0.setClass(Ax);var kk="Gamma";class Dx extends CP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(P),this.gamma=P.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(P){let{imageData:{data:p}}=P,X=this.gamma,H=1/X[0],h=1/X[1],x=1/X[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});let B=this.rgbValues;for(let A=0;A<256;A++)B.r[A]=255*Math.pow(A/255,H),B.g[A]=255*Math.pow(A/255,h),B.b[A]=255*Math.pow(A/255,x);for(let A=0;A<p.length;A+=4)p[A]=B.r[p[A]],p[A+1]=B.g[p[A+1]],p[A+2]=B.b[p[A+2]]}sendUniformData(P,p){P.uniform3fv(p.uGamma,this.gamma)}isNeutralState(){let{gamma:P}=this;return P[0]===1&&P[1]===1&&P[2]===1}toObject(){return{type:kk,gamma:this.gamma.concat()}}}R(Dx,"type",kk),R(Dx,"defaults",{gamma:[1,1,1]}),R(Dx,"uniformLocations",["uGamma"]),L0.setClass(Dx);var nN={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class $x extends CP{applyTo2d(P){let{imageData:{data:p}}=P;for(let X,H=0;H<p.length;H+=4){let h=p[H],x=p[H+1],B=p[H+2];switch(this.mode){case"average":X=(h+x+B)/3;break;case"lightness":X=(Math.min(h,x,B)+Math.max(h,x,B))/2;break;case"luminosity":X=0.21*h+0.72*x+0.07*B}p[H+2]=p[H+1]=p[H]=X}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return nN[this.mode]}sendUniformData(P,p){P.uniform1i(p.uMode,1)}isNeutralState(){return!1}}R($x,"type","Grayscale"),R($x,"defaults",{mode:"average"}),R($x,"uniformLocations",["uMode"]),L0.setClass($x);var sN=K(K({},jk),{},{rotation:0});class SB extends jH{calculateMatrix(){let P=this.rotation*Math.PI,p=D8(P),X=$8(P),h=Math.sqrt(0.3333333333333333)*X,x=1-p;this.matrix=[p+x/3,0.3333333333333333*x-h,0.3333333333333333*x+h,0,0,0.3333333333333333*x+h,p+0.3333333333333333*x,0.3333333333333333*x-h,0,0,0.3333333333333333*x-h,0.3333333333333333*x+h,p+0.3333333333333333*x,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(P){this.calculateMatrix(),super.applyTo(P)}toObject(){return{type:this.type,rotation:this.rotation}}}R(SB,"type","HueRotation"),R(SB,"defaults",sN),L0.setClass(SB);class Zx extends CP{applyTo2d(P){let{imageData:{data:p}}=P;for(let X=0;X<p.length;X+=4)p[X]=255-p[X],p[X+1]=255-p[X+1],p[X+2]=255-p[X+2],this.alpha&&(p[X+3]=255-p[X+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(P,p){P.uniform1i(p.uInvert,Number(this.invert)),P.uniform1i(p.uAlpha,Number(this.alpha))}}R(Zx,"type","Invert"),R(Zx,"defaults",{alpha:!1,invert:!0}),R(Zx,"uniformLocations",["uInvert","uAlpha"]),L0.setClass(Zx);class Lx extends CP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(P){let{imageData:{data:p}}=P,X=this.noise;for(let H=0;H<p.length;H+=4){let h=(0.5-Math.random())*X;p[H]+=h,p[H+1]+=h,p[H+2]+=h}}sendUniformData(P,p){P.uniform1f(p.uNoise,this.noise/255),P.uniform1f(p.uSeed,Math.random())}isNeutralState(){return this.noise===0}}R(Lx,"type","Noise"),R(Lx,"defaults",{noise:0}),R(Lx,"uniformLocations",["uNoise","uSeed"]),L0.setClass(Lx);class fx extends CP{applyTo2d(P){let{imageData:{data:p,width:X,height:H}}=P;for(let h=0;h<H;h+=this.blocksize)for(let x=0;x<X;x+=this.blocksize){let B=4*h*X+4*x,A=p[B],$=p[B+1],D=p[B+2],Z=p[B+3];for(let L=h;L<Math.min(h+this.blocksize,H);L++)for(let f=x;f<Math.min(x+this.blocksize,X);f++){let F=4*L*X+4*f;p[F]=A,p[F+1]=$,p[F+2]=D,p[F+3]=Z}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(P,p){P.uniform1f(p.uBlocksize,this.blocksize)}}R(fx,"type","Pixelate"),R(fx,"defaults",{blocksize:4}),R(fx,"uniformLocations",["uBlocksize"]),L0.setClass(fx);class Fx extends CP{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(P){let{imageData:{data:p}}=P,X=255*this.distance,H=new v0(this.color).getSource(),h=[H[0]-X,H[1]-X,H[2]-X],x=[H[0]+X,H[1]+X,H[2]+X];for(let B=0;B<p.length;B+=4){let A=p[B],$=p[B+1],D=p[B+2];A>h[0]&&$>h[1]&&D>h[2]&&A<x[0]&&$<x[1]&&D<x[2]&&(p[B+3]=0)}}sendUniformData(P,p){let X=new v0(this.color).getSource(),H=this.distance,h=[0+X[0]/255-H,0+X[1]/255-H,0+X[2]/255-H,1],x=[X[0]/255+H,X[1]/255+H,X[2]/255+H,1];P.uniform4fv(p.uLow,h),P.uniform4fv(p.uHigh,x)}}R(Fx,"type","RemoveColor"),R(Fx,"defaults",{color:"#FFFFFF",distance:0.02,useAlpha:!1}),R(Fx,"uniformLocations",["uLow","uHigh"]),L0.setClass(Fx);class Cx extends CP{sendUniformData(P,p){P.uniform2fv(p.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),P.uniform1fv(p.uTaps,this.taps)}getFilterWindow(){let P=this.tempScale;return Math.ceil(this.lanczosLobes/P)}getCacheKey(){let P=this.getFilterWindow();return"".concat(this.type,"_").concat(P)}getFragmentSource(){let P=this.getFilterWindow();return this.generateShader(P)}getTaps(){let P=this.lanczosCreate(this.lanczosLobes),p=this.tempScale,X=this.getFilterWindow(),H=new Array(X);for(let h=1;h<=X;h++)H[h-1]=P(h*p);return H}generateShader(P){let p=new Array(P);for(let X=1;X<=P;X++)p[X-1]="".concat(X,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(P,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(p.map((X,H)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(X,") * uTaps[").concat(H,"] + texture2D(uTexture, vTexCoord - ").concat(X,") * uTaps[").concat(H,`];
              sum += 2.0 * uTaps[`).concat(H,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(P){P.passes++,this.width=P.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=P.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),P.destinationWidth=this.dW,super.applyTo(P),P.sourceWidth=P.destinationWidth,this.height=P.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),P.destinationHeight=this.dH,super.applyTo(P),P.sourceHeight=P.destinationHeight}applyTo(P){n5(P)?this.applyToForWebgl(P):this.applyTo2d(P)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(P){return(p)=>{if(p>=P||p<=-P)return 0;if(p<0.00000011920929&&p>-0.00000011920929)return 1;let X=(p*=Math.PI)/P;return Math.sin(p)/p*Math.sin(X)/X}}applyTo2d(P){let p=P.imageData,X=this.scaleX,H=this.scaleY;this.rcpScaleX=1/X,this.rcpScaleY=1/H;let{width:h,height:x}=p,B=Math.round(h*X),A=Math.round(x*H),$;$=this.resizeType==="sliceHack"?this.sliceByTwo(P,h,x,B,A):this.resizeType==="hermite"?this.hermiteFastResize(P,h,x,B,A):this.resizeType==="bilinear"?this.bilinearFiltering(P,h,x,B,A):this.resizeType==="lanczos"?this.lanczosResize(P,h,x,B,A):new ImageData(B,A),P.imageData=$}sliceByTwo(P,p,X,H,h){let x=P.imageData,A=!1,$=!1,D=p*0.5,Z=X*0.5,L=P.filterBackend.resources,f=0,F=0,q=p,b=0;L.sliceByTwo||(L.sliceByTwo=ap());let j=L.sliceByTwo;(j.width<1.5*p||j.height<X)&&(j.width=1.5*p,j.height=X);let Q=j.getContext("2d");for(Q.clearRect(0,0,1.5*p,X),Q.putImageData(x,0,0),H=Math.floor(H),h=Math.floor(h);!A||!$;)p=D,X=Z,H<Math.floor(D*0.5)?D=Math.floor(D*0.5):(D=H,A=!0),h<Math.floor(Z*0.5)?Z=Math.floor(Z*0.5):(Z=h,$=!0),Q.drawImage(j,f,F,p,X,q,b,D,Z),f=q,F=b,b+=Z;return Q.getImageData(f,F,H,h)}lanczosResize(P,p,X,H,h){let x=P.imageData.data,B=P.ctx.createImageData(H,h),A=B.data,$=this.lanczosCreate(this.lanczosLobes),D=this.rcpScaleX,Z=this.rcpScaleY,L=2/this.rcpScaleX,f=2/this.rcpScaleY,F=Math.ceil(D*this.lanczosLobes/2),q=Math.ceil(Z*this.lanczosLobes/2),b={},j={x:0,y:0},Q={x:0,y:0};return function C(V){let Y,k,z,W,M,c,w,U,G,J,d;for(j.x=(V+0.5)*D,Q.x=Math.floor(j.x),Y=0;Y<h;Y++){for(j.y=(Y+0.5)*Z,Q.y=Math.floor(j.y),M=0,c=0,w=0,U=0,G=0,k=Q.x-F;k<=Q.x+F;k++)if(!(k<0||k>=p)){J=Math.floor(1000*Math.abs(k-j.x)),b[J]||(b[J]={});for(let S=Q.y-q;S<=Q.y+q;S++)S<0||S>=X||(d=Math.floor(1000*Math.abs(S-j.y)),b[J][d]||(b[J][d]=$(Math.sqrt(Math.pow(J*L,2)+Math.pow(d*f,2))/1000)),z=b[J][d],z>0&&(W=4*(S*p+k),M+=z,c+=z*x[W],w+=z*x[W+1],U+=z*x[W+2],G+=z*x[W+3]))}W=4*(Y*H+V),A[W]=c/M,A[W+1]=w/M,A[W+2]=U/M,A[W+3]=G/M}return++V<H?C(V):B}(0)}bilinearFiltering(P,p,X,H,h){let x,B,A,$,D,Z,L,f,F,q,b,j,Q,C=0,V=this.rcpScaleX,Y=this.rcpScaleY,k=4*(p-1),z=P.imageData.data,W=P.ctx.createImageData(H,h),M=W.data;for(L=0;L<h;L++)for(f=0;f<H;f++)for(D=Math.floor(V*f),Z=Math.floor(Y*L),F=V*f-D,q=Y*L-Z,Q=4*(Z*p+D),b=0;b<4;b++)x=z[Q+b],B=z[Q+4+b],A=z[Q+k+b],$=z[Q+k+4+b],j=x*(1-F)*(1-q)+B*F*(1-q)+A*q*(1-F)+$*F*q,M[C++]=j;return W}hermiteFastResize(P,p,X,H,h){let x=this.rcpScaleX,B=this.rcpScaleY,A=Math.ceil(x/2),$=Math.ceil(B/2),D=P.imageData.data,Z=P.ctx.createImageData(H,h),L=Z.data;for(let f=0;f<h;f++)for(let F=0;F<H;F++){let q=4*(F+f*H),b=0,j=0,Q=0,C=0,V=0,Y=0,k=0,z=(f+0.5)*B;for(let W=Math.floor(f*B);W<(f+1)*B;W++){let M=Math.abs(z-(W+0.5))/$,c=(F+0.5)*x,w=M*M;for(let U=Math.floor(F*x);U<(F+1)*x;U++){let G=Math.abs(c-(U+0.5))/A,J=Math.sqrt(w+G*G);J>1&&J<-1||(b=2*J*J*J-3*J*J+1,b>0&&(G=4*(U+W*p),k+=b*D[G+3],Q+=b,D[G+3]<255&&(b=b*D[G+3]/250),C+=b*D[G],V+=b*D[G+1],Y+=b*D[G+2],j+=b))}}L[q]=C/j,L[q+1]=V/j,L[q+2]=Y/j,L[q+3]=k/Q}return Z}}R(Cx,"type","Resize"),R(Cx,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),R(Cx,"uniformLocations",["uDelta","uTaps"]),L0.setClass(Cx);class Qx extends CP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(P){let{imageData:{data:p}}=P,X=-this.saturation;for(let H=0;H<p.length;H+=4){let h=p[H],x=p[H+1],B=p[H+2],A=Math.max(h,x,B);p[H]+=A!==h?(A-h)*X:0,p[H+1]+=A!==x?(A-x)*X:0,p[H+2]+=A!==B?(A-B)*X:0}}sendUniformData(P,p){P.uniform1f(p.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}R(Qx,"type","Saturation"),R(Qx,"defaults",{saturation:0}),R(Qx,"uniformLocations",["uSaturation"]),L0.setClass(Qx);class Vx extends CP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(P){let{imageData:{data:p}}=P,X=-this.vibrance;for(let H=0;H<p.length;H+=4){let h=p[H],x=p[H+1],B=p[H+2],A=Math.max(h,x,B),$=(h+x+B)/3,D=2*Math.abs(A-$)/255*X;p[H]+=A!==h?(A-h)*D:0,p[H+1]+=A!==x?(A-x)*D:0,p[H+2]+=A!==B?(A-B)*D:0}}sendUniformData(P,p){P.uniform1f(p.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}R(Vx,"type","Vibrance"),R(Vx,"defaults",{vibrance:0}),R(Vx,"uniformLocations",["uVibrance"]),L0.setClass(Vx);var Pd=Object.freeze({__proto__:null,BaseFilter:CP,BlackWhite:oN,BlendColor:Xx,BlendImage:Hx,Blur:hx,Brightness:xx,Brownie:gN,ColorMatrix:jH,Composed:N5,Contrast:Bx,Convolute:Ax,Gamma:Dx,Grayscale:$x,HueRotation:SB,Invert:Zx,Kodachrome:uN,Noise:Lx,Pixelate:fx,Polaroid:mN,RemoveColor:Fx,Resize:Cx,Saturation:Qx,Sepia:aN,Technicolor:iN,Vibrance:Vx,Vintage:_N});var L8=c0(i0(),1);var Ik="./perkbg-re54prrp.png";var s5="./gradient-tr2q6j2h.png";var Tk={clear(){console.log("todo")},drawImage(){console.log("todo")}},Mk={clear(P){P.clearRect(0,0,P.canvas.width,P.canvas.height)},drawImage(P,p,X,H){P.drawImage(p,X,H)}},_L={clear(P){if(P instanceof CanvasRenderingContext2D)Mk.clear(P);else if(P instanceof WebGLRenderingContext)Tk.clear(P)},drawImage(P,p,X,H){if(P instanceof CanvasRenderingContext2D)Mk.drawImage(P,p,X,H);else if(P instanceof WebGLRenderingContext)Tk.drawImage(P,p,X,H)}};class zH{constructor(P){this.canvas=null,this.use(P)}use(P){this.method=P}make(P,p){if(!this.canvas)this.canvas=document.createElement("canvas");let{canvas:X}=this,H=this.getContext(),h=p.thickness*2,[x,B]=[P.width,P.height].map((A)=>A+h);if(x!==X.width||B!==X.height)X.width=x,X.height=B;return _L.clear(H),this.method.exec(H,P,p),_L.drawImage(H,P,p.thickness,p.thickness),X}getContext(){switch(this.method.context){case"gl":return this.canvas.getContext("gl");case"2d":return this.canvas.getContext("2d")}}}var zx={context:"2d",exec(P,p,X){P.save();for(let H=0;H<360;H++)P.drawImage(p,X.thickness*(1+Math.cos(H)),X.thickness*(1+Math.sin(H)));P.globalCompositeOperation="source-in",P.fillStyle=X.color,P.fillRect(0,0,P.canvas.width,P.canvas.height),P.restore()}};function Wk({files:P,setCanvasURLs:p}){let X=L8.useRef(null),H=L8.useRef(null),[h,x]=L8.useState(null),[B,A]=L8.useState("");L8.useEffect(()=>{if(X.current){let Z=new WX(X.current);x(Z)}},[]),L8.useEffect(()=>{if(h)uL(h)},[h]),L8.useEffect(()=>{if(P&&h)console.log("PerkCanvas received files:",P.length),h.clear(),uL(h),P.forEach((Z)=>{console.log("PerkCanvas processing file:",Z.name),Pv(Z.data,Z.name,h,A,D)})},[P,h]),L8.useEffect(()=>{if(h)uL(h)},[h]);function $(){if(H.current&&B)H.current.href=B,H.current.download=P?.[0]?.name+".png"}let D=(Z,L)=>{p((f)=>{if(f.some((q)=>q.name===Z))return console.log("File already exists in canvasURLs:",Z),f.map((q)=>q.name===Z?{...q,data:L}:q);return[...f,{name:Z,data:L,id:f.length}]})};return TP("div",{className:"absolute invisible pointer-events-none",children:[A0("canvas",{ref:X,width:250,height:250}),A0("a",{ref:H,onClick:$,children:"Download"})]})}function Pv(P,p,X,H,h){let x=new Image,B=new Image,A=!1,$=!1,D=!1;function Z(){if(D||!A||!$)return;D=!0,console.log("Processing images for:",p);let L=new y0(B,{clipPath:new y0(x,{left:0,top:0,width:256,height:256,originX:"center",originY:"center"}),left:0,top:0,width:256,height:256,selectable:!1});console.log("fabricImage with clipPath created for:",p);let f=L.toDataURL();console.log("Data URL created for:",p),X.remove(L);let F=new Image;function q(){console.log("htmlImage loaded for:",p);let b=new zH;b.use(zx);let j=b.make(F,{thickness:2,color:"black"}),Q=new y0(j,{left:0,top:0,width:256,height:256,selectable:!1});X.add(Q),X.renderAll();let C=X.toDataURL();H(C),console.log("Canvas URL created for",p),h(p,C),X.remove(Q)}if(F.onload=q,F.src=f,F.complete)q()}if(x.onload=()=>{console.log("iconImage loaded for:",p),A=!0,Z()},B.onload=()=>{console.log("gradImage loaded for:",p),$=!0,Z()},x.src=P,B.src=s5,x.complete)console.log("iconImage already loaded for:",p),A=!0;if(B.complete)console.log("gradImage already loaded for:",p),$=!0;Z()}function uL(P){let p=new Image;p.src=Ik,p.onload=()=>{console.log("background loaded successfully");let X=new y0(p,{left:0,top:0,selectable:!1});P.backgroundImage=X,P.renderAll()}}var f8=c0(i0(),1);var Ek="./itembg-6n8hwq2m.png";function wk({files:P,setCanvasURLs:p}){let X=f8.useRef(null),H=f8.useRef(null),[h,x]=f8.useState(null),[B,A]=f8.useState("");f8.useEffect(()=>{if(X.current){let Z=new WX(X.current);x(Z)}},[]),f8.useEffect(()=>{if(h)iL(h)},[h]),f8.useEffect(()=>{if(P&&h)console.log("ItemCanvas received files:",P.length),h.clear(),iL(h),P.forEach((Z)=>{console.log("ItemCanvas processing file:",Z.name),Xv(Z.data,Z.name,h,A,D)})},[P,h]),f8.useEffect(()=>{if(h)iL(h)},[h]);function $(){if(H.current&&B)H.current.href=B,H.current.download=P?.[0]?.name+".png"}let D=(Z,L)=>{p((f)=>{if(f.some((q)=>q.name===Z))return console.log("File already exists in canvasURLs:",Z),f.map((q)=>q.name===Z?{...q,data:L}:q);return[...f,{name:Z,data:L,id:f.length}]})};return TP("div",{className:"absolute invisible pointer-events-none",children:[A0("canvas",{ref:X,width:250,height:250}),A0("a",{ref:H,onClick:$,children:"Download"})]})}function Xv(P,p,X,H,h){let x=new Image,B=new Image,A=!1,$=!1,D=!1;function Z(){if(D||!A||!$)return;D=!0,console.log("Processing images for:",p);let L=new y0(B,{clipPath:new y0(x,{left:0,top:0,width:256,height:256,originX:"center",originY:"center"}),left:0,top:0,width:256,height:256,selectable:!1});console.log("fabricImage with clipPath created for:",p);let f=L.toDataURL();console.log("Data URL created for:",p),X.remove(L);let F=new Image;function q(){console.log("htmlImage loaded for:",p);let b=new zH;b.use(zx);let j=b.make(F,{thickness:2,color:"black"}),Q=new y0(j,{left:0,top:0,width:256,height:256,selectable:!1});X.add(Q),X.renderAll();let C=X.toDataURL();H(C),console.log("Canvas URL created for",p),h(p,C),X.remove(Q)}if(F.onload=q,F.src=f,F.complete)q()}if(x.onload=()=>{console.log("iconImage loaded for:",p),A=!0,Z()},B.onload=()=>{console.log("gradImage loaded for:",p),$=!0,Z()},x.src=P,B.src=s5,x.complete)console.log("iconImage already loaded for:",p),A=!0;if(B.complete)console.log("gradImage already loaded for:",p),$=!0;Z()}function iL(P){let p=new Image;p.src=Ek,p.onload=()=>{console.log("background loaded successfully");let X=new y0(p,{left:0,top:0,selectable:!1});P.backgroundImage=X,P.renderAll()}}var Wp=c0(i0(),1);var mL="./addonBrown-ghry9js0.png";var aL="./addonBlue-8gj2cgxc.png";var oL="./addonGreen-c6r8pjam.png";var rL="./addonPurple-pgwpstx9.png";var zk="./addonPink-v6vfn79j.png";var Jk="./addonEvent-wxa8jczh.png";var Kk="./addonBrownGrad-q98265yw.png";var Rk="./addonBlueGrad-qy7g6g7w.png";var Uk="./addonGreenGrad-cggcndxd.png";var Sk="./addonPurpleGrad-pnsx0mz4.png";var Gk="./addonPinkGrad-ntqka2g3.png";var Nk="./addonEventGrad-bk496cty.png";function ck({files:P,setCanvasURLs:p}){let X=Wp.useRef(null),H=Wp.useRef(null),[h,x]=Wp.useState(null),[B,A]=Wp.useState(""),[$,D]=Wp.useState([]);Wp.useEffect(()=>{if(X.current){let f=new WX(X.current);x(f)}},[]),Wp.useEffect(()=>{if(h)vk(h)},[h]),Wp.useEffect(()=>{if(P&&h)console.log("ItemCanvas received files:",P.length),h.clear(),P.forEach((f)=>{console.log("ItemCanvas processing file:",f.name);let F=$.filter((q)=>q.name.includes(f.name));if(F.length>0){console.log("Found matching addons:",F);let q=F[0].details.rarity;Qv(f.data,f.name,h,A,L,q)}else console.log(f.name,"could not be matched. No Icon generated")})},[P,h]),Wp.useEffect(()=>{if(h)vk(h)},[h]),Wp.useEffect(()=>{fetch("https://michaelexile.github.io/DBD-IconsJSON/dbdItemAddons.json").then((f)=>f.json()).then((f)=>D(f)).catch((f)=>console.error("Error loading addon data:",f))},[]);function Z(){if(H.current&&B)H.current.href=B,H.current.download=P?.[0]?.name+".png"}let L=(f,F)=>{p((q)=>{if(q.some((j)=>j.name===f))return console.log("File already exists in canvasURLs:",f),q.map((j)=>j.name===f?{...j,data:F}:j);return[...q,{name:f,data:F,id:q.length}]})};return TP("div",{className:"absolute invisible pointer-events-none",children:[A0("canvas",{ref:X,width:250,height:250}),A0("a",{ref:H,onClick:Z,children:"Download"})]})}function Qv(P,p,X,H,h,x){let B=new Image,A=new Image,$=new Image,D=!1,Z=!1,L=!1,f=!1;function F(){if(f||!D||!Z||!L)return;f=!0,console.log("Processing images for:",p);let j=new y0($,{left:0,top:0,selectable:!1}),Q=new y0(A,{clipPath:new y0(B,{left:0,top:0,width:256,height:256,originX:"center",originY:"center"}),left:0,top:0,width:256,height:256,selectable:!1});console.log("fabricImage with clipPath created for:",p);let C=Q.toDataURL();console.log("Data URL created for:",p),X.remove(Q);let V=new Image;V.src=C,V.onload=Y;function Y(){console.log("htmlImage loaded for:",p);let k=new zH;k.use(zx);let z=k.make(V,{thickness:2,color:"black"}),W=new y0(z,{left:0,top:0,width:256,height:256,selectable:!1});X.add(W),X.backgroundImage=j,X.renderAll();let M=X.toDataURL();H(M),console.log("Canvas URL created for",p),h(p,M),X.remove(W)}if(V.complete)Y()}B.onload=()=>{console.log("iconImage loaded for:",p),D=!0,F()},A.onload=()=>{console.log("gradImage loaded for:",p),Z=!0,F()};let q,b;if(x)q=x==="common"?mL:x==="uncommon"?aL:x==="rare"?oL:x==="very_rare"?rL:x==="ultra_rare"?zk:Jk,b=x==="common"?Kk:x==="uncommon"?Rk:x==="rare"?Uk:x==="very_rare"?Sk:x==="ultra_rare"?Gk:Nk;if($.onload=()=>{console.log("background loaded successfully"),L=!0,F()},B.src=P,A.src=b,$.src=q,B.complete)console.log("iconImage already loaded for:",p),D=!0;if(A.complete)console.log("gradImage already loaded for:",p),Z=!0;if($.complete)console.log("gradImage already loaded for:",p),L=!0;F()}function vk(P,p){let X=new Image,H=p==="common"?mL:p==="uncommon"?aL:p==="rare"?oL:rL;X.src=H}var KX=c0(i0(),1);function F8(P,p,{checkForDefaultPrevented:X=!0}={}){return function H(h){if(P?.(h),X===!1||!h.defaultPrevented)return p?.(h)}}var zX=c0(i0(),1);function Jx(P,p=[]){let X=[];function H(x,B){let A=zX.createContext(B),$=X.length;X=[...X,B];let D=(L)=>{let{scope:f,children:F,...q}=L,b=f?.[P]?.[$]||A,j=zX.useMemo(()=>q,Object.values(q));return A0(b.Provider,{value:j,children:F})};D.displayName=x+"Provider";function Z(L,f){let F=f?.[P]?.[$]||A,q=zX.useContext(F);if(q)return q;if(B!==void 0)return B;throw new Error(`\`${L}\` must be used within \`${x}\``)}return[D,Z]}let h=()=>{let x=X.map((B)=>{return zX.createContext(B)});return function B(A){let $=A?.[P]||x;return zX.useMemo(()=>({[`__scope${P}`]:{...A,[P]:$}}),[A,$])}};return h.scopeName=P,[H,Vv(h,...p)]}function Vv(...P){let p=P[0];if(P.length===1)return p;let X=()=>{let H=P.map((h)=>({useScope:h(),scopeName:h.scopeName}));return function h(x){let B=H.reduce((A,{useScope:$,scopeName:D})=>{let L=$(x)[`__scope${D}`];return{...A,...L}},{});return zX.useMemo(()=>({[`__scope${p.scopeName}`]:B}),[B])}};return X.scopeName=p.scopeName,X}var UP=c0(i0(),1);var JH=c0(i0(),1);var dk=c0(i0(),1);function Ok(P,p){if(typeof P==="function")return P(p);else if(P!==null&&P!==void 0)P.current=p}function qv(...P){return(p)=>{let X=!1,H=P.map((h)=>{let x=Ok(h,p);if(!X&&typeof x=="function")X=!0;return x});if(X)return()=>{for(let h=0;h<H.length;h++){let x=H[h];if(typeof x=="function")x();else Ok(P[h],null)}}}}function JX(...P){return dk.useCallback(qv(...P),P)}var bP=c0(i0(),1);function _B(P){let p=Yv(P),X=bP.forwardRef((H,h)=>{let{children:x,...B}=H,A=bP.Children.toArray(x),$=A.find(jv);if($){let D=$.props.children,Z=A.map((L)=>{if(L===$){if(bP.Children.count(D)>1)return bP.Children.only(null);return bP.isValidElement(D)?D.props.children:null}else return L});return A0(p,{...B,ref:h,children:bP.isValidElement(D)?bP.cloneElement(D,void 0,Z):null})}return A0(p,{...B,ref:h,children:x})});return X.displayName=`${P}.Slot`,X}function Yv(P){let p=bP.forwardRef((X,H)=>{let{children:h,...x}=X,B=bP.isValidElement(h)?Iv(h):void 0,A=JX(B,H);if(bP.isValidElement(h)){let $=kv(x,h.props);if(h.type!==bP.Fragment)$.ref=A;return bP.cloneElement(h,$)}return bP.Children.count(h)>1?bP.Children.only(null):null});return p.displayName=`${P}.SlotClone`,p}var bv=Symbol("radix.slottable");function jv(P){return bP.isValidElement(P)&&typeof P.type==="function"&&"__radixId"in P.type&&P.type.__radixId===bv}function kv(P,p){let X={...p};for(let H in p){let h=P[H],x=p[H];if(/^on[A-Z]/.test(H)){if(h&&x)X[H]=(...A)=>{let $=x(...A);return h(...A),$};else if(h)X[H]=h}else if(H==="style")X[H]={...h,...x};else if(H==="className")X[H]=[h,x].filter(Boolean).join(" ")}return{...P,...X}}function Iv(P){let p=Object.getOwnPropertyDescriptor(P.props,"ref")?.get,X=p&&"isReactWarning"in p&&p.isReactWarning;if(X)return P.ref;if(p=Object.getOwnPropertyDescriptor(P,"ref")?.get,X=p&&"isReactWarning"in p&&p.isReactWarning,X)return P.props.ref;return P.props.ref||P.ref}var Tv=c0(i0(),1);function yk(P){let p=P+"CollectionProvider",[X,H]=Jx(p),[h,x]=X(p,{collectionRef:{current:null},itemMap:new Map}),B=(b)=>{let{scope:j,children:Q}=b,C=JH.default.useRef(null),V=JH.default.useRef(new Map).current;return A0(h,{scope:j,itemMap:V,collectionRef:C,children:Q})};B.displayName=p;let A=P+"CollectionSlot",$=_B(A),D=JH.default.forwardRef((b,j)=>{let{scope:Q,children:C}=b,V=x(A,Q),Y=JX(j,V.collectionRef);return A0($,{ref:Y,children:C})});D.displayName=A;let Z=P+"CollectionItemSlot",L="data-radix-collection-item",f=_B(Z),F=JH.default.forwardRef((b,j)=>{let{scope:Q,children:C,...V}=b,Y=JH.default.useRef(null),k=JX(j,Y),z=x(Z,Q);return JH.default.useEffect(()=>{return z.itemMap.set(Y,{ref:Y,...V}),()=>void z.itemMap.delete(Y)}),A0(f,{...{[L]:""},ref:k,children:C})});F.displayName=Z;function q(b){let j=x(P+"CollectionConsumer",b);return JH.default.useCallback(()=>{let C=j.collectionRef.current;if(!C)return[];let V=Array.from(C.querySelectorAll(`[${L}]`));return Array.from(j.itemMap.values()).sort((z,W)=>V.indexOf(z.ref.current)-V.indexOf(W.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:B,Slot:D,ItemSlot:F},q,H]}var lk=new WeakMap,Ql=class P extends Map{#P;constructor(p){super(p);this.#P=[...super.keys()],lk.set(this,!0)}set(p,X){if(lk.get(this))if(this.has(p))this.#P[this.#P.indexOf(p)]=p;else this.#P.push(p);return super.set(p,X),this}insert(p,X,H){let h=this.has(X),x=this.#P.length,B=gk(p),A=B>=0?B:x+B,$=A<0||A>=x?-1:A;if($===this.size||h&&$===this.size-1||$===-1)return this.set(X,H),this;let D=this.size+(h?0:1);if(B<0)A++;let Z=[...this.#P],L,f=!1;for(let F=A;F<D;F++)if(A===F){let q=Z[F];if(Z[F]===X)q=Z[F+1];if(h)this.delete(X);L=this.get(q),this.set(X,H)}else{if(!f&&Z[F-1]===X)f=!0;let q=Z[f?F:F-1],b=L;L=this.get(q),this.delete(q),this.set(q,b)}return this}with(p,X,H){let h=new P(this);return h.insert(p,X,H),h}before(p){let X=this.#P.indexOf(p)-1;if(X<0)return;return this.entryAt(X)}setBefore(p,X,H){let h=this.#P.indexOf(p);if(h===-1)return this;return this.insert(h,X,H)}after(p){let X=this.#P.indexOf(p);if(X=X===-1||X===this.size-1?-1:X+1,X===-1)return;return this.entryAt(X)}setAfter(p,X,H){let h=this.#P.indexOf(p);if(h===-1)return this;return this.insert(h+1,X,H)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#P=[],super.clear()}delete(p){let X=super.delete(p);if(X)this.#P.splice(this.#P.indexOf(p),1);return X}deleteAt(p){let X=this.keyAt(p);if(X!==void 0)return this.delete(X);return!1}at(p){let X=nL(this.#P,p);if(X!==void 0)return this.get(X)}entryAt(p){let X=nL(this.#P,p);if(X!==void 0)return[X,this.get(X)]}indexOf(p){return this.#P.indexOf(p)}keyAt(p){return nL(this.#P,p)}from(p,X){let H=this.indexOf(p);if(H===-1)return;let h=H+X;if(h<0)h=0;if(h>=this.size)h=this.size-1;return this.at(h)}keyFrom(p,X){let H=this.indexOf(p);if(H===-1)return;let h=H+X;if(h<0)h=0;if(h>=this.size)h=this.size-1;return this.keyAt(h)}find(p,X){let H=0;for(let h of this){if(Reflect.apply(p,X,[h,H,this]))return h;H++}return}findIndex(p,X){let H=0;for(let h of this){if(Reflect.apply(p,X,[h,H,this]))return H;H++}return-1}filter(p,X){let H=[],h=0;for(let x of this){if(Reflect.apply(p,X,[x,h,this]))H.push(x);h++}return new P(H)}map(p,X){let H=[],h=0;for(let x of this)H.push([x[0],Reflect.apply(p,X,[x,h,this])]),h++;return new P(H)}reduce(...p){let[X,H]=p,h=0,x=H??this.at(0);for(let B of this){if(h===0&&p.length===1)x=B;else x=Reflect.apply(X,this,[x,B,h,this]);h++}return x}reduceRight(...p){let[X,H]=p,h=H??this.at(-1);for(let x=this.size-1;x>=0;x--){let B=this.at(x);if(x===this.size-1&&p.length===1)h=B;else h=Reflect.apply(X,this,[h,B,x,this])}return h}toSorted(p){let X=[...this.entries()].sort(p);return new P(X)}toReversed(){let p=new P;for(let X=this.size-1;X>=0;X--){let H=this.keyAt(X),h=this.get(H);p.set(H,h)}return p}toSpliced(...p){let X=[...this.entries()];return X.splice(...p),new P(X)}slice(p,X){let H=new P,h=this.size-1;if(p===void 0)return H;if(p<0)p=p+this.size;if(X!==void 0&&X>0)h=X-1;for(let x=p;x<=h;x++){let B=this.keyAt(x),A=this.get(B);H.set(B,A)}return H}every(p,X){let H=0;for(let h of this){if(!Reflect.apply(p,X,[h,H,this]))return!1;H++}return!0}some(p,X){let H=0;for(let h of this){if(Reflect.apply(p,X,[h,H,this]))return!0;H++}return!1}};function nL(P,p){if("at"in Array.prototype)return Array.prototype.at.call(P,p);let X=Mv(P,p);return X===-1?void 0:P[X]}function Mv(P,p){let X=P.length,H=gk(p),h=H>=0?H:X+H;return h<0||h>=X?-1:h}function gk(P){return P!==P||P===0?0:Math.trunc(P)}var sL=c0(i0(),1);var _k=c0(i0(),1),v1=globalThis?.document?_k.useLayoutEffect:()=>{};var Wv=sL[" useId ".trim().toString()]||(()=>{return}),Ev=0;function t5(P){let[p,X]=sL.useState(Wv());return v1(()=>{if(!P)X((H)=>H??String(Ev++))},[P]),P||(p?`radix-${p}`:"")}var uk=c0(i0(),1),wv=c0(c6(),1);var zv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],KH=zv.reduce((P,p)=>{let X=_B(`Primitive.${p}`),H=uk.forwardRef((h,x)=>{let{asChild:B,...A}=h,$=B?X:p;if(typeof window!=="undefined")window[Symbol.for("radix-ui")]=!0;return A0($,{...A,ref:x})});return H.displayName=`Primitive.${p}`,{...P,[p]:H}},{});var Kx=c0(i0(),1);function ik(P){let p=Kx.useRef(P);return Kx.useEffect(()=>{p.current=P}),Kx.useMemo(()=>(...X)=>p.current?.(...X),[])}var op=c0(i0(),1);var P6=c0(i0(),1);var Jv=op[" useInsertionEffect ".trim().toString()]||v1;function e5({prop:P,defaultProp:p,onChange:X=()=>{},caller:H}){let[h,x,B]=Kv({defaultProp:p,onChange:X}),A=P!==void 0,$=A?P:h;{let Z=op.useRef(P!==void 0);op.useEffect(()=>{let L=Z.current;if(L!==A)console.warn(`${H} is changing from ${L?"controlled":"uncontrolled"} to ${A?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`);Z.current=A},[A,H])}let D=op.useCallback((Z)=>{if(A){let L=Rv(Z)?Z(P):Z;if(L!==P)B.current?.(L)}else x(Z)},[A,P,x,B]);return[$,D]}function Kv({defaultProp:P,onChange:p}){let[X,H]=op.useState(P),h=op.useRef(X),x=op.useRef(p);return Jv(()=>{x.current=p},[p]),op.useEffect(()=>{if(h.current!==X)x.current?.(X),h.current=X},[X,h]),[X,H,x]}function Rv(P){return typeof P==="function"}var El=Symbol("RADIX:SYNC_STATE");var p6=c0(i0(),1);var Uv=p6.createContext(void 0);function X6(P){let p=p6.useContext(Uv);return P||p||"ltr"}var tL="rovingFocusGroup.onEntryFocus",Sv={bubbles:!1,cancelable:!0},uB="RovingFocusGroup",[eL,mk,Gv]=yk(uB),[Nv,Pf]=Jx(uB,[Gv]),[vv,cv]=Nv(uB),ak=UP.forwardRef((P,p)=>{return A0(eL.Provider,{scope:P.__scopeRovingFocusGroup,children:A0(eL.Slot,{scope:P.__scopeRovingFocusGroup,children:A0(Ov,{...P,ref:p})})})});ak.displayName=uB;var Ov=UP.forwardRef((P,p)=>{let{__scopeRovingFocusGroup:X,orientation:H,loop:h=!1,dir:x,currentTabStopId:B,defaultCurrentTabStopId:A,onCurrentTabStopIdChange:$,onEntryFocus:D,preventScrollOnEntryFocus:Z=!1,...L}=P,f=UP.useRef(null),F=JX(p,f),q=X6(x),[b,j]=e5({prop:B,defaultProp:A??null,onChange:$,caller:uB}),[Q,C]=UP.useState(!1),V=ik(D),Y=mk(X),k=UP.useRef(!1),[z,W]=UP.useState(0);return UP.useEffect(()=>{let M=f.current;if(M)return M.addEventListener(tL,V),()=>M.removeEventListener(tL,V)},[V]),A0(vv,{scope:X,orientation:H,dir:q,loop:h,currentTabStopId:b,onItemFocus:UP.useCallback((M)=>j(M),[j]),onItemShiftTab:UP.useCallback(()=>C(!0),[]),onFocusableItemAdd:UP.useCallback(()=>W((M)=>M+1),[]),onFocusableItemRemove:UP.useCallback(()=>W((M)=>M-1),[]),children:A0(KH.div,{tabIndex:Q||z===0?-1:0,"data-orientation":H,...L,ref:F,style:{outline:"none",...P.style},onMouseDown:F8(P.onMouseDown,()=>{k.current=!0}),onFocus:F8(P.onFocus,(M)=>{let c=!k.current;if(M.target===M.currentTarget&&c&&!Q){let w=new CustomEvent(tL,Sv);if(M.currentTarget.dispatchEvent(w),!w.defaultPrevented){let U=Y().filter((r)=>r.focusable),G=U.find((r)=>r.active),J=U.find((r)=>r.id===b),S=[G,J,...U].filter(Boolean).map((r)=>r.ref.current);nk(S,Z)}}k.current=!1}),onBlur:F8(P.onBlur,()=>C(!1))})})}),ok="RovingFocusGroupItem",rk=UP.forwardRef((P,p)=>{let{__scopeRovingFocusGroup:X,focusable:H=!0,active:h=!1,tabStopId:x,children:B,...A}=P,$=t5(),D=x||$,Z=cv(ok,X),L=Z.currentTabStopId===D,f=mk(X),{onFocusableItemAdd:F,onFocusableItemRemove:q,currentTabStopId:b}=Z;return UP.useEffect(()=>{if(H)return F(),()=>q()},[H,F,q]),A0(eL.ItemSlot,{scope:X,id:D,focusable:H,active:h,children:A0(KH.span,{tabIndex:L?0:-1,"data-orientation":Z.orientation,...A,ref:p,onMouseDown:F8(P.onMouseDown,(j)=>{if(!H)j.preventDefault();else Z.onItemFocus(D)}),onFocus:F8(P.onFocus,()=>Z.onItemFocus(D)),onKeyDown:F8(P.onKeyDown,(j)=>{if(j.key==="Tab"&&j.shiftKey){Z.onItemShiftTab();return}if(j.target!==j.currentTarget)return;let Q=yv(j,Z.orientation,Z.dir);if(Q!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let V=f().filter((Y)=>Y.focusable).map((Y)=>Y.ref.current);if(Q==="last")V.reverse();else if(Q==="prev"||Q==="next"){if(Q==="prev")V.reverse();let Y=V.indexOf(j.currentTarget);V=Z.loop?gv(V,Y+1):V.slice(Y+1)}setTimeout(()=>nk(V))}}),children:typeof B==="function"?B({isCurrentTabStop:L,hasTabStop:b!=null}):B})})});rk.displayName=ok;var dv={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lv(P,p){if(p!=="rtl")return P;return P==="ArrowLeft"?"ArrowRight":P==="ArrowRight"?"ArrowLeft":P}function yv(P,p,X){let H=lv(P.key,X);if(p==="vertical"&&["ArrowLeft","ArrowRight"].includes(H))return;if(p==="horizontal"&&["ArrowUp","ArrowDown"].includes(H))return;return dv[H]}function nk(P,p=!1){let X=document.activeElement;for(let H of P){if(H===X)return;if(H.focus({preventScroll:p}),document.activeElement!==X)return}}function gv(P,p){return P.map((X,H)=>P[(p+H)%P.length])}var sk=ak,tk=rk;var Lp=c0(i0(),1);var ek=c0(i0(),1);function uv(P,p){return ek.useReducer((X,H)=>{return p[X][H]??X},P)}var pf=(P)=>{let{present:p,children:X}=P,H=iv(p),h=typeof X==="function"?X({present:H.isPresent}):Lp.Children.only(X),x=JX(H.ref,mv(h));return typeof X==="function"||H.isPresent?Lp.cloneElement(h,{ref:x}):null};pf.displayName="Presence";function iv(P){let[p,X]=Lp.useState(),H=Lp.useRef(null),h=Lp.useRef(P),x=Lp.useRef("none"),B=P?"mounted":"unmounted",[A,$]=uv(B,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Lp.useEffect(()=>{let D=H6(H.current);x.current=A==="mounted"?D:"none"},[A]),v1(()=>{let D=H.current,Z=h.current;if(Z!==P){let f=x.current,F=H6(D);if(P)$("MOUNT");else if(F==="none"||D?.display==="none")$("UNMOUNT");else if(Z&&f!==F)$("ANIMATION_OUT");else $("UNMOUNT");h.current=P}},[P,$]),v1(()=>{if(p){let D,Z=p.ownerDocument.defaultView??window,L=(F)=>{let b=H6(H.current).includes(F.animationName);if(F.target===p&&b){if($("ANIMATION_END"),!h.current){let j=p.style.animationFillMode;p.style.animationFillMode="forwards",D=Z.setTimeout(()=>{if(p.style.animationFillMode==="forwards")p.style.animationFillMode=j})}}},f=(F)=>{if(F.target===p)x.current=H6(H.current)};return p.addEventListener("animationstart",f),p.addEventListener("animationcancel",L),p.addEventListener("animationend",L),()=>{Z.clearTimeout(D),p.removeEventListener("animationstart",f),p.removeEventListener("animationcancel",L),p.removeEventListener("animationend",L)}}else $("ANIMATION_END")},[p,$]),{isPresent:["mounted","unmountSuspended"].includes(A),ref:Lp.useCallback((D)=>{H.current=D?getComputedStyle(D):null,X(D)},[])}}function H6(P){return P?.animationName||"none"}function mv(P){let p=Object.getOwnPropertyDescriptor(P.props,"ref")?.get,X=p&&"isReactWarning"in p&&p.isReactWarning;if(X)return P.ref;if(p=Object.getOwnPropertyDescriptor(P,"ref")?.get,X=p&&"isReactWarning"in p&&p.isReactWarning,X)return P.props.ref;return P.props.ref||P.ref}var h6="Tabs",[av,tl]=Jx(h6,[Pf]),PI=Pf(),[ov,Xf]=av(h6),pI=KX.forwardRef((P,p)=>{let{__scopeTabs:X,value:H,onValueChange:h,defaultValue:x,orientation:B="horizontal",dir:A,activationMode:$="automatic",...D}=P,Z=X6(A),[L,f]=e5({prop:H,onChange:h,defaultProp:x??"",caller:h6});return A0(ov,{scope:X,baseId:t5(),value:L,onValueChange:f,orientation:B,dir:Z,activationMode:$,children:A0(KH.div,{dir:Z,"data-orientation":B,...D,ref:p})})});pI.displayName=h6;var XI="TabsList",HI=KX.forwardRef((P,p)=>{let{__scopeTabs:X,loop:H=!0,...h}=P,x=Xf(XI,X),B=PI(X);return A0(sk,{asChild:!0,...B,orientation:x.orientation,dir:x.dir,loop:H,children:A0(KH.div,{role:"tablist","aria-orientation":x.orientation,...h,ref:p})})});HI.displayName=XI;var hI="TabsTrigger",xI=KX.forwardRef((P,p)=>{let{__scopeTabs:X,value:H,disabled:h=!1,...x}=P,B=Xf(hI,X),A=PI(X),$=DI(B.baseId,H),D=$I(B.baseId,H),Z=H===B.value;return A0(tk,{asChild:!0,...A,focusable:!h,active:Z,children:A0(KH.button,{type:"button",role:"tab","aria-selected":Z,"aria-controls":D,"data-state":Z?"active":"inactive","data-disabled":h?"":void 0,disabled:h,id:$,...x,ref:p,onMouseDown:F8(P.onMouseDown,(L)=>{if(!h&&L.button===0&&L.ctrlKey===!1)B.onValueChange(H);else L.preventDefault()}),onKeyDown:F8(P.onKeyDown,(L)=>{if([" ","Enter"].includes(L.key))B.onValueChange(H)}),onFocus:F8(P.onFocus,()=>{let L=B.activationMode!=="manual";if(!Z&&!h&&L)B.onValueChange(H)})})})});xI.displayName=hI;var BI="TabsContent",AI=KX.forwardRef((P,p)=>{let{__scopeTabs:X,value:H,forceMount:h,children:x,...B}=P,A=Xf(BI,X),$=DI(A.baseId,H),D=$I(A.baseId,H),Z=H===A.value,L=KX.useRef(Z);return KX.useEffect(()=>{let f=requestAnimationFrame(()=>L.current=!1);return()=>cancelAnimationFrame(f)},[]),A0(pf,{present:h||Z,children:({present:f})=>A0(KH.div,{"data-state":Z?"active":"inactive","data-orientation":A.orientation,role:"tabpanel","aria-labelledby":$,hidden:!f,id:D,tabIndex:0,...B,ref:p,style:{...P.style,animationDuration:L.current?"0s":void 0},children:f&&x})})});AI.displayName=BI;function DI(P,p){return`${P}-trigger-${p}`}function $I(P,p){return`${P}-content-${p}`}var ZI=pI,LI=HI,fI=xI,FI=AI;function CI(P){var p,X,H="";if(typeof P=="string"||typeof P=="number")H+=P;else if(typeof P=="object")if(Array.isArray(P)){var h=P.length;for(p=0;p<h;p++)P[p]&&(X=CI(P[p]))&&(H&&(H+=" "),H+=X)}else for(X in P)P[X]&&(H&&(H+=" "),H+=X);return H}function QI(){for(var P,p,X=0,H="",h=arguments.length;X<h;X++)(P=arguments[X])&&(p=CI(P))&&(H&&(H+=" "),H+=p);return H}var nv=(P)=>{let p=tv(P),{conflictingClassGroups:X,conflictingClassGroupModifiers:H}=P;return{getClassGroupId:(B)=>{let A=B.split("-");if(A[0]===""&&A.length!==1)A.shift();return jI(A,p)||sv(B)},getConflictingClassGroupIds:(B,A)=>{let $=X[B]||[];if(A&&H[B])return[...$,...H[B]];return $}}},jI=(P,p)=>{if(P.length===0)return p.classGroupId;let X=P[0],H=p.nextPart.get(X),h=H?jI(P.slice(1),H):void 0;if(h)return h;if(p.validators.length===0)return;let x=P.join("-");return p.validators.find(({validator:B})=>B(x))?.classGroupId},VI=/^\[(.+)\]$/,sv=(P)=>{if(VI.test(P)){let p=VI.exec(P)[1],X=p?.substring(0,p.indexOf(":"));if(X)return"arbitrary.."+X}},tv=(P)=>{let{theme:p,classGroups:X}=P,H={nextPart:new Map,validators:[]};for(let h in X)xf(X[h],H,h,p);return H},xf=(P,p,X,H)=>{P.forEach((h)=>{if(typeof h==="string"){let x=h===""?p:qI(p,h);x.classGroupId=X;return}if(typeof h==="function"){if(ev(h)){xf(h(H),p,X,H);return}p.validators.push({validator:h,classGroupId:X});return}Object.entries(h).forEach(([x,B])=>{xf(B,qI(p,x),X,H)})})},qI=(P,p)=>{let X=P;return p.split("-").forEach((H)=>{if(!X.nextPart.has(H))X.nextPart.set(H,{nextPart:new Map,validators:[]});X=X.nextPart.get(H)}),X},ev=(P)=>P.isThemeGetter,Pc=(P)=>{if(P<1)return{get:()=>{return},set:()=>{}};let p=0,X=new Map,H=new Map,h=(x,B)=>{if(X.set(x,B),p++,p>P)p=0,H=X,X=new Map};return{get(x){let B=X.get(x);if(B!==void 0)return B;if((B=H.get(x))!==void 0)return h(x,B),B},set(x,B){if(X.has(x))X.set(x,B);else h(x,B)}}};var pc=(P)=>{let{prefix:p,experimentalParseClassName:X}=P,H=(h)=>{let x=[],B=0,A=0,$=0,D;for(let q=0;q<h.length;q++){let b=h[q];if(B===0&&A===0){if(b===":"){x.push(h.slice($,q)),$=q+1;continue}if(b==="/"){D=q;continue}}if(b==="[")B++;else if(b==="]")B--;else if(b==="(")A++;else if(b===")")A--}let Z=x.length===0?h:h.substring($),L=Xc(Z),f=L!==Z,F=D&&D>$?D-$:void 0;return{modifiers:x,hasImportantModifier:f,baseClassName:L,maybePostfixModifierPosition:F}};if(p){let h=p+":",x=H;H=(B)=>B.startsWith(h)?x(B.substring(h.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:B,maybePostfixModifierPosition:void 0}}if(X){let h=H;H=(x)=>X({className:x,parseClassName:h})}return H},Xc=(P)=>{if(P.endsWith("!"))return P.substring(0,P.length-1);if(P.startsWith("!"))return P.substring(1);return P},Hc=(P)=>{let p=Object.fromEntries(P.orderSensitiveModifiers.map((H)=>[H,!0]));return(H)=>{if(H.length<=1)return H;let h=[],x=[];return H.forEach((B)=>{if(B[0]==="["||p[B])h.push(...x.sort(),B),x=[];else x.push(B)}),h.push(...x.sort()),h}},hc=(P)=>({cache:Pc(P.cacheSize),parseClassName:pc(P),sortModifiers:Hc(P),...nv(P)}),xc=/\s+/,Bc=(P,p)=>{let{parseClassName:X,getClassGroupId:H,getConflictingClassGroupIds:h,sortModifiers:x}=p,B=[],A=P.trim().split(xc),$="";for(let D=A.length-1;D>=0;D-=1){let Z=A[D],{isExternal:L,modifiers:f,hasImportantModifier:F,baseClassName:q,maybePostfixModifierPosition:b}=X(Z);if(L){$=Z+($.length>0?" "+$:$);continue}let j=!!b,Q=H(j?q.substring(0,b):q);if(!Q){if(!j){$=Z+($.length>0?" "+$:$);continue}if(Q=H(q),!Q){$=Z+($.length>0?" "+$:$);continue}j=!1}let C=x(f).join(":"),V=F?C+"!":C,Y=V+Q;if(B.includes(Y))continue;B.push(Y);let k=h(Q,j);for(let z=0;z<k.length;++z){let W=k[z];B.push(V+W)}$=Z+($.length>0?" "+$:$)}return $};function Ac(){let P=0,p,X,H="";while(P<arguments.length)if(p=arguments[P++]){if(X=kI(p))H&&(H+=" "),H+=X}return H}var kI=(P)=>{if(typeof P==="string")return P;let p,X="";for(let H=0;H<P.length;H++)if(P[H]){if(p=kI(P[H]))X&&(X+=" "),X+=p}return X};function Dc(P,...p){let X,H,h,x=B;function B($){let D=p.reduce((Z,L)=>L(Z),P());return X=hc(D),H=X.cache.get,h=X.cache.set,x=A,A($)}function A($){let D=H($);if(D)return D;let Z=Bc($,X);return h($,Z),Z}return function $(){return x(Ac.apply(null,arguments))}}var EP=(P)=>{let p=(X)=>X[P]||[];return p.isThemeGetter=!0,p},II=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$c=/^\d+\/\d+$/,Zc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Fc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rx=(P)=>$c.test(P),E0=(P)=>!!P&&!Number.isNaN(Number(P)),RH=(P)=>!!P&&Number.isInteger(Number(P)),Hf=(P)=>P.endsWith("%")&&E0(P.slice(0,-1)),RX=(P)=>Zc.test(P),Qc=()=>!0,Vc=(P)=>Lc.test(P)&&!fc.test(P),MI=()=>!1,qc=(P)=>Fc.test(P),Yc=(P)=>Cc.test(P),bc=(P)=>!F0(P)&&!C0(P),jc=(P)=>Ux(P,wI,MI),F0=(P)=>II.test(P),c1=(P)=>Ux(P,zI,Vc),hf=(P)=>Ux(P,Wc,E0),YI=(P)=>Ux(P,WI,MI),kc=(P)=>Ux(P,EI,Yc),x6=(P)=>Ux(P,JI,qc),C0=(P)=>TI.test(P),iB=(P)=>Sx(P,zI),Ic=(P)=>Sx(P,Ec),bI=(P)=>Sx(P,WI),Tc=(P)=>Sx(P,wI),Mc=(P)=>Sx(P,EI),B6=(P)=>Sx(P,JI,!0),Ux=(P,p,X)=>{let H=II.exec(P);if(H){if(H[1])return p(H[1]);return X(H[2])}return!1},Sx=(P,p,X=!1)=>{let H=TI.exec(P);if(H){if(H[1])return p(H[1]);return X}return!1},WI=(P)=>P==="position"||P==="percentage",EI=(P)=>P==="image"||P==="url",wI=(P)=>P==="length"||P==="size"||P==="bg-size",zI=(P)=>P==="length",Wc=(P)=>P==="number",Ec=(P)=>P==="family-name",JI=(P)=>P==="shadow";var wc=()=>{let P=EP("color"),p=EP("font"),X=EP("text"),H=EP("font-weight"),h=EP("tracking"),x=EP("leading"),B=EP("breakpoint"),A=EP("container"),$=EP("spacing"),D=EP("radius"),Z=EP("shadow"),L=EP("inset-shadow"),f=EP("text-shadow"),F=EP("drop-shadow"),q=EP("blur"),b=EP("perspective"),j=EP("aspect"),Q=EP("ease"),C=EP("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...Y(),C0,F0],z=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto","contain","none"],M=()=>[C0,F0,$],c=()=>[Rx,"full","auto",...M()],w=()=>[RH,"none","subgrid",C0,F0],U=()=>["auto",{span:["full",RH,C0,F0]},RH,C0,F0],G=()=>[RH,"auto",C0,F0],J=()=>["auto","min","max","fr",C0,F0],d=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],S=()=>["start","end","center","stretch","center-safe","end-safe"],r=()=>["auto",...M()],e=()=>[Rx,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],y=()=>[P,C0,F0],Y0=()=>[...Y(),bI,YI,{position:[C0,F0]}],m=()=>["no-repeat",{repeat:["","x","y","space","round"]}],f0=()=>["auto","cover","contain",Tc,jc,{size:[C0,F0]}],E=()=>[Hf,iB,c1],_=()=>["","none","full",D,C0,F0],P0=()=>["",E0,iB,c1],u=()=>["solid","dashed","dotted","double"],Z0=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D0=()=>[E0,Hf,bI,YI],M0=()=>["","none",q,C0,F0],b0=()=>["none",E0,C0,F0],i=()=>["none",E0,C0,F0],o=()=>[E0,C0,F0],h0=()=>[Rx,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[RX],breakpoint:[RX],color:[Qc],container:[RX],"drop-shadow":[RX],ease:["in","out","in-out"],font:[bc],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[RX],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[RX],shadow:[RX],spacing:["px",E0],text:[RX],"text-shadow":[RX],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Rx,F0,C0,j]}],container:["container"],columns:[{columns:[E0,F0,C0,A]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:c()}],"inset-x":[{"inset-x":c()}],"inset-y":[{"inset-y":c()}],start:[{start:c()}],end:[{end:c()}],top:[{top:c()}],right:[{right:c()}],bottom:[{bottom:c()}],left:[{left:c()}],visibility:["visible","invisible","collapse"],z:[{z:[RH,"auto",C0,F0]}],basis:[{basis:[Rx,"full","auto",A,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[E0,Rx,"auto","initial","none",F0]}],grow:[{grow:["",E0,C0,F0]}],shrink:[{shrink:["",E0,C0,F0]}],order:[{order:[RH,"first","last","none",C0,F0]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...d(),"normal"]}],"justify-items":[{"justify-items":[...S(),"normal"]}],"justify-self":[{"justify-self":["auto",...S()]}],"align-content":[{content:["normal",...d()]}],"align-items":[{items:[...S(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...S(),{baseline:["","last"]}]}],"place-content":[{"place-content":d()}],"place-items":[{"place-items":[...S(),"baseline"]}],"place-self":[{"place-self":["auto",...S()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:r()}],mx:[{mx:r()}],my:[{my:r()}],ms:[{ms:r()}],me:[{me:r()}],mt:[{mt:r()}],mr:[{mr:r()}],mb:[{mb:r()}],ml:[{ml:r()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:e()}],w:[{w:[A,"screen",...e()]}],"min-w":[{"min-w":[A,"screen","none",...e()]}],"max-w":[{"max-w":[A,"screen","none","prose",{screen:[B]},...e()]}],h:[{h:["screen","lh",...e()]}],"min-h":[{"min-h":["screen","lh","none",...e()]}],"max-h":[{"max-h":["screen","lh",...e()]}],"font-size":[{text:["base",X,iB,c1]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[H,C0,hf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hf,F0]}],"font-family":[{font:[Ic,F0,p]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[h,C0,F0]}],"line-clamp":[{"line-clamp":[E0,"none",C0,hf]}],leading:[{leading:[x,...M()]}],"list-image":[{"list-image":["none",C0,F0]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",C0,F0]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:y()}],"text-color":[{text:y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...u(),"wavy"]}],"text-decoration-thickness":[{decoration:[E0,"from-font","auto",C0,c1]}],"text-decoration-color":[{decoration:y()}],"underline-offset":[{"underline-offset":[E0,"auto",C0,F0]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",C0,F0]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",C0,F0]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y0()}],"bg-repeat":[{bg:m()}],"bg-size":[{bg:f0()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},RH,C0,F0],radial:["",C0,F0],conic:[RH,C0,F0]},Mc,kc]}],"bg-color":[{bg:y()}],"gradient-from-pos":[{from:E()}],"gradient-via-pos":[{via:E()}],"gradient-to-pos":[{to:E()}],"gradient-from":[{from:y()}],"gradient-via":[{via:y()}],"gradient-to":[{to:y()}],rounded:[{rounded:_()}],"rounded-s":[{"rounded-s":_()}],"rounded-e":[{"rounded-e":_()}],"rounded-t":[{"rounded-t":_()}],"rounded-r":[{"rounded-r":_()}],"rounded-b":[{"rounded-b":_()}],"rounded-l":[{"rounded-l":_()}],"rounded-ss":[{"rounded-ss":_()}],"rounded-se":[{"rounded-se":_()}],"rounded-ee":[{"rounded-ee":_()}],"rounded-es":[{"rounded-es":_()}],"rounded-tl":[{"rounded-tl":_()}],"rounded-tr":[{"rounded-tr":_()}],"rounded-br":[{"rounded-br":_()}],"rounded-bl":[{"rounded-bl":_()}],"border-w":[{border:P0()}],"border-w-x":[{"border-x":P0()}],"border-w-y":[{"border-y":P0()}],"border-w-s":[{"border-s":P0()}],"border-w-e":[{"border-e":P0()}],"border-w-t":[{"border-t":P0()}],"border-w-r":[{"border-r":P0()}],"border-w-b":[{"border-b":P0()}],"border-w-l":[{"border-l":P0()}],"divide-x":[{"divide-x":P0()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":P0()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...u(),"hidden","none"]}],"divide-style":[{divide:[...u(),"hidden","none"]}],"border-color":[{border:y()}],"border-color-x":[{"border-x":y()}],"border-color-y":[{"border-y":y()}],"border-color-s":[{"border-s":y()}],"border-color-e":[{"border-e":y()}],"border-color-t":[{"border-t":y()}],"border-color-r":[{"border-r":y()}],"border-color-b":[{"border-b":y()}],"border-color-l":[{"border-l":y()}],"divide-color":[{divide:y()}],"outline-style":[{outline:[...u(),"none","hidden"]}],"outline-offset":[{"outline-offset":[E0,C0,F0]}],"outline-w":[{outline:["",E0,iB,c1]}],"outline-color":[{outline:y()}],shadow:[{shadow:["","none",Z,B6,x6]}],"shadow-color":[{shadow:y()}],"inset-shadow":[{"inset-shadow":["none",L,B6,x6]}],"inset-shadow-color":[{"inset-shadow":y()}],"ring-w":[{ring:P0()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:y()}],"ring-offset-w":[{"ring-offset":[E0,c1]}],"ring-offset-color":[{"ring-offset":y()}],"inset-ring-w":[{"inset-ring":P0()}],"inset-ring-color":[{"inset-ring":y()}],"text-shadow":[{"text-shadow":["none",f,B6,x6]}],"text-shadow-color":[{"text-shadow":y()}],opacity:[{opacity:[E0,C0,F0]}],"mix-blend":[{"mix-blend":[...Z0(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z0()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[E0]}],"mask-image-linear-from-pos":[{"mask-linear-from":D0()}],"mask-image-linear-to-pos":[{"mask-linear-to":D0()}],"mask-image-linear-from-color":[{"mask-linear-from":y()}],"mask-image-linear-to-color":[{"mask-linear-to":y()}],"mask-image-t-from-pos":[{"mask-t-from":D0()}],"mask-image-t-to-pos":[{"mask-t-to":D0()}],"mask-image-t-from-color":[{"mask-t-from":y()}],"mask-image-t-to-color":[{"mask-t-to":y()}],"mask-image-r-from-pos":[{"mask-r-from":D0()}],"mask-image-r-to-pos":[{"mask-r-to":D0()}],"mask-image-r-from-color":[{"mask-r-from":y()}],"mask-image-r-to-color":[{"mask-r-to":y()}],"mask-image-b-from-pos":[{"mask-b-from":D0()}],"mask-image-b-to-pos":[{"mask-b-to":D0()}],"mask-image-b-from-color":[{"mask-b-from":y()}],"mask-image-b-to-color":[{"mask-b-to":y()}],"mask-image-l-from-pos":[{"mask-l-from":D0()}],"mask-image-l-to-pos":[{"mask-l-to":D0()}],"mask-image-l-from-color":[{"mask-l-from":y()}],"mask-image-l-to-color":[{"mask-l-to":y()}],"mask-image-x-from-pos":[{"mask-x-from":D0()}],"mask-image-x-to-pos":[{"mask-x-to":D0()}],"mask-image-x-from-color":[{"mask-x-from":y()}],"mask-image-x-to-color":[{"mask-x-to":y()}],"mask-image-y-from-pos":[{"mask-y-from":D0()}],"mask-image-y-to-pos":[{"mask-y-to":D0()}],"mask-image-y-from-color":[{"mask-y-from":y()}],"mask-image-y-to-color":[{"mask-y-to":y()}],"mask-image-radial":[{"mask-radial":[C0,F0]}],"mask-image-radial-from-pos":[{"mask-radial-from":D0()}],"mask-image-radial-to-pos":[{"mask-radial-to":D0()}],"mask-image-radial-from-color":[{"mask-radial-from":y()}],"mask-image-radial-to-color":[{"mask-radial-to":y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Y()}],"mask-image-conic-pos":[{"mask-conic":[E0]}],"mask-image-conic-from-pos":[{"mask-conic-from":D0()}],"mask-image-conic-to-pos":[{"mask-conic-to":D0()}],"mask-image-conic-from-color":[{"mask-conic-from":y()}],"mask-image-conic-to-color":[{"mask-conic-to":y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y0()}],"mask-repeat":[{mask:m()}],"mask-size":[{mask:f0()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",C0,F0]}],filter:[{filter:["","none",C0,F0]}],blur:[{blur:M0()}],brightness:[{brightness:[E0,C0,F0]}],contrast:[{contrast:[E0,C0,F0]}],"drop-shadow":[{"drop-shadow":["","none",F,B6,x6]}],"drop-shadow-color":[{"drop-shadow":y()}],grayscale:[{grayscale:["",E0,C0,F0]}],"hue-rotate":[{"hue-rotate":[E0,C0,F0]}],invert:[{invert:["",E0,C0,F0]}],saturate:[{saturate:[E0,C0,F0]}],sepia:[{sepia:["",E0,C0,F0]}],"backdrop-filter":[{"backdrop-filter":["","none",C0,F0]}],"backdrop-blur":[{"backdrop-blur":M0()}],"backdrop-brightness":[{"backdrop-brightness":[E0,C0,F0]}],"backdrop-contrast":[{"backdrop-contrast":[E0,C0,F0]}],"backdrop-grayscale":[{"backdrop-grayscale":["",E0,C0,F0]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[E0,C0,F0]}],"backdrop-invert":[{"backdrop-invert":["",E0,C0,F0]}],"backdrop-opacity":[{"backdrop-opacity":[E0,C0,F0]}],"backdrop-saturate":[{"backdrop-saturate":[E0,C0,F0]}],"backdrop-sepia":[{"backdrop-sepia":["",E0,C0,F0]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",C0,F0]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[E0,"initial",C0,F0]}],ease:[{ease:["linear","initial",Q,C0,F0]}],delay:[{delay:[E0,C0,F0]}],animate:[{animate:["none",C,C0,F0]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,C0,F0]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:b0()}],"rotate-x":[{"rotate-x":b0()}],"rotate-y":[{"rotate-y":b0()}],"rotate-z":[{"rotate-z":b0()}],scale:[{scale:i()}],"scale-x":[{"scale-x":i()}],"scale-y":[{"scale-y":i()}],"scale-z":[{"scale-z":i()}],"scale-3d":["scale-3d"],skew:[{skew:o()}],"skew-x":[{"skew-x":o()}],"skew-y":[{"skew-y":o()}],transform:[{transform:[C0,F0,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:h0()}],"translate-x":[{"translate-x":h0()}],"translate-y":[{"translate-y":h0()}],"translate-z":[{"translate-z":h0()}],"translate-none":["translate-none"],accent:[{accent:y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",C0,F0]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",C0,F0]}],fill:[{fill:["none",...y()]}],"stroke-w":[{stroke:[E0,iB,c1,hf]}],stroke:[{stroke:["none",...y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}};var KI=Dc(wc);function mB(...P){return KI(QI(P))}function RI({className:P,...p}){return A0(ZI,{"data-slot":"tabs",className:mB("flex flex-col gap-2",P),...p})}function UI({className:P,...p}){return A0(LI,{"data-slot":"tabs-list",className:mB("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",P),...p})}function A6({className:P,...p}){return A0(fI,{"data-slot":"tabs-trigger",className:mB("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",P),...p})}function D6({className:P,...p}){return A0(FI,{"data-slot":"tabs-content",className:mB("flex-1 outline-none",P),...p})}var SI="./3D-BG-kx709v1y.gif";function GI(){let[P,p]=$6.useState([]),[X,H]=$6.useState([]),[h,x]=$6.useState(!1),B=()=>{p([]),H([]),x(!1)};return TP("div",{className:"max-w-7xl mx-auto p-8 text-center relative z-10",children:[A0("h1",{className:"text-5xl font-bold my-4 leading-tight",children:"PERK CREATOR"}),TP("h2",{className:"italic text-gray-600",children:[" ","Work in Progress, Pardon the jank"," "]}),A0("div",{className:"flex justify-center items-center gap-8 mb-8",children:A0("img",{src:SI,alt:"3D image",className:"p-6 transition-all duration-300 hover:drop-shadow-[0_0_2em_#646cffaa] scale-120"})}),A0("div",{className:"flex justify-center",children:TP(RI,{defaultValue:"perk",className:"w-[400px] items-center",onValueChange:B,children:[TP(UI,{children:[A0(A6,{value:"perk",children:"Perks"}),A0(A6,{value:"item",children:"Items"}),A0(A6,{value:"addon",children:"Addons"})]}),A0(D6,{value:"perk",children:A0(Wk,{files:h?[]:P,setCanvasURLs:H})}),A0(D6,{value:"item",children:A0(wk,{files:h?[]:P,setCanvasURLs:H})}),A0(D6,{value:"addon",children:A0(ck,{files:h?[]:P,setCanvasURLs:H})})]})}),A0("div",{className:"flex justify-center items-center",children:A0(dQ,{setFileData:($)=>{p($)},setIsProcessing:x,resetStates:B})}),A0("div",{className:"w-full",children:A0(Hb,{files:X})})]})}function NI(){vI.createRoot(document.getElementById("root")).render(A0(GI,{}))}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",NI);else NI();

//# debugId=94773163CED0960D64756E2164756E21
//# sourceMappingURL=chunk-xhvatewb.js.map
